var wA=Object.defineProperty;var EA=(t,e,n)=>e in t?wA(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var wp=(t,e,n)=>(EA(t,typeof e!="symbol"?e+"":e,n),n);function TA(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var SA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function yv(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var $2={exports:{}},yd={},U2={exports:{}},Ee={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xl=Symbol.for("react.element"),IA=Symbol.for("react.portal"),PA=Symbol.for("react.fragment"),CA=Symbol.for("react.strict_mode"),xA=Symbol.for("react.profiler"),bA=Symbol.for("react.provider"),RA=Symbol.for("react.context"),AA=Symbol.for("react.forward_ref"),kA=Symbol.for("react.suspense"),OA=Symbol.for("react.memo"),LA=Symbol.for("react.lazy"),c0=Symbol.iterator;function MA(t){return t===null||typeof t!="object"?null:(t=c0&&t[c0]||t["@@iterator"],typeof t=="function"?t:null)}var B2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},H2=Object.assign,W2={};function $o(t,e,n){this.props=t,this.context=e,this.refs=W2,this.updater=n||B2}$o.prototype.isReactComponent={};$o.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};$o.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function q2(){}q2.prototype=$o.prototype;function wv(t,e,n){this.props=t,this.context=e,this.refs=W2,this.updater=n||B2}var Ev=wv.prototype=new q2;Ev.constructor=wv;H2(Ev,$o.prototype);Ev.isPureReactComponent=!0;var h0=Array.isArray,G2=Object.prototype.hasOwnProperty,Tv={current:null},K2={key:!0,ref:!0,__self:!0,__source:!0};function Z2(t,e,n){var r,i={},s=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)G2.call(e,r)&&!K2.hasOwnProperty(r)&&(i[r]=e[r]);var c=arguments.length-2;if(c===1)i.children=n;else if(1<c){for(var u=Array(c),d=0;d<c;d++)u[d]=arguments[d+2];i.children=u}if(t&&t.defaultProps)for(r in c=t.defaultProps,c)i[r]===void 0&&(i[r]=c[r]);return{$$typeof:Xl,type:t,key:s,ref:a,props:i,_owner:Tv.current}}function NA(t,e){return{$$typeof:Xl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Sv(t){return typeof t=="object"&&t!==null&&t.$$typeof===Xl}function DA(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var d0=/\/+/g;function Ep(t,e){return typeof t=="object"&&t!==null&&t.key!=null?DA(""+t.key):e.toString(36)}function kc(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Xl:case IA:a=!0}}if(a)return a=t,i=i(a),t=r===""?"."+Ep(a,0):r,h0(i)?(n="",t!=null&&(n=t.replace(d0,"$&/")+"/"),kc(i,e,n,"",function(d){return d})):i!=null&&(Sv(i)&&(i=NA(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(d0,"$&/")+"/")+t)),e.push(i)),1;if(a=0,r=r===""?".":r+":",h0(t))for(var c=0;c<t.length;c++){s=t[c];var u=r+Ep(s,c);a+=kc(s,e,n,u,i)}else if(u=MA(t),typeof u=="function")for(t=u.call(t),c=0;!(s=t.next()).done;)s=s.value,u=r+Ep(s,c++),a+=kc(s,e,n,u,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Yu(t,e,n){if(t==null)return t;var r=[],i=0;return kc(t,r,"","",function(s){return e.call(n,s,i++)}),r}function VA(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Xt={current:null},Oc={transition:null},FA={ReactCurrentDispatcher:Xt,ReactCurrentBatchConfig:Oc,ReactCurrentOwner:Tv};Ee.Children={map:Yu,forEach:function(t,e,n){Yu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Yu(t,function(){e++}),e},toArray:function(t){return Yu(t,function(e){return e})||[]},only:function(t){if(!Sv(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ee.Component=$o;Ee.Fragment=PA;Ee.Profiler=xA;Ee.PureComponent=wv;Ee.StrictMode=CA;Ee.Suspense=kA;Ee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=FA;Ee.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=H2({},t.props),i=t.key,s=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=Tv.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var c=t.type.defaultProps;for(u in e)G2.call(e,u)&&!K2.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&c!==void 0?c[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){c=Array(u);for(var d=0;d<u;d++)c[d]=arguments[d+2];r.children=c}return{$$typeof:Xl,type:t.type,key:i,ref:s,props:r,_owner:a}};Ee.createContext=function(t){return t={$$typeof:RA,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:bA,_context:t},t.Consumer=t};Ee.createElement=Z2;Ee.createFactory=function(t){var e=Z2.bind(null,t);return e.type=t,e};Ee.createRef=function(){return{current:null}};Ee.forwardRef=function(t){return{$$typeof:AA,render:t}};Ee.isValidElement=Sv;Ee.lazy=function(t){return{$$typeof:LA,_payload:{_status:-1,_result:t},_init:VA}};Ee.memo=function(t,e){return{$$typeof:OA,type:t,compare:e===void 0?null:e}};Ee.startTransition=function(t){var e=Oc.transition;Oc.transition={};try{t()}finally{Oc.transition=e}};Ee.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Ee.useCallback=function(t,e){return Xt.current.useCallback(t,e)};Ee.useContext=function(t){return Xt.current.useContext(t)};Ee.useDebugValue=function(){};Ee.useDeferredValue=function(t){return Xt.current.useDeferredValue(t)};Ee.useEffect=function(t,e){return Xt.current.useEffect(t,e)};Ee.useId=function(){return Xt.current.useId()};Ee.useImperativeHandle=function(t,e,n){return Xt.current.useImperativeHandle(t,e,n)};Ee.useInsertionEffect=function(t,e){return Xt.current.useInsertionEffect(t,e)};Ee.useLayoutEffect=function(t,e){return Xt.current.useLayoutEffect(t,e)};Ee.useMemo=function(t,e){return Xt.current.useMemo(t,e)};Ee.useReducer=function(t,e,n){return Xt.current.useReducer(t,e,n)};Ee.useRef=function(t){return Xt.current.useRef(t)};Ee.useState=function(t){return Xt.current.useState(t)};Ee.useSyncExternalStore=function(t,e,n){return Xt.current.useSyncExternalStore(t,e,n)};Ee.useTransition=function(){return Xt.current.useTransition()};Ee.version="18.2.0";U2.exports=Ee;var R=U2.exports;const ar=yv(R),ll=TA({__proto__:null,default:ar},[R]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zA=R,jA=Symbol.for("react.element"),$A=Symbol.for("react.fragment"),UA=Object.prototype.hasOwnProperty,BA=zA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,HA={key:!0,ref:!0,__self:!0,__source:!0};function Q2(t,e,n){var r,i={},s=null,a=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)UA.call(e,r)&&!HA.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:jA,type:t,key:s,ref:a,props:i,_owner:BA.current}}yd.Fragment=$A;yd.jsx=Q2;yd.jsxs=Q2;$2.exports=yd;var P=$2.exports,Cm={},Y2={exports:{}},En={},X2={exports:{}},J2={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(V,ee){var U=V.length;V.push(ee);e:for(;0<U;){var ie=U-1>>>1,te=V[ie];if(0<i(te,ee))V[ie]=ee,V[U]=te,U=ie;else break e}}function n(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var ee=V[0],U=V.pop();if(U!==ee){V[0]=U;e:for(var ie=0,te=V.length,Pe=te>>>1;ie<Pe;){var _e=2*(ie+1)-1,me=V[_e],X=_e+1,We=V[X];if(0>i(me,U))X<te&&0>i(We,me)?(V[ie]=We,V[X]=U,ie=X):(V[ie]=me,V[_e]=U,ie=_e);else if(X<te&&0>i(We,U))V[ie]=We,V[X]=U,ie=X;else break e}}return ee}function i(V,ee){var U=V.sortIndex-ee.sortIndex;return U!==0?U:V.id-ee.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,c=a.now();t.unstable_now=function(){return a.now()-c}}var u=[],d=[],p=1,m=null,v=3,T=!1,S=!1,I=!1,C=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(V){for(var ee=n(d);ee!==null;){if(ee.callback===null)r(d);else if(ee.startTime<=V)r(d),ee.sortIndex=ee.expirationTime,e(u,ee);else break;ee=n(d)}}function x(V){if(I=!1,E(V),!S)if(n(u)!==null)S=!0,pe(A);else{var ee=n(d);ee!==null&&rt(x,ee.startTime-V)}}function A(V,ee){S=!1,I&&(I=!1,_(D),D=-1),T=!0;var U=v;try{for(E(ee),m=n(u);m!==null&&(!(m.expirationTime>ee)||V&&!le());){var ie=m.callback;if(typeof ie=="function"){m.callback=null,v=m.priorityLevel;var te=ie(m.expirationTime<=ee);ee=t.unstable_now(),typeof te=="function"?m.callback=te:m===n(u)&&r(u),E(ee)}else r(u);m=n(u)}if(m!==null)var Pe=!0;else{var _e=n(d);_e!==null&&rt(x,_e.startTime-ee),Pe=!1}return Pe}finally{m=null,v=U,T=!1}}var O=!1,N=null,D=-1,K=5,q=-1;function le(){return!(t.unstable_now()-q<K)}function ve(){if(N!==null){var V=t.unstable_now();q=V;var ee=!0;try{ee=N(!0,V)}finally{ee?Q():(O=!1,N=null)}}else O=!1}var Q;if(typeof y=="function")Q=function(){y(ve)};else if(typeof MessageChannel<"u"){var Me=new MessageChannel,ze=Me.port2;Me.port1.onmessage=ve,Q=function(){ze.postMessage(null)}}else Q=function(){C(ve,0)};function pe(V){N=V,O||(O=!0,Q())}function rt(V,ee){D=C(function(){V(t.unstable_now())},ee)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_continueExecution=function(){S||T||(S=!0,pe(A))},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):K=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(V){switch(v){case 1:case 2:case 3:var ee=3;break;default:ee=v}var U=v;v=ee;try{return V()}finally{v=U}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(V,ee){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var U=v;v=V;try{return ee()}finally{v=U}},t.unstable_scheduleCallback=function(V,ee,U){var ie=t.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?ie+U:ie):U=ie,V){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=U+te,V={id:p++,callback:ee,priorityLevel:V,startTime:U,expirationTime:te,sortIndex:-1},U>ie?(V.sortIndex=U,e(d,V),n(u)===null&&V===n(d)&&(I?(_(D),D=-1):I=!0,rt(x,U-ie))):(V.sortIndex=te,e(u,V),S||T||(S=!0,pe(A))),V},t.unstable_shouldYield=le,t.unstable_wrapCallback=function(V){var ee=v;return function(){var U=v;v=ee;try{return V.apply(this,arguments)}finally{v=U}}}})(J2);X2.exports=J2;var WA=X2.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eT=R,vn=WA;function $(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var tT=new Set,ul={};function xs(t,e){Eo(t,e),Eo(t+"Capture",e)}function Eo(t,e){for(ul[t]=e,t=0;t<e.length;t++)tT.add(e[t])}var Mr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xm=Object.prototype.hasOwnProperty,qA=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f0={},p0={};function GA(t){return xm.call(p0,t)?!0:xm.call(f0,t)?!1:qA.test(t)?p0[t]=!0:(f0[t]=!0,!1)}function KA(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function ZA(t,e,n,r){if(e===null||typeof e>"u"||KA(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Jt(t,e,n,r,i,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var Nt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Nt[t]=new Jt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Nt[e]=new Jt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Nt[t]=new Jt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Nt[t]=new Jt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Nt[t]=new Jt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Nt[t]=new Jt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Nt[t]=new Jt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Nt[t]=new Jt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Nt[t]=new Jt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Iv=/[\-:]([a-z])/g;function Pv(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Iv,Pv);Nt[e]=new Jt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Iv,Pv);Nt[e]=new Jt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Iv,Pv);Nt[e]=new Jt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Nt[t]=new Jt(t,1,!1,t.toLowerCase(),null,!1,!1)});Nt.xlinkHref=new Jt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Nt[t]=new Jt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Cv(t,e,n,r){var i=Nt.hasOwnProperty(e)?Nt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(ZA(e,n,i,r)&&(n=null),r||i===null?GA(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Br=eT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Xu=Symbol.for("react.element"),Ks=Symbol.for("react.portal"),Zs=Symbol.for("react.fragment"),xv=Symbol.for("react.strict_mode"),bm=Symbol.for("react.profiler"),nT=Symbol.for("react.provider"),rT=Symbol.for("react.context"),bv=Symbol.for("react.forward_ref"),Rm=Symbol.for("react.suspense"),Am=Symbol.for("react.suspense_list"),Rv=Symbol.for("react.memo"),ni=Symbol.for("react.lazy"),iT=Symbol.for("react.offscreen"),m0=Symbol.iterator;function va(t){return t===null||typeof t!="object"?null:(t=m0&&t[m0]||t["@@iterator"],typeof t=="function"?t:null)}var Qe=Object.assign,Tp;function Aa(t){if(Tp===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Tp=e&&e[1]||""}return`
`+Tp+t}var Sp=!1;function Ip(t,e){if(!t||Sp)return"";Sp=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var r=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){r=d}t.call(e.prototype)}else{try{throw Error()}catch(d){r=d}t()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var i=d.stack.split(`
`),s=r.stack.split(`
`),a=i.length-1,c=s.length-1;1<=a&&0<=c&&i[a]!==s[c];)c--;for(;1<=a&&0<=c;a--,c--)if(i[a]!==s[c]){if(a!==1||c!==1)do if(a--,c--,0>c||i[a]!==s[c]){var u=`
`+i[a].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=a&&0<=c);break}}}finally{Sp=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Aa(t):""}function QA(t){switch(t.tag){case 5:return Aa(t.type);case 16:return Aa("Lazy");case 13:return Aa("Suspense");case 19:return Aa("SuspenseList");case 0:case 2:case 15:return t=Ip(t.type,!1),t;case 11:return t=Ip(t.type.render,!1),t;case 1:return t=Ip(t.type,!0),t;default:return""}}function km(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Zs:return"Fragment";case Ks:return"Portal";case bm:return"Profiler";case xv:return"StrictMode";case Rm:return"Suspense";case Am:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case rT:return(t.displayName||"Context")+".Consumer";case nT:return(t._context.displayName||"Context")+".Provider";case bv:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Rv:return e=t.displayName||null,e!==null?e:km(t.type)||"Memo";case ni:e=t._payload,t=t._init;try{return km(t(e))}catch{}}return null}function YA(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return km(e);case 8:return e===xv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function xi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function sT(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function XA(t){var e=sT(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ju(t){t._valueTracker||(t._valueTracker=XA(t))}function oT(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=sT(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function lh(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Om(t,e){var n=e.checked;return Qe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function g0(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=xi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function aT(t,e){e=e.checked,e!=null&&Cv(t,"checked",e,!1)}function Lm(t,e){aT(t,e);var n=xi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Mm(t,e.type,n):e.hasOwnProperty("defaultValue")&&Mm(t,e.type,xi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function v0(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Mm(t,e,n){(e!=="number"||lh(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ka=Array.isArray;function lo(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+xi(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Nm(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error($(91));return Qe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function _0(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error($(92));if(ka(n)){if(1<n.length)throw Error($(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:xi(n)}}function lT(t,e){var n=xi(e.value),r=xi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function y0(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function uT(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Dm(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?uT(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ec,cT=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ec=ec||document.createElement("div"),ec.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ec.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function cl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ba={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},JA=["Webkit","ms","Moz","O"];Object.keys(Ba).forEach(function(t){JA.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ba[e]=Ba[t]})});function hT(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ba.hasOwnProperty(t)&&Ba[t]?(""+e).trim():e+"px"}function dT(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=hT(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var ek=Qe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Vm(t,e){if(e){if(ek[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error($(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error($(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error($(61))}if(e.style!=null&&typeof e.style!="object")throw Error($(62))}}function Fm(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zm=null;function Av(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var jm=null,uo=null,co=null;function w0(t){if(t=tu(t)){if(typeof jm!="function")throw Error($(280));var e=t.stateNode;e&&(e=Id(e),jm(t.stateNode,t.type,e))}}function fT(t){uo?co?co.push(t):co=[t]:uo=t}function pT(){if(uo){var t=uo,e=co;if(co=uo=null,w0(t),e)for(t=0;t<e.length;t++)w0(e[t])}}function mT(t,e){return t(e)}function gT(){}var Pp=!1;function vT(t,e,n){if(Pp)return t(e,n);Pp=!0;try{return mT(t,e,n)}finally{Pp=!1,(uo!==null||co!==null)&&(gT(),pT())}}function hl(t,e){var n=t.stateNode;if(n===null)return null;var r=Id(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error($(231,e,typeof n));return n}var $m=!1;if(Mr)try{var _a={};Object.defineProperty(_a,"passive",{get:function(){$m=!0}}),window.addEventListener("test",_a,_a),window.removeEventListener("test",_a,_a)}catch{$m=!1}function tk(t,e,n,r,i,s,a,c,u){var d=Array.prototype.slice.call(arguments,3);try{e.apply(n,d)}catch(p){this.onError(p)}}var Ha=!1,uh=null,ch=!1,Um=null,nk={onError:function(t){Ha=!0,uh=t}};function rk(t,e,n,r,i,s,a,c,u){Ha=!1,uh=null,tk.apply(nk,arguments)}function ik(t,e,n,r,i,s,a,c,u){if(rk.apply(this,arguments),Ha){if(Ha){var d=uh;Ha=!1,uh=null}else throw Error($(198));ch||(ch=!0,Um=d)}}function bs(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function _T(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function E0(t){if(bs(t)!==t)throw Error($(188))}function sk(t){var e=t.alternate;if(!e){if(e=bs(t),e===null)throw Error($(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return E0(i),t;if(s===r)return E0(i),e;s=s.sibling}throw Error($(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,c=i.child;c;){if(c===n){a=!0,n=i,r=s;break}if(c===r){a=!0,r=i,n=s;break}c=c.sibling}if(!a){for(c=s.child;c;){if(c===n){a=!0,n=s,r=i;break}if(c===r){a=!0,r=s,n=i;break}c=c.sibling}if(!a)throw Error($(189))}}if(n.alternate!==r)throw Error($(190))}if(n.tag!==3)throw Error($(188));return n.stateNode.current===n?t:e}function yT(t){return t=sk(t),t!==null?wT(t):null}function wT(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=wT(t);if(e!==null)return e;t=t.sibling}return null}var ET=vn.unstable_scheduleCallback,T0=vn.unstable_cancelCallback,ok=vn.unstable_shouldYield,ak=vn.unstable_requestPaint,nt=vn.unstable_now,lk=vn.unstable_getCurrentPriorityLevel,kv=vn.unstable_ImmediatePriority,TT=vn.unstable_UserBlockingPriority,hh=vn.unstable_NormalPriority,uk=vn.unstable_LowPriority,ST=vn.unstable_IdlePriority,wd=null,lr=null;function ck(t){if(lr&&typeof lr.onCommitFiberRoot=="function")try{lr.onCommitFiberRoot(wd,t,void 0,(t.current.flags&128)===128)}catch{}}var Un=Math.clz32?Math.clz32:fk,hk=Math.log,dk=Math.LN2;function fk(t){return t>>>=0,t===0?32:31-(hk(t)/dk|0)|0}var tc=64,nc=4194304;function Oa(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function dh(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,a=n&268435455;if(a!==0){var c=a&~i;c!==0?r=Oa(c):(s&=a,s!==0&&(r=Oa(s)))}else a=n&~i,a!==0?r=Oa(a):s!==0&&(r=Oa(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Un(e),i=1<<n,r|=t[n],e&=~i;return r}function pk(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mk(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var a=31-Un(s),c=1<<a,u=i[a];u===-1?(!(c&n)||c&r)&&(i[a]=pk(c,e)):u<=e&&(t.expiredLanes|=c),s&=~c}}function Bm(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function IT(){var t=tc;return tc<<=1,!(tc&4194240)&&(tc=64),t}function Cp(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Jl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Un(e),t[e]=n}function gk(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Un(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Ov(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Un(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var ke=0;function PT(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var CT,Lv,xT,bT,RT,Hm=!1,rc=[],pi=null,mi=null,gi=null,dl=new Map,fl=new Map,ii=[],vk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function S0(t,e){switch(t){case"focusin":case"focusout":pi=null;break;case"dragenter":case"dragleave":mi=null;break;case"mouseover":case"mouseout":gi=null;break;case"pointerover":case"pointerout":dl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":fl.delete(e.pointerId)}}function ya(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=tu(e),e!==null&&Lv(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function _k(t,e,n,r,i){switch(e){case"focusin":return pi=ya(pi,t,e,n,r,i),!0;case"dragenter":return mi=ya(mi,t,e,n,r,i),!0;case"mouseover":return gi=ya(gi,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return dl.set(s,ya(dl.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,fl.set(s,ya(fl.get(s)||null,t,e,n,r,i)),!0}return!1}function AT(t){var e=ts(t.target);if(e!==null){var n=bs(e);if(n!==null){if(e=n.tag,e===13){if(e=_T(n),e!==null){t.blockedOn=e,RT(t.priority,function(){xT(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Lc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Wm(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);zm=r,n.target.dispatchEvent(r),zm=null}else return e=tu(n),e!==null&&Lv(e),t.blockedOn=n,!1;e.shift()}return!0}function I0(t,e,n){Lc(t)&&n.delete(e)}function yk(){Hm=!1,pi!==null&&Lc(pi)&&(pi=null),mi!==null&&Lc(mi)&&(mi=null),gi!==null&&Lc(gi)&&(gi=null),dl.forEach(I0),fl.forEach(I0)}function wa(t,e){t.blockedOn===e&&(t.blockedOn=null,Hm||(Hm=!0,vn.unstable_scheduleCallback(vn.unstable_NormalPriority,yk)))}function pl(t){function e(i){return wa(i,t)}if(0<rc.length){wa(rc[0],t);for(var n=1;n<rc.length;n++){var r=rc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(pi!==null&&wa(pi,t),mi!==null&&wa(mi,t),gi!==null&&wa(gi,t),dl.forEach(e),fl.forEach(e),n=0;n<ii.length;n++)r=ii[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ii.length&&(n=ii[0],n.blockedOn===null);)AT(n),n.blockedOn===null&&ii.shift()}var ho=Br.ReactCurrentBatchConfig,fh=!0;function wk(t,e,n,r){var i=ke,s=ho.transition;ho.transition=null;try{ke=1,Mv(t,e,n,r)}finally{ke=i,ho.transition=s}}function Ek(t,e,n,r){var i=ke,s=ho.transition;ho.transition=null;try{ke=4,Mv(t,e,n,r)}finally{ke=i,ho.transition=s}}function Mv(t,e,n,r){if(fh){var i=Wm(t,e,n,r);if(i===null)Dp(t,e,r,ph,n),S0(t,r);else if(_k(i,t,e,n,r))r.stopPropagation();else if(S0(t,r),e&4&&-1<vk.indexOf(t)){for(;i!==null;){var s=tu(i);if(s!==null&&CT(s),s=Wm(t,e,n,r),s===null&&Dp(t,e,r,ph,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Dp(t,e,r,null,n)}}var ph=null;function Wm(t,e,n,r){if(ph=null,t=Av(r),t=ts(t),t!==null)if(e=bs(t),e===null)t=null;else if(n=e.tag,n===13){if(t=_T(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ph=t,null}function kT(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(lk()){case kv:return 1;case TT:return 4;case hh:case uk:return 16;case ST:return 536870912;default:return 16}default:return 16}}var ci=null,Nv=null,Mc=null;function OT(){if(Mc)return Mc;var t,e=Nv,n=e.length,r,i="value"in ci?ci.value:ci.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[s-r];r++);return Mc=i.slice(t,1<r?1-r:void 0)}function Nc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ic(){return!0}function P0(){return!1}function Tn(t){function e(n,r,i,s,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var c in t)t.hasOwnProperty(c)&&(n=t[c],this[c]=n?n(s):s[c]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?ic:P0,this.isPropagationStopped=P0,this}return Qe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ic)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ic)},persist:function(){},isPersistent:ic}),e}var Uo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Dv=Tn(Uo),eu=Qe({},Uo,{view:0,detail:0}),Tk=Tn(eu),xp,bp,Ea,Ed=Qe({},eu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vv,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ea&&(Ea&&t.type==="mousemove"?(xp=t.screenX-Ea.screenX,bp=t.screenY-Ea.screenY):bp=xp=0,Ea=t),xp)},movementY:function(t){return"movementY"in t?t.movementY:bp}}),C0=Tn(Ed),Sk=Qe({},Ed,{dataTransfer:0}),Ik=Tn(Sk),Pk=Qe({},eu,{relatedTarget:0}),Rp=Tn(Pk),Ck=Qe({},Uo,{animationName:0,elapsedTime:0,pseudoElement:0}),xk=Tn(Ck),bk=Qe({},Uo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Rk=Tn(bk),Ak=Qe({},Uo,{data:0}),x0=Tn(Ak),kk={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ok={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Lk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Mk(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Lk[t])?!!e[t]:!1}function Vv(){return Mk}var Nk=Qe({},eu,{key:function(t){if(t.key){var e=kk[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Nc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ok[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vv,charCode:function(t){return t.type==="keypress"?Nc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Nc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Dk=Tn(Nk),Vk=Qe({},Ed,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),b0=Tn(Vk),Fk=Qe({},eu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vv}),zk=Tn(Fk),jk=Qe({},Uo,{propertyName:0,elapsedTime:0,pseudoElement:0}),$k=Tn(jk),Uk=Qe({},Ed,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Bk=Tn(Uk),Hk=[9,13,27,32],Fv=Mr&&"CompositionEvent"in window,Wa=null;Mr&&"documentMode"in document&&(Wa=document.documentMode);var Wk=Mr&&"TextEvent"in window&&!Wa,LT=Mr&&(!Fv||Wa&&8<Wa&&11>=Wa),R0=" ",A0=!1;function MT(t,e){switch(t){case"keyup":return Hk.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function NT(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Qs=!1;function qk(t,e){switch(t){case"compositionend":return NT(e);case"keypress":return e.which!==32?null:(A0=!0,R0);case"textInput":return t=e.data,t===R0&&A0?null:t;default:return null}}function Gk(t,e){if(Qs)return t==="compositionend"||!Fv&&MT(t,e)?(t=OT(),Mc=Nv=ci=null,Qs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return LT&&e.locale!=="ko"?null:e.data;default:return null}}var Kk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function k0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Kk[t.type]:e==="textarea"}function DT(t,e,n,r){fT(r),e=mh(e,"onChange"),0<e.length&&(n=new Dv("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var qa=null,ml=null;function Zk(t){GT(t,0)}function Td(t){var e=Js(t);if(oT(e))return t}function Qk(t,e){if(t==="change")return e}var VT=!1;if(Mr){var Ap;if(Mr){var kp="oninput"in document;if(!kp){var O0=document.createElement("div");O0.setAttribute("oninput","return;"),kp=typeof O0.oninput=="function"}Ap=kp}else Ap=!1;VT=Ap&&(!document.documentMode||9<document.documentMode)}function L0(){qa&&(qa.detachEvent("onpropertychange",FT),ml=qa=null)}function FT(t){if(t.propertyName==="value"&&Td(ml)){var e=[];DT(e,ml,t,Av(t)),vT(Zk,e)}}function Yk(t,e,n){t==="focusin"?(L0(),qa=e,ml=n,qa.attachEvent("onpropertychange",FT)):t==="focusout"&&L0()}function Xk(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Td(ml)}function Jk(t,e){if(t==="click")return Td(e)}function e4(t,e){if(t==="input"||t==="change")return Td(e)}function t4(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Wn=typeof Object.is=="function"?Object.is:t4;function gl(t,e){if(Wn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!xm.call(e,i)||!Wn(t[i],e[i]))return!1}return!0}function M0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function N0(t,e){var n=M0(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=M0(n)}}function zT(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?zT(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function jT(){for(var t=window,e=lh();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=lh(t.document)}return e}function zv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function n4(t){var e=jT(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&zT(n.ownerDocument.documentElement,n)){if(r!==null&&zv(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=N0(n,s);var a=N0(n,r);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var r4=Mr&&"documentMode"in document&&11>=document.documentMode,Ys=null,qm=null,Ga=null,Gm=!1;function D0(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Gm||Ys==null||Ys!==lh(r)||(r=Ys,"selectionStart"in r&&zv(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ga&&gl(Ga,r)||(Ga=r,r=mh(qm,"onSelect"),0<r.length&&(e=new Dv("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ys)))}function sc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Xs={animationend:sc("Animation","AnimationEnd"),animationiteration:sc("Animation","AnimationIteration"),animationstart:sc("Animation","AnimationStart"),transitionend:sc("Transition","TransitionEnd")},Op={},$T={};Mr&&($T=document.createElement("div").style,"AnimationEvent"in window||(delete Xs.animationend.animation,delete Xs.animationiteration.animation,delete Xs.animationstart.animation),"TransitionEvent"in window||delete Xs.transitionend.transition);function Sd(t){if(Op[t])return Op[t];if(!Xs[t])return t;var e=Xs[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in $T)return Op[t]=e[n];return t}var UT=Sd("animationend"),BT=Sd("animationiteration"),HT=Sd("animationstart"),WT=Sd("transitionend"),qT=new Map,V0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Di(t,e){qT.set(t,e),xs(e,[t])}for(var Lp=0;Lp<V0.length;Lp++){var Mp=V0[Lp],i4=Mp.toLowerCase(),s4=Mp[0].toUpperCase()+Mp.slice(1);Di(i4,"on"+s4)}Di(UT,"onAnimationEnd");Di(BT,"onAnimationIteration");Di(HT,"onAnimationStart");Di("dblclick","onDoubleClick");Di("focusin","onFocus");Di("focusout","onBlur");Di(WT,"onTransitionEnd");Eo("onMouseEnter",["mouseout","mouseover"]);Eo("onMouseLeave",["mouseout","mouseover"]);Eo("onPointerEnter",["pointerout","pointerover"]);Eo("onPointerLeave",["pointerout","pointerover"]);xs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));xs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));xs("onBeforeInput",["compositionend","keypress","textInput","paste"]);xs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));xs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));xs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var La="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),o4=new Set("cancel close invalid load scroll toggle".split(" ").concat(La));function F0(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,ik(r,e,void 0,t),t.currentTarget=null}function GT(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var a=r.length-1;0<=a;a--){var c=r[a],u=c.instance,d=c.currentTarget;if(c=c.listener,u!==s&&i.isPropagationStopped())break e;F0(i,c,d),s=u}else for(a=0;a<r.length;a++){if(c=r[a],u=c.instance,d=c.currentTarget,c=c.listener,u!==s&&i.isPropagationStopped())break e;F0(i,c,d),s=u}}}if(ch)throw t=Um,ch=!1,Um=null,t}function je(t,e){var n=e[Xm];n===void 0&&(n=e[Xm]=new Set);var r=t+"__bubble";n.has(r)||(KT(e,t,2,!1),n.add(r))}function Np(t,e,n){var r=0;e&&(r|=4),KT(n,t,r,e)}var oc="_reactListening"+Math.random().toString(36).slice(2);function vl(t){if(!t[oc]){t[oc]=!0,tT.forEach(function(n){n!=="selectionchange"&&(o4.has(n)||Np(n,!1,t),Np(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[oc]||(e[oc]=!0,Np("selectionchange",!1,e))}}function KT(t,e,n,r){switch(kT(e)){case 1:var i=wk;break;case 4:i=Ek;break;default:i=Mv}n=i.bind(null,e,n,t),i=void 0,!$m||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Dp(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var c=r.stateNode.containerInfo;if(c===i||c.nodeType===8&&c.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var u=a.tag;if((u===3||u===4)&&(u=a.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;a=a.return}for(;c!==null;){if(a=ts(c),a===null)return;if(u=a.tag,u===5||u===6){r=s=a;continue e}c=c.parentNode}}r=r.return}vT(function(){var d=s,p=Av(n),m=[];e:{var v=qT.get(t);if(v!==void 0){var T=Dv,S=t;switch(t){case"keypress":if(Nc(n)===0)break e;case"keydown":case"keyup":T=Dk;break;case"focusin":S="focus",T=Rp;break;case"focusout":S="blur",T=Rp;break;case"beforeblur":case"afterblur":T=Rp;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":T=C0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":T=Ik;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":T=zk;break;case UT:case BT:case HT:T=xk;break;case WT:T=$k;break;case"scroll":T=Tk;break;case"wheel":T=Bk;break;case"copy":case"cut":case"paste":T=Rk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":T=b0}var I=(e&4)!==0,C=!I&&t==="scroll",_=I?v!==null?v+"Capture":null:v;I=[];for(var y=d,E;y!==null;){E=y;var x=E.stateNode;if(E.tag===5&&x!==null&&(E=x,_!==null&&(x=hl(y,_),x!=null&&I.push(_l(y,x,E)))),C)break;y=y.return}0<I.length&&(v=new T(v,S,null,n,p),m.push({event:v,listeners:I}))}}if(!(e&7)){e:{if(v=t==="mouseover"||t==="pointerover",T=t==="mouseout"||t==="pointerout",v&&n!==zm&&(S=n.relatedTarget||n.fromElement)&&(ts(S)||S[Nr]))break e;if((T||v)&&(v=p.window===p?p:(v=p.ownerDocument)?v.defaultView||v.parentWindow:window,T?(S=n.relatedTarget||n.toElement,T=d,S=S?ts(S):null,S!==null&&(C=bs(S),S!==C||S.tag!==5&&S.tag!==6)&&(S=null)):(T=null,S=d),T!==S)){if(I=C0,x="onMouseLeave",_="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(I=b0,x="onPointerLeave",_="onPointerEnter",y="pointer"),C=T==null?v:Js(T),E=S==null?v:Js(S),v=new I(x,y+"leave",T,n,p),v.target=C,v.relatedTarget=E,x=null,ts(p)===d&&(I=new I(_,y+"enter",S,n,p),I.target=E,I.relatedTarget=C,x=I),C=x,T&&S)t:{for(I=T,_=S,y=0,E=I;E;E=Us(E))y++;for(E=0,x=_;x;x=Us(x))E++;for(;0<y-E;)I=Us(I),y--;for(;0<E-y;)_=Us(_),E--;for(;y--;){if(I===_||_!==null&&I===_.alternate)break t;I=Us(I),_=Us(_)}I=null}else I=null;T!==null&&z0(m,v,T,I,!1),S!==null&&C!==null&&z0(m,C,S,I,!0)}}e:{if(v=d?Js(d):window,T=v.nodeName&&v.nodeName.toLowerCase(),T==="select"||T==="input"&&v.type==="file")var A=Qk;else if(k0(v))if(VT)A=e4;else{A=Xk;var O=Yk}else(T=v.nodeName)&&T.toLowerCase()==="input"&&(v.type==="checkbox"||v.type==="radio")&&(A=Jk);if(A&&(A=A(t,d))){DT(m,A,n,p);break e}O&&O(t,v,d),t==="focusout"&&(O=v._wrapperState)&&O.controlled&&v.type==="number"&&Mm(v,"number",v.value)}switch(O=d?Js(d):window,t){case"focusin":(k0(O)||O.contentEditable==="true")&&(Ys=O,qm=d,Ga=null);break;case"focusout":Ga=qm=Ys=null;break;case"mousedown":Gm=!0;break;case"contextmenu":case"mouseup":case"dragend":Gm=!1,D0(m,n,p);break;case"selectionchange":if(r4)break;case"keydown":case"keyup":D0(m,n,p)}var N;if(Fv)e:{switch(t){case"compositionstart":var D="onCompositionStart";break e;case"compositionend":D="onCompositionEnd";break e;case"compositionupdate":D="onCompositionUpdate";break e}D=void 0}else Qs?MT(t,n)&&(D="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(D="onCompositionStart");D&&(LT&&n.locale!=="ko"&&(Qs||D!=="onCompositionStart"?D==="onCompositionEnd"&&Qs&&(N=OT()):(ci=p,Nv="value"in ci?ci.value:ci.textContent,Qs=!0)),O=mh(d,D),0<O.length&&(D=new x0(D,t,null,n,p),m.push({event:D,listeners:O}),N?D.data=N:(N=NT(n),N!==null&&(D.data=N)))),(N=Wk?qk(t,n):Gk(t,n))&&(d=mh(d,"onBeforeInput"),0<d.length&&(p=new x0("onBeforeInput","beforeinput",null,n,p),m.push({event:p,listeners:d}),p.data=N))}GT(m,e)})}function _l(t,e,n){return{instance:t,listener:e,currentTarget:n}}function mh(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=hl(t,n),s!=null&&r.unshift(_l(t,s,i)),s=hl(t,e),s!=null&&r.push(_l(t,s,i))),t=t.return}return r}function Us(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function z0(t,e,n,r,i){for(var s=e._reactName,a=[];n!==null&&n!==r;){var c=n,u=c.alternate,d=c.stateNode;if(u!==null&&u===r)break;c.tag===5&&d!==null&&(c=d,i?(u=hl(n,s),u!=null&&a.unshift(_l(n,u,c))):i||(u=hl(n,s),u!=null&&a.push(_l(n,u,c)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var a4=/\r\n?/g,l4=/\u0000|\uFFFD/g;function j0(t){return(typeof t=="string"?t:""+t).replace(a4,`
`).replace(l4,"")}function ac(t,e,n){if(e=j0(e),j0(t)!==e&&n)throw Error($(425))}function gh(){}var Km=null,Zm=null;function Qm(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ym=typeof setTimeout=="function"?setTimeout:void 0,u4=typeof clearTimeout=="function"?clearTimeout:void 0,$0=typeof Promise=="function"?Promise:void 0,c4=typeof queueMicrotask=="function"?queueMicrotask:typeof $0<"u"?function(t){return $0.resolve(null).then(t).catch(h4)}:Ym;function h4(t){setTimeout(function(){throw t})}function Vp(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),pl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);pl(e)}function vi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function U0(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Bo=Math.random().toString(36).slice(2),rr="__reactFiber$"+Bo,yl="__reactProps$"+Bo,Nr="__reactContainer$"+Bo,Xm="__reactEvents$"+Bo,d4="__reactListeners$"+Bo,f4="__reactHandles$"+Bo;function ts(t){var e=t[rr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Nr]||n[rr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=U0(t);t!==null;){if(n=t[rr])return n;t=U0(t)}return e}t=n,n=t.parentNode}return null}function tu(t){return t=t[rr]||t[Nr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Js(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error($(33))}function Id(t){return t[yl]||null}var Jm=[],eo=-1;function Vi(t){return{current:t}}function Be(t){0>eo||(t.current=Jm[eo],Jm[eo]=null,eo--)}function Ve(t,e){eo++,Jm[eo]=t.current,t.current=e}var bi={},Wt=Vi(bi),sn=Vi(!1),ds=bi;function To(t,e){var n=t.type.contextTypes;if(!n)return bi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function on(t){return t=t.childContextTypes,t!=null}function vh(){Be(sn),Be(Wt)}function B0(t,e,n){if(Wt.current!==bi)throw Error($(168));Ve(Wt,e),Ve(sn,n)}function ZT(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error($(108,YA(t)||"Unknown",i));return Qe({},n,r)}function _h(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||bi,ds=Wt.current,Ve(Wt,t),Ve(sn,sn.current),!0}function H0(t,e,n){var r=t.stateNode;if(!r)throw Error($(169));n?(t=ZT(t,e,ds),r.__reactInternalMemoizedMergedChildContext=t,Be(sn),Be(Wt),Ve(Wt,t)):Be(sn),Ve(sn,n)}var Pr=null,Pd=!1,Fp=!1;function QT(t){Pr===null?Pr=[t]:Pr.push(t)}function p4(t){Pd=!0,QT(t)}function Fi(){if(!Fp&&Pr!==null){Fp=!0;var t=0,e=ke;try{var n=Pr;for(ke=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Pr=null,Pd=!1}catch(i){throw Pr!==null&&(Pr=Pr.slice(t+1)),ET(kv,Fi),i}finally{ke=e,Fp=!1}}return null}var to=[],no=0,yh=null,wh=0,xn=[],bn=0,fs=null,Cr=1,xr="";function Qi(t,e){to[no++]=wh,to[no++]=yh,yh=t,wh=e}function YT(t,e,n){xn[bn++]=Cr,xn[bn++]=xr,xn[bn++]=fs,fs=t;var r=Cr;t=xr;var i=32-Un(r)-1;r&=~(1<<i),n+=1;var s=32-Un(e)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Cr=1<<32-Un(e)+i|n<<i|r,xr=s+t}else Cr=1<<s|n<<i|r,xr=t}function jv(t){t.return!==null&&(Qi(t,1),YT(t,1,0))}function $v(t){for(;t===yh;)yh=to[--no],to[no]=null,wh=to[--no],to[no]=null;for(;t===fs;)fs=xn[--bn],xn[bn]=null,xr=xn[--bn],xn[bn]=null,Cr=xn[--bn],xn[bn]=null}var mn=null,dn=null,He=!1,jn=null;function XT(t,e){var n=An(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function W0(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,mn=t,dn=vi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,mn=t,dn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=fs!==null?{id:Cr,overflow:xr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=An(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,mn=t,dn=null,!0):!1;default:return!1}}function eg(t){return(t.mode&1)!==0&&(t.flags&128)===0}function tg(t){if(He){var e=dn;if(e){var n=e;if(!W0(t,e)){if(eg(t))throw Error($(418));e=vi(n.nextSibling);var r=mn;e&&W0(t,e)?XT(r,n):(t.flags=t.flags&-4097|2,He=!1,mn=t)}}else{if(eg(t))throw Error($(418));t.flags=t.flags&-4097|2,He=!1,mn=t}}}function q0(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;mn=t}function lc(t){if(t!==mn)return!1;if(!He)return q0(t),He=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Qm(t.type,t.memoizedProps)),e&&(e=dn)){if(eg(t))throw JT(),Error($(418));for(;e;)XT(t,e),e=vi(e.nextSibling)}if(q0(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error($(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){dn=vi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}dn=null}}else dn=mn?vi(t.stateNode.nextSibling):null;return!0}function JT(){for(var t=dn;t;)t=vi(t.nextSibling)}function So(){dn=mn=null,He=!1}function Uv(t){jn===null?jn=[t]:jn.push(t)}var m4=Br.ReactCurrentBatchConfig;function Fn(t,e){if(t&&t.defaultProps){e=Qe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Eh=Vi(null),Th=null,ro=null,Bv=null;function Hv(){Bv=ro=Th=null}function Wv(t){var e=Eh.current;Be(Eh),t._currentValue=e}function ng(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function fo(t,e){Th=t,Bv=ro=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(rn=!0),t.firstContext=null)}function On(t){var e=t._currentValue;if(Bv!==t)if(t={context:t,memoizedValue:e,next:null},ro===null){if(Th===null)throw Error($(308));ro=t,Th.dependencies={lanes:0,firstContext:t}}else ro=ro.next=t;return e}var ns=null;function qv(t){ns===null?ns=[t]:ns.push(t)}function eS(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,qv(e)):(n.next=i.next,i.next=n),e.interleaved=n,Dr(t,r)}function Dr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ri=!1;function Gv(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function tS(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function kr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function _i(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ce&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Dr(t,n)}return i=r.interleaved,i===null?(e.next=e,qv(r)):(e.next=i.next,i.next=e),r.interleaved=e,Dr(t,n)}function Dc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ov(t,n)}}function G0(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Sh(t,e,n,r){var i=t.updateQueue;ri=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,c=i.shared.pending;if(c!==null){i.shared.pending=null;var u=c,d=u.next;u.next=null,a===null?s=d:a.next=d,a=u;var p=t.alternate;p!==null&&(p=p.updateQueue,c=p.lastBaseUpdate,c!==a&&(c===null?p.firstBaseUpdate=d:c.next=d,p.lastBaseUpdate=u))}if(s!==null){var m=i.baseState;a=0,p=d=u=null,c=s;do{var v=c.lane,T=c.eventTime;if((r&v)===v){p!==null&&(p=p.next={eventTime:T,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var S=t,I=c;switch(v=e,T=n,I.tag){case 1:if(S=I.payload,typeof S=="function"){m=S.call(T,m,v);break e}m=S;break e;case 3:S.flags=S.flags&-65537|128;case 0:if(S=I.payload,v=typeof S=="function"?S.call(T,m,v):S,v==null)break e;m=Qe({},m,v);break e;case 2:ri=!0}}c.callback!==null&&c.lane!==0&&(t.flags|=64,v=i.effects,v===null?i.effects=[c]:v.push(c))}else T={eventTime:T,lane:v,tag:c.tag,payload:c.payload,callback:c.callback,next:null},p===null?(d=p=T,u=m):p=p.next=T,a|=v;if(c=c.next,c===null){if(c=i.shared.pending,c===null)break;v=c,c=v.next,v.next=null,i.lastBaseUpdate=v,i.shared.pending=null}}while(!0);if(p===null&&(u=m),i.baseState=u,i.firstBaseUpdate=d,i.lastBaseUpdate=p,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);ms|=a,t.lanes=a,t.memoizedState=m}}function K0(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error($(191,i));i.call(r)}}}var nS=new eT.Component().refs;function rg(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Qe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Cd={isMounted:function(t){return(t=t._reactInternals)?bs(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Yt(),i=wi(t),s=kr(r,i);s.payload=e,n!=null&&(s.callback=n),e=_i(t,s,i),e!==null&&(Bn(e,t,i,r),Dc(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Yt(),i=wi(t),s=kr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=_i(t,s,i),e!==null&&(Bn(e,t,i,r),Dc(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Yt(),r=wi(t),i=kr(n,r);i.tag=2,e!=null&&(i.callback=e),e=_i(t,i,r),e!==null&&(Bn(e,t,r,n),Dc(e,t,r))}};function Z0(t,e,n,r,i,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,a):e.prototype&&e.prototype.isPureReactComponent?!gl(n,r)||!gl(i,s):!0}function rS(t,e,n){var r=!1,i=bi,s=e.contextType;return typeof s=="object"&&s!==null?s=On(s):(i=on(e)?ds:Wt.current,r=e.contextTypes,s=(r=r!=null)?To(t,i):bi),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Cd,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Q0(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Cd.enqueueReplaceState(e,e.state,null)}function ig(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=nS,Gv(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=On(s):(s=on(e)?ds:Wt.current,i.context=To(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(rg(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Cd.enqueueReplaceState(i,i.state,null),Sh(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Ta(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error($(309));var r=n.stateNode}if(!r)throw Error($(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var c=i.refs;c===nS&&(c=i.refs={}),a===null?delete c[s]:c[s]=a},e._stringRef=s,e)}if(typeof t!="string")throw Error($(284));if(!n._owner)throw Error($(290,t))}return t}function uc(t,e){throw t=Object.prototype.toString.call(e),Error($(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Y0(t){var e=t._init;return e(t._payload)}function iS(t){function e(_,y){if(t){var E=_.deletions;E===null?(_.deletions=[y],_.flags|=16):E.push(y)}}function n(_,y){if(!t)return null;for(;y!==null;)e(_,y),y=y.sibling;return null}function r(_,y){for(_=new Map;y!==null;)y.key!==null?_.set(y.key,y):_.set(y.index,y),y=y.sibling;return _}function i(_,y){return _=Ei(_,y),_.index=0,_.sibling=null,_}function s(_,y,E){return _.index=E,t?(E=_.alternate,E!==null?(E=E.index,E<y?(_.flags|=2,y):E):(_.flags|=2,y)):(_.flags|=1048576,y)}function a(_){return t&&_.alternate===null&&(_.flags|=2),_}function c(_,y,E,x){return y===null||y.tag!==6?(y=Wp(E,_.mode,x),y.return=_,y):(y=i(y,E),y.return=_,y)}function u(_,y,E,x){var A=E.type;return A===Zs?p(_,y,E.props.children,x,E.key):y!==null&&(y.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===ni&&Y0(A)===y.type)?(x=i(y,E.props),x.ref=Ta(_,y,E),x.return=_,x):(x=Uc(E.type,E.key,E.props,null,_.mode,x),x.ref=Ta(_,y,E),x.return=_,x)}function d(_,y,E,x){return y===null||y.tag!==4||y.stateNode.containerInfo!==E.containerInfo||y.stateNode.implementation!==E.implementation?(y=qp(E,_.mode,x),y.return=_,y):(y=i(y,E.children||[]),y.return=_,y)}function p(_,y,E,x,A){return y===null||y.tag!==7?(y=us(E,_.mode,x,A),y.return=_,y):(y=i(y,E),y.return=_,y)}function m(_,y,E){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Wp(""+y,_.mode,E),y.return=_,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Xu:return E=Uc(y.type,y.key,y.props,null,_.mode,E),E.ref=Ta(_,null,y),E.return=_,E;case Ks:return y=qp(y,_.mode,E),y.return=_,y;case ni:var x=y._init;return m(_,x(y._payload),E)}if(ka(y)||va(y))return y=us(y,_.mode,E,null),y.return=_,y;uc(_,y)}return null}function v(_,y,E,x){var A=y!==null?y.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return A!==null?null:c(_,y,""+E,x);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Xu:return E.key===A?u(_,y,E,x):null;case Ks:return E.key===A?d(_,y,E,x):null;case ni:return A=E._init,v(_,y,A(E._payload),x)}if(ka(E)||va(E))return A!==null?null:p(_,y,E,x,null);uc(_,E)}return null}function T(_,y,E,x,A){if(typeof x=="string"&&x!==""||typeof x=="number")return _=_.get(E)||null,c(y,_,""+x,A);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Xu:return _=_.get(x.key===null?E:x.key)||null,u(y,_,x,A);case Ks:return _=_.get(x.key===null?E:x.key)||null,d(y,_,x,A);case ni:var O=x._init;return T(_,y,E,O(x._payload),A)}if(ka(x)||va(x))return _=_.get(E)||null,p(y,_,x,A,null);uc(y,x)}return null}function S(_,y,E,x){for(var A=null,O=null,N=y,D=y=0,K=null;N!==null&&D<E.length;D++){N.index>D?(K=N,N=null):K=N.sibling;var q=v(_,N,E[D],x);if(q===null){N===null&&(N=K);break}t&&N&&q.alternate===null&&e(_,N),y=s(q,y,D),O===null?A=q:O.sibling=q,O=q,N=K}if(D===E.length)return n(_,N),He&&Qi(_,D),A;if(N===null){for(;D<E.length;D++)N=m(_,E[D],x),N!==null&&(y=s(N,y,D),O===null?A=N:O.sibling=N,O=N);return He&&Qi(_,D),A}for(N=r(_,N);D<E.length;D++)K=T(N,_,D,E[D],x),K!==null&&(t&&K.alternate!==null&&N.delete(K.key===null?D:K.key),y=s(K,y,D),O===null?A=K:O.sibling=K,O=K);return t&&N.forEach(function(le){return e(_,le)}),He&&Qi(_,D),A}function I(_,y,E,x){var A=va(E);if(typeof A!="function")throw Error($(150));if(E=A.call(E),E==null)throw Error($(151));for(var O=A=null,N=y,D=y=0,K=null,q=E.next();N!==null&&!q.done;D++,q=E.next()){N.index>D?(K=N,N=null):K=N.sibling;var le=v(_,N,q.value,x);if(le===null){N===null&&(N=K);break}t&&N&&le.alternate===null&&e(_,N),y=s(le,y,D),O===null?A=le:O.sibling=le,O=le,N=K}if(q.done)return n(_,N),He&&Qi(_,D),A;if(N===null){for(;!q.done;D++,q=E.next())q=m(_,q.value,x),q!==null&&(y=s(q,y,D),O===null?A=q:O.sibling=q,O=q);return He&&Qi(_,D),A}for(N=r(_,N);!q.done;D++,q=E.next())q=T(N,_,D,q.value,x),q!==null&&(t&&q.alternate!==null&&N.delete(q.key===null?D:q.key),y=s(q,y,D),O===null?A=q:O.sibling=q,O=q);return t&&N.forEach(function(ve){return e(_,ve)}),He&&Qi(_,D),A}function C(_,y,E,x){if(typeof E=="object"&&E!==null&&E.type===Zs&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case Xu:e:{for(var A=E.key,O=y;O!==null;){if(O.key===A){if(A=E.type,A===Zs){if(O.tag===7){n(_,O.sibling),y=i(O,E.props.children),y.return=_,_=y;break e}}else if(O.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===ni&&Y0(A)===O.type){n(_,O.sibling),y=i(O,E.props),y.ref=Ta(_,O,E),y.return=_,_=y;break e}n(_,O);break}else e(_,O);O=O.sibling}E.type===Zs?(y=us(E.props.children,_.mode,x,E.key),y.return=_,_=y):(x=Uc(E.type,E.key,E.props,null,_.mode,x),x.ref=Ta(_,y,E),x.return=_,_=x)}return a(_);case Ks:e:{for(O=E.key;y!==null;){if(y.key===O)if(y.tag===4&&y.stateNode.containerInfo===E.containerInfo&&y.stateNode.implementation===E.implementation){n(_,y.sibling),y=i(y,E.children||[]),y.return=_,_=y;break e}else{n(_,y);break}else e(_,y);y=y.sibling}y=qp(E,_.mode,x),y.return=_,_=y}return a(_);case ni:return O=E._init,C(_,y,O(E._payload),x)}if(ka(E))return S(_,y,E,x);if(va(E))return I(_,y,E,x);uc(_,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,y!==null&&y.tag===6?(n(_,y.sibling),y=i(y,E),y.return=_,_=y):(n(_,y),y=Wp(E,_.mode,x),y.return=_,_=y),a(_)):n(_,y)}return C}var Io=iS(!0),sS=iS(!1),nu={},ur=Vi(nu),wl=Vi(nu),El=Vi(nu);function rs(t){if(t===nu)throw Error($(174));return t}function Kv(t,e){switch(Ve(El,e),Ve(wl,t),Ve(ur,nu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Dm(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Dm(e,t)}Be(ur),Ve(ur,e)}function Po(){Be(ur),Be(wl),Be(El)}function oS(t){rs(El.current);var e=rs(ur.current),n=Dm(e,t.type);e!==n&&(Ve(wl,t),Ve(ur,n))}function Zv(t){wl.current===t&&(Be(ur),Be(wl))}var Ge=Vi(0);function Ih(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var zp=[];function Qv(){for(var t=0;t<zp.length;t++)zp[t]._workInProgressVersionPrimary=null;zp.length=0}var Vc=Br.ReactCurrentDispatcher,jp=Br.ReactCurrentBatchConfig,ps=0,Ke=null,dt=null,wt=null,Ph=!1,Ka=!1,Tl=0,g4=0;function Dt(){throw Error($(321))}function Yv(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Wn(t[n],e[n]))return!1;return!0}function Xv(t,e,n,r,i,s){if(ps=s,Ke=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Vc.current=t===null||t.memoizedState===null?w4:E4,t=n(r,i),Ka){s=0;do{if(Ka=!1,Tl=0,25<=s)throw Error($(301));s+=1,wt=dt=null,e.updateQueue=null,Vc.current=T4,t=n(r,i)}while(Ka)}if(Vc.current=Ch,e=dt!==null&&dt.next!==null,ps=0,wt=dt=Ke=null,Ph=!1,e)throw Error($(300));return t}function Jv(){var t=Tl!==0;return Tl=0,t}function er(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wt===null?Ke.memoizedState=wt=t:wt=wt.next=t,wt}function Ln(){if(dt===null){var t=Ke.alternate;t=t!==null?t.memoizedState:null}else t=dt.next;var e=wt===null?Ke.memoizedState:wt.next;if(e!==null)wt=e,dt=t;else{if(t===null)throw Error($(310));dt=t,t={memoizedState:dt.memoizedState,baseState:dt.baseState,baseQueue:dt.baseQueue,queue:dt.queue,next:null},wt===null?Ke.memoizedState=wt=t:wt=wt.next=t}return wt}function Sl(t,e){return typeof e=="function"?e(t):e}function $p(t){var e=Ln(),n=e.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=t;var r=dt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var c=a=null,u=null,d=s;do{var p=d.lane;if((ps&p)===p)u!==null&&(u=u.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:t(r,d.action);else{var m={lane:p,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};u===null?(c=u=m,a=r):u=u.next=m,Ke.lanes|=p,ms|=p}d=d.next}while(d!==null&&d!==s);u===null?a=r:u.next=c,Wn(r,e.memoizedState)||(rn=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Ke.lanes|=s,ms|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Up(t){var e=Ln(),n=e.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do s=t(s,a.action),a=a.next;while(a!==i);Wn(s,e.memoizedState)||(rn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function aS(){}function lS(t,e){var n=Ke,r=Ln(),i=e(),s=!Wn(r.memoizedState,i);if(s&&(r.memoizedState=i,rn=!0),r=r.queue,e_(hS.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||wt!==null&&wt.memoizedState.tag&1){if(n.flags|=2048,Il(9,cS.bind(null,n,r,i,e),void 0,null),Et===null)throw Error($(349));ps&30||uS(n,e,i)}return i}function uS(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ke.updateQueue,e===null?(e={lastEffect:null,stores:null},Ke.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function cS(t,e,n,r){e.value=n,e.getSnapshot=r,dS(e)&&fS(t)}function hS(t,e,n){return n(function(){dS(e)&&fS(t)})}function dS(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Wn(t,n)}catch{return!0}}function fS(t){var e=Dr(t,1);e!==null&&Bn(e,t,1,-1)}function X0(t){var e=er();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Sl,lastRenderedState:t},e.queue=t,t=t.dispatch=y4.bind(null,Ke,t),[e.memoizedState,t]}function Il(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ke.updateQueue,e===null?(e={lastEffect:null,stores:null},Ke.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function pS(){return Ln().memoizedState}function Fc(t,e,n,r){var i=er();Ke.flags|=t,i.memoizedState=Il(1|e,n,void 0,r===void 0?null:r)}function xd(t,e,n,r){var i=Ln();r=r===void 0?null:r;var s=void 0;if(dt!==null){var a=dt.memoizedState;if(s=a.destroy,r!==null&&Yv(r,a.deps)){i.memoizedState=Il(e,n,s,r);return}}Ke.flags|=t,i.memoizedState=Il(1|e,n,s,r)}function J0(t,e){return Fc(8390656,8,t,e)}function e_(t,e){return xd(2048,8,t,e)}function mS(t,e){return xd(4,2,t,e)}function gS(t,e){return xd(4,4,t,e)}function vS(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function _S(t,e,n){return n=n!=null?n.concat([t]):null,xd(4,4,vS.bind(null,e,t),n)}function t_(){}function yS(t,e){var n=Ln();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Yv(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function wS(t,e){var n=Ln();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Yv(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function ES(t,e,n){return ps&21?(Wn(n,e)||(n=IT(),Ke.lanes|=n,ms|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,rn=!0),t.memoizedState=n)}function v4(t,e){var n=ke;ke=n!==0&&4>n?n:4,t(!0);var r=jp.transition;jp.transition={};try{t(!1),e()}finally{ke=n,jp.transition=r}}function TS(){return Ln().memoizedState}function _4(t,e,n){var r=wi(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},SS(t))IS(e,n);else if(n=eS(t,e,n,r),n!==null){var i=Yt();Bn(n,t,r,i),PS(n,e,r)}}function y4(t,e,n){var r=wi(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(SS(t))IS(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,c=s(a,n);if(i.hasEagerState=!0,i.eagerState=c,Wn(c,a)){var u=e.interleaved;u===null?(i.next=i,qv(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}n=eS(t,e,i,r),n!==null&&(i=Yt(),Bn(n,t,r,i),PS(n,e,r))}}function SS(t){var e=t.alternate;return t===Ke||e!==null&&e===Ke}function IS(t,e){Ka=Ph=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function PS(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ov(t,n)}}var Ch={readContext:On,useCallback:Dt,useContext:Dt,useEffect:Dt,useImperativeHandle:Dt,useInsertionEffect:Dt,useLayoutEffect:Dt,useMemo:Dt,useReducer:Dt,useRef:Dt,useState:Dt,useDebugValue:Dt,useDeferredValue:Dt,useTransition:Dt,useMutableSource:Dt,useSyncExternalStore:Dt,useId:Dt,unstable_isNewReconciler:!1},w4={readContext:On,useCallback:function(t,e){return er().memoizedState=[t,e===void 0?null:e],t},useContext:On,useEffect:J0,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Fc(4194308,4,vS.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Fc(4194308,4,t,e)},useInsertionEffect:function(t,e){return Fc(4,2,t,e)},useMemo:function(t,e){var n=er();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=er();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=_4.bind(null,Ke,t),[r.memoizedState,t]},useRef:function(t){var e=er();return t={current:t},e.memoizedState=t},useState:X0,useDebugValue:t_,useDeferredValue:function(t){return er().memoizedState=t},useTransition:function(){var t=X0(!1),e=t[0];return t=v4.bind(null,t[1]),er().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ke,i=er();if(He){if(n===void 0)throw Error($(407));n=n()}else{if(n=e(),Et===null)throw Error($(349));ps&30||uS(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,J0(hS.bind(null,r,s,t),[t]),r.flags|=2048,Il(9,cS.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=er(),e=Et.identifierPrefix;if(He){var n=xr,r=Cr;n=(r&~(1<<32-Un(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Tl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=g4++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},E4={readContext:On,useCallback:yS,useContext:On,useEffect:e_,useImperativeHandle:_S,useInsertionEffect:mS,useLayoutEffect:gS,useMemo:wS,useReducer:$p,useRef:pS,useState:function(){return $p(Sl)},useDebugValue:t_,useDeferredValue:function(t){var e=Ln();return ES(e,dt.memoizedState,t)},useTransition:function(){var t=$p(Sl)[0],e=Ln().memoizedState;return[t,e]},useMutableSource:aS,useSyncExternalStore:lS,useId:TS,unstable_isNewReconciler:!1},T4={readContext:On,useCallback:yS,useContext:On,useEffect:e_,useImperativeHandle:_S,useInsertionEffect:mS,useLayoutEffect:gS,useMemo:wS,useReducer:Up,useRef:pS,useState:function(){return Up(Sl)},useDebugValue:t_,useDeferredValue:function(t){var e=Ln();return dt===null?e.memoizedState=t:ES(e,dt.memoizedState,t)},useTransition:function(){var t=Up(Sl)[0],e=Ln().memoizedState;return[t,e]},useMutableSource:aS,useSyncExternalStore:lS,useId:TS,unstable_isNewReconciler:!1};function Co(t,e){try{var n="",r=e;do n+=QA(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Bp(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function sg(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var S4=typeof WeakMap=="function"?WeakMap:Map;function CS(t,e,n){n=kr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){bh||(bh=!0,mg=r),sg(t,e)},n}function xS(t,e,n){n=kr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){sg(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){sg(t,e),typeof r!="function"&&(yi===null?yi=new Set([this]):yi.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function ew(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new S4;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=V4.bind(null,t,e,n),e.then(t,t))}function tw(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function nw(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=kr(-1,1),e.tag=2,_i(n,e,1))),n.lanes|=1),t)}var I4=Br.ReactCurrentOwner,rn=!1;function Kt(t,e,n,r){e.child=t===null?sS(e,null,n,r):Io(e,t.child,n,r)}function rw(t,e,n,r,i){n=n.render;var s=e.ref;return fo(e,i),r=Xv(t,e,n,r,s,i),n=Jv(),t!==null&&!rn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Vr(t,e,i)):(He&&n&&jv(e),e.flags|=1,Kt(t,e,r,i),e.child)}function iw(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!u_(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,bS(t,e,s,r,i)):(t=Uc(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:gl,n(a,r)&&t.ref===e.ref)return Vr(t,e,i)}return e.flags|=1,t=Ei(s,r),t.ref=e.ref,t.return=e,e.child=t}function bS(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(gl(s,r)&&t.ref===e.ref)if(rn=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(rn=!0);else return e.lanes=t.lanes,Vr(t,e,i)}return og(t,e,n,r,i)}function RS(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ve(so,hn),hn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ve(so,hn),hn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Ve(so,hn),hn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Ve(so,hn),hn|=r;return Kt(t,e,i,n),e.child}function AS(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function og(t,e,n,r,i){var s=on(n)?ds:Wt.current;return s=To(e,s),fo(e,i),n=Xv(t,e,n,r,s,i),r=Jv(),t!==null&&!rn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Vr(t,e,i)):(He&&r&&jv(e),e.flags|=1,Kt(t,e,n,i),e.child)}function sw(t,e,n,r,i){if(on(n)){var s=!0;_h(e)}else s=!1;if(fo(e,i),e.stateNode===null)zc(t,e),rS(e,n,r),ig(e,n,r,i),r=!0;else if(t===null){var a=e.stateNode,c=e.memoizedProps;a.props=c;var u=a.context,d=n.contextType;typeof d=="object"&&d!==null?d=On(d):(d=on(n)?ds:Wt.current,d=To(e,d));var p=n.getDerivedStateFromProps,m=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function";m||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(c!==r||u!==d)&&Q0(e,a,r,d),ri=!1;var v=e.memoizedState;a.state=v,Sh(e,r,a,i),u=e.memoizedState,c!==r||v!==u||sn.current||ri?(typeof p=="function"&&(rg(e,n,p,r),u=e.memoizedState),(c=ri||Z0(e,n,c,r,v,u,d))?(m||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),a.props=r,a.state=u,a.context=d,r=c):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,tS(t,e),c=e.memoizedProps,d=e.type===e.elementType?c:Fn(e.type,c),a.props=d,m=e.pendingProps,v=a.context,u=n.contextType,typeof u=="object"&&u!==null?u=On(u):(u=on(n)?ds:Wt.current,u=To(e,u));var T=n.getDerivedStateFromProps;(p=typeof T=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(c!==m||v!==u)&&Q0(e,a,r,u),ri=!1,v=e.memoizedState,a.state=v,Sh(e,r,a,i);var S=e.memoizedState;c!==m||v!==S||sn.current||ri?(typeof T=="function"&&(rg(e,n,T,r),S=e.memoizedState),(d=ri||Z0(e,n,d,r,v,S,u)||!1)?(p||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,S,u),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,S,u)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||c===t.memoizedProps&&v===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||c===t.memoizedProps&&v===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=S),a.props=r,a.state=S,a.context=u,r=d):(typeof a.componentDidUpdate!="function"||c===t.memoizedProps&&v===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||c===t.memoizedProps&&v===t.memoizedState||(e.flags|=1024),r=!1)}return ag(t,e,n,r,s,i)}function ag(t,e,n,r,i,s){AS(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return i&&H0(e,n,!1),Vr(t,e,s);r=e.stateNode,I4.current=e;var c=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=Io(e,t.child,null,s),e.child=Io(e,null,c,s)):Kt(t,e,c,s),e.memoizedState=r.state,i&&H0(e,n,!0),e.child}function kS(t){var e=t.stateNode;e.pendingContext?B0(t,e.pendingContext,e.pendingContext!==e.context):e.context&&B0(t,e.context,!1),Kv(t,e.containerInfo)}function ow(t,e,n,r,i){return So(),Uv(i),e.flags|=256,Kt(t,e,n,r),e.child}var lg={dehydrated:null,treeContext:null,retryLane:0};function ug(t){return{baseLanes:t,cachePool:null,transitions:null}}function OS(t,e,n){var r=e.pendingProps,i=Ge.current,s=!1,a=(e.flags&128)!==0,c;if((c=a)||(c=t!==null&&t.memoizedState===null?!1:(i&2)!==0),c?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ve(Ge,i&1),t===null)return tg(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,s?(r=e.mode,s=e.child,a={mode:"hidden",children:a},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=Ad(a,r,0,null),t=us(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=ug(n),e.memoizedState=lg,t):n_(e,a));if(i=t.memoizedState,i!==null&&(c=i.dehydrated,c!==null))return P4(t,e,a,r,c,i,n);if(s){s=r.fallback,a=e.mode,i=t.child,c=i.sibling;var u={mode:"hidden",children:r.children};return!(a&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=Ei(i,u),r.subtreeFlags=i.subtreeFlags&14680064),c!==null?s=Ei(c,s):(s=us(s,a,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,a=t.child.memoizedState,a=a===null?ug(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=t.childLanes&~n,e.memoizedState=lg,r}return s=t.child,t=s.sibling,r=Ei(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function n_(t,e){return e=Ad({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function cc(t,e,n,r){return r!==null&&Uv(r),Io(e,t.child,null,n),t=n_(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function P4(t,e,n,r,i,s,a){if(n)return e.flags&256?(e.flags&=-257,r=Bp(Error($(422))),cc(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Ad({mode:"visible",children:r.children},i,0,null),s=us(s,i,a,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Io(e,t.child,null,a),e.child.memoizedState=ug(a),e.memoizedState=lg,s);if(!(e.mode&1))return cc(t,e,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var c=r.dgst;return r=c,s=Error($(419)),r=Bp(s,r,void 0),cc(t,e,a,r)}if(c=(a&t.childLanes)!==0,rn||c){if(r=Et,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Dr(t,i),Bn(r,t,i,-1))}return l_(),r=Bp(Error($(421))),cc(t,e,a,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=F4.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,dn=vi(i.nextSibling),mn=e,He=!0,jn=null,t!==null&&(xn[bn++]=Cr,xn[bn++]=xr,xn[bn++]=fs,Cr=t.id,xr=t.overflow,fs=e),e=n_(e,r.children),e.flags|=4096,e)}function aw(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),ng(t.return,e,n)}function Hp(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function LS(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Kt(t,e,r.children,n),r=Ge.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&aw(t,n,e);else if(t.tag===19)aw(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ve(Ge,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Ih(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Hp(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Ih(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Hp(e,!0,n,null,s);break;case"together":Hp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function zc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Vr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ms|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error($(153));if(e.child!==null){for(t=e.child,n=Ei(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ei(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function C4(t,e,n){switch(e.tag){case 3:kS(e),So();break;case 5:oS(e);break;case 1:on(e.type)&&_h(e);break;case 4:Kv(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ve(Eh,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ve(Ge,Ge.current&1),e.flags|=128,null):n&e.child.childLanes?OS(t,e,n):(Ve(Ge,Ge.current&1),t=Vr(t,e,n),t!==null?t.sibling:null);Ve(Ge,Ge.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return LS(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ve(Ge,Ge.current),r)break;return null;case 22:case 23:return e.lanes=0,RS(t,e,n)}return Vr(t,e,n)}var MS,cg,NS,DS;MS=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};cg=function(){};NS=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,rs(ur.current);var s=null;switch(n){case"input":i=Om(t,i),r=Om(t,r),s=[];break;case"select":i=Qe({},i,{value:void 0}),r=Qe({},r,{value:void 0}),s=[];break;case"textarea":i=Nm(t,i),r=Nm(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=gh)}Vm(n,r);var a;n=null;for(d in i)if(!r.hasOwnProperty(d)&&i.hasOwnProperty(d)&&i[d]!=null)if(d==="style"){var c=i[d];for(a in c)c.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(ul.hasOwnProperty(d)?s||(s=[]):(s=s||[]).push(d,null));for(d in r){var u=r[d];if(c=i!=null?i[d]:void 0,r.hasOwnProperty(d)&&u!==c&&(u!=null||c!=null))if(d==="style")if(c){for(a in c)!c.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in u)u.hasOwnProperty(a)&&c[a]!==u[a]&&(n||(n={}),n[a]=u[a])}else n||(s||(s=[]),s.push(d,n)),n=u;else d==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,c=c?c.__html:void 0,u!=null&&c!==u&&(s=s||[]).push(d,u)):d==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(d,""+u):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(ul.hasOwnProperty(d)?(u!=null&&d==="onScroll"&&je("scroll",t),s||c===u||(s=[])):(s=s||[]).push(d,u))}n&&(s=s||[]).push("style",n);var d=s;(e.updateQueue=d)&&(e.flags|=4)}};DS=function(t,e,n,r){n!==r&&(e.flags|=4)};function Sa(t,e){if(!He)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Vt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function x4(t,e,n){var r=e.pendingProps;switch($v(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vt(e),null;case 1:return on(e.type)&&vh(),Vt(e),null;case 3:return r=e.stateNode,Po(),Be(sn),Be(Wt),Qv(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(lc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,jn!==null&&(_g(jn),jn=null))),cg(t,e),Vt(e),null;case 5:Zv(e);var i=rs(El.current);if(n=e.type,t!==null&&e.stateNode!=null)NS(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error($(166));return Vt(e),null}if(t=rs(ur.current),lc(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[rr]=e,r[yl]=s,t=(e.mode&1)!==0,n){case"dialog":je("cancel",r),je("close",r);break;case"iframe":case"object":case"embed":je("load",r);break;case"video":case"audio":for(i=0;i<La.length;i++)je(La[i],r);break;case"source":je("error",r);break;case"img":case"image":case"link":je("error",r),je("load",r);break;case"details":je("toggle",r);break;case"input":g0(r,s),je("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},je("invalid",r);break;case"textarea":_0(r,s),je("invalid",r)}Vm(n,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var c=s[a];a==="children"?typeof c=="string"?r.textContent!==c&&(s.suppressHydrationWarning!==!0&&ac(r.textContent,c,t),i=["children",c]):typeof c=="number"&&r.textContent!==""+c&&(s.suppressHydrationWarning!==!0&&ac(r.textContent,c,t),i=["children",""+c]):ul.hasOwnProperty(a)&&c!=null&&a==="onScroll"&&je("scroll",r)}switch(n){case"input":Ju(r),v0(r,s,!0);break;case"textarea":Ju(r),y0(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=gh)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=uT(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[rr]=e,t[yl]=r,MS(t,e,!1,!1),e.stateNode=t;e:{switch(a=Fm(n,r),n){case"dialog":je("cancel",t),je("close",t),i=r;break;case"iframe":case"object":case"embed":je("load",t),i=r;break;case"video":case"audio":for(i=0;i<La.length;i++)je(La[i],t);i=r;break;case"source":je("error",t),i=r;break;case"img":case"image":case"link":je("error",t),je("load",t),i=r;break;case"details":je("toggle",t),i=r;break;case"input":g0(t,r),i=Om(t,r),je("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Qe({},r,{value:void 0}),je("invalid",t);break;case"textarea":_0(t,r),i=Nm(t,r),je("invalid",t);break;default:i=r}Vm(n,i),c=i;for(s in c)if(c.hasOwnProperty(s)){var u=c[s];s==="style"?dT(t,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&cT(t,u)):s==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&cl(t,u):typeof u=="number"&&cl(t,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(ul.hasOwnProperty(s)?u!=null&&s==="onScroll"&&je("scroll",t):u!=null&&Cv(t,s,u,a))}switch(n){case"input":Ju(t),v0(t,r,!1);break;case"textarea":Ju(t),y0(t);break;case"option":r.value!=null&&t.setAttribute("value",""+xi(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?lo(t,!!r.multiple,s,!1):r.defaultValue!=null&&lo(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=gh)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Vt(e),null;case 6:if(t&&e.stateNode!=null)DS(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error($(166));if(n=rs(El.current),rs(ur.current),lc(e)){if(r=e.stateNode,n=e.memoizedProps,r[rr]=e,(s=r.nodeValue!==n)&&(t=mn,t!==null))switch(t.tag){case 3:ac(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ac(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[rr]=e,e.stateNode=r}return Vt(e),null;case 13:if(Be(Ge),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(He&&dn!==null&&e.mode&1&&!(e.flags&128))JT(),So(),e.flags|=98560,s=!1;else if(s=lc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error($(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error($(317));s[rr]=e}else So(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Vt(e),s=!1}else jn!==null&&(_g(jn),jn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ge.current&1?pt===0&&(pt=3):l_())),e.updateQueue!==null&&(e.flags|=4),Vt(e),null);case 4:return Po(),cg(t,e),t===null&&vl(e.stateNode.containerInfo),Vt(e),null;case 10:return Wv(e.type._context),Vt(e),null;case 17:return on(e.type)&&vh(),Vt(e),null;case 19:if(Be(Ge),s=e.memoizedState,s===null)return Vt(e),null;if(r=(e.flags&128)!==0,a=s.rendering,a===null)if(r)Sa(s,!1);else{if(pt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Ih(t),a!==null){for(e.flags|=128,Sa(s,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,t=a.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ve(Ge,Ge.current&1|2),e.child}t=t.sibling}s.tail!==null&&nt()>xo&&(e.flags|=128,r=!0,Sa(s,!1),e.lanes=4194304)}else{if(!r)if(t=Ih(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Sa(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!He)return Vt(e),null}else 2*nt()-s.renderingStartTime>xo&&n!==1073741824&&(e.flags|=128,r=!0,Sa(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(n=s.last,n!==null?n.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=nt(),e.sibling=null,n=Ge.current,Ve(Ge,r?n&1|2:n&1),e):(Vt(e),null);case 22:case 23:return a_(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?hn&1073741824&&(Vt(e),e.subtreeFlags&6&&(e.flags|=8192)):Vt(e),null;case 24:return null;case 25:return null}throw Error($(156,e.tag))}function b4(t,e){switch($v(e),e.tag){case 1:return on(e.type)&&vh(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Po(),Be(sn),Be(Wt),Qv(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Zv(e),null;case 13:if(Be(Ge),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error($(340));So()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Be(Ge),null;case 4:return Po(),null;case 10:return Wv(e.type._context),null;case 22:case 23:return a_(),null;case 24:return null;default:return null}}var hc=!1,$t=!1,R4=typeof WeakSet=="function"?WeakSet:Set,Z=null;function io(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Xe(t,e,r)}else n.current=null}function hg(t,e,n){try{n()}catch(r){Xe(t,e,r)}}var lw=!1;function A4(t,e){if(Km=fh,t=jT(),zv(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,c=-1,u=-1,d=0,p=0,m=t,v=null;t:for(;;){for(var T;m!==n||i!==0&&m.nodeType!==3||(c=a+i),m!==s||r!==0&&m.nodeType!==3||(u=a+r),m.nodeType===3&&(a+=m.nodeValue.length),(T=m.firstChild)!==null;)v=m,m=T;for(;;){if(m===t)break t;if(v===n&&++d===i&&(c=a),v===s&&++p===r&&(u=a),(T=m.nextSibling)!==null)break;m=v,v=m.parentNode}m=T}n=c===-1||u===-1?null:{start:c,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Zm={focusedElem:t,selectionRange:n},fh=!1,Z=e;Z!==null;)if(e=Z,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Z=t;else for(;Z!==null;){e=Z;try{var S=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var I=S.memoizedProps,C=S.memoizedState,_=e.stateNode,y=_.getSnapshotBeforeUpdate(e.elementType===e.type?I:Fn(e.type,I),C);_.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var E=e.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error($(163))}}catch(x){Xe(e,e.return,x)}if(t=e.sibling,t!==null){t.return=e.return,Z=t;break}Z=e.return}return S=lw,lw=!1,S}function Za(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&hg(e,n,s)}i=i.next}while(i!==r)}}function bd(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function dg(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function VS(t){var e=t.alternate;e!==null&&(t.alternate=null,VS(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[rr],delete e[yl],delete e[Xm],delete e[d4],delete e[f4])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function FS(t){return t.tag===5||t.tag===3||t.tag===4}function uw(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||FS(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function fg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=gh));else if(r!==4&&(t=t.child,t!==null))for(fg(t,e,n),t=t.sibling;t!==null;)fg(t,e,n),t=t.sibling}function pg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(pg(t,e,n),t=t.sibling;t!==null;)pg(t,e,n),t=t.sibling}var xt=null,zn=!1;function Jr(t,e,n){for(n=n.child;n!==null;)zS(t,e,n),n=n.sibling}function zS(t,e,n){if(lr&&typeof lr.onCommitFiberUnmount=="function")try{lr.onCommitFiberUnmount(wd,n)}catch{}switch(n.tag){case 5:$t||io(n,e);case 6:var r=xt,i=zn;xt=null,Jr(t,e,n),xt=r,zn=i,xt!==null&&(zn?(t=xt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):xt.removeChild(n.stateNode));break;case 18:xt!==null&&(zn?(t=xt,n=n.stateNode,t.nodeType===8?Vp(t.parentNode,n):t.nodeType===1&&Vp(t,n),pl(t)):Vp(xt,n.stateNode));break;case 4:r=xt,i=zn,xt=n.stateNode.containerInfo,zn=!0,Jr(t,e,n),xt=r,zn=i;break;case 0:case 11:case 14:case 15:if(!$t&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&hg(n,e,a),i=i.next}while(i!==r)}Jr(t,e,n);break;case 1:if(!$t&&(io(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(c){Xe(n,e,c)}Jr(t,e,n);break;case 21:Jr(t,e,n);break;case 22:n.mode&1?($t=(r=$t)||n.memoizedState!==null,Jr(t,e,n),$t=r):Jr(t,e,n);break;default:Jr(t,e,n)}}function cw(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new R4),e.forEach(function(r){var i=z4.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Vn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,a=e,c=a;e:for(;c!==null;){switch(c.tag){case 5:xt=c.stateNode,zn=!1;break e;case 3:xt=c.stateNode.containerInfo,zn=!0;break e;case 4:xt=c.stateNode.containerInfo,zn=!0;break e}c=c.return}if(xt===null)throw Error($(160));zS(s,a,i),xt=null,zn=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(d){Xe(i,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)jS(e,t),e=e.sibling}function jS(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Vn(e,t),Jn(t),r&4){try{Za(3,t,t.return),bd(3,t)}catch(I){Xe(t,t.return,I)}try{Za(5,t,t.return)}catch(I){Xe(t,t.return,I)}}break;case 1:Vn(e,t),Jn(t),r&512&&n!==null&&io(n,n.return);break;case 5:if(Vn(e,t),Jn(t),r&512&&n!==null&&io(n,n.return),t.flags&32){var i=t.stateNode;try{cl(i,"")}catch(I){Xe(t,t.return,I)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,a=n!==null?n.memoizedProps:s,c=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{c==="input"&&s.type==="radio"&&s.name!=null&&aT(i,s),Fm(c,a);var d=Fm(c,s);for(a=0;a<u.length;a+=2){var p=u[a],m=u[a+1];p==="style"?dT(i,m):p==="dangerouslySetInnerHTML"?cT(i,m):p==="children"?cl(i,m):Cv(i,p,m,d)}switch(c){case"input":Lm(i,s);break;case"textarea":lT(i,s);break;case"select":var v=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var T=s.value;T!=null?lo(i,!!s.multiple,T,!1):v!==!!s.multiple&&(s.defaultValue!=null?lo(i,!!s.multiple,s.defaultValue,!0):lo(i,!!s.multiple,s.multiple?[]:"",!1))}i[yl]=s}catch(I){Xe(t,t.return,I)}}break;case 6:if(Vn(e,t),Jn(t),r&4){if(t.stateNode===null)throw Error($(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(I){Xe(t,t.return,I)}}break;case 3:if(Vn(e,t),Jn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{pl(e.containerInfo)}catch(I){Xe(t,t.return,I)}break;case 4:Vn(e,t),Jn(t);break;case 13:Vn(e,t),Jn(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(s_=nt())),r&4&&cw(t);break;case 22:if(p=n!==null&&n.memoizedState!==null,t.mode&1?($t=(d=$t)||p,Vn(e,t),$t=d):Vn(e,t),Jn(t),r&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!p&&t.mode&1)for(Z=t,p=t.child;p!==null;){for(m=Z=p;Z!==null;){switch(v=Z,T=v.child,v.tag){case 0:case 11:case 14:case 15:Za(4,v,v.return);break;case 1:io(v,v.return);var S=v.stateNode;if(typeof S.componentWillUnmount=="function"){r=v,n=v.return;try{e=r,S.props=e.memoizedProps,S.state=e.memoizedState,S.componentWillUnmount()}catch(I){Xe(r,n,I)}}break;case 5:io(v,v.return);break;case 22:if(v.memoizedState!==null){dw(m);continue}}T!==null?(T.return=v,Z=T):dw(m)}p=p.sibling}e:for(p=null,m=t;;){if(m.tag===5){if(p===null){p=m;try{i=m.stateNode,d?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(c=m.stateNode,u=m.memoizedProps.style,a=u!=null&&u.hasOwnProperty("display")?u.display:null,c.style.display=hT("display",a))}catch(I){Xe(t,t.return,I)}}}else if(m.tag===6){if(p===null)try{m.stateNode.nodeValue=d?"":m.memoizedProps}catch(I){Xe(t,t.return,I)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===t)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;p===m&&(p=null),m=m.return}p===m&&(p=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:Vn(e,t),Jn(t),r&4&&cw(t);break;case 21:break;default:Vn(e,t),Jn(t)}}function Jn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(FS(n)){var r=n;break e}n=n.return}throw Error($(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(cl(i,""),r.flags&=-33);var s=uw(t);pg(t,s,i);break;case 3:case 4:var a=r.stateNode.containerInfo,c=uw(t);fg(t,c,a);break;default:throw Error($(161))}}catch(u){Xe(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function k4(t,e,n){Z=t,$S(t)}function $S(t,e,n){for(var r=(t.mode&1)!==0;Z!==null;){var i=Z,s=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||hc;if(!a){var c=i.alternate,u=c!==null&&c.memoizedState!==null||$t;c=hc;var d=$t;if(hc=a,($t=u)&&!d)for(Z=i;Z!==null;)a=Z,u=a.child,a.tag===22&&a.memoizedState!==null?fw(i):u!==null?(u.return=a,Z=u):fw(i);for(;s!==null;)Z=s,$S(s),s=s.sibling;Z=i,hc=c,$t=d}hw(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Z=s):hw(t)}}function hw(t){for(;Z!==null;){var e=Z;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:$t||bd(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!$t)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Fn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&K0(e,s,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}K0(e,a,n)}break;case 5:var c=e.stateNode;if(n===null&&e.flags&4){n=c;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var p=d.memoizedState;if(p!==null){var m=p.dehydrated;m!==null&&pl(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error($(163))}$t||e.flags&512&&dg(e)}catch(v){Xe(e,e.return,v)}}if(e===t){Z=null;break}if(n=e.sibling,n!==null){n.return=e.return,Z=n;break}Z=e.return}}function dw(t){for(;Z!==null;){var e=Z;if(e===t){Z=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Z=n;break}Z=e.return}}function fw(t){for(;Z!==null;){var e=Z;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{bd(4,e)}catch(u){Xe(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(u){Xe(e,i,u)}}var s=e.return;try{dg(e)}catch(u){Xe(e,s,u)}break;case 5:var a=e.return;try{dg(e)}catch(u){Xe(e,a,u)}}}catch(u){Xe(e,e.return,u)}if(e===t){Z=null;break}var c=e.sibling;if(c!==null){c.return=e.return,Z=c;break}Z=e.return}}var O4=Math.ceil,xh=Br.ReactCurrentDispatcher,r_=Br.ReactCurrentOwner,kn=Br.ReactCurrentBatchConfig,Ce=0,Et=null,ut=null,Ot=0,hn=0,so=Vi(0),pt=0,Pl=null,ms=0,Rd=0,i_=0,Qa=null,tn=null,s_=0,xo=1/0,Ir=null,bh=!1,mg=null,yi=null,dc=!1,hi=null,Rh=0,Ya=0,gg=null,jc=-1,$c=0;function Yt(){return Ce&6?nt():jc!==-1?jc:jc=nt()}function wi(t){return t.mode&1?Ce&2&&Ot!==0?Ot&-Ot:m4.transition!==null?($c===0&&($c=IT()),$c):(t=ke,t!==0||(t=window.event,t=t===void 0?16:kT(t.type)),t):1}function Bn(t,e,n,r){if(50<Ya)throw Ya=0,gg=null,Error($(185));Jl(t,n,r),(!(Ce&2)||t!==Et)&&(t===Et&&(!(Ce&2)&&(Rd|=n),pt===4&&si(t,Ot)),an(t,r),n===1&&Ce===0&&!(e.mode&1)&&(xo=nt()+500,Pd&&Fi()))}function an(t,e){var n=t.callbackNode;mk(t,e);var r=dh(t,t===Et?Ot:0);if(r===0)n!==null&&T0(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&T0(n),e===1)t.tag===0?p4(pw.bind(null,t)):QT(pw.bind(null,t)),c4(function(){!(Ce&6)&&Fi()}),n=null;else{switch(PT(r)){case 1:n=kv;break;case 4:n=TT;break;case 16:n=hh;break;case 536870912:n=ST;break;default:n=hh}n=ZS(n,US.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function US(t,e){if(jc=-1,$c=0,Ce&6)throw Error($(327));var n=t.callbackNode;if(po()&&t.callbackNode!==n)return null;var r=dh(t,t===Et?Ot:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Ah(t,r);else{e=r;var i=Ce;Ce|=2;var s=HS();(Et!==t||Ot!==e)&&(Ir=null,xo=nt()+500,ls(t,e));do try{N4();break}catch(c){BS(t,c)}while(!0);Hv(),xh.current=s,Ce=i,ut!==null?e=0:(Et=null,Ot=0,e=pt)}if(e!==0){if(e===2&&(i=Bm(t),i!==0&&(r=i,e=vg(t,i))),e===1)throw n=Pl,ls(t,0),si(t,r),an(t,nt()),n;if(e===6)si(t,r);else{if(i=t.current.alternate,!(r&30)&&!L4(i)&&(e=Ah(t,r),e===2&&(s=Bm(t),s!==0&&(r=s,e=vg(t,s))),e===1))throw n=Pl,ls(t,0),si(t,r),an(t,nt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error($(345));case 2:Yi(t,tn,Ir);break;case 3:if(si(t,r),(r&130023424)===r&&(e=s_+500-nt(),10<e)){if(dh(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Yt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Ym(Yi.bind(null,t,tn,Ir),e);break}Yi(t,tn,Ir);break;case 4:if(si(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var a=31-Un(r);s=1<<a,a=e[a],a>i&&(i=a),r&=~s}if(r=i,r=nt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*O4(r/1960))-r,10<r){t.timeoutHandle=Ym(Yi.bind(null,t,tn,Ir),r);break}Yi(t,tn,Ir);break;case 5:Yi(t,tn,Ir);break;default:throw Error($(329))}}}return an(t,nt()),t.callbackNode===n?US.bind(null,t):null}function vg(t,e){var n=Qa;return t.current.memoizedState.isDehydrated&&(ls(t,e).flags|=256),t=Ah(t,e),t!==2&&(e=tn,tn=n,e!==null&&_g(e)),t}function _g(t){tn===null?tn=t:tn.push.apply(tn,t)}function L4(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Wn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function si(t,e){for(e&=~i_,e&=~Rd,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Un(e),r=1<<n;t[n]=-1,e&=~r}}function pw(t){if(Ce&6)throw Error($(327));po();var e=dh(t,0);if(!(e&1))return an(t,nt()),null;var n=Ah(t,e);if(t.tag!==0&&n===2){var r=Bm(t);r!==0&&(e=r,n=vg(t,r))}if(n===1)throw n=Pl,ls(t,0),si(t,e),an(t,nt()),n;if(n===6)throw Error($(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Yi(t,tn,Ir),an(t,nt()),null}function o_(t,e){var n=Ce;Ce|=1;try{return t(e)}finally{Ce=n,Ce===0&&(xo=nt()+500,Pd&&Fi())}}function gs(t){hi!==null&&hi.tag===0&&!(Ce&6)&&po();var e=Ce;Ce|=1;var n=kn.transition,r=ke;try{if(kn.transition=null,ke=1,t)return t()}finally{ke=r,kn.transition=n,Ce=e,!(Ce&6)&&Fi()}}function a_(){hn=so.current,Be(so)}function ls(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,u4(n)),ut!==null)for(n=ut.return;n!==null;){var r=n;switch($v(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&vh();break;case 3:Po(),Be(sn),Be(Wt),Qv();break;case 5:Zv(r);break;case 4:Po();break;case 13:Be(Ge);break;case 19:Be(Ge);break;case 10:Wv(r.type._context);break;case 22:case 23:a_()}n=n.return}if(Et=t,ut=t=Ei(t.current,null),Ot=hn=e,pt=0,Pl=null,i_=Rd=ms=0,tn=Qa=null,ns!==null){for(e=0;e<ns.length;e++)if(n=ns[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var a=s.next;s.next=i,r.next=a}n.pending=r}ns=null}return t}function BS(t,e){do{var n=ut;try{if(Hv(),Vc.current=Ch,Ph){for(var r=Ke.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Ph=!1}if(ps=0,wt=dt=Ke=null,Ka=!1,Tl=0,r_.current=null,n===null||n.return===null){pt=1,Pl=e,ut=null;break}e:{var s=t,a=n.return,c=n,u=e;if(e=Ot,c.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var d=u,p=c,m=p.tag;if(!(p.mode&1)&&(m===0||m===11||m===15)){var v=p.alternate;v?(p.updateQueue=v.updateQueue,p.memoizedState=v.memoizedState,p.lanes=v.lanes):(p.updateQueue=null,p.memoizedState=null)}var T=tw(a);if(T!==null){T.flags&=-257,nw(T,a,c,s,e),T.mode&1&&ew(s,d,e),e=T,u=d;var S=e.updateQueue;if(S===null){var I=new Set;I.add(u),e.updateQueue=I}else S.add(u);break e}else{if(!(e&1)){ew(s,d,e),l_();break e}u=Error($(426))}}else if(He&&c.mode&1){var C=tw(a);if(C!==null){!(C.flags&65536)&&(C.flags|=256),nw(C,a,c,s,e),Uv(Co(u,c));break e}}s=u=Co(u,c),pt!==4&&(pt=2),Qa===null?Qa=[s]:Qa.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var _=CS(s,u,e);G0(s,_);break e;case 1:c=u;var y=s.type,E=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(yi===null||!yi.has(E)))){s.flags|=65536,e&=-e,s.lanes|=e;var x=xS(s,c,e);G0(s,x);break e}}s=s.return}while(s!==null)}qS(n)}catch(A){e=A,ut===n&&n!==null&&(ut=n=n.return);continue}break}while(!0)}function HS(){var t=xh.current;return xh.current=Ch,t===null?Ch:t}function l_(){(pt===0||pt===3||pt===2)&&(pt=4),Et===null||!(ms&268435455)&&!(Rd&268435455)||si(Et,Ot)}function Ah(t,e){var n=Ce;Ce|=2;var r=HS();(Et!==t||Ot!==e)&&(Ir=null,ls(t,e));do try{M4();break}catch(i){BS(t,i)}while(!0);if(Hv(),Ce=n,xh.current=r,ut!==null)throw Error($(261));return Et=null,Ot=0,pt}function M4(){for(;ut!==null;)WS(ut)}function N4(){for(;ut!==null&&!ok();)WS(ut)}function WS(t){var e=KS(t.alternate,t,hn);t.memoizedProps=t.pendingProps,e===null?qS(t):ut=e,r_.current=null}function qS(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=b4(n,e),n!==null){n.flags&=32767,ut=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{pt=6,ut=null;return}}else if(n=x4(n,e,hn),n!==null){ut=n;return}if(e=e.sibling,e!==null){ut=e;return}ut=e=t}while(e!==null);pt===0&&(pt=5)}function Yi(t,e,n){var r=ke,i=kn.transition;try{kn.transition=null,ke=1,D4(t,e,n,r)}finally{kn.transition=i,ke=r}return null}function D4(t,e,n,r){do po();while(hi!==null);if(Ce&6)throw Error($(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error($(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(gk(t,s),t===Et&&(ut=Et=null,Ot=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||dc||(dc=!0,ZS(hh,function(){return po(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=kn.transition,kn.transition=null;var a=ke;ke=1;var c=Ce;Ce|=4,r_.current=null,A4(t,n),jS(n,t),n4(Zm),fh=!!Km,Zm=Km=null,t.current=n,k4(n),ak(),Ce=c,ke=a,kn.transition=s}else t.current=n;if(dc&&(dc=!1,hi=t,Rh=i),s=t.pendingLanes,s===0&&(yi=null),ck(n.stateNode),an(t,nt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(bh)throw bh=!1,t=mg,mg=null,t;return Rh&1&&t.tag!==0&&po(),s=t.pendingLanes,s&1?t===gg?Ya++:(Ya=0,gg=t):Ya=0,Fi(),null}function po(){if(hi!==null){var t=PT(Rh),e=kn.transition,n=ke;try{if(kn.transition=null,ke=16>t?16:t,hi===null)var r=!1;else{if(t=hi,hi=null,Rh=0,Ce&6)throw Error($(331));var i=Ce;for(Ce|=4,Z=t.current;Z!==null;){var s=Z,a=s.child;if(Z.flags&16){var c=s.deletions;if(c!==null){for(var u=0;u<c.length;u++){var d=c[u];for(Z=d;Z!==null;){var p=Z;switch(p.tag){case 0:case 11:case 15:Za(8,p,s)}var m=p.child;if(m!==null)m.return=p,Z=m;else for(;Z!==null;){p=Z;var v=p.sibling,T=p.return;if(VS(p),p===d){Z=null;break}if(v!==null){v.return=T,Z=v;break}Z=T}}}var S=s.alternate;if(S!==null){var I=S.child;if(I!==null){S.child=null;do{var C=I.sibling;I.sibling=null,I=C}while(I!==null)}}Z=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,Z=a;else e:for(;Z!==null;){if(s=Z,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Za(9,s,s.return)}var _=s.sibling;if(_!==null){_.return=s.return,Z=_;break e}Z=s.return}}var y=t.current;for(Z=y;Z!==null;){a=Z;var E=a.child;if(a.subtreeFlags&2064&&E!==null)E.return=a,Z=E;else e:for(a=y;Z!==null;){if(c=Z,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:bd(9,c)}}catch(A){Xe(c,c.return,A)}if(c===a){Z=null;break e}var x=c.sibling;if(x!==null){x.return=c.return,Z=x;break e}Z=c.return}}if(Ce=i,Fi(),lr&&typeof lr.onPostCommitFiberRoot=="function")try{lr.onPostCommitFiberRoot(wd,t)}catch{}r=!0}return r}finally{ke=n,kn.transition=e}}return!1}function mw(t,e,n){e=Co(n,e),e=CS(t,e,1),t=_i(t,e,1),e=Yt(),t!==null&&(Jl(t,1,e),an(t,e))}function Xe(t,e,n){if(t.tag===3)mw(t,t,n);else for(;e!==null;){if(e.tag===3){mw(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(yi===null||!yi.has(r))){t=Co(n,t),t=xS(e,t,1),e=_i(e,t,1),t=Yt(),e!==null&&(Jl(e,1,t),an(e,t));break}}e=e.return}}function V4(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Yt(),t.pingedLanes|=t.suspendedLanes&n,Et===t&&(Ot&n)===n&&(pt===4||pt===3&&(Ot&130023424)===Ot&&500>nt()-s_?ls(t,0):i_|=n),an(t,e)}function GS(t,e){e===0&&(t.mode&1?(e=nc,nc<<=1,!(nc&130023424)&&(nc=4194304)):e=1);var n=Yt();t=Dr(t,e),t!==null&&(Jl(t,e,n),an(t,n))}function F4(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),GS(t,n)}function z4(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error($(314))}r!==null&&r.delete(e),GS(t,n)}var KS;KS=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||sn.current)rn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return rn=!1,C4(t,e,n);rn=!!(t.flags&131072)}else rn=!1,He&&e.flags&1048576&&YT(e,wh,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;zc(t,e),t=e.pendingProps;var i=To(e,Wt.current);fo(e,n),i=Xv(null,e,r,t,i,n);var s=Jv();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,on(r)?(s=!0,_h(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Gv(e),i.updater=Cd,e.stateNode=i,i._reactInternals=e,ig(e,r,t,n),e=ag(null,e,r,!0,s,n)):(e.tag=0,He&&s&&jv(e),Kt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(zc(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=$4(r),t=Fn(r,t),i){case 0:e=og(null,e,r,t,n);break e;case 1:e=sw(null,e,r,t,n);break e;case 11:e=rw(null,e,r,t,n);break e;case 14:e=iw(null,e,r,Fn(r.type,t),n);break e}throw Error($(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Fn(r,i),og(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Fn(r,i),sw(t,e,r,i,n);case 3:e:{if(kS(e),t===null)throw Error($(387));r=e.pendingProps,s=e.memoizedState,i=s.element,tS(t,e),Sh(e,r,null,n);var a=e.memoizedState;if(r=a.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Co(Error($(423)),e),e=ow(t,e,r,n,i);break e}else if(r!==i){i=Co(Error($(424)),e),e=ow(t,e,r,n,i);break e}else for(dn=vi(e.stateNode.containerInfo.firstChild),mn=e,He=!0,jn=null,n=sS(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(So(),r===i){e=Vr(t,e,n);break e}Kt(t,e,r,n)}e=e.child}return e;case 5:return oS(e),t===null&&tg(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,a=i.children,Qm(r,i)?a=null:s!==null&&Qm(r,s)&&(e.flags|=32),AS(t,e),Kt(t,e,a,n),e.child;case 6:return t===null&&tg(e),null;case 13:return OS(t,e,n);case 4:return Kv(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Io(e,null,r,n):Kt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Fn(r,i),rw(t,e,r,i,n);case 7:return Kt(t,e,e.pendingProps,n),e.child;case 8:return Kt(t,e,e.pendingProps.children,n),e.child;case 12:return Kt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,a=i.value,Ve(Eh,r._currentValue),r._currentValue=a,s!==null)if(Wn(s.value,a)){if(s.children===i.children&&!sn.current){e=Vr(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var c=s.dependencies;if(c!==null){a=s.child;for(var u=c.firstContext;u!==null;){if(u.context===r){if(s.tag===1){u=kr(-1,n&-n),u.tag=2;var d=s.updateQueue;if(d!==null){d=d.shared;var p=d.pending;p===null?u.next=u:(u.next=p.next,p.next=u),d.pending=u}}s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),ng(s.return,n,e),c.lanes|=n;break}u=u.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error($(341));a.lanes|=n,c=a.alternate,c!==null&&(c.lanes|=n),ng(a,n,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}Kt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,fo(e,n),i=On(i),r=r(i),e.flags|=1,Kt(t,e,r,n),e.child;case 14:return r=e.type,i=Fn(r,e.pendingProps),i=Fn(r.type,i),iw(t,e,r,i,n);case 15:return bS(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Fn(r,i),zc(t,e),e.tag=1,on(r)?(t=!0,_h(e)):t=!1,fo(e,n),rS(e,r,i),ig(e,r,i,n),ag(null,e,r,!0,t,n);case 19:return LS(t,e,n);case 22:return RS(t,e,n)}throw Error($(156,e.tag))};function ZS(t,e){return ET(t,e)}function j4(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function An(t,e,n,r){return new j4(t,e,n,r)}function u_(t){return t=t.prototype,!(!t||!t.isReactComponent)}function $4(t){if(typeof t=="function")return u_(t)?1:0;if(t!=null){if(t=t.$$typeof,t===bv)return 11;if(t===Rv)return 14}return 2}function Ei(t,e){var n=t.alternate;return n===null?(n=An(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Uc(t,e,n,r,i,s){var a=2;if(r=t,typeof t=="function")u_(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Zs:return us(n.children,i,s,e);case xv:a=8,i|=8;break;case bm:return t=An(12,n,e,i|2),t.elementType=bm,t.lanes=s,t;case Rm:return t=An(13,n,e,i),t.elementType=Rm,t.lanes=s,t;case Am:return t=An(19,n,e,i),t.elementType=Am,t.lanes=s,t;case iT:return Ad(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case nT:a=10;break e;case rT:a=9;break e;case bv:a=11;break e;case Rv:a=14;break e;case ni:a=16,r=null;break e}throw Error($(130,t==null?t:typeof t,""))}return e=An(a,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function us(t,e,n,r){return t=An(7,t,r,e),t.lanes=n,t}function Ad(t,e,n,r){return t=An(22,t,r,e),t.elementType=iT,t.lanes=n,t.stateNode={isHidden:!1},t}function Wp(t,e,n){return t=An(6,t,null,e),t.lanes=n,t}function qp(t,e,n){return e=An(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function U4(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Cp(0),this.expirationTimes=Cp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Cp(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function c_(t,e,n,r,i,s,a,c,u){return t=new U4(t,e,n,c,u),e===1?(e=1,s===!0&&(e|=8)):e=0,s=An(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Gv(s),t}function B4(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ks,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function QS(t){if(!t)return bi;t=t._reactInternals;e:{if(bs(t)!==t||t.tag!==1)throw Error($(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(on(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error($(171))}if(t.tag===1){var n=t.type;if(on(n))return ZT(t,n,e)}return e}function YS(t,e,n,r,i,s,a,c,u){return t=c_(n,r,!0,t,i,s,a,c,u),t.context=QS(null),n=t.current,r=Yt(),i=wi(n),s=kr(r,i),s.callback=e??null,_i(n,s,i),t.current.lanes=i,Jl(t,i,r),an(t,r),t}function kd(t,e,n,r){var i=e.current,s=Yt(),a=wi(i);return n=QS(n),e.context===null?e.context=n:e.pendingContext=n,e=kr(s,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=_i(i,e,a),t!==null&&(Bn(t,i,a,s),Dc(t,i,a)),a}function kh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function gw(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function h_(t,e){gw(t,e),(t=t.alternate)&&gw(t,e)}function H4(){return null}var XS=typeof reportError=="function"?reportError:function(t){console.error(t)};function d_(t){this._internalRoot=t}Od.prototype.render=d_.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error($(409));kd(t,e,null,null)};Od.prototype.unmount=d_.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;gs(function(){kd(null,t,null,null)}),e[Nr]=null}};function Od(t){this._internalRoot=t}Od.prototype.unstable_scheduleHydration=function(t){if(t){var e=bT();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ii.length&&e!==0&&e<ii[n].priority;n++);ii.splice(n,0,t),n===0&&AT(t)}};function f_(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ld(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function vw(){}function W4(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var d=kh(a);s.call(d)}}var a=YS(e,r,t,0,null,!1,!1,"",vw);return t._reactRootContainer=a,t[Nr]=a.current,vl(t.nodeType===8?t.parentNode:t),gs(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var c=r;r=function(){var d=kh(u);c.call(d)}}var u=c_(t,0,!1,null,null,!1,!1,"",vw);return t._reactRootContainer=u,t[Nr]=u.current,vl(t.nodeType===8?t.parentNode:t),gs(function(){kd(e,u,n,r)}),u}function Md(t,e,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var c=i;i=function(){var u=kh(a);c.call(u)}}kd(e,a,t,i)}else a=W4(n,e,t,i,r);return kh(a)}CT=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Oa(e.pendingLanes);n!==0&&(Ov(e,n|1),an(e,nt()),!(Ce&6)&&(xo=nt()+500,Fi()))}break;case 13:gs(function(){var r=Dr(t,1);if(r!==null){var i=Yt();Bn(r,t,1,i)}}),h_(t,1)}};Lv=function(t){if(t.tag===13){var e=Dr(t,134217728);if(e!==null){var n=Yt();Bn(e,t,134217728,n)}h_(t,134217728)}};xT=function(t){if(t.tag===13){var e=wi(t),n=Dr(t,e);if(n!==null){var r=Yt();Bn(n,t,e,r)}h_(t,e)}};bT=function(){return ke};RT=function(t,e){var n=ke;try{return ke=t,e()}finally{ke=n}};jm=function(t,e,n){switch(e){case"input":if(Lm(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Id(r);if(!i)throw Error($(90));oT(r),Lm(r,i)}}}break;case"textarea":lT(t,n);break;case"select":e=n.value,e!=null&&lo(t,!!n.multiple,e,!1)}};mT=o_;gT=gs;var q4={usingClientEntryPoint:!1,Events:[tu,Js,Id,fT,pT,o_]},Ia={findFiberByHostInstance:ts,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},G4={bundleType:Ia.bundleType,version:Ia.version,rendererPackageName:Ia.rendererPackageName,rendererConfig:Ia.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Br.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=yT(t),t===null?null:t.stateNode},findFiberByHostInstance:Ia.findFiberByHostInstance||H4,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fc.isDisabled&&fc.supportsFiber)try{wd=fc.inject(G4),lr=fc}catch{}}En.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=q4;En.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f_(e))throw Error($(200));return B4(t,e,null,n)};En.createRoot=function(t,e){if(!f_(t))throw Error($(299));var n=!1,r="",i=XS;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=c_(t,1,!1,null,null,n,!1,r,i),t[Nr]=e.current,vl(t.nodeType===8?t.parentNode:t),new d_(e)};En.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error($(188)):(t=Object.keys(t).join(","),Error($(268,t)));return t=yT(e),t=t===null?null:t.stateNode,t};En.flushSync=function(t){return gs(t)};En.hydrate=function(t,e,n){if(!Ld(e))throw Error($(200));return Md(null,t,e,!0,n)};En.hydrateRoot=function(t,e,n){if(!f_(t))throw Error($(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",a=XS;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=YS(e,null,t,1,n??null,i,!1,s,a),t[Nr]=e.current,vl(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Od(e)};En.render=function(t,e,n){if(!Ld(e))throw Error($(200));return Md(null,t,e,!1,n)};En.unmountComponentAtNode=function(t){if(!Ld(t))throw Error($(40));return t._reactRootContainer?(gs(function(){Md(null,null,t,!1,function(){t._reactRootContainer=null,t[Nr]=null})}),!0):!1};En.unstable_batchedUpdates=o_;En.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Ld(n))throw Error($(200));if(t==null||t._reactInternals===void 0)throw Error($(38));return Md(t,e,n,!1,r)};En.version="18.2.0-next-9e3b772b8-20220608";function JS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(JS)}catch(t){console.error(t)}}JS(),Y2.exports=En;var eI=Y2.exports,_w=eI;Cm.createRoot=_w.createRoot,Cm.hydrateRoot=_w.hydrateRoot;/**
 * @remix-run/router v1.15.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Cl(){return Cl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cl.apply(this,arguments)}var di;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(di||(di={}));const yw="popstate";function K4(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:a,hash:c}=r.location;return yg("",{pathname:s,search:a,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Oh(i)}return Q4(e,n,null,t)}function Ze(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function tI(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Z4(){return Math.random().toString(36).substr(2,8)}function ww(t,e){return{usr:t.state,key:t.key,idx:e}}function yg(t,e,n,r){return n===void 0&&(n=null),Cl({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ho(e):e,{state:n,key:e&&e.key||r||Z4()})}function Oh(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ho(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function Q4(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,c=di.Pop,u=null,d=p();d==null&&(d=0,a.replaceState(Cl({},a.state,{idx:d}),""));function p(){return(a.state||{idx:null}).idx}function m(){c=di.Pop;let C=p(),_=C==null?null:C-d;d=C,u&&u({action:c,location:I.location,delta:_})}function v(C,_){c=di.Push;let y=yg(I.location,C,_);n&&n(y,C),d=p()+1;let E=ww(y,d),x=I.createHref(y);try{a.pushState(E,"",x)}catch(A){if(A instanceof DOMException&&A.name==="DataCloneError")throw A;i.location.assign(x)}s&&u&&u({action:c,location:I.location,delta:1})}function T(C,_){c=di.Replace;let y=yg(I.location,C,_);n&&n(y,C),d=p();let E=ww(y,d),x=I.createHref(y);a.replaceState(E,"",x),s&&u&&u({action:c,location:I.location,delta:0})}function S(C){let _=i.location.origin!=="null"?i.location.origin:i.location.href,y=typeof C=="string"?C:Oh(C);return y=y.replace(/ $/,"%20"),Ze(_,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,_)}let I={get action(){return c},get location(){return t(i,a)},listen(C){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(yw,m),u=C,()=>{i.removeEventListener(yw,m),u=null}},createHref(C){return e(i,C)},createURL:S,encodeLocation(C){let _=S(C);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:v,replace:T,go(C){return a.go(C)}};return I}var Ew;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Ew||(Ew={}));function Y4(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?Ho(e):e,i=bo(r.pathname||"/",n);if(i==null)return null;let s=nI(t);X4(s);let a=null;for(let c=0;a==null&&c<s.length;++c){let u=uO(i);a=aO(s[c],u)}return a}function nI(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,a,c)=>{let u={relativePath:c===void 0?s.path||"":c,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};u.relativePath.startsWith("/")&&(Ze(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let d=Ti([r,u.relativePath]),p=n.concat(u);s.children&&s.children.length>0&&(Ze(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),nI(s.children,e,p,d)),!(s.path==null&&!s.index)&&e.push({path:d,score:sO(d,s.index),routesMeta:p})};return t.forEach((s,a)=>{var c;if(s.path===""||!((c=s.path)!=null&&c.includes("?")))i(s,a);else for(let u of rI(s.path))i(s,a,u)}),e}function rI(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let a=rI(r.join("/")),c=[];return c.push(...a.map(u=>u===""?s:[s,u].join("/"))),i&&c.push(...a),c.map(u=>t.startsWith("/")&&u===""?"/":u)}function X4(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:oO(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const J4=/^:[\w-]+$/,eO=3,tO=2,nO=1,rO=10,iO=-2,Tw=t=>t==="*";function sO(t,e){let n=t.split("/"),r=n.length;return n.some(Tw)&&(r+=iO),e&&(r+=tO),n.filter(i=>!Tw(i)).reduce((i,s)=>i+(J4.test(s)?eO:s===""?nO:rO),r)}function oO(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function aO(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let a=0;a<n.length;++a){let c=n[a],u=a===n.length-1,d=i==="/"?e:e.slice(i.length)||"/",p=wg({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d);if(!p)return null;Object.assign(r,p.params);let m=c.route;s.push({params:r,pathname:Ti([i,p.pathname]),pathnameBase:fO(Ti([i,p.pathnameBase])),route:m}),p.pathnameBase!=="/"&&(i=Ti([i,p.pathnameBase]))}return s}function wg(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=lO(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:r.reduce((d,p,m)=>{let{paramName:v,isOptional:T}=p;if(v==="*"){let I=c[m]||"";a=s.slice(0,s.length-I.length).replace(/(.)\/+$/,"$1")}const S=c[m];return T&&!S?d[v]=void 0:d[v]=(S||"").replace(/%2F/g,"/"),d},{}),pathname:s,pathnameBase:a,pattern:t}}function lO(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),tI(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,c,u)=>(r.push({paramName:c,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function uO(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return tI(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function bo(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function cO(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Ho(t):t;return{pathname:n?n.startsWith("/")?n:hO(n,e):e,search:pO(r),hash:mO(i)}}function hO(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Gp(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function dO(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function p_(t,e){let n=dO(t);return e?n.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function m_(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Ho(t):(i=Cl({},t),Ze(!i.pathname||!i.pathname.includes("?"),Gp("?","pathname","search",i)),Ze(!i.pathname||!i.pathname.includes("#"),Gp("#","pathname","hash",i)),Ze(!i.search||!i.search.includes("#"),Gp("#","search","hash",i)));let s=t===""||i.pathname==="",a=s?"/":i.pathname,c;if(a==null)c=n;else{let m=e.length-1;if(!r&&a.startsWith("..")){let v=a.split("/");for(;v[0]==="..";)v.shift(),m-=1;i.pathname=v.join("/")}c=m>=0?e[m]:"/"}let u=cO(i,c),d=a&&a!=="/"&&a.endsWith("/"),p=(s||a===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(d||p)&&(u.pathname+="/"),u}const Ti=t=>t.join("/").replace(/\/\/+/g,"/"),fO=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),pO=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,mO=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function gO(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const iI=["post","put","patch","delete"];new Set(iI);const vO=["get",...iI];new Set(vO);/**
 * React Router v6.22.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function xl(){return xl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xl.apply(this,arguments)}const Nd=R.createContext(null),sI=R.createContext(null),Hr=R.createContext(null),Dd=R.createContext(null),Wr=R.createContext({outlet:null,matches:[],isDataRoute:!1}),oI=R.createContext(null);function _O(t,e){let{relative:n}=e===void 0?{}:e;Wo()||Ze(!1);let{basename:r,navigator:i}=R.useContext(Hr),{hash:s,pathname:a,search:c}=Vd(t,{relative:n}),u=a;return r!=="/"&&(u=a==="/"?r:Ti([r,a])),i.createHref({pathname:u,search:c,hash:s})}function Wo(){return R.useContext(Dd)!=null}function qo(){return Wo()||Ze(!1),R.useContext(Dd).location}function aI(t){R.useContext(Hr).static||R.useLayoutEffect(t)}function zi(){let{isDataRoute:t}=R.useContext(Wr);return t?OO():yO()}function yO(){Wo()||Ze(!1);let t=R.useContext(Nd),{basename:e,future:n,navigator:r}=R.useContext(Hr),{matches:i}=R.useContext(Wr),{pathname:s}=qo(),a=JSON.stringify(p_(i,n.v7_relativeSplatPath)),c=R.useRef(!1);return aI(()=>{c.current=!0}),R.useCallback(function(d,p){if(p===void 0&&(p={}),!c.current)return;if(typeof d=="number"){r.go(d);return}let m=m_(d,JSON.parse(a),s,p.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:Ti([e,m.pathname])),(p.replace?r.replace:r.push)(m,p.state,p)},[e,r,a,s,t])}function wO(){let{matches:t}=R.useContext(Wr),e=t[t.length-1];return e?e.params:{}}function Vd(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=R.useContext(Hr),{matches:i}=R.useContext(Wr),{pathname:s}=qo(),a=JSON.stringify(p_(i,r.v7_relativeSplatPath));return R.useMemo(()=>m_(t,JSON.parse(a),s,n==="path"),[t,a,s,n])}function EO(t,e){return TO(t,e)}function TO(t,e,n,r){Wo()||Ze(!1);let{navigator:i}=R.useContext(Hr),{matches:s}=R.useContext(Wr),a=s[s.length-1],c=a?a.params:{};a&&a.pathname;let u=a?a.pathnameBase:"/";a&&a.route;let d=qo(),p;if(e){var m;let C=typeof e=="string"?Ho(e):e;u==="/"||(m=C.pathname)!=null&&m.startsWith(u)||Ze(!1),p=C}else p=d;let v=p.pathname||"/",T=v;if(u!=="/"){let C=u.replace(/^\//,"").split("/");T="/"+v.replace(/^\//,"").split("/").slice(C.length).join("/")}let S=Y4(t,{pathname:T}),I=xO(S&&S.map(C=>Object.assign({},C,{params:Object.assign({},c,C.params),pathname:Ti([u,i.encodeLocation?i.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?u:Ti([u,i.encodeLocation?i.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),s,n,r);return e&&I?R.createElement(Dd.Provider,{value:{location:xl({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:di.Pop}},I):I}function SO(){let t=kO(),e=gO(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return R.createElement(R.Fragment,null,R.createElement("h2",null,"Unexpected Application Error!"),R.createElement("h3",{style:{fontStyle:"italic"}},e),n?R.createElement("pre",{style:i},n):null,null)}const IO=R.createElement(SO,null);class PO extends R.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?R.createElement(Wr.Provider,{value:this.props.routeContext},R.createElement(oI.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function CO(t){let{routeContext:e,match:n,children:r}=t,i=R.useContext(Nd);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),R.createElement(Wr.Provider,{value:e},r)}function xO(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if((s=n)!=null&&s.errors)t=n.matches;else return null}let a=t,c=(i=n)==null?void 0:i.errors;if(c!=null){let p=a.findIndex(m=>m.route.id&&(c==null?void 0:c[m.route.id]));p>=0||Ze(!1),a=a.slice(0,Math.min(a.length,p+1))}let u=!1,d=-1;if(n&&r&&r.v7_partialHydration)for(let p=0;p<a.length;p++){let m=a[p];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(d=p),m.route.id){let{loaderData:v,errors:T}=n,S=m.route.loader&&v[m.route.id]===void 0&&(!T||T[m.route.id]===void 0);if(m.route.lazy||S){u=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((p,m,v)=>{let T,S=!1,I=null,C=null;n&&(T=c&&m.route.id?c[m.route.id]:void 0,I=m.route.errorElement||IO,u&&(d<0&&v===0?(LO("route-fallback",!1),S=!0,C=null):d===v&&(S=!0,C=m.route.hydrateFallbackElement||null)));let _=e.concat(a.slice(0,v+1)),y=()=>{let E;return T?E=I:S?E=C:m.route.Component?E=R.createElement(m.route.Component,null):m.route.element?E=m.route.element:E=p,R.createElement(CO,{match:m,routeContext:{outlet:p,matches:_,isDataRoute:n!=null},children:E})};return n&&(m.route.ErrorBoundary||m.route.errorElement||v===0)?R.createElement(PO,{location:n.location,revalidation:n.revalidation,component:I,error:T,children:y(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):y()},null)}var lI=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(lI||{}),Lh=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Lh||{});function bO(t){let e=R.useContext(Nd);return e||Ze(!1),e}function RO(t){let e=R.useContext(sI);return e||Ze(!1),e}function AO(t){let e=R.useContext(Wr);return e||Ze(!1),e}function uI(t){let e=AO(),n=e.matches[e.matches.length-1];return n.route.id||Ze(!1),n.route.id}function kO(){var t;let e=R.useContext(oI),n=RO(Lh.UseRouteError),r=uI(Lh.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function OO(){let{router:t}=bO(lI.UseNavigateStable),e=uI(Lh.UseNavigateStable),n=R.useRef(!1);return aI(()=>{n.current=!0}),R.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,xl({fromRouteId:e},s)))},[t,e])}const Sw={};function LO(t,e,n){!e&&!Sw[t]&&(Sw[t]=!0)}function MO(t){let{to:e,replace:n,state:r,relative:i}=t;Wo()||Ze(!1);let{future:s,static:a}=R.useContext(Hr),{matches:c}=R.useContext(Wr),{pathname:u}=qo(),d=zi(),p=m_(e,p_(c,s.v7_relativeSplatPath),u,i==="path"),m=JSON.stringify(p);return R.useEffect(()=>d(JSON.parse(m),{replace:n,state:r,relative:i}),[d,m,i,n,r]),null}function ti(t){Ze(!1)}function NO(t){let{basename:e="/",children:n=null,location:r,navigationType:i=di.Pop,navigator:s,static:a=!1,future:c}=t;Wo()&&Ze(!1);let u=e.replace(/^\/*/,"/"),d=R.useMemo(()=>({basename:u,navigator:s,static:a,future:xl({v7_relativeSplatPath:!1},c)}),[u,c,s,a]);typeof r=="string"&&(r=Ho(r));let{pathname:p="/",search:m="",hash:v="",state:T=null,key:S="default"}=r,I=R.useMemo(()=>{let C=bo(p,u);return C==null?null:{location:{pathname:C,search:m,hash:v,state:T,key:S},navigationType:i}},[u,p,m,v,T,S,i]);return I==null?null:R.createElement(Hr.Provider,{value:d},R.createElement(Dd.Provider,{children:n,value:I}))}function DO(t){let{children:e,location:n}=t;return EO(Eg(e),n)}new Promise(()=>{});function Eg(t,e){e===void 0&&(e=[]);let n=[];return R.Children.forEach(t,(r,i)=>{if(!R.isValidElement(r))return;let s=[...e,i];if(r.type===R.Fragment){n.push.apply(n,Eg(r.props.children,s));return}r.type!==ti&&Ze(!1),!r.props.index||!r.props.children||Ze(!1);let a={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=Eg(r.props.children,s)),n.push(a)}),n}/**
 * React Router DOM v6.22.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Mh(){return Mh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mh.apply(this,arguments)}function cI(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function VO(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function FO(t,e){return t.button===0&&(!e||e==="_self")&&!VO(t)}const zO=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],jO=["aria-current","caseSensitive","className","end","style","to","unstable_viewTransition","children"],$O="6";try{window.__reactRouterVersion=$O}catch{}const UO=R.createContext({isTransitioning:!1}),BO="startTransition",Iw=ll[BO];function HO(t){let{basename:e,children:n,future:r,window:i}=t,s=R.useRef();s.current==null&&(s.current=K4({window:i,v5Compat:!0}));let a=s.current,[c,u]=R.useState({action:a.action,location:a.location}),{v7_startTransition:d}=r||{},p=R.useCallback(m=>{d&&Iw?Iw(()=>u(m)):u(m)},[u,d]);return R.useLayoutEffect(()=>a.listen(p),[a,p]),R.createElement(NO,{basename:e,children:n,location:c.location,navigationType:c.action,navigator:a,future:r})}const WO=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",qO=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ri=R.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:a,state:c,target:u,to:d,preventScrollReset:p,unstable_viewTransition:m}=e,v=cI(e,zO),{basename:T}=R.useContext(Hr),S,I=!1;if(typeof d=="string"&&qO.test(d)&&(S=d,WO))try{let E=new URL(window.location.href),x=d.startsWith("//")?new URL(E.protocol+d):new URL(d),A=bo(x.pathname,T);x.origin===E.origin&&A!=null?d=A+x.search+x.hash:I=!0}catch{}let C=_O(d,{relative:i}),_=KO(d,{replace:a,state:c,target:u,preventScrollReset:p,relative:i,unstable_viewTransition:m});function y(E){r&&r(E),E.defaultPrevented||_(E)}return R.createElement("a",Mh({},v,{href:S||C,onClick:I||s?r:y,ref:n,target:u}))}),pc=R.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:a=!1,style:c,to:u,unstable_viewTransition:d,children:p}=e,m=cI(e,jO),v=Vd(u,{relative:m.relative}),T=qo(),S=R.useContext(sI),{navigator:I,basename:C}=R.useContext(Hr),_=S!=null&&ZO(v)&&d===!0,y=I.encodeLocation?I.encodeLocation(v).pathname:v.pathname,E=T.pathname,x=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;i||(E=E.toLowerCase(),x=x?x.toLowerCase():null,y=y.toLowerCase()),x&&C&&(x=bo(x,C)||x);const A=y!=="/"&&y.endsWith("/")?y.length-1:y.length;let O=E===y||!a&&E.startsWith(y)&&E.charAt(A)==="/",N=x!=null&&(x===y||!a&&x.startsWith(y)&&x.charAt(y.length)==="/"),D={isActive:O,isPending:N,isTransitioning:_},K=O?r:void 0,q;typeof s=="function"?q=s(D):q=[s,O?"active":null,N?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let le=typeof c=="function"?c(D):c;return R.createElement(Ri,Mh({},m,{"aria-current":K,className:q,ref:n,style:le,to:u,unstable_viewTransition:d}),typeof p=="function"?p(D):p)});var Tg;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Tg||(Tg={}));var Pw;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Pw||(Pw={}));function GO(t){let e=R.useContext(Nd);return e||Ze(!1),e}function KO(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:a,unstable_viewTransition:c}=e===void 0?{}:e,u=zi(),d=qo(),p=Vd(t,{relative:a});return R.useCallback(m=>{if(FO(m,n)){m.preventDefault();let v=r!==void 0?r:Oh(d)===Oh(p);u(t,{replace:v,state:i,preventScrollReset:s,relative:a,unstable_viewTransition:c})}},[d,u,p,r,i,n,t,s,a,c])}function ZO(t,e){e===void 0&&(e={});let n=R.useContext(UO);n==null&&Ze(!1);let{basename:r}=GO(Tg.useViewTransitionState),i=Vd(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=bo(n.currentLocation.pathname,r)||n.currentLocation.pathname,a=bo(n.nextLocation.pathname,r)||n.nextLocation.pathname;return wg(i.pathname,a)!=null||wg(i.pathname,s)!=null}var hI={exports:{}},dI={};/**
 * @license React
 * use-sync-external-store-with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ru=R;function QO(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var YO=typeof Object.is=="function"?Object.is:QO,XO=ru.useSyncExternalStore,JO=ru.useRef,eL=ru.useEffect,tL=ru.useMemo,nL=ru.useDebugValue;dI.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=JO(null);if(s.current===null){var a={hasValue:!1,value:null};s.current=a}else a=s.current;s=tL(function(){function u(T){if(!d){if(d=!0,p=T,T=r(T),i!==void 0&&a.hasValue){var S=a.value;if(i(S,T))return m=S}return m=T}if(S=m,YO(p,T))return S;var I=r(T);return i!==void 0&&i(S,I)?S:(p=T,m=I)}var d=!1,p,m,v=n===void 0?null:n;return[function(){return u(e())},v===null?void 0:function(){return u(v())}]},[e,n,r,i]);var c=XO(t,s[0],s[1]);return eL(function(){a.hasValue=!0,a.value=c},[c]),nL(c),c};hI.exports=dI;var rL=hI.exports,fn="default"in ll?ar:ll,Cw=Symbol.for("react-redux-context"),xw=typeof globalThis<"u"?globalThis:{};function iL(){if(!fn.createContext)return{};const t=xw[Cw]??(xw[Cw]=new Map);let e=t.get(fn.createContext);return e||(e=fn.createContext(null),t.set(fn.createContext,e)),e}var Ai=iL(),sL=()=>{throw new Error("uSES not initialized!")};function g_(t=Ai){return function(){return fn.useContext(t)}}var fI=g_(),pI=sL,oL=t=>{pI=t},aL=(t,e)=>t===e;function lL(t=Ai){const e=t===Ai?fI:g_(t),n=(r,i={})=>{const{equalityFn:s=aL,devModeChecks:a={}}=typeof i=="function"?{equalityFn:i}:i,{store:c,subscription:u,getServerState:d,stabilityCheck:p,identityFunctionCheck:m}=e();fn.useRef(!0);const v=fn.useCallback({[r.name](S){return r(S)}}[r.name],[r,p,a.stabilityCheck]),T=pI(u.addNestedSub,c.getState,d||c.getState,v,s);return fn.useDebugValue(T),T};return Object.assign(n,{withTypes:()=>n}),n}var ft=lL();function uL(t){t()}function cL(){let t=null,e=null;return{clear(){t=null,e=null},notify(){uL(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var bw={notify(){},get:()=>[]};function hL(t,e){let n,r=bw,i=0,s=!1;function a(I){p();const C=r.subscribe(I);let _=!1;return()=>{_||(_=!0,C(),m())}}function c(){r.notify()}function u(){S.onStateChange&&S.onStateChange()}function d(){return s}function p(){i++,n||(n=e?e.addNestedSub(u):t.subscribe(u),r=cL())}function m(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=bw)}function v(){s||(s=!0,p())}function T(){s&&(s=!1,m())}const S={addNestedSub:a,notifyNestedSubs:c,handleChangeWrapper:u,isSubscribed:d,trySubscribe:v,tryUnsubscribe:T,getListeners:()=>r};return S}var dL=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",fL=dL?fn.useLayoutEffect:fn.useEffect;function pL({store:t,context:e,children:n,serverState:r,stabilityCheck:i="once",identityFunctionCheck:s="once"}){const a=fn.useMemo(()=>{const d=hL(t);return{store:t,subscription:d,getServerState:r?()=>r:void 0,stabilityCheck:i,identityFunctionCheck:s}},[t,r,i,s]),c=fn.useMemo(()=>t.getState(),[t]);fL(()=>{const{subscription:d}=a;return d.onStateChange=d.notifyNestedSubs,d.trySubscribe(),c!==t.getState()&&d.notifyNestedSubs(),()=>{d.tryUnsubscribe(),d.onStateChange=void 0}},[a,c]);const u=e||Ai;return fn.createElement(u.Provider,{value:a},n)}var mL=pL;function mI(t=Ai){const e=t===Ai?fI:g_(t),n=()=>{const{store:r}=e();return r};return Object.assign(n,{withTypes:()=>n}),n}var gL=mI();function vL(t=Ai){const e=t===Ai?gL:mI(t),n=()=>e().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var yr=vL();oL(rL.useSyncExternalStoreWithSelector);var gI={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Rw=ar.createContext&&ar.createContext(gI),_L=["attr","size","title"];function yL(t,e){if(t==null)return{};var n=wL(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function wL(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Nh(){return Nh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Nh.apply(this,arguments)}function Aw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Dh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Aw(Object(n),!0).forEach(function(r){EL(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Aw(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function EL(t,e,n){return e=TL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function TL(t){var e=SL(t,"string");return typeof e=="symbol"?e:String(e)}function SL(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vI(t){return t&&t.map((e,n)=>ar.createElement(e.tag,Dh({key:n},e.attr),vI(e.child)))}function Ne(t){return e=>ar.createElement(IL,Nh({attr:Dh({},t.attr)},e),vI(t.child))}function IL(t){var e=n=>{var{attr:r,size:i,title:s}=t,a=yL(t,_L),c=i||n.size||"1em",u;return n.className&&(u=n.className),t.className&&(u=(u?u+" ":"")+t.className),ar.createElement("svg",Nh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,a,{className:u,style:Dh(Dh({color:t.color||n.color},n.style),t.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),s&&ar.createElement("title",null,s),t.children)};return Rw!==void 0?ar.createElement(Rw.Consumer,null,n=>e(n)):e(gI)}function PL(t){return Ne({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m17 7-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.58L17 17l5-5zM4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4V5z"},child:[]}]})(t)}function CL(t){return Ne({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4-8 5-8-5V6l8 5 8-5v2z"},child:[]}]})(t)}function xL(t){return Ne({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6z"},child:[]}]})(t)}function bL(t){return Ne({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M2 19h20l-2 2H4l-2-2zM5 6h1v1H5V6zm0-2h1v1H5V4zm4 0v1H7V4h2zm0 3H7V6h2v1zm-3 8.23c-.36.11-.69.28-1 .47V8h1v7.23zm-2 1.29c-.38.44-.68.93-.84 1.48h16.82c.01-.16.03-.33.03-.5a5.497 5.497 0 0 0-10.58-2.1c-.59-.25-1.24-.4-1.93-.4-.17 0-.33.02-.5.04V8h2c1.03.06 1.9-.96 2-2h10V5H11c-.1-1.05-.97-1.97-2-2H3v1h1v1H3v1h1v1H3v1h1v8.52z"},child:[]}]})(t)}function _I(t){return Ne({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"},child:[]}]})(t)}function RL(t){return Ne({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M16 6v8h3v8h2V2c-2.76 0-5 2.24-5 4zm-5 3H9V2H7v7H5V2H3v7c0 2.21 1.79 4 4 4v9h2v-9c2.21 0 4-1.79 4-4V2h-2v7z"},child:[]}]})(t)}function AL(t){return Ne({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m12 5.5 6 4.5v9H6v-9l6-4.5M12 3 4 9v12h16V9l-8-6zm-.5 6.5v3H11v-3h-1v3h-.5v-3h-1v3c0 .83.67 1.5 1.5 1.5v4h1v-4c.83 0 1.5-.67 1.5-1.5v-3h-1zm1.5 2v3h1V18h1V9.5c-1.1 0-2 .9-2 2z"},child:[]}]})(t)}function Ct(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var kL=typeof Symbol=="function"&&Symbol.observable||"@@observable",kw=kL,Kp=()=>Math.random().toString(36).substring(7).split("").join("."),OL={INIT:`@@redux/INIT${Kp()}`,REPLACE:`@@redux/REPLACE${Kp()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Kp()}`},Vh=OL;function v_(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function yI(t,e,n){if(typeof t!="function")throw new Error(Ct(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Ct(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Ct(1));return n(yI)(t,e)}let r=t,i=e,s=new Map,a=s,c=0,u=!1;function d(){a===s&&(a=new Map,s.forEach((C,_)=>{a.set(_,C)}))}function p(){if(u)throw new Error(Ct(3));return i}function m(C){if(typeof C!="function")throw new Error(Ct(4));if(u)throw new Error(Ct(5));let _=!0;d();const y=c++;return a.set(y,C),function(){if(_){if(u)throw new Error(Ct(6));_=!1,d(),a.delete(y),s=null}}}function v(C){if(!v_(C))throw new Error(Ct(7));if(typeof C.type>"u")throw new Error(Ct(8));if(typeof C.type!="string")throw new Error(Ct(17));if(u)throw new Error(Ct(9));try{u=!0,i=r(i,C)}finally{u=!1}return(s=a).forEach(y=>{y()}),C}function T(C){if(typeof C!="function")throw new Error(Ct(10));r=C,v({type:Vh.REPLACE})}function S(){const C=m;return{subscribe(_){if(typeof _!="object"||_===null)throw new Error(Ct(11));function y(){const x=_;x.next&&x.next(p())}return y(),{unsubscribe:C(y)}},[kw](){return this}}}return v({type:Vh.INIT}),{dispatch:v,subscribe:m,getState:p,replaceReducer:T,[kw]:S}}function LL(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:Vh.INIT})>"u")throw new Error(Ct(12));if(typeof n(void 0,{type:Vh.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Ct(13))})}function ML(t){const e=Object.keys(t),n={};for(let s=0;s<e.length;s++){const a=e[s];typeof t[a]=="function"&&(n[a]=t[a])}const r=Object.keys(n);let i;try{LL(n)}catch(s){i=s}return function(a={},c){if(i)throw i;let u=!1;const d={};for(let p=0;p<r.length;p++){const m=r[p],v=n[m],T=a[m],S=v(T,c);if(typeof S>"u")throw c&&c.type,new Error(Ct(14));d[m]=S,u=u||S!==T}return u=u||r.length!==Object.keys(a).length,u?d:a}}function Fh(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function NL(...t){return e=>(n,r)=>{const i=e(n,r);let s=()=>{throw new Error(Ct(15))};const a={getState:i.getState,dispatch:(u,...d)=>s(u,...d)},c=t.map(u=>u(a));return s=Fh(...c)(i.dispatch),{...i,dispatch:s}}}function DL(t){return v_(t)&&"type"in t&&typeof t.type=="string"}var wI=Symbol.for("immer-nothing"),Ow=Symbol.for("immer-draftable"),_n=Symbol.for("immer-state");function $n(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Ro=Object.getPrototypeOf;function ki(t){return!!t&&!!t[_n]}function Fr(t){var e;return t?EI(t)||Array.isArray(t)||!!t[Ow]||!!((e=t.constructor)!=null&&e[Ow])||zd(t)||jd(t):!1}var VL=Object.prototype.constructor.toString();function EI(t){if(!t||typeof t!="object")return!1;const e=Ro(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===VL}function zh(t,e){Fd(t)===0?Reflect.ownKeys(t).forEach(n=>{e(n,t[n],t)}):t.forEach((n,r)=>e(r,n,t))}function Fd(t){const e=t[_n];return e?e.type_:Array.isArray(t)?1:zd(t)?2:jd(t)?3:0}function Sg(t,e){return Fd(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function TI(t,e,n){const r=Fd(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function FL(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function zd(t){return t instanceof Map}function jd(t){return t instanceof Set}function Xi(t){return t.copy_||t.base_}function Ig(t,e){if(zd(t))return new Map(t);if(jd(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);if(!e&&EI(t))return Ro(t)?{...t}:Object.assign(Object.create(null),t);const n=Object.getOwnPropertyDescriptors(t);delete n[_n];let r=Reflect.ownKeys(n);for(let i=0;i<r.length;i++){const s=r[i],a=n[s];a.writable===!1&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(n[s]={configurable:!0,writable:!0,enumerable:a.enumerable,value:t[s]})}return Object.create(Ro(t),n)}function __(t,e=!1){return $d(t)||ki(t)||!Fr(t)||(Fd(t)>1&&(t.set=t.add=t.clear=t.delete=zL),Object.freeze(t),e&&Object.entries(t).forEach(([n,r])=>__(r,!0))),t}function zL(){$n(2)}function $d(t){return Object.isFrozen(t)}var jL={};function vs(t){const e=jL[t];return e||$n(0,t),e}var bl;function SI(){return bl}function $L(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Lw(t,e){e&&(vs("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function Pg(t){Cg(t),t.drafts_.forEach(UL),t.drafts_=null}function Cg(t){t===bl&&(bl=t.parent_)}function Mw(t){return bl=$L(bl,t)}function UL(t){const e=t[_n];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function Nw(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[_n].modified_&&(Pg(e),$n(4)),Fr(t)&&(t=jh(e,t),e.parent_||$h(e,t)),e.patches_&&vs("Patches").generateReplacementPatches_(n[_n].base_,t,e.patches_,e.inversePatches_)):t=jh(e,n,[]),Pg(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==wI?t:void 0}function jh(t,e,n){if($d(e))return e;const r=e[_n];if(!r)return zh(e,(i,s)=>Dw(t,r,e,i,s,n)),e;if(r.scope_!==t)return e;if(!r.modified_)return $h(t,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let s=i,a=!1;r.type_===3&&(s=new Set(i),i.clear(),a=!0),zh(s,(c,u)=>Dw(t,r,i,c,u,n,a)),$h(t,i,!1),n&&t.patches_&&vs("Patches").generatePatches_(r,n,t.patches_,t.inversePatches_)}return r.copy_}function Dw(t,e,n,r,i,s,a){if(ki(i)){const c=s&&e&&e.type_!==3&&!Sg(e.assigned_,r)?s.concat(r):void 0,u=jh(t,i,c);if(TI(n,r,u),ki(u))t.canAutoFreeze_=!1;else return}else a&&n.add(i);if(Fr(i)&&!$d(i)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;jh(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,r)&&$h(t,i)}}function $h(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&__(e,n)}function BL(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:SI(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=y_;n&&(i=[r],s=Rl);const{revoke:a,proxy:c}=Proxy.revocable(i,s);return r.draft_=c,r.revoke_=a,c}var y_={get(t,e){if(e===_n)return t;const n=Xi(t);if(!Sg(n,e))return HL(t,n,e);const r=n[e];return t.finalized_||!Fr(r)?r:r===Zp(t.base_,e)?(Qp(t),t.copy_[e]=bg(r,t)):r},has(t,e){return e in Xi(t)},ownKeys(t){return Reflect.ownKeys(Xi(t))},set(t,e,n){const r=II(Xi(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=Zp(Xi(t),e),s=i==null?void 0:i[_n];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(FL(n,i)&&(n!==void 0||Sg(t.base_,e)))return!0;Qp(t),xg(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return Zp(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,Qp(t),xg(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Xi(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){$n(11)},getPrototypeOf(t){return Ro(t.base_)},setPrototypeOf(){$n(12)}},Rl={};zh(y_,(t,e)=>{Rl[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Rl.deleteProperty=function(t,e){return Rl.set.call(this,t,e,void 0)};Rl.set=function(t,e,n){return y_.set.call(this,t[0],e,n,t[0])};function Zp(t,e){const n=t[_n];return(n?Xi(n):t)[e]}function HL(t,e,n){var i;const r=II(e,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function II(t,e){if(!(e in t))return;let n=Ro(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Ro(n)}}function xg(t){t.modified_||(t.modified_=!0,t.parent_&&xg(t.parent_))}function Qp(t){t.copy_||(t.copy_=Ig(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var WL=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const s=n;n=e;const a=this;return function(u=s,...d){return a.produce(u,p=>n.call(this,p,...d))}}typeof n!="function"&&$n(6),r!==void 0&&typeof r!="function"&&$n(7);let i;if(Fr(e)){const s=Mw(this),a=bg(e,void 0);let c=!0;try{i=n(a),c=!1}finally{c?Pg(s):Cg(s)}return Lw(s,r),Nw(i,s)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===wI&&(i=void 0),this.autoFreeze_&&__(i,!0),r){const s=[],a=[];vs("Patches").generateReplacementPatches_(e,i,s,a),r(s,a)}return i}else $n(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(a,...c)=>this.produceWithPatches(a,u=>e(u,...c));let r,i;return[this.produce(e,n,(a,c)=>{r=a,i=c}),r,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){Fr(t)||$n(8),ki(t)&&(t=PI(t));const e=Mw(this),n=bg(t,void 0);return n[_n].isManual_=!0,Cg(e),n}finishDraft(t,e){const n=t&&t[_n];(!n||!n.isManual_)&&$n(9);const{scope_:r}=n;return Lw(r,e),Nw(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=vs("Patches").applyPatches_;return ki(t)?r(t,e):this.produce(t,i=>r(i,e))}};function bg(t,e){const n=zd(t)?vs("MapSet").proxyMap_(t,e):jd(t)?vs("MapSet").proxySet_(t,e):BL(t,e);return(e?e.scope_:SI()).drafts_.push(n),n}function PI(t){return ki(t)||$n(10,t),CI(t)}function CI(t){if(!Fr(t)||$d(t))return t;const e=t[_n];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=Ig(t,e.scope_.immer_.useStrictShallowCopy_)}else n=Ig(t,!0);return zh(n,(r,i)=>{TI(n,r,CI(i))}),e&&(e.finalized_=!1),n}var yn=new WL,xI=yn.produce;yn.produceWithPatches.bind(yn);yn.setAutoFreeze.bind(yn);yn.setUseStrictShallowCopy.bind(yn);yn.applyPatches.bind(yn);yn.createDraft.bind(yn);yn.finishDraft.bind(yn);function qL(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function GL(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function KL(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var Vw=t=>Array.isArray(t)?t:[t];function ZL(t){const e=Array.isArray(t[0])?t[0]:t;return KL(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function QL(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var YL=class{constructor(t){this.value=t}deref(){return this.value}},XL=typeof WeakRef<"u"?WeakRef:YL,JL=0,Fw=1;function mc(){return{s:JL,v:void 0,o:null,p:null}}function w_(t,e={}){let n=mc();const{resultEqualityCheck:r}=e;let i,s=0;function a(){var m;let c=n;const{length:u}=arguments;for(let v=0,T=u;v<T;v++){const S=arguments[v];if(typeof S=="function"||typeof S=="object"&&S!==null){let I=c.o;I===null&&(c.o=I=new WeakMap);const C=I.get(S);C===void 0?(c=mc(),I.set(S,c)):c=C}else{let I=c.p;I===null&&(c.p=I=new Map);const C=I.get(S);C===void 0?(c=mc(),I.set(S,c)):c=C}}const d=c;let p;if(c.s===Fw?p=c.v:(p=t.apply(null,arguments),s++),d.s=Fw,r){const v=((m=i==null?void 0:i.deref)==null?void 0:m.call(i))??i;v!=null&&r(v,p)&&(p=v,s!==0&&s--),i=typeof p=="object"&&p!==null||typeof p=="function"?new XL(p):p}return d.v=p,p}return a.clearCache=()=>{n=mc(),a.resetResultsCount()},a.resultsCount=()=>s,a.resetResultsCount=()=>{s=0},a}function bI(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let s=0,a=0,c,u={},d=i.pop();typeof d=="object"&&(u=d,d=i.pop()),qL(d,`createSelector expects an output function after the inputs, but received: [${typeof d}]`);const p={...n,...u},{memoize:m,memoizeOptions:v=[],argsMemoize:T=w_,argsMemoizeOptions:S=[],devModeChecks:I={}}=p,C=Vw(v),_=Vw(S),y=ZL(i),E=m(function(){return s++,d.apply(null,arguments)},...C),x=T(function(){a++;const O=QL(y,arguments);return c=E.apply(null,O),c},..._);return Object.assign(x,{resultFunc:d,memoizedResultFunc:E,dependencies:y,dependencyRecomputations:()=>a,resetDependencyRecomputations:()=>{a=0},lastResult:()=>c,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:m,argsMemoize:T})};return Object.assign(r,{withTypes:()=>r}),r}var e3=bI(w_),t3=Object.assign((t,e=e3)=>{GL(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(s=>t[s]);return e(r,(...s)=>s.reduce((a,c,u)=>(a[n[u]]=c,a),{}))},{withTypes:()=>t3});function RI(t){return({dispatch:n,getState:r})=>i=>s=>typeof s=="function"?s(n,r,t):i(s)}var n3=RI(),r3=RI,i3=(...t)=>{const e=bI(...t),n=Object.assign((...r)=>{const i=e(...r),s=(a,...c)=>i(ki(a)?PI(a):a,...c);return Object.assign(s,i),s},{withTypes:()=>n});return n};i3(w_);var s3=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Fh:Fh.apply(null,arguments)},o3=t=>t&&typeof t.match=="function";function Or(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(ln(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>DL(r)&&r.type===t,n}var AI=class Ma extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Ma.prototype)}static get[Symbol.species](){return Ma}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Ma(...e[0].concat(this)):new Ma(...e.concat(this))}};function zw(t){return Fr(t)?xI(t,()=>{}):t}function jw(t,e,n){if(t.has(e)){let i=t.get(e);return n.update&&(i=n.update(i,e,t),t.set(e,i)),i}if(!n.insert)throw new Error(ln(10));const r=n.insert(e,t);return t.set(e,r),r}function a3(t){return typeof t=="boolean"}var l3=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=e??{};let a=new AI;return n&&(a3(n)?a.push(n3):a.push(r3(n.extraArgument))),a},u3="RTK_autoBatch",kI=t=>e=>{setTimeout(e,t)},c3=typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:kI(10),h3=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,s=!1,a=!1;const c=new Set,u=t.type==="tick"?queueMicrotask:t.type==="raf"?c3:t.type==="callback"?t.queueNotification:kI(t.timeout),d=()=>{a=!1,s&&(s=!1,c.forEach(p=>p()))};return Object.assign({},r,{subscribe(p){const m=()=>i&&p(),v=r.subscribe(m);return c.add(p),()=>{v(),c.delete(p)}},dispatch(p){var m;try{return i=!((m=p==null?void 0:p.meta)!=null&&m[u3]),s=!i,s&&(a||(a=!0,u(d))),r.dispatch(p)}finally{i=!0}}})},d3=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new AI(t);return r&&i.push(h3(typeof r=="object"?r:void 0)),i},f3=!0;function p3(t){const e=l3(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:s=void 0,enhancers:a=void 0}=t||{};let c;if(typeof n=="function")c=n;else if(v_(n))c=ML(n);else throw new Error(ln(1));let u;typeof r=="function"?u=r(e):u=e();let d=Fh;i&&(d=s3({trace:!f3,...typeof i=="object"&&i}));const p=NL(...u),m=d3(p);let v=typeof a=="function"?a(m):m();const T=d(...v);return yI(c,s,T)}function OI(t){const e={},n=[];let r;const i={addCase(s,a){const c=typeof s=="string"?s:s.type;if(!c)throw new Error(ln(28));if(c in e)throw new Error(ln(29));return e[c]=a,i},addMatcher(s,a){return n.push({matcher:s,reducer:a}),i},addDefaultCase(s){return r=s,i}};return t(i),[e,n,r]}function m3(t){return typeof t=="function"}function g3(t,e){let[n,r,i]=OI(e),s;if(m3(t))s=()=>zw(t());else{const c=zw(t);s=()=>c}function a(c=s(),u){let d=[n[u.type],...r.filter(({matcher:p})=>p(u)).map(({reducer:p})=>p)];return d.filter(p=>!!p).length===0&&(d=[i]),d.reduce((p,m)=>{if(m)if(ki(p)){const T=m(p,u);return T===void 0?p:T}else{if(Fr(p))return xI(p,v=>m(v,u));{const v=m(p,u);if(v===void 0){if(p===null)return p;throw new Error(ln(9))}return v}}return p},c)}return a.getInitialState=s,a}var v3="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",LI=(t=21)=>{let e="",n=t;for(;n--;)e+=v3[Math.random()*64|0];return e},_3=(t,e)=>o3(t)?t.match(e):t(e);function y3(...t){return e=>t.some(n=>_3(n,e))}var w3=["name","message","stack","code"],Yp=class{constructor(t,e){wp(this,"_type");this.payload=t,this.meta=e}},$w=class{constructor(t,e){wp(this,"_type");this.payload=t,this.meta=e}},E3=t=>{if(typeof t=="object"&&t!==null){const e={};for(const n of w3)typeof t[n]=="string"&&(e[n]=t[n]);return e}return{message:String(t)}},Mn=(()=>{function t(e,n,r){const i=Or(e+"/fulfilled",(u,d,p,m)=>({payload:u,meta:{...m||{},arg:p,requestId:d,requestStatus:"fulfilled"}})),s=Or(e+"/pending",(u,d,p)=>({payload:void 0,meta:{...p||{},arg:d,requestId:u,requestStatus:"pending"}})),a=Or(e+"/rejected",(u,d,p,m,v)=>({payload:m,error:(r&&r.serializeError||E3)(u||"Rejected"),meta:{...v||{},arg:p,requestId:d,rejectedWithValue:!!m,requestStatus:"rejected",aborted:(u==null?void 0:u.name)==="AbortError",condition:(u==null?void 0:u.name)==="ConditionError"}}));function c(u){return(d,p,m)=>{const v=r!=null&&r.idGenerator?r.idGenerator(u):LI(),T=new AbortController;let S,I;function C(y){I=y,T.abort()}const _=async function(){var x,A;let y;try{let O=(x=r==null?void 0:r.condition)==null?void 0:x.call(r,u,{getState:p,extra:m});if(S3(O)&&(O=await O),O===!1||T.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const N=new Promise((D,K)=>{S=()=>{K({name:"AbortError",message:I||"Aborted"})},T.signal.addEventListener("abort",S)});d(s(v,u,(A=r==null?void 0:r.getPendingMeta)==null?void 0:A.call(r,{requestId:v,arg:u},{getState:p,extra:m}))),y=await Promise.race([N,Promise.resolve(n(u,{dispatch:d,getState:p,extra:m,requestId:v,signal:T.signal,abort:C,rejectWithValue:(D,K)=>new Yp(D,K),fulfillWithValue:(D,K)=>new $w(D,K)})).then(D=>{if(D instanceof Yp)throw D;return D instanceof $w?i(D.payload,v,u,D.meta):i(D,v,u)})])}catch(O){y=O instanceof Yp?a(null,v,u,O.payload,O.meta):a(O,v,u)}finally{S&&T.signal.removeEventListener("abort",S)}return r&&!r.dispatchConditionRejection&&a.match(y)&&y.meta.condition||d(y),y}();return Object.assign(_,{abort:C,requestId:v,arg:u,unwrap(){return _.then(T3)}})}}return Object.assign(c,{pending:s,rejected:a,fulfilled:i,settled:y3(a,i),typePrefix:e})}return t.withTypes=()=>t,t})();function T3(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}function S3(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}var I3=Symbol.for("rtk-slice-createasyncthunk");function P3(t,e){return`${t}/${e}`}function C3({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[I3];return function(i){const{name:s,reducerPath:a=s}=i;if(!s)throw new Error(ln(11));typeof process<"u";const c=(typeof i.reducers=="function"?i.reducers(b3()):i.reducers)||{},u=Object.keys(c),d={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},p={addCase(E,x){const A=typeof E=="string"?E:E.type;if(!A)throw new Error(ln(12));if(A in d.sliceCaseReducersByType)throw new Error(ln(13));return d.sliceCaseReducersByType[A]=x,p},addMatcher(E,x){return d.sliceMatchers.push({matcher:E,reducer:x}),p},exposeAction(E,x){return d.actionCreators[E]=x,p},exposeCaseReducer(E,x){return d.sliceCaseReducersByName[E]=x,p}};u.forEach(E=>{const x=c[E],A={reducerName:E,type:P3(s,E),createNotation:typeof i.reducers=="function"};A3(x)?O3(A,x,p,e):R3(A,x,p)});function m(){const[E={},x=[],A=void 0]=typeof i.extraReducers=="function"?OI(i.extraReducers):[i.extraReducers],O={...E,...d.sliceCaseReducersByType};return g3(i.initialState,N=>{for(let D in O)N.addCase(D,O[D]);for(let D of d.sliceMatchers)N.addMatcher(D.matcher,D.reducer);for(let D of x)N.addMatcher(D.matcher,D.reducer);A&&N.addDefaultCase(A)})}const v=E=>E,T=new Map;let S;function I(E,x){return S||(S=m()),S(E,x)}function C(){return S||(S=m()),S.getInitialState()}function _(E,x=!1){function A(N){let D=N[E];return typeof D>"u"&&x&&(D=C()),D}function O(N=v){const D=jw(T,x,{insert:()=>new WeakMap});return jw(D,N,{insert:()=>{const K={};for(const[q,le]of Object.entries(i.selectors??{}))K[q]=x3(le,N,C,x);return K}})}return{reducerPath:E,getSelectors:O,get selectors(){return O(A)},selectSlice:A}}const y={name:s,reducer:I,actions:d.actionCreators,caseReducers:d.sliceCaseReducersByName,getInitialState:C,..._(a),injectInto(E,{reducerPath:x,...A}={}){const O=x??a;return E.inject({reducerPath:O,reducer:I},A),{...y,..._(O,!0)}}};return y}}function x3(t,e,n,r){function i(s,...a){let c=e(s);return typeof c>"u"&&r&&(c=n()),t(c,...a)}return i.unwrapped=t,i}var E_=C3();function b3(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function R3({type:t,reducerName:e,createNotation:n},r,i){let s,a;if("reducer"in r){if(n&&!k3(r))throw new Error(ln(17));s=r.reducer,a=r.prepare}else s=r;i.addCase(t,s).exposeCaseReducer(e,s).exposeAction(e,a?Or(t,a):Or(t))}function A3(t){return t._reducerDefinitionType==="asyncThunk"}function k3(t){return t._reducerDefinitionType==="reducerWithPrepare"}function O3({type:t,reducerName:e},n,r,i){if(!i)throw new Error(ln(18));const{payloadCreator:s,fulfilled:a,pending:c,rejected:u,settled:d,options:p}=n,m=i(t,s,p);r.exposeAction(e,m),a&&r.addCase(m.fulfilled,a),c&&r.addCase(m.pending,c),u&&r.addCase(m.rejected,u),d&&r.addMatcher(m.settled,d),r.exposeCaseReducer(e,{fulfilled:a||gc,pending:c||gc,rejected:u||gc,settled:d||gc})}function gc(){}var L3=(t,e)=>{if(typeof t!="function")throw new Error(ln(32))},T_="listenerMiddleware",M3=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:s}=t;if(e)i=Or(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(ln(21));return L3(s),{predicate:i,type:e,effect:s}},N3=Object.assign(t=>{const{type:e,predicate:n,effect:r}=M3(t);return{id:LI(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(ln(22))}}},{withTypes:()=>N3}),D3=Object.assign(Or(`${T_}/add`),{withTypes:()=>D3});Or(`${T_}/removeAll`);var V3=Object.assign(Or(`${T_}/remove`),{withTypes:()=>V3});function ln(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var Uw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MI=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},F3=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],a=t[n++],c=t[n++],u=((i&7)<<18|(s&63)<<12|(a&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const s=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return e.join("")},NI={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],a=i+1<t.length,c=a?t[i+1]:0,u=i+2<t.length,d=u?t[i+2]:0,p=s>>2,m=(s&3)<<4|c>>4;let v=(c&15)<<2|d>>6,T=d&63;u||(T=64,a||(v=64)),r.push(n[p],n[m],n[v],n[T])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(MI(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):F3(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;const d=i<t.length?n[t.charAt(i)]:64;++i;const m=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||c==null||d==null||m==null)throw new z3;const v=s<<2|c>>4;if(r.push(v),d!==64){const T=c<<4&240|d>>2;if(r.push(T),m!==64){const S=d<<6&192|m;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class z3 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const j3=function(t){const e=MI(t);return NI.encodeByteArray(e,!0)},Uh=function(t){return j3(t).replace(/\./g,"")},DI=function(t){try{return NI.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $3(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U3=()=>$3().__FIREBASE_DEFAULTS__,B3=()=>{if(typeof process>"u"||typeof Uw>"u")return;const t=Uw.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},H3=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&DI(t[1]);return e&&JSON.parse(e)},Ud=()=>{try{return U3()||B3()||H3()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},VI=t=>{var e,n;return(n=(e=Ud())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},W3=t=>{const e=VI(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},FI=()=>{var t;return(t=Ud())===null||t===void 0?void 0:t.config},zI=t=>{var e;return(e=Ud())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q3{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G3(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Uh(JSON.stringify(n)),Uh(JSON.stringify(a)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ht(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function K3(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ht())}function Z3(){var t;const e=(t=Ud())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Q3(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Y3(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function X3(){const t=ht();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function J3(){return!Z3()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function jI(){try{return typeof indexedDB=="object"}catch{return!1}}function eM(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tM="FirebaseError";class qr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=tM,Object.setPrototypeOf(this,qr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,iu.prototype.create)}}class iu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],a=s?nM(s,r):"Error",c=`${this.serviceName}: ${a} (${i}).`;return new qr(i,c,r)}}function nM(t,e){return t.replace(rM,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const rM=/\{\$([^}]+)}/g;function iM(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Bh(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],a=e[i];if(Bw(s)&&Bw(a)){if(!Bh(s,a))return!1}else if(s!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Bw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function su(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Na(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Da(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function sM(t,e){const n=new oM(t,e);return n.subscribe.bind(n)}class oM{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");aM(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Xp),i.error===void 0&&(i.error=Xp),i.complete===void 0&&(i.complete=Xp);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function aM(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Xp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gt(t){return t&&t._delegate?t._delegate:t}class _s{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ji="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lM{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new q3;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(cM(e))try{this.getOrInitializeService({instanceIdentifier:Ji})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Ji){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ji){return this.instances.has(e)}getOptions(e=Ji){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,a]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(s);r===c&&a.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const a=this.instances.get(i);return a&&e(a,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:uM(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ji){return this.component?this.component.multipleInstances?e:Ji:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function uM(t){return t===Ji?void 0:t}function cM(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hM{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new lM(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Te;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Te||(Te={}));const dM={debug:Te.DEBUG,verbose:Te.VERBOSE,info:Te.INFO,warn:Te.WARN,error:Te.ERROR,silent:Te.SILENT},fM=Te.INFO,pM={[Te.DEBUG]:"log",[Te.VERBOSE]:"log",[Te.INFO]:"info",[Te.WARN]:"warn",[Te.ERROR]:"error"},mM=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=pM[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class S_{constructor(e){this.name=e,this._logLevel=fM,this._logHandler=mM,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Te))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?dM[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Te.DEBUG,...e),this._logHandler(this,Te.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Te.VERBOSE,...e),this._logHandler(this,Te.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Te.INFO,...e),this._logHandler(this,Te.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Te.WARN,...e),this._logHandler(this,Te.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Te.ERROR,...e),this._logHandler(this,Te.ERROR,...e)}}const gM=(t,e)=>e.some(n=>t instanceof n);let Hw,Ww;function vM(){return Hw||(Hw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function _M(){return Ww||(Ww=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const $I=new WeakMap,Rg=new WeakMap,UI=new WeakMap,Jp=new WeakMap,I_=new WeakMap;function yM(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{n(Si(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&$I.set(n,t)}).catch(()=>{}),I_.set(e,t),e}function wM(t){if(Rg.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});Rg.set(t,e)}let Ag={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Rg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||UI.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Si(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function EM(t){Ag=t(Ag)}function TM(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(em(this),e,...n);return UI.set(r,e.sort?e.sort():[e]),Si(r)}:_M().includes(t)?function(...e){return t.apply(em(this),e),Si($I.get(this))}:function(...e){return Si(t.apply(em(this),e))}}function SM(t){return typeof t=="function"?TM(t):(t instanceof IDBTransaction&&wM(t),gM(t,vM())?new Proxy(t,Ag):t)}function Si(t){if(t instanceof IDBRequest)return yM(t);if(Jp.has(t))return Jp.get(t);const e=SM(t);return e!==t&&(Jp.set(t,e),I_.set(e,t)),e}const em=t=>I_.get(t);function IM(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const a=indexedDB.open(t,e),c=Si(a);return r&&a.addEventListener("upgradeneeded",u=>{r(Si(a.result),u.oldVersion,u.newVersion,Si(a.transaction),u)}),n&&a.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),c.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),c}const PM=["get","getKey","getAll","getAllKeys","count"],CM=["put","add","delete","clear"],tm=new Map;function qw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(tm.get(e))return tm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=CM.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||PM.includes(n)))return;const s=async function(a,...c){const u=this.transaction(a,i?"readwrite":"readonly");let d=u.store;return r&&(d=d.index(c.shift())),(await Promise.all([d[n](...c),i&&u.done]))[0]};return tm.set(e,s),s}EM(t=>({...t,get:(e,n,r)=>qw(e,n)||t.get(e,n,r),has:(e,n)=>!!qw(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xM{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(bM(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function bM(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const kg="@firebase/app",Gw="0.9.29";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ys=new S_("@firebase/app"),RM="@firebase/app-compat",AM="@firebase/analytics-compat",kM="@firebase/analytics",OM="@firebase/app-check-compat",LM="@firebase/app-check",MM="@firebase/auth",NM="@firebase/auth-compat",DM="@firebase/database",VM="@firebase/database-compat",FM="@firebase/functions",zM="@firebase/functions-compat",jM="@firebase/installations",$M="@firebase/installations-compat",UM="@firebase/messaging",BM="@firebase/messaging-compat",HM="@firebase/performance",WM="@firebase/performance-compat",qM="@firebase/remote-config",GM="@firebase/remote-config-compat",KM="@firebase/storage",ZM="@firebase/storage-compat",QM="@firebase/firestore",YM="@firebase/firestore-compat",XM="firebase",JM="10.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Og="[DEFAULT]",eN={[kg]:"fire-core",[RM]:"fire-core-compat",[kM]:"fire-analytics",[AM]:"fire-analytics-compat",[LM]:"fire-app-check",[OM]:"fire-app-check-compat",[MM]:"fire-auth",[NM]:"fire-auth-compat",[DM]:"fire-rtdb",[VM]:"fire-rtdb-compat",[FM]:"fire-fn",[zM]:"fire-fn-compat",[jM]:"fire-iid",[$M]:"fire-iid-compat",[UM]:"fire-fcm",[BM]:"fire-fcm-compat",[HM]:"fire-perf",[WM]:"fire-perf-compat",[qM]:"fire-rc",[GM]:"fire-rc-compat",[KM]:"fire-gcs",[ZM]:"fire-gcs-compat",[QM]:"fire-fst",[YM]:"fire-fst-compat","fire-js":"fire-js",[XM]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hh=new Map,Lg=new Map;function tN(t,e){try{t.container.addComponent(e)}catch(n){ys.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ao(t){const e=t.name;if(Lg.has(e))return ys.debug(`There were multiple attempts to register component ${e}.`),!1;Lg.set(e,t);for(const n of Hh.values())tN(n,t);return!0}function P_(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Ii=new iu("app","Firebase",nN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rN{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new _s("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ii.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Go=JM;function BI(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Og,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Ii.create("bad-app-name",{appName:String(i)});if(n||(n=FI()),!n)throw Ii.create("no-options");const s=Hh.get(i);if(s){if(Bh(n,s.options)&&Bh(r,s.config))return s;throw Ii.create("duplicate-app",{appName:i})}const a=new hM(i);for(const u of Lg.values())a.addComponent(u);const c=new rN(n,r,a);return Hh.set(i,c),c}function HI(t=Og){const e=Hh.get(t);if(!e&&t===Og&&FI())return BI();if(!e)throw Ii.create("no-app",{appName:t});return e}function Pi(t,e,n){var r;let i=(r=eN[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const c=[`Unable to register library "${i}" with version "${e}":`];s&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&c.push("and"),a&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ys.warn(c.join(" "));return}Ao(new _s(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iN="firebase-heartbeat-database",sN=1,Al="firebase-heartbeat-store";let nm=null;function WI(){return nm||(nm=IM(iN,sN,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Al)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ii.create("idb-open",{originalErrorMessage:t.message})})),nm}async function oN(t){try{const n=(await WI()).transaction(Al),r=await n.objectStore(Al).get(qI(t));return await n.done,r}catch(e){if(e instanceof qr)ys.warn(e.message);else{const n=Ii.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ys.warn(n.message)}}}async function Kw(t,e){try{const r=(await WI()).transaction(Al,"readwrite");await r.objectStore(Al).put(e,qI(t)),await r.done}catch(n){if(n instanceof qr)ys.warn(n.message);else{const r=Ii.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ys.warn(r.message)}}}function qI(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aN=1024,lN=30*24*60*60*1e3;class uN{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new hN(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Zw();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const c=new Date(a.date).valueOf();return Date.now()-c<=lN}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Zw(),{heartbeatsToSend:r,unsentEntries:i}=cN(this._heartbeatsCache.heartbeats),s=Uh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function Zw(){return new Date().toISOString().substring(0,10)}function cN(t,e=aN){const n=[];let r=t.slice();for(const i of t){const s=n.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),Qw(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Qw(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class hN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return jI()?eM().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await oN(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Kw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Kw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Qw(t){return Uh(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dN(t){Ao(new _s("platform-logger",e=>new xM(e),"PRIVATE")),Ao(new _s("heartbeat",e=>new uN(e),"PRIVATE")),Pi(kg,Gw,t),Pi(kg,Gw,"esm2017"),Pi("fire-js","")}dN("");function C_(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function GI(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const fN=GI,KI=new iu("auth","Firebase",GI());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wh=new S_("@firebase/auth");function pN(t,...e){Wh.logLevel<=Te.WARN&&Wh.warn(`Auth (${Go}): ${t}`,...e)}function Bc(t,...e){Wh.logLevel<=Te.ERROR&&Wh.error(`Auth (${Go}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qn(t,...e){throw x_(t,...e)}function cr(t,...e){return x_(t,...e)}function mN(t,e,n){const r=Object.assign(Object.assign({},fN()),{[e]:n});return new iu("auth","Firebase",r).create(e,{appName:t.name})}function x_(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return KI.create(t,...e)}function oe(t,e,...n){if(!t)throw x_(e,...n)}function br(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Bc(e),new Error(e)}function zr(t,e){t||br(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mg(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function gN(){return Yw()==="http:"||Yw()==="https:"}function Yw(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(gN()||Q3()||"connection"in navigator)?navigator.onLine:!0}function _N(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou{constructor(e,n){this.shortDelay=e,this.longDelay=n,zr(n>e,"Short delay should be less than long delay!"),this.isMobile=K3()||Y3()}get(){return vN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b_(t,e){zr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZI{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;br("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;br("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;br("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wN=new ou(3e4,6e4);function Gr(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Kr(t,e,n,r,i={}){return QI(t,i,async()=>{let s={},a={};r&&(e==="GET"?a=r:s={body:JSON.stringify(r)});const c=su(Object.assign({key:t.config.apiKey},a)).slice(1),u=await t._getAdditionalHeaders();return u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),ZI.fetch()(YI(t,t.config.apiHost,n,c),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},s))})}async function QI(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},yN),e);try{const i=new TN(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw vc(t,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const c=s.ok?a.errorMessage:a.error.message,[u,d]=c.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw vc(t,"credential-already-in-use",a);if(u==="EMAIL_EXISTS")throw vc(t,"email-already-in-use",a);if(u==="USER_DISABLED")throw vc(t,"user-disabled",a);const p=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw mN(t,p,d);qn(t,p)}}catch(i){if(i instanceof qr)throw i;qn(t,"network-request-failed",{message:String(i)})}}async function au(t,e,n,r,i={}){const s=await Kr(t,e,n,r,i);return"mfaPendingCredential"in s&&qn(t,"multi-factor-auth-required",{_serverResponse:s}),s}function YI(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?b_(t.config,i):`${t.config.apiScheme}://${i}`}function EN(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class TN{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(cr(this.auth,"network-request-failed")),wN.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function vc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=cr(t,e,r);return i.customData._tokenResponse=n,i}function Xw(t){return t!==void 0&&t.enterprise!==void 0}class SN{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return EN(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function IN(t,e){return Kr(t,"GET","/v2/recaptchaConfig",Gr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PN(t,e){return Kr(t,"POST","/v1/accounts:delete",e)}async function CN(t,e){return Kr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xa(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function xN(t,e=!1){const n=gt(t),r=await n.getIdToken(e),i=R_(r);oe(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,a=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Xa(rm(i.auth_time)),issuedAtTime:Xa(rm(i.iat)),expirationTime:Xa(rm(i.exp)),signInProvider:a||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function rm(t){return Number(t)*1e3}function R_(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Bc("JWT malformed, contained fewer than 3 sections"),null;try{const i=DI(n);return i?JSON.parse(i):(Bc("Failed to decode base64 JWT payload"),null)}catch(i){return Bc("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function bN(t){const e=R_(t);return oe(e,"internal-error"),oe(typeof e.exp<"u","internal-error"),oe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kl(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof qr&&RN(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function RN({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XI{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Xa(this.lastLoginAt),this.creationTime=Xa(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qh(t){var e;const n=t.auth,r=await t.getIdToken(),i=await kl(t,CN(n,{idToken:r}));oe(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const a=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?LN(s.providerUserInfo):[],c=ON(t.providerData,a),u=t.isAnonymous,d=!(t.email&&s.passwordHash)&&!(c!=null&&c.length),p=u?d:!1,m={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:c,metadata:new XI(s.createdAt,s.lastLoginAt),isAnonymous:p};Object.assign(t,m)}async function kN(t){const e=gt(t);await qh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function ON(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function LN(t){return t.map(e=>{var{providerId:n}=e,r=C_(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MN(t,e){const n=await QI(t,{},async()=>{const r=su({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,a=YI(t,i,"/v1/token",`key=${s}`),c=await t._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",ZI.fetch()(a,{method:"POST",headers:c,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function NN(t,e){return Kr(t,"POST","/v2/accounts:revokeToken",Gr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){oe(e.idToken,"internal-error"),oe(typeof e.idToken<"u","internal-error"),oe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):bN(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return oe(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await MN(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,a=new Ol;return r&&(oe(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),i&&(oe(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),s&&(oe(typeof s=="number","internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ol,this.toJSON())}_performRefresh(){return br("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ei(t,e){oe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class cs{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=C_(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new AN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new XI(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await kl(this,this.stsTokenManager.getToken(this.auth,e));return oe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return xN(this,e)}reload(){return kN(this)}_assign(e){this!==e&&(oe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new cs(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await qh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await kl(this,PN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,a,c,u,d,p;const m=(r=n.displayName)!==null&&r!==void 0?r:void 0,v=(i=n.email)!==null&&i!==void 0?i:void 0,T=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,S=(a=n.photoURL)!==null&&a!==void 0?a:void 0,I=(c=n.tenantId)!==null&&c!==void 0?c:void 0,C=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,_=(d=n.createdAt)!==null&&d!==void 0?d:void 0,y=(p=n.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:E,emailVerified:x,isAnonymous:A,providerData:O,stsTokenManager:N}=n;oe(E&&N,e,"internal-error");const D=Ol.fromJSON(this.name,N);oe(typeof E=="string",e,"internal-error"),ei(m,e.name),ei(v,e.name),oe(typeof x=="boolean",e,"internal-error"),oe(typeof A=="boolean",e,"internal-error"),ei(T,e.name),ei(S,e.name),ei(I,e.name),ei(C,e.name),ei(_,e.name),ei(y,e.name);const K=new cs({uid:E,auth:e,email:v,emailVerified:x,displayName:m,isAnonymous:A,photoURL:S,phoneNumber:T,tenantId:I,stsTokenManager:D,createdAt:_,lastLoginAt:y});return O&&Array.isArray(O)&&(K.providerData=O.map(q=>Object.assign({},q))),C&&(K._redirectEventId=C),K}static async _fromIdTokenResponse(e,n,r=!1){const i=new Ol;i.updateFromServerResponse(n);const s=new cs({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await qh(s),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jw=new Map;function Rr(t){zr(t instanceof Function,"Expected a class definition");let e=Jw.get(t);return e?(zr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Jw.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JI{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}JI.type="NONE";const eE=JI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hc(t,e,n){return`firebase:${t}:${e}:${n}`}class mo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Hc(this.userKey,i.apiKey,s),this.fullPersistenceKey=Hc("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?cs._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new mo(Rr(eE),e,r);const i=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let s=i[0]||Rr(eE);const a=Hc(r,e.config.apiKey,e.name);let c=null;for(const d of n)try{const p=await d._get(a);if(p){const m=cs._fromJSON(e,p);d!==s&&(c=m),s=d;break}}catch{}const u=i.filter(d=>d._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new mo(s,e,r):(s=u[0],c&&await s._set(a,c.toJSON()),await Promise.all(n.map(async d=>{if(d!==s)try{await d._remove(a)}catch{}})),new mo(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(nP(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(eP(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(iP(e))return"Blackberry";if(sP(e))return"Webos";if(A_(e))return"Safari";if((e.includes("chrome/")||tP(e))&&!e.includes("edge/"))return"Chrome";if(rP(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function eP(t=ht()){return/firefox\//i.test(t)}function A_(t=ht()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function tP(t=ht()){return/crios\//i.test(t)}function nP(t=ht()){return/iemobile/i.test(t)}function rP(t=ht()){return/android/i.test(t)}function iP(t=ht()){return/blackberry/i.test(t)}function sP(t=ht()){return/webos/i.test(t)}function Bd(t=ht()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function DN(t=ht()){var e;return Bd(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function VN(){return X3()&&document.documentMode===10}function oP(t=ht()){return Bd(t)||rP(t)||sP(t)||iP(t)||/windows phone/i.test(t)||nP(t)}function FN(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aP(t,e=[]){let n;switch(t){case"Browser":n=tE(ht());break;case"Worker":n=`${tE(ht())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Go}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((a,c)=>{try{const u=e(s);a(u)}catch(u){c(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jN(t,e={}){return Kr(t,"GET","/v2/passwordPolicy",Gr(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $N=6;class UN{constructor(e){var n,r,i,s;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:$N,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,a,c;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNumericCharacter)!==null&&a!==void 0?a:!0),u.isValid&&(u.isValid=(c=u.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),u}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BN{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new nE(this),this.idTokenSubscription=new nE(this),this.beforeStateQueue=new zN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=KI,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Rr(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await mo.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=i==null?void 0:i._redirectEventId,u=await this.tryRedirectSignIn(e);(!a||a===c)&&(u!=null&&u.user)&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return oe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await qh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=_N()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?gt(e):null;return n&&oe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&oe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Rr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await jN(this),n=new UN(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new iu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await NN(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Rr(e)||this._popupRedirectResolver;oe(n,this,"argument-error"),this.redirectPersistenceManager=await mo.create(this,[Rr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let a=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(oe(c,this,"internal-error"),c.then(()=>{a||s(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,r,i);return()=>{a=!0,u()}}else{const u=e.addObserver(n);return()=>{a=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=aP(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&pN(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ji(t){return gt(t)}class nE{constructor(e){this.auth=e,this.observer=null,this.addObserver=sM(n=>this.observer=n)}get next(){return oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function HN(t){Hd=t}function lP(t){return Hd.loadJS(t)}function WN(){return Hd.recaptchaEnterpriseScript}function qN(){return Hd.gapiScript}function GN(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const KN="recaptcha-enterprise",ZN="NO_RECAPTCHA";class QN{constructor(e){this.type=KN,this.auth=ji(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(a,c)=>{IN(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const d=new SN(u);return s.tenantId==null?s._agentRecaptchaConfig=d:s._tenantRecaptchaConfigs[s.tenantId]=d,a(d.siteKey)}}).catch(u=>{c(u)})})}function i(s,a,c){const u=window.grecaptcha;Xw(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:e}).then(d=>{a(d)}).catch(()=>{a(ZN)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,a)=>{r(this.auth).then(c=>{if(!n&&Xw(window.grecaptcha))i(c,s,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let u=WN();u.length!==0&&(u+=c),lP(u).then(()=>{i(c,s,a)}).catch(d=>{a(d)})}}).catch(c=>{a(c)})})}}async function rE(t,e,n,r=!1){const i=new QN(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const a=Object.assign({},e);return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Gh(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await rE(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await rE(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YN(t,e){const n=P_(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Bh(s,e??{}))return i;qn(i,"already-initialized")}return n.initialize({options:e})}function XN(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Rr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function JN(t,e,n){const r=ji(t);oe(r._canInitEmulator,r,"emulator-config-failed"),oe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=uP(e),{host:a,port:c}=e6(e),u=c===null?"":`:${c}`;r.config.emulator={url:`${s}//${a}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:c,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||t6()}function uP(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function e6(t){const e=uP(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:iE(r.substr(s.length+1))}}else{const[s,a]=r.split(":");return{host:s,port:iE(a)}}}function iE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function t6(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k_{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return br("not implemented")}_getIdTokenResponse(e){return br("not implemented")}_linkToIdToken(e,n){return br("not implemented")}_getReauthenticationResolver(e){return br("not implemented")}}async function n6(t,e){return Kr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r6(t,e){return au(t,"POST","/v1/accounts:signInWithPassword",Gr(t,e))}async function cP(t,e){return Kr(t,"POST","/v1/accounts:sendOobCode",Gr(t,e))}async function i6(t,e){return cP(t,e)}async function s6(t,e){return cP(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o6(t,e){return au(t,"POST","/v1/accounts:signInWithEmailLink",Gr(t,e))}async function a6(t,e){return au(t,"POST","/v1/accounts:signInWithEmailLink",Gr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll extends k_{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Ll(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Ll(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Gh(e,n,"signInWithPassword",r6);case"emailLink":return o6(e,{email:this._email,oobCode:this._password});default:qn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Gh(e,r,"signUpPassword",n6);case"emailLink":return a6(e,{idToken:n,email:this._email,oobCode:this._password});default:qn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function go(t,e){return au(t,"POST","/v1/accounts:signInWithIdp",Gr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l6="http://localhost";class ws extends k_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ws(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):qn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=C_(n,["providerId","signInMethod"]);if(!r||!i)return null;const a=new ws(r,i);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return go(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,go(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,go(e,n)}buildRequest(){const e={requestUri:l6,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=su(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u6(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function c6(t){const e=Na(Da(t)).link,n=e?Na(Da(e)).deep_link_id:null,r=Na(Da(t)).deep_link_id;return(r?Na(Da(r)).link:null)||r||n||e||t}class O_{constructor(e){var n,r,i,s,a,c;const u=Na(Da(e)),d=(n=u.apiKey)!==null&&n!==void 0?n:null,p=(r=u.oobCode)!==null&&r!==void 0?r:null,m=u6((i=u.mode)!==null&&i!==void 0?i:null);oe(d&&p&&m,"argument-error"),this.apiKey=d,this.operation=m,this.code=p,this.continueUrl=(s=u.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(a=u.languageCode)!==null&&a!==void 0?a:null,this.tenantId=(c=u.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){const n=c6(e);try{return new O_(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(){this.providerId=Ko.PROVIDER_ID}static credential(e,n){return Ll._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=O_.parseLink(n);return oe(r,"argument-error"),Ll._fromEmailAndCode(e,r.code,r.tenantId)}}Ko.PROVIDER_ID="password";Ko.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ko.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hP{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu extends hP{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi extends lu{constructor(){super("facebook.com")}static credential(e){return ws._fromParams({providerId:oi.PROVIDER_ID,signInMethod:oi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return oi.credentialFromTaggedObject(e)}static credentialFromError(e){return oi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return oi.credential(e.oauthAccessToken)}catch{return null}}}oi.FACEBOOK_SIGN_IN_METHOD="facebook.com";oi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai extends lu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ws._fromParams({providerId:ai.PROVIDER_ID,signInMethod:ai.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ai.credentialFromTaggedObject(e)}static credentialFromError(e){return ai.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ai.credential(n,r)}catch{return null}}}ai.GOOGLE_SIGN_IN_METHOD="google.com";ai.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li extends lu{constructor(){super("github.com")}static credential(e){return ws._fromParams({providerId:li.PROVIDER_ID,signInMethod:li.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return li.credentialFromTaggedObject(e)}static credentialFromError(e){return li.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return li.credential(e.oauthAccessToken)}catch{return null}}}li.GITHUB_SIGN_IN_METHOD="github.com";li.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui extends lu{constructor(){super("twitter.com")}static credential(e,n){return ws._fromParams({providerId:ui.PROVIDER_ID,signInMethod:ui.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ui.credentialFromTaggedObject(e)}static credentialFromError(e){return ui.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ui.credential(n,r)}catch{return null}}}ui.TWITTER_SIGN_IN_METHOD="twitter.com";ui.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h6(t,e){return au(t,"POST","/v1/accounts:signUp",Gr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await cs._fromIdTokenResponse(e,r,i),a=sE(r);return new Es({user:s,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=sE(r);return new Es({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function sE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh extends qr{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Kh.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Kh(e,n,r,i)}}function dP(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Kh._fromErrorAndOperation(t,s,e,r):s})}async function d6(t,e,n=!1){const r=await kl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Es._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f6(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await kl(t,dP(r,i,e,t),n);oe(s.idToken,r,"internal-error");const a=R_(s.idToken);oe(a,r,"internal-error");const{sub:c}=a;return oe(t.uid===c,r,"user-mismatch"),Es._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&qn(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fP(t,e,n=!1){const r="signIn",i=await dP(t,r,e),s=await Es._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function p6(t,e){return fP(ji(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pP(t,e,n){var r;oe(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),oe(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(oe(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(oe(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mP(t){const e=ji(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function m6(t,e,n){const r=ji(t),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&pP(r,i,n),await Gh(r,i,"getOobCode",s6)}async function g6(t,e,n){const r=ji(t),a=await Gh(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",h6).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&mP(t),u}),c=await Es._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(c.user),c}function v6(t,e,n){return p6(gt(t),Ko.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&mP(t),r})}async function _6(t,e){const n=gt(t),i={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()};e&&pP(n.auth,i,e);const{email:s}=await i6(n.auth,i);s!==t.email&&await t.reload()}function y6(t,e,n,r){return gt(t).onIdTokenChanged(e,n,r)}function w6(t,e,n){return gt(t).beforeAuthStateChanged(e,n)}function E6(t,e,n,r){return gt(t).onAuthStateChanged(e,n,r)}function T6(t){return gt(t).signOut()}const Zh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gP{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Zh,"1"),this.storage.removeItem(Zh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S6(){const t=ht();return A_(t)||Bd(t)}const I6=1e3,P6=10;class vP extends gP{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=S6()&&FN(),this.fallbackToPolling=oP(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,c,u)=>{this.notifyListeners(a,u)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(r);if(e.newValue!==a)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},s=this.storage.getItem(r);VN()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,P6):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},I6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}vP.type="LOCAL";const C6=vP;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _P extends gP{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}_P.type="SESSION";const yP=_P;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x6(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Wd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const c=Array.from(a).map(async d=>d(n.origin,s)),u=await x6(c);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Wd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L_(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b6{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,a;return new Promise((c,u)=>{const d=L_("",20);i.port1.start();const p=setTimeout(()=>{u(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(m){const v=m;if(v.data.eventId===d)switch(v.data.status){case"ack":clearTimeout(p),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),c(v.data.response);break;default:clearTimeout(p),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hr(){return window}function R6(t){hr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wP(){return typeof hr().WorkerGlobalScope<"u"&&typeof hr().importScripts=="function"}async function A6(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function k6(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function O6(){return wP()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EP="firebaseLocalStorageDb",L6=1,Qh="firebaseLocalStorage",TP="fbase_key";class uu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function qd(t,e){return t.transaction([Qh],e?"readwrite":"readonly").objectStore(Qh)}function M6(){const t=indexedDB.deleteDatabase(EP);return new uu(t).toPromise()}function Ng(){const t=indexedDB.open(EP,L6);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Qh,{keyPath:TP})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Qh)?e(r):(r.close(),await M6(),e(await Ng()))})})}async function oE(t,e,n){const r=qd(t,!0).put({[TP]:e,value:n});return new uu(r).toPromise()}async function N6(t,e){const n=qd(t,!1).get(e),r=await new uu(n).toPromise();return r===void 0?null:r.value}function aE(t,e){const n=qd(t,!0).delete(e);return new uu(n).toPromise()}const D6=800,V6=3;class SP{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ng(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>V6)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return wP()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Wd._getInstance(O6()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await A6(),!this.activeServiceWorker)return;this.sender=new b6(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||k6()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ng();return await oE(e,Zh,"1"),await aE(e,Zh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>oE(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>N6(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>aE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=qd(i,!1).getAll();return new uu(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),D6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}SP.type="LOCAL";const F6=SP;new ou(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z6(t,e){return e?Rr(e):(oe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M_ extends k_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return go(e,this._buildIdpRequest())}_linkToIdToken(e,n){return go(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return go(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function j6(t){return fP(t.auth,new M_(t),t.bypassAuthState)}function $6(t){const{auth:e,user:n}=t;return oe(n,e,"internal-error"),f6(n,new M_(t),t.bypassAuthState)}async function U6(t){const{auth:e,user:n}=t;return oe(n,e,"internal-error"),d6(n,new M_(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IP{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:a,type:c}=e;if(a){this.reject(a);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(u))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return j6;case"linkViaPopup":case"linkViaRedirect":return U6;case"reauthViaPopup":case"reauthViaRedirect":return $6;default:qn(this.auth,"internal-error")}}resolve(e){zr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){zr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B6=new ou(2e3,1e4);class oo extends IP{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,oo.currentPopupAction&&oo.currentPopupAction.cancel(),oo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return oe(e,this.auth,"internal-error"),e}async onExecution(){zr(this.filter.length===1,"Popup operations only handle one event");const e=L_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(cr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(cr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,oo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(cr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,B6.get())};e()}}oo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H6="pendingRedirect",Wc=new Map;class W6 extends IP{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Wc.get(this.auth._key());if(!e){try{const r=await q6(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Wc.set(this.auth._key(),e)}return this.bypassAuthState||Wc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function q6(t,e){const n=Z6(e),r=K6(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function G6(t,e){Wc.set(t._key(),e)}function K6(t){return Rr(t._redirectPersistence)}function Z6(t){return Hc(H6,t.config.apiKey,t.name)}async function Q6(t,e,n=!1){const r=ji(t),i=z6(r,e),a=await new W6(r,i,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y6=10*60*1e3;class X6{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!J6(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!PP(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(cr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Y6&&this.cachedEventUids.clear(),this.cachedEventUids.has(lE(e))}saveEventToCache(e){this.cachedEventUids.add(lE(e)),this.lastProcessedEventTime=Date.now()}}function lE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function PP({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function J6(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return PP(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eD(t,e={}){return Kr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,nD=/^https?/;async function rD(t){if(t.config.emulator)return;const{authorizedDomains:e}=await eD(t);for(const n of e)try{if(iD(n))return}catch{}qn(t,"unauthorized-domain")}function iD(t){const e=Mg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!nD.test(n))return!1;if(tD.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sD=new ou(3e4,6e4);function uE(){const t=hr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function oD(t){return new Promise((e,n)=>{var r,i,s;function a(){uE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{uE(),n(cr(t,"network-request-failed"))},timeout:sD.get()})}if(!((i=(r=hr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=hr().gapi)===null||s===void 0)&&s.load)a();else{const c=GN("iframefcb");return hr()[c]=()=>{gapi.load?a():n(cr(t,"network-request-failed"))},lP(`${qN()}?onload=${c}`).catch(u=>n(u))}}).catch(e=>{throw qc=null,e})}let qc=null;function aD(t){return qc=qc||oD(t),qc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lD=new ou(5e3,15e3),uD="__/auth/iframe",cD="emulator/auth/iframe",hD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},dD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function fD(t){const e=t.config;oe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?b_(e,cD):`https://${t.config.authDomain}/${uD}`,r={apiKey:e.apiKey,appName:t.name,v:Go},i=dD.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${su(r).slice(1)}`}async function pD(t){const e=await aD(t),n=hr().gapi;return oe(n,t,"internal-error"),e.open({where:document.body,url:fD(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:hD,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const a=cr(t,"network-request-failed"),c=hr().setTimeout(()=>{s(a)},lD.get());function u(){hr().clearTimeout(c),i(r)}r.ping(u).then(u,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},gD=500,vD=600,_D="_blank",yD="http://localhost";class cE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function wD(t,e,n,r=gD,i=vD){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const u=Object.assign(Object.assign({},mD),{width:r.toString(),height:i.toString(),top:s,left:a}),d=ht().toLowerCase();n&&(c=tP(d)?_D:n),eP(d)&&(e=e||yD,u.scrollbars="yes");const p=Object.entries(u).reduce((v,[T,S])=>`${v}${T}=${S},`,"");if(DN(d)&&c!=="_self")return ED(e||"",c),new cE(null);const m=window.open(e||"",c,p);oe(m,t,"popup-blocked");try{m.focus()}catch{}return new cE(m)}function ED(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TD="__/auth/handler",SD="emulator/auth/handler",ID=encodeURIComponent("fac");async function hE(t,e,n,r,i,s){oe(t.config.authDomain,t,"auth-domain-config-required"),oe(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Go,eventId:i};if(e instanceof hP){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",iM(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,m]of Object.entries(s||{}))a[p]=m}if(e instanceof lu){const p=e.getScopes().filter(m=>m!=="");p.length>0&&(a.scopes=p.join(","))}t.tenantId&&(a.tid=t.tenantId);const c=a;for(const p of Object.keys(c))c[p]===void 0&&delete c[p];const u=await t._getAppCheckToken(),d=u?`#${ID}=${encodeURIComponent(u)}`:"";return`${PD(t)}?${su(c).slice(1)}${d}`}function PD({config:t}){return t.emulator?b_(t,SD):`https://${t.authDomain}/${TD}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const im="webStorageSupport";class CD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=yP,this._completeRedirectFn=Q6,this._overrideRedirectResult=G6}async _openPopup(e,n,r,i){var s;zr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const a=await hE(e,n,r,Mg(),i);return wD(e,a,L_())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await hE(e,n,r,Mg(),i);return R6(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(zr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await pD(e),r=new X6(e);return n.register("authEvent",i=>(oe(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(im,{type:im},i=>{var s;const a=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[im];a!==void 0&&n(!!a),qn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=rD(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return oP()||A_()||Bd()}}const xD=CD;var dE="@firebase/auth",fE="1.6.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RD(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function AD(t){Ao(new _s("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:c}=r.options;oe(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:a,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:aP(t)},d=new BN(r,i,s,u);return XN(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ao(new _s("auth-internal",e=>{const n=ji(e.getProvider("auth").getImmediate());return(r=>new bD(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Pi(dE,fE,RD(t)),Pi(dE,fE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kD=5*60,OD=zI("authIdTokenMaxAge")||kD;let pE=null;const LD=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>OD)return;const i=n==null?void 0:n.token;pE!==i&&(pE=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function MD(t=HI()){const e=P_(t,"auth");if(e.isInitialized())return e.getImmediate();const n=YN(t,{popupRedirectResolver:xD,persistence:[F6,C6,yP]}),r=zI("authTokenSyncURL");if(r&&r.match(/^\/[^\/].*/)){const s=LD(r);w6(n,s,()=>s(n.currentUser)),y6(n,a=>s(a))}const i=VI("auth");return i&&JN(n,`http://${i}`),n}function ND(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}HN({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=cr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",ND().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});AD("Browser");var DD="firebase",VD="10.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Pi(DD,VD,"app");var FD=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},H,N_=N_||{},ce=FD||self;function Gd(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function cu(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function zD(t){return Object.prototype.hasOwnProperty.call(t,sm)&&t[sm]||(t[sm]=++jD)}var sm="closure_uid_"+(1e9*Math.random()>>>0),jD=0;function $D(t,e,n){return t.call.apply(t.bind,arguments)}function UD(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Bt(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Bt=$D:Bt=UD,Bt.apply(null,arguments)}function _c(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function St(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var a=Array(arguments.length-2),c=2;c<arguments.length;c++)a[c-2]=arguments[c];return e.prototype[i].apply(r,a)}}function $i(){this.s=this.s,this.o=this.o}var BD=0;$i.prototype.s=!1;$i.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),BD!=0)&&zD(this)};$i.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const CP=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function D_(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function mE(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Gd(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let a=0;a<s;a++)t[i+a]=r[a]}else t.push(r)}}function Ht(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Ht.prototype.h=function(){this.defaultPrevented=!0};var HD=function(){if(!ce.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const n=()=>{};ce.addEventListener("test",n,e),ce.removeEventListener("test",n,e)}catch{}return t}();function Ml(t){return/^[\s\xa0]*$/.test(t)}function Kd(){var t=ce.navigator;return t&&(t=t.userAgent)?t:""}function ir(t){return Kd().indexOf(t)!=-1}function V_(t){return V_[" "](t),t}V_[" "]=function(){};function WD(t,e){var n=V5;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var qD=ir("Opera"),ko=ir("Trident")||ir("MSIE"),xP=ir("Edge"),Dg=xP||ko,bP=ir("Gecko")&&!(Kd().toLowerCase().indexOf("webkit")!=-1&&!ir("Edge"))&&!(ir("Trident")||ir("MSIE"))&&!ir("Edge"),GD=Kd().toLowerCase().indexOf("webkit")!=-1&&!ir("Edge");function RP(){var t=ce.document;return t?t.documentMode:void 0}var Vg;e:{var om="",am=function(){var t=Kd();if(bP)return/rv:([^\);]+)(\)|;)/.exec(t);if(xP)return/Edge\/([\d\.]+)/.exec(t);if(ko)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(GD)return/WebKit\/(\S+)/.exec(t);if(qD)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(am&&(om=am?am[1]:""),ko){var lm=RP();if(lm!=null&&lm>parseFloat(om)){Vg=String(lm);break e}}Vg=om}var Fg;if(ce.document&&ko){var gE=RP();Fg=gE||parseInt(Vg,10)||void 0}else Fg=void 0;var KD=Fg;function Nl(t,e){if(Ht.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(bP){e:{try{V_(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:ZD[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Nl.$.h.call(this)}}St(Nl,Ht);var ZD={2:"touch",3:"pen",4:"mouse"};Nl.prototype.h=function(){Nl.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var hu="closure_listenable_"+(1e6*Math.random()|0),QD=0;function YD(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++QD,this.fa=this.ia=!1}function Zd(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function F_(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function XD(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function AP(t){const e={};for(const n in t)e[n]=t[n];return e}const vE="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function kP(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<vE.length;s++)n=vE[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Qd(t){this.src=t,this.g={},this.h=0}Qd.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var a=jg(t,e,r,i);return-1<a?(e=t[a],n||(e.ia=!1)):(e=new YD(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function zg(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=CP(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Zd(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function jg(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var z_="closure_lm_"+(1e6*Math.random()|0),um={};function OP(t,e,n,r,i){if(r&&r.once)return MP(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)OP(t,e[s],n,r,i);return null}return n=U_(n),t&&t[hu]?t.O(e,n,cu(r)?!!r.capture:!!r,i):LP(t,e,n,!1,r,i)}function LP(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var a=cu(i)?!!i.capture:!!i,c=$_(t);if(c||(t[z_]=c=new Qd(t)),n=c.add(e,n,r,a,s),n.proxy)return n;if(r=JD(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)HD||(i=a),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(DP(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function JD(){function t(n){return e.call(t.src,t.listener,n)}const e=e5;return t}function MP(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)MP(t,e[s],n,r,i);return null}return n=U_(n),t&&t[hu]?t.P(e,n,cu(r)?!!r.capture:!!r,i):LP(t,e,n,!0,r,i)}function NP(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)NP(t,e[s],n,r,i);else r=cu(r)?!!r.capture:!!r,n=U_(n),t&&t[hu]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=jg(s,n,r,i),-1<n&&(Zd(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=$_(t))&&(e=t.g[e.toString()],t=-1,e&&(t=jg(e,n,r,i)),(n=-1<t?e[t]:null)&&j_(n))}function j_(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[hu])zg(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(DP(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=$_(e))?(zg(n,t),n.h==0&&(n.src=null,e[z_]=null)):Zd(t)}}}function DP(t){return t in um?um[t]:um[t]="on"+t}function e5(t,e){if(t.fa)t=!0;else{e=new Nl(e,this);var n=t.listener,r=t.la||t.src;t.ia&&j_(t),t=n.call(r,e)}return t}function $_(t){return t=t[z_],t instanceof Qd?t:null}var cm="__closure_events_fn_"+(1e9*Math.random()>>>0);function U_(t){return typeof t=="function"?t:(t[cm]||(t[cm]=function(e){return t.handleEvent(e)}),t[cm])}function Tt(){$i.call(this),this.i=new Qd(this),this.S=this,this.J=null}St(Tt,$i);Tt.prototype[hu]=!0;Tt.prototype.removeEventListener=function(t,e,n,r){NP(this,t,e,n,r)};function Lt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new Ht(e,t);else if(e instanceof Ht)e.target=e.target||t;else{var i=e;e=new Ht(r,t),kP(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var a=e.g=n[s];i=yc(a,r,!0,e)&&i}if(a=e.g=t,i=yc(a,r,!0,e)&&i,i=yc(a,r,!1,e)&&i,n)for(s=0;s<n.length;s++)a=e.g=n[s],i=yc(a,r,!1,e)&&i}Tt.prototype.N=function(){if(Tt.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Zd(n[r]);delete t.g[e],t.h--}}this.J=null};Tt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};Tt.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function yc(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var a=e[s];if(a&&!a.fa&&a.capture==n){var c=a.listener,u=a.la||a.src;a.ia&&zg(t.i,a),i=c.call(u,r)!==!1&&i}}return i&&!r.defaultPrevented}var B_=ce.JSON.stringify;class t5{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function n5(){var t=H_;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class r5{constructor(){this.h=this.g=null}add(e,n){const r=VP.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var VP=new t5(()=>new i5,t=>t.reset());class i5{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function s5(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function o5(t){ce.setTimeout(()=>{throw t},0)}let Dl,Vl=!1,H_=new r5,FP=()=>{const t=ce.Promise.resolve(void 0);Dl=()=>{t.then(a5)}};var a5=()=>{for(var t;t=n5();){try{t.h.call(t.g)}catch(n){o5(n)}var e=VP;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Vl=!1};function Yd(t,e){Tt.call(this),this.h=t||1,this.g=e||ce,this.j=Bt(this.qb,this),this.l=Date.now()}St(Yd,Tt);H=Yd.prototype;H.ga=!1;H.T=null;H.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Lt(this,"tick"),this.ga&&(W_(this),this.start()))}};H.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function W_(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}H.N=function(){Yd.$.N.call(this),W_(this),delete this.g};function q_(t,e,n){if(typeof t=="function")n&&(t=Bt(t,n));else if(t&&typeof t.handleEvent=="function")t=Bt(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:ce.setTimeout(t,e||0)}function zP(t){t.g=q_(()=>{t.g=null,t.i&&(t.i=!1,zP(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class l5 extends $i{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:zP(this)}N(){super.N(),this.g&&(ce.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Fl(t){$i.call(this),this.h=t,this.g={}}St(Fl,$i);var _E=[];function jP(t,e,n,r){Array.isArray(n)||(n&&(_E[0]=n.toString()),n=_E);for(var i=0;i<n.length;i++){var s=OP(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function $P(t){F_(t.g,function(e,n){this.g.hasOwnProperty(n)&&j_(e)},t),t.g={}}Fl.prototype.N=function(){Fl.$.N.call(this),$P(this)};Fl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Xd(){this.g=!0}Xd.prototype.Ea=function(){this.g=!1};function u5(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var a="",c=s.split("&"),u=0;u<c.length;u++){var d=c[u].split("=");if(1<d.length){var p=d[0];d=d[1];var m=p.split("_");a=2<=m.length&&m[1]=="type"?a+(p+"="+d+"&"):a+(p+"=redacted&")}}else a=null;else a=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+a})}function c5(t,e,n,r,i,s,a){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+a})}function ao(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+d5(t,n)+(r?" "+r:"")})}function h5(t,e){t.info(function(){return"TIMEOUT: "+e})}Xd.prototype.info=function(){};function d5(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var a=1;a<i.length;a++)i[a]=""}}}}return B_(n)}catch{return e}}var Rs={},yE=null;function Jd(){return yE=yE||new Tt}Rs.Ta="serverreachability";function UP(t){Ht.call(this,Rs.Ta,t)}St(UP,Ht);function zl(t){const e=Jd();Lt(e,new UP(e))}Rs.STAT_EVENT="statevent";function BP(t,e){Ht.call(this,Rs.STAT_EVENT,t),this.stat=e}St(BP,Ht);function Zt(t){const e=Jd();Lt(e,new BP(e,t))}Rs.Ua="timingevent";function HP(t,e){Ht.call(this,Rs.Ua,t),this.size=e}St(HP,Ht);function du(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return ce.setTimeout(function(){t()},e)}var ef={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},WP={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function G_(){}G_.prototype.h=null;function wE(t){return t.h||(t.h=t.i())}function qP(){}var fu={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function K_(){Ht.call(this,"d")}St(K_,Ht);function Z_(){Ht.call(this,"c")}St(Z_,Ht);var $g;function tf(){}St(tf,G_);tf.prototype.g=function(){return new XMLHttpRequest};tf.prototype.i=function(){return{}};$g=new tf;function pu(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Fl(this),this.P=f5,t=Dg?125:void 0,this.V=new Yd(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new GP}function GP(){this.i=null,this.g="",this.h=!1}var f5=45e3,KP={},Ug={};H=pu.prototype;H.setTimeout=function(t){this.P=t};function Bg(t,e,n){t.L=1,t.A=rf(jr(e)),t.u=n,t.S=!0,ZP(t,null)}function ZP(t,e){t.G=Date.now(),mu(t),t.B=jr(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),rC(n.i,"t",r),t.o=0,n=t.l.J,t.h=new GP,t.g=IC(t.l,n?e:null,!t.u),0<t.O&&(t.M=new l5(Bt(t.Pa,t,t.g),t.O)),jP(t.U,t.g,"readystatechange",t.nb),e=t.I?AP(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),zl(),u5(t.j,t.v,t.B,t.m,t.W,t.u)}H.nb=function(t){t=t.target;const e=this.M;e&&sr(t)==3?e.l():this.Pa(t)};H.Pa=function(t){try{if(t==this.g)e:{const p=sr(this.g);var e=this.g.Ia();const m=this.g.da();if(!(3>p)&&(p!=3||Dg||this.g&&(this.h.h||this.g.ja()||IE(this.g)))){this.J||p!=4||e==7||(e==8||0>=m?zl(3):zl(2)),nf(this);var n=this.g.da();this.ca=n;t:if(QP(this)){var r=IE(this.g);t="";var i=r.length,s=sr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){is(this),Ja(this);var a="";break t}this.h.i=new ce.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.length=0,this.h.g+=t,this.o=0,a=this.h.g}else a=this.g.ja();if(this.i=n==200,c5(this.j,this.v,this.B,this.m,this.W,p,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var c,u=this.g;if((c=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ml(c)){var d=c;break t}}d=null}if(n=d)ao(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Hg(this,n);else{this.i=!1,this.s=3,Zt(12),is(this),Ja(this);break e}}this.S?(YP(this,p,a),Dg&&this.i&&p==3&&(jP(this.U,this.V,"tick",this.mb),this.V.start())):(ao(this.j,this.m,a,null),Hg(this,a)),p==4&&is(this),this.i&&!this.J&&(p==4?wC(this.l,this):(this.i=!1,mu(this)))}else M5(this.g),n==400&&0<a.indexOf("Unknown SID")?(this.s=3,Zt(12)):(this.s=0,Zt(13)),is(this),Ja(this)}}}catch{}finally{}};function QP(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function YP(t,e,n){let r=!0,i;for(;!t.J&&t.o<n.length;)if(i=p5(t,n),i==Ug){e==4&&(t.s=4,Zt(14),r=!1),ao(t.j,t.m,null,"[Incomplete Response]");break}else if(i==KP){t.s=4,Zt(15),ao(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else ao(t.j,t.m,i,null),Hg(t,i);QP(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,Zt(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),ty(e),e.M=!0,Zt(11))):(ao(t.j,t.m,n,"[Invalid Chunked Response]"),is(t),Ja(t))}H.mb=function(){if(this.g){var t=sr(this.g),e=this.g.ja();this.o<e.length&&(nf(this),YP(this,t,e),this.i&&t!=4&&mu(this))}};function p5(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?Ug:(n=Number(e.substring(n,r)),isNaN(n)?KP:(r+=1,r+n>e.length?Ug:(e=e.slice(r,r+n),t.o=r+n,e)))}H.cancel=function(){this.J=!0,is(this)};function mu(t){t.Y=Date.now()+t.P,XP(t,t.P)}function XP(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=du(Bt(t.lb,t),e)}function nf(t){t.C&&(ce.clearTimeout(t.C),t.C=null)}H.lb=function(){this.C=null;const t=Date.now();0<=t-this.Y?(h5(this.j,this.B),this.L!=2&&(zl(),Zt(17)),is(this),this.s=2,Ja(this)):XP(this,this.Y-t)};function Ja(t){t.l.H==0||t.J||wC(t.l,t)}function is(t){nf(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,W_(t.V),$P(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Hg(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Wg(n.i,t))){if(!t.K&&Wg(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Jh(n),lf(n);else break e;ey(n),Zt(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=du(Bt(n.ib,n),6e3));if(1>=oC(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else ss(n,11)}else if((t.K||n.g==t)&&Jh(n),!Ml(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let d=i[e];if(n.V=d[0],d=d[1],n.H==2)if(d[0]=="c"){n.K=d[1],n.pa=d[2];const p=d[3];p!=null&&(n.ra=p,n.l.info("VER="+n.ra));const m=d[4];m!=null&&(n.Ga=m,n.l.info("SVER="+n.Ga));const v=d[5];v!=null&&typeof v=="number"&&0<v&&(r=1.5*v,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const T=t.g;if(T){const S=T.g?T.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(S){var s=r.i;s.g||S.indexOf("spdy")==-1&&S.indexOf("quic")==-1&&S.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(Q_(s,s.h),s.h=null))}if(r.F){const I=T.g?T.g.getResponseHeader("X-HTTP-Session-Id"):null;I&&(r.Da=I,$e(r.I,r.F,I))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var a=t;if(r.wa=SC(r,r.J?r.pa:null,r.Y),a.K){aC(r.i,a);var c=a,u=r.L;u&&c.setTimeout(u),c.C&&(nf(c),mu(c)),r.g=a}else _C(r);0<n.j.length&&uf(n)}else d[0]!="stop"&&d[0]!="close"||ss(n,7);else n.H==3&&(d[0]=="stop"||d[0]=="close"?d[0]=="stop"?ss(n,7):J_(n):d[0]!="noop"&&n.h&&n.h.Aa(d),n.A=0)}}zl(4)}catch{}}function m5(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Gd(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function g5(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Gd(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function JP(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Gd(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=g5(t),r=m5(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var eC=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function v5(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function hs(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof hs){this.h=t.h,Yh(this,t.j),this.s=t.s,this.g=t.g,Xh(this,t.m),this.l=t.l;var e=t.i,n=new jl;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),EE(this,n),this.o=t.o}else t&&(e=String(t).match(eC))?(this.h=!1,Yh(this,e[1]||"",!0),this.s=Va(e[2]||""),this.g=Va(e[3]||"",!0),Xh(this,e[4]),this.l=Va(e[5]||"",!0),EE(this,e[6]||"",!0),this.o=Va(e[7]||"")):(this.h=!1,this.i=new jl(null,this.h))}hs.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Fa(e,TE,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Fa(e,TE,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Fa(n,n.charAt(0)=="/"?w5:y5,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Fa(n,T5)),t.join("")};function jr(t){return new hs(t)}function Yh(t,e,n){t.j=n?Va(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Xh(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function EE(t,e,n){e instanceof jl?(t.i=e,S5(t.i,t.h)):(n||(e=Fa(e,E5)),t.i=new jl(e,t.h))}function $e(t,e,n){t.i.set(e,n)}function rf(t){return $e(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Va(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Fa(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,_5),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function _5(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var TE=/[#\/\?@]/g,y5=/[#\?:]/g,w5=/[#\?]/g,E5=/[#\?@]/g,T5=/#/g;function jl(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Ui(t){t.g||(t.g=new Map,t.h=0,t.i&&v5(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}H=jl.prototype;H.add=function(t,e){Ui(this),this.i=null,t=Zo(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function tC(t,e){Ui(t),e=Zo(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function nC(t,e){return Ui(t),e=Zo(t,e),t.g.has(e)}H.forEach=function(t,e){Ui(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};H.ta=function(){Ui(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};H.Z=function(t){Ui(this);let e=[];if(typeof t=="string")nC(this,t)&&(e=e.concat(this.g.get(Zo(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};H.set=function(t,e){return Ui(this),this.i=null,t=Zo(this,t),nC(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};H.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function rC(t,e,n){tC(t,e),0<n.length&&(t.i=null,t.g.set(Zo(t,e),D_(n)),t.h+=n.length)}H.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),a=this.Z(r);for(r=0;r<a.length;r++){var i=s;a[r]!==""&&(i+="="+encodeURIComponent(String(a[r]))),t.push(i)}}return this.i=t.join("&")};function Zo(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function S5(t,e){e&&!t.j&&(Ui(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(tC(this,r),rC(this,i,n))},t)),t.j=e}var I5=class{constructor(t,e){this.g=t,this.map=e}};function iC(t){this.l=t||P5,ce.PerformanceNavigationTiming?(t=ce.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(ce.g&&ce.g.Ka&&ce.g.Ka()&&ce.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var P5=10;function sC(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function oC(t){return t.h?1:t.g?t.g.size:0}function Wg(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Q_(t,e){t.g?t.g.add(e):t.h=e}function aC(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}iC.prototype.cancel=function(){if(this.i=lC(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function lC(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return D_(t.i)}var C5=class{stringify(t){return ce.JSON.stringify(t,void 0)}parse(t){return ce.JSON.parse(t,void 0)}};function x5(){this.g=new C5}function b5(t,e,n){const r=n||"";try{JP(t,function(i,s){let a=i;cu(i)&&(a=B_(i)),e.push(r+s+"="+encodeURIComponent(a))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function R5(t,e){const n=new Xd;if(ce.Image){const r=new Image;r.onload=_c(wc,n,r,"TestLoadImage: loaded",!0,e),r.onerror=_c(wc,n,r,"TestLoadImage: error",!1,e),r.onabort=_c(wc,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=_c(wc,n,r,"TestLoadImage: timeout",!1,e),ce.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function wc(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function sf(t){this.l=t.ec||null,this.j=t.ob||!1}St(sf,G_);sf.prototype.g=function(){return new of(this.l,this.j)};sf.prototype.i=function(t){return function(){return t}}({});function of(t,e){Tt.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Y_,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}St(of,Tt);var Y_=0;H=of.prototype;H.open=function(t,e){if(this.readyState!=Y_)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,$l(this)};H.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||ce).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};H.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,gu(this)),this.readyState=Y_};H.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,$l(this)),this.g&&(this.readyState=3,$l(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ce.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;uC(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function uC(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}H.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?gu(this):$l(this),this.readyState==3&&uC(this)}};H.Za=function(t){this.g&&(this.response=this.responseText=t,gu(this))};H.Ya=function(t){this.g&&(this.response=t,gu(this))};H.ka=function(){this.g&&gu(this)};function gu(t){t.readyState=4,t.l=null,t.j=null,t.A=null,$l(t)}H.setRequestHeader=function(t,e){this.v.append(t,e)};H.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};H.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function $l(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(of.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var A5=ce.JSON.parse;function et(t){Tt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=cC,this.L=this.M=!1}St(et,Tt);var cC="",k5=/^https?$/i,O5=["POST","PUT"];H=et.prototype;H.Oa=function(t){this.M=t};H.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():$g.g(),this.C=this.u?wE(this.u):wE($g),this.g.onreadystatechange=Bt(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){SE(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=ce.FormData&&t instanceof ce.FormData,!(0<=CP(O5,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,a]of n)this.g.setRequestHeader(s,a);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{fC(this),0<this.B&&((this.L=L5(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Bt(this.ua,this)):this.A=q_(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){SE(this,s)}};function L5(t){return ko&&typeof t.timeout=="number"&&t.ontimeout!==void 0}H.ua=function(){typeof N_<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Lt(this,"timeout"),this.abort(8))};function SE(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,hC(t),af(t)}function hC(t){t.F||(t.F=!0,Lt(t,"complete"),Lt(t,"error"))}H.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Lt(this,"complete"),Lt(this,"abort"),af(this))};H.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),af(this,!0)),et.$.N.call(this)};H.La=function(){this.s||(this.G||this.v||this.l?dC(this):this.kb())};H.kb=function(){dC(this)};function dC(t){if(t.h&&typeof N_<"u"&&(!t.C[1]||sr(t)!=4||t.da()!=2)){if(t.v&&sr(t)==4)q_(t.La,0,t);else if(Lt(t,"readystatechange"),sr(t)==4){t.h=!1;try{const a=t.da();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=a===0){var i=String(t.I).match(eC)[1]||null;!i&&ce.self&&ce.self.location&&(i=ce.self.location.protocol.slice(0,-1)),r=!k5.test(i?i.toLowerCase():"")}n=r}if(n)Lt(t,"complete"),Lt(t,"success");else{t.m=6;try{var s=2<sr(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",hC(t)}}finally{af(t)}}}}function af(t,e){if(t.g){fC(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Lt(t,"ready");try{n.onreadystatechange=r}catch{}}}function fC(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(ce.clearTimeout(t.A),t.A=null)}H.isActive=function(){return!!this.g};function sr(t){return t.g?t.g.readyState:0}H.da=function(){try{return 2<sr(this)?this.g.status:-1}catch{return-1}};H.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};H.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),A5(e)}};function IE(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case cC:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function M5(t){const e={};t=(t.g&&2<=sr(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(Ml(t[r]))continue;var n=s5(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}XD(e,function(r){return r.join(", ")})}H.Ia=function(){return this.m};H.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function pC(t){let e="";return F_(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function X_(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=pC(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):$e(t,e,n))}function Pa(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function mC(t){this.Ga=0,this.j=[],this.l=new Xd,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Pa("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Pa("baseRetryDelayMs",5e3,t),this.hb=Pa("retryDelaySeedMs",1e4,t),this.eb=Pa("forwardChannelMaxRetries",2,t),this.xa=Pa("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new iC(t&&t.concurrentRequestLimit),this.Ja=new x5,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}H=mC.prototype;H.ra=8;H.H=1;function J_(t){if(gC(t),t.H==3){var e=t.W++,n=jr(t.I);if($e(n,"SID",t.K),$e(n,"RID",e),$e(n,"TYPE","terminate"),vu(t,n),e=new pu(t,t.l,e),e.L=2,e.A=rf(jr(n)),n=!1,ce.navigator&&ce.navigator.sendBeacon)try{n=ce.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&ce.Image&&(new Image().src=e.A,n=!0),n||(e.g=IC(e.l,null),e.g.ha(e.A)),e.G=Date.now(),mu(e)}TC(t)}function lf(t){t.g&&(ty(t),t.g.cancel(),t.g=null)}function gC(t){lf(t),t.u&&(ce.clearTimeout(t.u),t.u=null),Jh(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&ce.clearTimeout(t.m),t.m=null)}function uf(t){if(!sC(t.i)&&!t.m){t.m=!0;var e=t.Na;Dl||FP(),Vl||(Dl(),Vl=!0),H_.add(e,t),t.C=0}}function N5(t,e){return oC(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=du(Bt(t.Na,t,e),EC(t,t.C)),t.C++,!0)}H.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new pu(this,this.l,t);let s=this.s;if(this.U&&(s?(s=AP(s),kP(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=vC(this,i,e),n=jr(this.I),$e(n,"RID",t),$e(n,"CVER",22),this.F&&$e(n,"X-HTTP-Session-Id",this.F),vu(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(pC(s)))+"&"+e:this.o&&X_(n,this.o,s)),Q_(this.i,i),this.bb&&$e(n,"TYPE","init"),this.P?($e(n,"$req",e),$e(n,"SID","null"),i.aa=!0,Bg(i,n,null)):Bg(i,n,e),this.H=2}}else this.H==3&&(t?PE(this,t):this.j.length==0||sC(this.i)||PE(this))};function PE(t,e){var n;e?n=e.m:n=t.W++;const r=jr(t.I);$e(r,"SID",t.K),$e(r,"RID",n),$e(r,"AID",t.V),vu(t,r),t.o&&t.s&&X_(r,t.o,t.s),n=new pu(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=vC(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Q_(t.i,n),Bg(n,r,e)}function vu(t,e){t.na&&F_(t.na,function(n,r){$e(e,r,n)}),t.h&&JP({},function(n,r){$e(e,r,n)})}function vC(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Bt(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const a=["count="+n];s==-1?0<n?(s=i[0].g,a.push("ofs="+s)):s=0:a.push("ofs="+s);let c=!0;for(let u=0;u<n;u++){let d=i[u].g;const p=i[u].map;if(d-=s,0>d)s=Math.max(0,i[u].g-100),c=!1;else try{b5(p,a,"req"+d+"_")}catch{r&&r(p)}}if(c){r=a.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function _C(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Dl||FP(),Vl||(Dl(),Vl=!0),H_.add(e,t),t.A=0}}function ey(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=du(Bt(t.Ma,t),EC(t,t.A)),t.A++,!0)}H.Ma=function(){if(this.u=null,yC(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=du(Bt(this.jb,this),t)}};H.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Zt(10),lf(this),yC(this))};function ty(t){t.B!=null&&(ce.clearTimeout(t.B),t.B=null)}function yC(t){t.g=new pu(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=jr(t.wa);$e(e,"RID","rpc"),$e(e,"SID",t.K),$e(e,"AID",t.V),$e(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&$e(e,"TO",t.qa),$e(e,"TYPE","xmlhttp"),vu(t,e),t.o&&t.s&&X_(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=rf(jr(e)),n.u=null,n.S=!0,ZP(n,t)}H.ib=function(){this.v!=null&&(this.v=null,lf(this),ey(this),Zt(19))};function Jh(t){t.v!=null&&(ce.clearTimeout(t.v),t.v=null)}function wC(t,e){var n=null;if(t.g==e){Jh(t),ty(t),t.g=null;var r=2}else if(Wg(t.i,e))n=e.F,aC(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;r=Jd(),Lt(r,new HP(r,n)),uf(t)}else _C(t);else if(i=e.s,i==3||i==0&&0<e.ca||!(r==1&&N5(t,e)||r==2&&ey(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:ss(t,5);break;case 4:ss(t,10);break;case 3:ss(t,6);break;default:ss(t,2)}}}function EC(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function ss(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=Bt(t.pb,t);n||(n=new hs("//www.google.com/images/cleardot.gif"),ce.location&&ce.location.protocol=="http"||Yh(n,"https"),rf(n)),R5(n.toString(),r)}else Zt(2);t.H=0,t.h&&t.h.za(e),TC(t),gC(t)}H.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Zt(2)):(this.l.info("Failed to ping google.com"),Zt(1))};function TC(t){if(t.H=0,t.ma=[],t.h){const e=lC(t.i);(e.length!=0||t.j.length!=0)&&(mE(t.ma,e),mE(t.ma,t.j),t.i.i.length=0,D_(t.j),t.j.length=0),t.h.ya()}}function SC(t,e,n){var r=n instanceof hs?jr(n):new hs(n);if(r.g!="")e&&(r.g=e+"."+r.g),Xh(r,r.m);else{var i=ce.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new hs(null);r&&Yh(s,r),e&&(s.g=e),i&&Xh(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&$e(r,n,e),$e(r,"VER",t.ra),vu(t,r),r}function IC(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new et(new sf({ob:n})):new et(t.va),e.Oa(t.J),e}H.isActive=function(){return!!this.h&&this.h.isActive(this)};function PC(){}H=PC.prototype;H.Ba=function(){};H.Aa=function(){};H.za=function(){};H.ya=function(){};H.isActive=function(){return!0};H.Va=function(){};function ed(){if(ko&&!(10<=Number(KD)))throw Error("Environmental error: no available transport.")}ed.prototype.g=function(t,e){return new wn(t,e)};function wn(t,e){Tt.call(this),this.g=new mC(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Ml(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ml(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Qo(this)}St(wn,Tt);wn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Zt(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=SC(t,null,t.Y),uf(t)};wn.prototype.close=function(){J_(this.g)};wn.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=B_(t),t=n);e.j.push(new I5(e.fb++,t)),e.H==3&&uf(e)};wn.prototype.N=function(){this.g.h=null,delete this.j,J_(this.g),delete this.g,wn.$.N.call(this)};function CC(t){K_.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}St(CC,K_);function xC(){Z_.call(this),this.status=1}St(xC,Z_);function Qo(t){this.g=t}St(Qo,PC);Qo.prototype.Ba=function(){Lt(this.g,"a")};Qo.prototype.Aa=function(t){Lt(this.g,new CC(t))};Qo.prototype.za=function(t){Lt(this.g,new xC)};Qo.prototype.ya=function(){Lt(this.g,"b")};function D5(){this.blockSize=-1}function Gn(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}St(Gn,D5);Gn.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function hm(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],a=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(a<<7&4294967295|a>>>25),a=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(a<<12&4294967295|a>>>20),a=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(a<<17&4294967295|a>>>15),a=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(a<<22&4294967295|a>>>10),a=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(a<<7&4294967295|a>>>25),a=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(a<<12&4294967295|a>>>20),a=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(a<<17&4294967295|a>>>15),a=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(a<<22&4294967295|a>>>10),a=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(a<<7&4294967295|a>>>25),a=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(a<<12&4294967295|a>>>20),a=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(a<<17&4294967295|a>>>15),a=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(a<<22&4294967295|a>>>10),a=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(a<<7&4294967295|a>>>25),a=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(a<<12&4294967295|a>>>20),a=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(a<<17&4294967295|a>>>15),a=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(a<<22&4294967295|a>>>10),a=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(a<<5&4294967295|a>>>27),a=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(a<<9&4294967295|a>>>23),a=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(a<<14&4294967295|a>>>18),a=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(a<<20&4294967295|a>>>12),a=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(a<<5&4294967295|a>>>27),a=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(a<<9&4294967295|a>>>23),a=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(a<<14&4294967295|a>>>18),a=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(a<<20&4294967295|a>>>12),a=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(a<<5&4294967295|a>>>27),a=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(a<<9&4294967295|a>>>23),a=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(a<<14&4294967295|a>>>18),a=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(a<<20&4294967295|a>>>12),a=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(a<<5&4294967295|a>>>27),a=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(a<<9&4294967295|a>>>23),a=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(a<<14&4294967295|a>>>18),a=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(a<<20&4294967295|a>>>12),a=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(a<<4&4294967295|a>>>28),a=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(a<<11&4294967295|a>>>21),a=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(a<<16&4294967295|a>>>16),a=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(a<<23&4294967295|a>>>9),a=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(a<<4&4294967295|a>>>28),a=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(a<<11&4294967295|a>>>21),a=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(a<<16&4294967295|a>>>16),a=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(a<<23&4294967295|a>>>9),a=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(a<<4&4294967295|a>>>28),a=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(a<<11&4294967295|a>>>21),a=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(a<<16&4294967295|a>>>16),a=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(a<<23&4294967295|a>>>9),a=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(a<<4&4294967295|a>>>28),a=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(a<<11&4294967295|a>>>21),a=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(a<<16&4294967295|a>>>16),a=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(a<<23&4294967295|a>>>9),a=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(a<<6&4294967295|a>>>26),a=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(a<<10&4294967295|a>>>22),a=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(a<<15&4294967295|a>>>17),a=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(a<<21&4294967295|a>>>11),a=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(a<<6&4294967295|a>>>26),a=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(a<<10&4294967295|a>>>22),a=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(a<<15&4294967295|a>>>17),a=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(a<<21&4294967295|a>>>11),a=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(a<<6&4294967295|a>>>26),a=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(a<<10&4294967295|a>>>22),a=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(a<<15&4294967295|a>>>17),a=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(a<<21&4294967295|a>>>11),a=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(a<<6&4294967295|a>>>26),a=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(a<<10&4294967295|a>>>22),a=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(a<<15&4294967295|a>>>17),a=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(a<<21&4294967295|a>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}Gn.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)hm(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){hm(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){hm(this,r),i=0;break}}this.h=i,this.i+=e};Gn.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function Oe(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var V5={};function ny(t){return-128<=t&&128>t?WD(t,function(e){return new Oe([e|0],0>e?-1:0)}):new Oe([t|0],0>t?-1:0)}function or(t){if(isNaN(t)||!isFinite(t))return vo;if(0>t)return At(or(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=qg;return new Oe(e,0)}function bC(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return At(bC(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=or(Math.pow(e,8)),r=vo,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),a=parseInt(t.substring(i,i+s),e);8>s?(s=or(Math.pow(e,s)),r=r.R(s).add(or(a))):(r=r.R(n),r=r.add(or(a)))}return r}var qg=4294967296,vo=ny(0),Gg=ny(1),CE=ny(16777216);H=Oe.prototype;H.ea=function(){if(Rn(this))return-At(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:qg+r)*e,e*=qg}return t};H.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Ar(this))return"0";if(Rn(this))return"-"+At(this).toString(t);for(var e=or(Math.pow(t,6)),n=this,r="";;){var i=nd(n,e).g;n=td(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,Ar(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};H.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Ar(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Rn(t){return t.h==-1}H.X=function(t){return t=td(this,t),Rn(t)?-1:Ar(t)?0:1};function At(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Oe(n,~t.h).add(Gg)}H.abs=function(){return Rn(this)?At(this):this};H.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),a=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=a>>>16,s&=65535,a&=65535,n[i]=a<<16|s}return new Oe(n,n[n.length-1]&-2147483648?-1:0)};function td(t,e){return t.add(At(e))}H.R=function(t){if(Ar(this)||Ar(t))return vo;if(Rn(this))return Rn(t)?At(this).R(At(t)):At(At(this).R(t));if(Rn(t))return At(this.R(At(t)));if(0>this.X(CE)&&0>t.X(CE))return or(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,a=this.D(r)&65535,c=t.D(i)>>>16,u=t.D(i)&65535;n[2*r+2*i]+=a*u,Ec(n,2*r+2*i),n[2*r+2*i+1]+=s*u,Ec(n,2*r+2*i+1),n[2*r+2*i+1]+=a*c,Ec(n,2*r+2*i+1),n[2*r+2*i+2]+=s*c,Ec(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Oe(n,0)};function Ec(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Ca(t,e){this.g=t,this.h=e}function nd(t,e){if(Ar(e))throw Error("division by zero");if(Ar(t))return new Ca(vo,vo);if(Rn(t))return e=nd(At(t),e),new Ca(At(e.g),At(e.h));if(Rn(e))return e=nd(t,At(e)),new Ca(At(e.g),e.h);if(30<t.g.length){if(Rn(t)||Rn(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Gg,r=e;0>=r.X(t);)n=xE(n),r=xE(r);var i=Bs(n,1),s=Bs(r,1);for(r=Bs(r,2),n=Bs(n,2);!Ar(r);){var a=s.add(r);0>=a.X(t)&&(i=i.add(n),s=a),r=Bs(r,1),n=Bs(n,1)}return e=td(t,i.R(e)),new Ca(i,e)}for(i=vo;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=or(n),a=s.R(e);Rn(a)||0<a.X(t);)n-=r,s=or(n),a=s.R(e);Ar(s)&&(s=Gg),i=i.add(s),t=td(t,a)}return new Ca(i,t)}H.gb=function(t){return nd(this,t).h};H.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Oe(n,this.h&t.h)};H.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Oe(n,this.h|t.h)};H.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Oe(n,this.h^t.h)};function xE(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Oe(n,t.h)}function Bs(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new Oe(i,t.h)}ed.prototype.createWebChannel=ed.prototype.g;wn.prototype.send=wn.prototype.u;wn.prototype.open=wn.prototype.m;wn.prototype.close=wn.prototype.close;ef.NO_ERROR=0;ef.TIMEOUT=8;ef.HTTP_ERROR=6;WP.COMPLETE="complete";qP.EventType=fu;fu.OPEN="a";fu.CLOSE="b";fu.ERROR="c";fu.MESSAGE="d";Tt.prototype.listen=Tt.prototype.O;et.prototype.listenOnce=et.prototype.P;et.prototype.getLastError=et.prototype.Sa;et.prototype.getLastErrorCode=et.prototype.Ia;et.prototype.getStatus=et.prototype.da;et.prototype.getResponseJson=et.prototype.Wa;et.prototype.getResponseText=et.prototype.ja;et.prototype.send=et.prototype.ha;et.prototype.setWithCredentials=et.prototype.Oa;Gn.prototype.digest=Gn.prototype.l;Gn.prototype.reset=Gn.prototype.reset;Gn.prototype.update=Gn.prototype.j;Oe.prototype.add=Oe.prototype.add;Oe.prototype.multiply=Oe.prototype.R;Oe.prototype.modulo=Oe.prototype.gb;Oe.prototype.compare=Oe.prototype.X;Oe.prototype.toNumber=Oe.prototype.ea;Oe.prototype.toString=Oe.prototype.toString;Oe.prototype.getBits=Oe.prototype.D;Oe.fromNumber=or;Oe.fromString=bC;var F5=function(){return new ed},z5=function(){return Jd()},dm=ef,j5=WP,$5=Rs,bE={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Tc=qP,U5=et,B5=Gn,_o=Oe;const RE="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}jt.UNAUTHENTICATED=new jt(null),jt.GOOGLE_CREDENTIALS=new jt("google-credentials-uid"),jt.FIRST_PARTY=new jt("first-party-uid"),jt.MOCK_USER=new jt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yo="10.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ts=new S_("@firebase/firestore");function xa(){return Ts.logLevel}function B(t,...e){if(Ts.logLevel<=Te.DEBUG){const n=e.map(ry);Ts.debug(`Firestore (${Yo}): ${t}`,...n)}}function vr(t,...e){if(Ts.logLevel<=Te.ERROR){const n=e.map(ry);Ts.error(`Firestore (${Yo}): ${t}`,...n)}}function Oo(t,...e){if(Ts.logLevel<=Te.WARN){const n=e.map(ry);Ts.warn(`Firestore (${Yo}): ${t}`,...n)}}function ry(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ue(t="Unexpected state"){const e=`FIRESTORE (${Yo}) INTERNAL ASSERTION FAILED: `+t;throw vr(e),new Error(e)}function Fe(t,e){t||ue()}function de(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class G extends qr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RC{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class H5{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(jt.UNAUTHENTICATED))}shutdown(){}}class W5{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class q5{constructor(e){this.t=e,this.currentUser=jt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let s=new dr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new dr,e.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const u=s;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},c=u=>{B("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(u=>c(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?c(u):(B("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new dr)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(B("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Fe(typeof r.accessToken=="string"),new RC(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Fe(e===null||typeof e=="string"),new jt(e)}}class G5{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=jt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class K5{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new G5(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(jt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Z5{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Q5{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&B("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.R;return this.R=s.token,B("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{B("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):B("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Fe(typeof n.token=="string"),this.R=n.token,new Z5(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y5(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=Y5(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Ae(t,e){return t<e?-1:t>e?1:0}function Lo(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new G(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new G(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new G(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new G(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return mt.fromMillis(Date.now())}static fromDate(e){return mt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new mt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ae(this.nanoseconds,e.nanoseconds):Ae(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(e){this.timestamp=e}static fromTimestamp(e){return new he(e)}static min(){return new he(new mt(0,0))}static max(){return new he(new mt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{constructor(e,n,r){n===void 0?n=0:n>e.length&&ue(),r===void 0?r=e.length-n:r>e.length-n&&ue(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ul.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ul?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),a=n.get(i);if(s<a)return-1;if(s>a)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ue extends Ul{construct(e,n,r){return new Ue(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new G(F.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Ue(n)}static emptyPath(){return new Ue([])}}const X5=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class kt extends Ul{construct(e,n,r){return new kt(e,n,r)}static isValidIdentifier(e){return X5.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),kt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new kt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new G(F.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;i<e.length;){const c=e[i];if(c==="\\"){if(i+1===e.length)throw new G(F.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new G(F.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else c==="`"?(a=!a,i++):c!=="."||a?(r+=c,i++):(s(),i++)}if(s(),a)throw new G(F.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new kt(n)}static emptyPath(){return new kt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.path=e}static fromPath(e){return new J(Ue.fromString(e))}static fromName(e){return new J(Ue.fromString(e).popFirst(5))}static empty(){return new J(Ue.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ue.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ue.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new J(new Ue(e.slice()))}}function J5(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=he.fromTimestamp(r===1e9?new mt(n+1,0):new mt(n,r));return new Oi(i,J.empty(),e)}function eV(t){return new Oi(t.readTime,t.key,-1)}class Oi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Oi(he.min(),J.empty(),-1)}static max(){return new Oi(he.max(),J.empty(),-1)}}function tV(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=J.comparator(t.documentKey,e.documentKey),n!==0?n:Ae(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class rV{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _u(t){if(t.code!==F.FAILED_PRECONDITION||t.message!==nV)throw t;B("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ue(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new z((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof z?n:z.resolve(n)}catch(n){return z.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):z.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):z.reject(n)}static resolve(e){return new z((n,r)=>{n(e)})}static reject(e){return new z((n,r)=>{r(e)})}static waitFor(e){return new z((n,r)=>{let i=0,s=0,a=!1;e.forEach(c=>{++i,c.next(()=>{++s,a&&s===i&&n()},u=>r(u))}),a=!0,s===i&&n()})}static or(e){let n=z.resolve(!1);for(const r of e)n=n.next(i=>i?z.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new z((r,i)=>{const s=e.length,a=new Array(s);let c=0;for(let u=0;u<s;u++){const d=u;n(e[d]).next(p=>{a[d]=p,++c,c===s&&r(a)},p=>i(p))}})}static doWhile(e,n){return new z((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iy{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new dr,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new el(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=sy(r.target.error);this.V.reject(new el(e,i))}}static open(e,n,r,i){try{return new iy(n,e.transaction(i,r))}catch(s){throw new el(n,s)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(B("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new sV(n)}}class os{constructor(e,n,r){this.name=e,this.version=n,this.p=r,os.S(ht())===12.2&&vr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return B("SimpleDb","Removing database:",e),es(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!jI())return!1;if(os.C())return!0;const e=ht(),n=os.S(e),r=0<n&&n<10,i=os.v(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static C(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.F)==="YES"}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(e){const n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}async O(e){return this.db||(B("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const a=s.target.result;n(a)},i.onblocked=()=>{r(new el(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const a=s.target.error;a.name==="VersionError"?r(new G(F.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):a.name==="InvalidStateError"?r(new G(F.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a)):r(new el(e,a))},i.onupgradeneeded=s=>{B("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const a=s.target.result;this.p.N(a,i.transaction,s.oldVersion,this.version).next(()=>{B("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.L&&(this.db.onversionchange=n=>this.L(n)),this.db}B(e){this.L=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const s=n==="readonly";let a=0;for(;;){++a;try{this.db=await this.O(e);const c=iy.open(this.db,e,s?"readonly":"readwrite",r),u=i(c).next(d=>(c.g(),d)).catch(d=>(c.abort(d),z.reject(d))).toPromise();return u.catch(()=>{}),await c.m,u}catch(c){const u=c,d=u.name!=="FirebaseError"&&a<3;if(B("SimpleDb","Transaction failed with error:",u.message,"Retrying:",d),this.close(),!d)return Promise.reject(u)}}}close(){this.db&&this.db.close(),this.db=void 0}}class iV{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return es(this.k.delete())}}class el extends G{constructor(e,n){super(F.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function yu(t){return t.name==="IndexedDbTransactionError"}class sV{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(B("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(B("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),es(r)}add(e){return B("SimpleDb","ADD",this.store.name,e,e),es(this.store.add(e))}get(e){return es(this.store.get(e)).next(n=>(n===void 0&&(n=null),B("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return B("SimpleDb","DELETE",this.store.name,e),es(this.store.delete(e))}count(){return B("SimpleDb","COUNT",this.store.name),es(this.store.count())}W(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const s=i.getAll(r.range);return new z((a,c)=>{s.onerror=u=>{c(u.target.error)},s.onsuccess=u=>{a(u.target.result)}})}{const s=this.cursor(r),a=[];return this.G(s,(c,u)=>{a.push(u)}).next(()=>a)}}j(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new z((i,s)=>{r.onerror=a=>{s(a.target.error)},r.onsuccess=a=>{i(a.target.result)}})}H(e,n){B("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.J=!1;const i=this.cursor(r);return this.G(i,(s,a,c)=>c.delete())}Y(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.G(i,n)}Z(e){const n=this.cursor({});return new z((r,i)=>{n.onerror=s=>{const a=sy(s.target.error);i(a)},n.onsuccess=s=>{const a=s.target.result;a?e(a.primaryKey,a.value).next(c=>{c?a.continue():r()}):r()}})}G(e,n){const r=[];return new z((i,s)=>{e.onerror=a=>{s(a.target.error)},e.onsuccess=a=>{const c=a.target.result;if(!c)return void i();const u=new iV(c),d=n(c.primaryKey,c.value,u);if(d instanceof z){const p=d.catch(m=>(u.done(),z.reject(m)));r.push(p)}u.isDone?i():u.$===null?c.continue():c.continue(u.$)}}).next(()=>z.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.J?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function es(t){return new z((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=sy(r.target.error);n(i)}})}let AE=!1;function sy(t){const e=os.S(ht());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new G("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return AE||(AE=!0,setTimeout(()=>{throw r},0)),r}}return t}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oy{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.se(r),this.oe=r=>n.writeSequenceNumber(r))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}oy._e=-1;function cf(t){return t==null}function rd(t){return t===0&&1/t==-1/0}function oV(t){return typeof t=="number"&&Number.isInteger(t)&&!rd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kE(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function As(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function kC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(e,n){this.comparator=e,this.root=n||bt.EMPTY}insert(e,n){return new Ye(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,bt.BLACK,null,null))}remove(e){return new Ye(this.comparator,this.root.remove(e,this.comparator).copy(null,null,bt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Sc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Sc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Sc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Sc(this.root,e,this.comparator,!0)}}class Sc{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class bt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??bt.RED,this.left=i??bt.EMPTY,this.right=s??bt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new bt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return bt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return bt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,bt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,bt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ue();const e=this.left.check();if(e!==this.right.check())throw ue();return e+(this.isRed()?0:1)}}bt.EMPTY=null,bt.RED=!0,bt.BLACK=!1;bt.EMPTY=new class{constructor(){this.size=0}get key(){throw ue()}get value(){throw ue()}get color(){throw ue()}get left(){throw ue()}get right(){throw ue()}copy(e,n,r,i,s){return this}insert(e,n,r){return new bt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e){this.comparator=e,this.data=new Ye(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new OE(this.data.getIterator())}getIteratorFrom(e){return new OE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Mt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Mt(this.comparator);return n.data=e,n}}class OE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e){this.fields=e,e.sort(kt.comparator)}static empty(){return new pn([])}unionWith(e){let n=new Mt(kt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new pn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Lo(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new OC("Invalid base64 string: "+s):s}}(e);return new qt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let a=0;a<i.length;++a)s+=String.fromCharCode(i[a]);return s}(e);return new qt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ae(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}qt.EMPTY_BYTE_STRING=new qt("");const aV=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Li(t){if(Fe(!!t),typeof t=="string"){let e=0;const n=aV.exec(t);if(Fe(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:at(t.seconds),nanos:at(t.nanos)}}function at(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ss(t){return typeof t=="string"?qt.fromBase64String(t):qt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ay(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function ly(t){const e=t.mapValue.fields.__previous_value__;return ay(e)?ly(e):e}function Bl(t){const e=Li(t.mapValue.fields.__local_write_time__.timestampValue);return new mt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lV{constructor(e,n,r,i,s,a,c,u,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=c,this.longPollingOptions=u,this.useFetchStreams=d}}class Hl{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Hl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Hl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ic={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Is(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ay(t)?4:uV(t)?9007199254740991:10:ue()}function _r(t,e){if(t===e)return!0;const n=Is(t);if(n!==Is(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Bl(t).isEqual(Bl(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const a=Li(i.timestampValue),c=Li(s.timestampValue);return a.seconds===c.seconds&&a.nanos===c.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Ss(i.bytesValue).isEqual(Ss(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return at(i.geoPointValue.latitude)===at(s.geoPointValue.latitude)&&at(i.geoPointValue.longitude)===at(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return at(i.integerValue)===at(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const a=at(i.doubleValue),c=at(s.doubleValue);return a===c?rd(a)===rd(c):isNaN(a)&&isNaN(c)}return!1}(t,e);case 9:return Lo(t.arrayValue.values||[],e.arrayValue.values||[],_r);case 10:return function(i,s){const a=i.mapValue.fields||{},c=s.mapValue.fields||{};if(kE(a)!==kE(c))return!1;for(const u in a)if(a.hasOwnProperty(u)&&(c[u]===void 0||!_r(a[u],c[u])))return!1;return!0}(t,e);default:return ue()}}function Wl(t,e){return(t.values||[]).find(n=>_r(n,e))!==void 0}function Mo(t,e){if(t===e)return 0;const n=Is(t),r=Is(e);if(n!==r)return Ae(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ae(t.booleanValue,e.booleanValue);case 2:return function(s,a){const c=at(s.integerValue||s.doubleValue),u=at(a.integerValue||a.doubleValue);return c<u?-1:c>u?1:c===u?0:isNaN(c)?isNaN(u)?0:-1:1}(t,e);case 3:return LE(t.timestampValue,e.timestampValue);case 4:return LE(Bl(t),Bl(e));case 5:return Ae(t.stringValue,e.stringValue);case 6:return function(s,a){const c=Ss(s),u=Ss(a);return c.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,a){const c=s.split("/"),u=a.split("/");for(let d=0;d<c.length&&d<u.length;d++){const p=Ae(c[d],u[d]);if(p!==0)return p}return Ae(c.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,a){const c=Ae(at(s.latitude),at(a.latitude));return c!==0?c:Ae(at(s.longitude),at(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,a){const c=s.values||[],u=a.values||[];for(let d=0;d<c.length&&d<u.length;++d){const p=Mo(c[d],u[d]);if(p)return p}return Ae(c.length,u.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,a){if(s===Ic.mapValue&&a===Ic.mapValue)return 0;if(s===Ic.mapValue)return 1;if(a===Ic.mapValue)return-1;const c=s.fields||{},u=Object.keys(c),d=a.fields||{},p=Object.keys(d);u.sort(),p.sort();for(let m=0;m<u.length&&m<p.length;++m){const v=Ae(u[m],p[m]);if(v!==0)return v;const T=Mo(c[u[m]],d[p[m]]);if(T!==0)return T}return Ae(u.length,p.length)}(t.mapValue,e.mapValue);default:throw ue()}}function LE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ae(t,e);const n=Li(t),r=Li(e),i=Ae(n.seconds,r.seconds);return i!==0?i:Ae(n.nanos,r.nanos)}function No(t){return Kg(t)}function Kg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Li(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ss(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return J.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Kg(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const a of r)s?s=!1:i+=",",i+=`${a}:${Kg(n.fields[a])}`;return i+"}"}(t.mapValue):ue()}function ME(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Zg(t){return!!t&&"integerValue"in t}function uy(t){return!!t&&"arrayValue"in t}function NE(t){return!!t&&"nullValue"in t}function DE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Gc(t){return!!t&&"mapValue"in t}function tl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return As(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=tl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=tl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function uV(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.value=e}static empty(){return new nn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Gc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=tl(n)}setAll(e){let n=kt.emptyPath(),r={},i=[];e.forEach((a,c)=>{if(!n.isImmediateParentOf(c)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=c.popLast()}a?r[c.lastSegment()]=tl(a):i.push(c.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Gc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return _r(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Gc(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){As(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new nn(tl(this.value))}}function LC(t){const e=[];return As(t.fields,(n,r)=>{const i=new kt([n]);if(Gc(r)){const s=LC(r.mapValue).fields;if(s.length===0)e.push(i);else for(const a of s)e.push(i.child(a))}else e.push(i)}),new pn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e,n,r,i,s,a,c){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=a,this.documentState=c}static newInvalidDocument(e){return new Ut(e,0,he.min(),he.min(),he.min(),nn.empty(),0)}static newFoundDocument(e,n,r,i){return new Ut(e,1,n,he.min(),r,i,0)}static newNoDocument(e,n){return new Ut(e,2,n,he.min(),he.min(),nn.empty(),0)}static newUnknownDocument(e,n){return new Ut(e,3,n,he.min(),he.min(),nn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(he.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=nn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=he.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ut&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ut(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id{constructor(e,n){this.position=e,this.inclusive=n}}function VE(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],a=t.position[i];if(s.field.isKeyField()?r=J.comparator(J.fromName(a.referenceValue),n.key):r=Mo(a,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function FE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!_r(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(e,n="asc"){this.field=e,this.dir=n}}function cV(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC{}class ct extends MC{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new dV(e,n,r):n==="array-contains"?new mV(e,r):n==="in"?new gV(e,r):n==="not-in"?new vV(e,r):n==="array-contains-any"?new _V(e,r):new ct(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new fV(e,r):new pV(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Mo(n,this.value)):n!==null&&Is(this.value)===Is(n)&&this.matchesComparison(Mo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ue()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Kn extends MC{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new Kn(e,n)}matches(e){return NC(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function NC(t){return t.op==="and"}function DC(t){return hV(t)&&NC(t)}function hV(t){for(const e of t.filters)if(e instanceof Kn)return!1;return!0}function Qg(t){if(t instanceof ct)return t.field.canonicalString()+t.op.toString()+No(t.value);if(DC(t))return t.filters.map(e=>Qg(e)).join(",");{const e=t.filters.map(n=>Qg(n)).join(",");return`${t.op}(${e})`}}function VC(t,e){return t instanceof ct?function(r,i){return i instanceof ct&&r.op===i.op&&r.field.isEqual(i.field)&&_r(r.value,i.value)}(t,e):t instanceof Kn?function(r,i){return i instanceof Kn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,a,c)=>s&&VC(a,i.filters[c]),!0):!1}(t,e):void ue()}function FC(t){return t instanceof ct?function(n){return`${n.field.canonicalString()} ${n.op} ${No(n.value)}`}(t):t instanceof Kn?function(n){return n.op.toString()+" {"+n.getFilters().map(FC).join(" ,")+"}"}(t):"Filter"}class dV extends ct{constructor(e,n,r){super(e,n,r),this.key=J.fromName(r.referenceValue)}matches(e){const n=J.comparator(e.key,this.key);return this.matchesComparison(n)}}class fV extends ct{constructor(e,n){super(e,"in",n),this.keys=zC("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class pV extends ct{constructor(e,n){super(e,"not-in",n),this.keys=zC("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function zC(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>J.fromName(r.referenceValue))}class mV extends ct{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return uy(n)&&Wl(n.arrayValue,this.value)}}class gV extends ct{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Wl(this.value.arrayValue,n)}}class vV extends ct{constructor(e,n){super(e,"not-in",n)}matches(e){if(Wl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Wl(this.value.arrayValue,n)}}class _V extends ct{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!uy(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Wl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yV{constructor(e,n=null,r=[],i=[],s=null,a=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=a,this.endAt=c,this.ce=null}}function zE(t,e=null,n=[],r=[],i=null,s=null,a=null){return new yV(t,e,n,r,i,s,a)}function cy(t){const e=de(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Qg(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),cf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>No(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>No(r)).join(",")),e.ce=n}return e.ce}function hy(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!cV(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!VC(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!FE(t.startAt,e.startAt)&&FE(t.endAt,e.endAt)}function Yg(t){return J.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu{constructor(e,n=null,r=[],i=[],s=null,a="F",c=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=a,this.startAt=c,this.endAt=u,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function wV(t,e,n,r,i,s,a,c){return new wu(t,e,n,r,i,s,a,c)}function dy(t){return new wu(t)}function jE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function jC(t){return t.collectionGroup!==null}function nl(t){const e=de(t);if(e.le===null){e.le=[];const n=new Set;for(const s of e.explicitOrderBy)e.le.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let c=new Mt(kt.comparator);return a.filters.forEach(u=>{u.getFlattenedFilters().forEach(d=>{d.isInequality()&&(c=c.add(d.field))})}),c})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.le.push(new sd(s,r))}),n.has(kt.keyField().canonicalString())||e.le.push(new sd(kt.keyField(),r))}return e.le}function fr(t){const e=de(t);return e.he||(e.he=EV(e,nl(t))),e.he}function EV(t,e){if(t.limitType==="F")return zE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new sd(i.field,s)});const n=t.endAt?new id(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new id(t.startAt.position,t.startAt.inclusive):null;return zE(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Xg(t,e){const n=t.filters.concat([e]);return new wu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Jg(t,e,n){return new wu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function hf(t,e){return hy(fr(t),fr(e))&&t.limitType===e.limitType}function $C(t){return`${cy(fr(t))}|lt:${t.limitType}`}function Ws(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>FC(i)).join(", ")}]`),cf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>No(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>No(i)).join(",")),`Target(${r})`}(fr(t))}; limitType=${t.limitType})`}function df(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):J.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of nl(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(a,c,u){const d=VE(a,c,u);return a.inclusive?d<=0:d<0}(r.startAt,nl(r),i)||r.endAt&&!function(a,c,u){const d=VE(a,c,u);return a.inclusive?d>=0:d>0}(r.endAt,nl(r),i))}(t,e)}function TV(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function UC(t){return(e,n)=>{let r=!1;for(const i of nl(t)){const s=SV(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function SV(t,e,n){const r=t.field.isKeyField()?J.comparator(e.key,n.key):function(s,a,c){const u=a.data.field(s),d=c.data.field(s);return u!==null&&d!==null?Mo(u,d):ue()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ue()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){As(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return kC(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IV=new Ye(J.comparator);function $r(){return IV}const BC=new Ye(J.comparator);function za(...t){let e=BC;for(const n of t)e=e.insert(n.key,n);return e}function HC(t){let e=BC;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function as(){return rl()}function WC(){return rl()}function rl(){return new Xo(t=>t.toString(),(t,e)=>t.isEqual(e))}const PV=new Ye(J.comparator),CV=new Mt(J.comparator);function we(...t){let e=CV;for(const n of t)e=e.add(n);return e}const xV=new Mt(Ae);function bV(){return xV}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qC(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:rd(e)?"-0":e}}function GC(t){return{integerValue:""+t}}function RV(t,e){return oV(e)?GC(e):qC(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff{constructor(){this._=void 0}}function AV(t,e,n){return t instanceof ql?function(i,s){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&ay(s)&&(s=ly(s)),s&&(a.fields.__previous_value__=s),{mapValue:a}}(n,e):t instanceof Gl?ZC(t,e):t instanceof Kl?QC(t,e):function(i,s){const a=KC(i,s),c=$E(a)+$E(i.Ie);return Zg(a)&&Zg(i.Ie)?GC(c):qC(i.serializer,c)}(t,e)}function kV(t,e,n){return t instanceof Gl?ZC(t,e):t instanceof Kl?QC(t,e):n}function KC(t,e){return t instanceof od?function(r){return Zg(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class ql extends ff{}class Gl extends ff{constructor(e){super(),this.elements=e}}function ZC(t,e){const n=YC(e);for(const r of t.elements)n.some(i=>_r(i,r))||n.push(r);return{arrayValue:{values:n}}}class Kl extends ff{constructor(e){super(),this.elements=e}}function QC(t,e){let n=YC(e);for(const r of t.elements)n=n.filter(i=>!_r(i,r));return{arrayValue:{values:n}}}class od extends ff{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function $E(t){return at(t.integerValue||t.doubleValue)}function YC(t){return uy(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OV{constructor(e,n){this.field=e,this.transform=n}}function LV(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Gl&&i instanceof Gl||r instanceof Kl&&i instanceof Kl?Lo(r.elements,i.elements,_r):r instanceof od&&i instanceof od?_r(r.Ie,i.Ie):r instanceof ql&&i instanceof ql}(t.transform,e.transform)}class MV{constructor(e,n){this.version=e,this.transformResults=n}}class pr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new pr}static exists(e){return new pr(void 0,e)}static updateTime(e){return new pr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Kc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class pf{}function XC(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new ex(t.key,pr.none()):new Eu(t.key,t.data,pr.none());{const n=t.data,r=nn.empty();let i=new Mt(kt.comparator);for(let s of e.fields)if(!i.has(s)){let a=n.field(s);a===null&&s.length>1&&(s=s.popLast(),a=n.field(s)),a===null?r.delete(s):r.set(s,a),i=i.add(s)}return new Bi(t.key,r,new pn(i.toArray()),pr.none())}}function NV(t,e,n){t instanceof Eu?function(i,s,a){const c=i.value.clone(),u=BE(i.fieldTransforms,s,a.transformResults);c.setAll(u),s.convertToFoundDocument(a.version,c).setHasCommittedMutations()}(t,e,n):t instanceof Bi?function(i,s,a){if(!Kc(i.precondition,s))return void s.convertToUnknownDocument(a.version);const c=BE(i.fieldTransforms,s,a.transformResults),u=s.data;u.setAll(JC(i)),u.setAll(c),s.convertToFoundDocument(a.version,u).setHasCommittedMutations()}(t,e,n):function(i,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function il(t,e,n,r){return t instanceof Eu?function(s,a,c,u){if(!Kc(s.precondition,a))return c;const d=s.value.clone(),p=HE(s.fieldTransforms,u,a);return d.setAll(p),a.convertToFoundDocument(a.version,d).setHasLocalMutations(),null}(t,e,n,r):t instanceof Bi?function(s,a,c,u){if(!Kc(s.precondition,a))return c;const d=HE(s.fieldTransforms,u,a),p=a.data;return p.setAll(JC(s)),p.setAll(d),a.convertToFoundDocument(a.version,p).setHasLocalMutations(),c===null?null:c.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(m=>m.field))}(t,e,n,r):function(s,a,c){return Kc(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):c}(t,e,n)}function DV(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=KC(r.transform,i||null);s!=null&&(n===null&&(n=nn.empty()),n.set(r.field,s))}return n||null}function UE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Lo(r,i,(s,a)=>LV(s,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Eu extends pf{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Bi extends pf{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function JC(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function BE(t,e,n){const r=new Map;Fe(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],a=s.transform,c=e.data.field(s.field);r.set(s.field,kV(a,c,n[i]))}return r}function HE(t,e,n){const r=new Map;for(const i of t){const s=i.transform,a=n.data.field(i.field);r.set(i.field,AV(s,a,e))}return r}class ex extends pf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class VV extends pf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FV{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&NV(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=il(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=il(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=WC();return this.mutations.forEach(i=>{const s=e.get(i.key),a=s.overlayedDocument;let c=this.applyToLocalView(a,s.mutatedFields);c=n.has(i.key)?null:c;const u=XC(a,c);u!==null&&r.set(i.key,u),a.isValidDocument()||a.convertToNoDocument(he.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),we())}isEqual(e){return this.batchId===e.batchId&&Lo(this.mutations,e.mutations,(n,r)=>UE(n,r))&&Lo(this.baseMutations,e.baseMutations,(n,r)=>UE(n,r))}}class fy{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Fe(e.mutations.length===r.length);let i=function(){return PV}();const s=e.mutations;for(let a=0;a<s.length;a++)i=i.insert(s[a].key,r[a].version);return new fy(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zV{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jV{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ot,Ie;function $V(t){switch(t){default:return ue();case F.CANCELLED:case F.UNKNOWN:case F.DEADLINE_EXCEEDED:case F.RESOURCE_EXHAUSTED:case F.INTERNAL:case F.UNAVAILABLE:case F.UNAUTHENTICATED:return!1;case F.INVALID_ARGUMENT:case F.NOT_FOUND:case F.ALREADY_EXISTS:case F.PERMISSION_DENIED:case F.FAILED_PRECONDITION:case F.ABORTED:case F.OUT_OF_RANGE:case F.UNIMPLEMENTED:case F.DATA_LOSS:return!0}}function tx(t){if(t===void 0)return vr("GRPC error has no .code"),F.UNKNOWN;switch(t){case ot.OK:return F.OK;case ot.CANCELLED:return F.CANCELLED;case ot.UNKNOWN:return F.UNKNOWN;case ot.DEADLINE_EXCEEDED:return F.DEADLINE_EXCEEDED;case ot.RESOURCE_EXHAUSTED:return F.RESOURCE_EXHAUSTED;case ot.INTERNAL:return F.INTERNAL;case ot.UNAVAILABLE:return F.UNAVAILABLE;case ot.UNAUTHENTICATED:return F.UNAUTHENTICATED;case ot.INVALID_ARGUMENT:return F.INVALID_ARGUMENT;case ot.NOT_FOUND:return F.NOT_FOUND;case ot.ALREADY_EXISTS:return F.ALREADY_EXISTS;case ot.PERMISSION_DENIED:return F.PERMISSION_DENIED;case ot.FAILED_PRECONDITION:return F.FAILED_PRECONDITION;case ot.ABORTED:return F.ABORTED;case ot.OUT_OF_RANGE:return F.OUT_OF_RANGE;case ot.UNIMPLEMENTED:return F.UNIMPLEMENTED;case ot.DATA_LOSS:return F.DATA_LOSS;default:return ue()}}(Ie=ot||(ot={}))[Ie.OK=0]="OK",Ie[Ie.CANCELLED=1]="CANCELLED",Ie[Ie.UNKNOWN=2]="UNKNOWN",Ie[Ie.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ie[Ie.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ie[Ie.NOT_FOUND=5]="NOT_FOUND",Ie[Ie.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ie[Ie.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ie[Ie.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ie[Ie.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ie[Ie.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ie[Ie.ABORTED=10]="ABORTED",Ie[Ie.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ie[Ie.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ie[Ie.INTERNAL=13]="INTERNAL",Ie[Ie.UNAVAILABLE=14]="UNAVAILABLE",Ie[Ie.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UV(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BV=new _o([4294967295,4294967295],0);function WE(t){const e=UV().encode(t),n=new B5;return n.update(e),new Uint8Array(n.digest())}function qE(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new _o([n,r],0),new _o([i,s],0)]}class py{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ja(`Invalid padding: ${n}`);if(r<0)throw new ja(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ja(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ja(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=_o.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(_o.fromNumber(r)));return i.compare(BV)===1&&(i=new _o([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=WE(e),[r,i]=qE(n);for(let s=0;s<this.hashCount;s++){const a=this.de(r,i,s);if(!this.Ae(a))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),a=new py(s,i,n);return r.forEach(c=>a.insert(c)),a}insert(e){if(this.Te===0)return;const n=WE(e),[r,i]=qE(n);for(let s=0;s<this.hashCount;s++){const a=this.de(r,i,s);this.Re(a)}}Re(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ja extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Tu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new mf(he.min(),i,new Ye(Ae),$r(),we())}}class Tu{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Tu(r,n,we(),we(),we())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}}class nx{constructor(e,n){this.targetId=e,this.fe=n}}class rx{constructor(e,n,r=qt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class GE{constructor(){this.ge=0,this.pe=ZE(),this.ye=qt.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=we(),n=we(),r=we();return this.pe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ue()}}),new Tu(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=ZE()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,Fe(this.ge>=0)}Le(){this.Se=!0,this.we=!0}}class HV{constructor(e){this.Be=e,this.ke=new Map,this.qe=$r(),this.Qe=KE(),this.Ke=new Ye(Ae)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:ue()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){const n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){const s=i.target;if(Yg(s))if(r===0){const a=new J(s.path);this.We(n,a,Ut.newNoDocument(a,he.min()))}else Fe(r===1);else{const a=this.Ze(n);if(a!==r){const c=this.Xe(e),u=c?this.et(c,e,a):1;if(u!==0){this.He(n);const d=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,d)}}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let a,c;try{a=Ss(r).toUint8Array()}catch(u){if(u instanceof OC)return Oo("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{c=new py(a,i,s)}catch(u){return Oo(u instanceof ja?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return c.Te===0?null:c}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Be.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const a=this.Be.nt(),c=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;e.mightContain(c)||(this.We(n,s,null),i++)}),i}it(e){const n=new Map;this.ke.forEach((s,a)=>{const c=this.Ye(a);if(c){if(s.current&&Yg(c.target)){const u=new J(c.target.path);this.qe.get(u)!==null||this.st(a,u)||this.We(a,u,Ut.newNoDocument(u,e))}s.De&&(n.set(a,s.ve()),s.Fe())}});let r=we();this.Qe.forEach((s,a)=>{let c=!0;a.forEachWhile(u=>{const d=this.Ye(u);return!d||d.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(s))}),this.qe.forEach((s,a)=>a.setReadTime(e));const i=new mf(e,n,this.Ke,this.qe,r);return this.qe=$r(),this.Qe=KE(),this.Ke=new Ye(Ae),i}Ue(e,n){if(!this.je(e))return;const r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Be.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new GE,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new Mt(Ae),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||B("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Be._t(e)}He(e){this.ke.set(e,new GE),this.Be.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Be.getRemoteKeysForTarget(e).has(n)}}function KE(){return new Ye(J.comparator)}function ZE(){return new Ye(J.comparator)}const WV={asc:"ASCENDING",desc:"DESCENDING"},qV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},GV={and:"AND",or:"OR"};class KV{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function ev(t,e){return t.useProto3Json||cf(e)?e:{value:e}}function ad(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ix(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function ZV(t,e){return ad(t,e.toTimestamp())}function mr(t){return Fe(!!t),he.fromTimestamp(function(n){const r=Li(n);return new mt(r.seconds,r.nanos)}(t))}function my(t,e){return tv(t,e).canonicalString()}function tv(t,e){const n=function(i){return new Ue(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function sx(t){const e=Ue.fromString(t);return Fe(cx(e)),e}function nv(t,e){return my(t.databaseId,e.path)}function fm(t,e){const n=sx(e);if(n.get(1)!==t.databaseId.projectId)throw new G(F.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new G(F.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new J(ax(n))}function ox(t,e){return my(t.databaseId,e)}function QV(t){const e=sx(t);return e.length===4?Ue.emptyPath():ax(e)}function rv(t){return new Ue(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function ax(t){return Fe(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function QE(t,e,n){return{name:nv(t,e),fields:n.value.mapValue.fields}}function YV(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:ue()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(d,p){return d.useProto3Json?(Fe(p===void 0||typeof p=="string"),qt.fromBase64String(p||"")):(Fe(p===void 0||p instanceof Uint8Array),qt.fromUint8Array(p||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,c=a&&function(d){const p=d.code===void 0?F.UNKNOWN:tx(d.code);return new G(p,d.message||"")}(a);n=new rx(r,i,s,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=fm(t,r.document.name),s=mr(r.document.updateTime),a=r.document.createTime?mr(r.document.createTime):he.min(),c=new nn({mapValue:{fields:r.document.fields}}),u=Ut.newFoundDocument(i,s,a,c),d=r.targetIds||[],p=r.removedTargetIds||[];n=new Zc(d,p,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=fm(t,r.document),s=r.readTime?mr(r.readTime):he.min(),a=Ut.newNoDocument(i,s),c=r.removedTargetIds||[];n=new Zc([],c,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=fm(t,r.document),s=r.removedTargetIds||[];n=new Zc([],s,i,null)}else{if(!("filter"in e))return ue();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,a=new jV(i,s),c=r.targetId;n=new nx(c,a)}}return n}function XV(t,e){let n;if(e instanceof Eu)n={update:QE(t,e.key,e.value)};else if(e instanceof ex)n={delete:nv(t,e.key)};else if(e instanceof Bi)n={update:QE(t,e.key,e.data),updateMask:a9(e.fieldMask)};else{if(!(e instanceof VV))return ue();n={verify:nv(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,a){const c=a.transform;if(c instanceof ql)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Gl)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Kl)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof od)return{fieldPath:a.field.canonicalString(),increment:c.Ie};throw ue()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:ZV(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ue()}(t,e.precondition)),n}function JV(t,e){return t&&t.length>0?(Fe(e!==void 0),t.map(n=>function(i,s){let a=i.updateTime?mr(i.updateTime):mr(s);return a.isEqual(he.min())&&(a=mr(s)),new MV(a,i.transformResults||[])}(n,e))):[]}function e9(t,e){return{documents:[ox(t,e.path)]}}function t9(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=ox(t,i);const s=function(d){if(d.length!==0)return ux(Kn.create(d,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const a=function(d){if(d.length!==0)return d.map(p=>function(v){return{field:qs(v.field),direction:i9(v.dir)}}(p))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const c=ev(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{ut:n,parent:i}}function n9(t){let e=QV(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Fe(r===1);const p=n.from[0];p.allDescendants?i=p.collectionId:e=e.child(p.collectionId)}let s=[];n.where&&(s=function(m){const v=lx(m);return v instanceof Kn&&DC(v)?v.getFilters():[v]}(n.where));let a=[];n.orderBy&&(a=function(m){return m.map(v=>function(S){return new sd(Gs(S.field),function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(v))}(n.orderBy));let c=null;n.limit&&(c=function(m){let v;return v=typeof m=="object"?m.value:m,cf(v)?null:v}(n.limit));let u=null;n.startAt&&(u=function(m){const v=!!m.before,T=m.values||[];return new id(T,v)}(n.startAt));let d=null;return n.endAt&&(d=function(m){const v=!m.before,T=m.values||[];return new id(T,v)}(n.endAt)),wV(e,i,a,s,c,"F",u,d)}function r9(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ue()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function lx(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Gs(n.unaryFilter.field);return ct.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Gs(n.unaryFilter.field);return ct.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Gs(n.unaryFilter.field);return ct.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Gs(n.unaryFilter.field);return ct.create(a,"!=",{nullValue:"NULL_VALUE"});default:return ue()}}(t):t.fieldFilter!==void 0?function(n){return ct.create(Gs(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ue()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Kn.create(n.compositeFilter.filters.map(r=>lx(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ue()}}(n.compositeFilter.op))}(t):ue()}function i9(t){return WV[t]}function s9(t){return qV[t]}function o9(t){return GV[t]}function qs(t){return{fieldPath:t.canonicalString()}}function Gs(t){return kt.fromServerFormat(t.fieldPath)}function ux(t){return t instanceof ct?function(n){if(n.op==="=="){if(DE(n.value))return{unaryFilter:{field:qs(n.field),op:"IS_NAN"}};if(NE(n.value))return{unaryFilter:{field:qs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(DE(n.value))return{unaryFilter:{field:qs(n.field),op:"IS_NOT_NAN"}};if(NE(n.value))return{unaryFilter:{field:qs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:qs(n.field),op:s9(n.op),value:n.value}}}(t):t instanceof Kn?function(n){const r=n.getFilters().map(i=>ux(i));return r.length===1?r[0]:{compositeFilter:{op:o9(n.op),filters:r}}}(t):ue()}function a9(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function cx(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(e,n,r,i,s=he.min(),a=he.min(),c=qt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=c,this.expectedCount=u}withSequenceNumber(e){return new fi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new fi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new fi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new fi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l9{constructor(e){this.ct=e}}function u9(t){const e=n9({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Jg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c9{constructor(){this._n=new h9}addToCollectionParentIndex(e,n){return this._n.add(n),z.resolve()}getCollectionParents(e,n){return z.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return z.resolve()}deleteFieldIndex(e,n){return z.resolve()}deleteAllFieldIndexes(e){return z.resolve()}createTargetIndexes(e,n){return z.resolve()}getDocumentsMatchingTarget(e,n){return z.resolve(null)}getIndexType(e,n){return z.resolve(0)}getFieldIndexes(e,n){return z.resolve([])}getNextCollectionGroupToUpdate(e){return z.resolve(null)}getMinOffset(e,n){return z.resolve(Oi.min())}getMinOffsetFromCollectionGroup(e,n){return z.resolve(Oi.min())}updateCollectionGroup(e,n,r){return z.resolve()}updateIndexEntries(e,n){return z.resolve()}}class h9{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Mt(Ue.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Mt(Ue.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new Do(0)}static Ln(){return new Do(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d9{constructor(){this.changes=new Xo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ut.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?z.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f9{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p9{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&il(r.mutation,i,pn.empty(),mt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,we()).next(()=>r))}getLocalViewOfDocuments(e,n,r=we()){const i=as();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let a=za();return s.forEach((c,u)=>{a=a.insert(c,u.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const r=as();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,we()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((a,c)=>{n.set(a,c)})})}computeViews(e,n,r,i){let s=$r();const a=rl(),c=function(){return rl()}();return n.forEach((u,d)=>{const p=r.get(d.key);i.has(d.key)&&(p===void 0||p.mutation instanceof Bi)?s=s.insert(d.key,d):p!==void 0?(a.set(d.key,p.mutation.getFieldMask()),il(p.mutation,d,p.mutation.getFieldMask(),mt.now())):a.set(d.key,pn.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((d,p)=>a.set(d,p)),n.forEach((d,p)=>{var m;return c.set(d,new f9(p,(m=a.get(d))!==null&&m!==void 0?m:null))}),c))}recalculateAndSaveOverlays(e,n){const r=rl();let i=new Ye((a,c)=>a-c),s=we();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const c of a)c.keys().forEach(u=>{const d=n.get(u);if(d===null)return;let p=r.get(u)||pn.empty();p=c.applyToLocalView(d,p),r.set(u,p);const m=(i.get(c.batchId)||we()).add(u);i=i.insert(c.batchId,m)})}).next(()=>{const a=[],c=i.getReverseIterator();for(;c.hasNext();){const u=c.getNext(),d=u.key,p=u.value,m=WC();p.forEach(v=>{if(!s.has(v)){const T=XC(n.get(v),r.get(v));T!==null&&m.set(v,T),s=s.add(v)}}),a.push(this.documentOverlayCache.saveOverlays(e,d,m))}return z.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(a){return J.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):jC(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const a=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):z.resolve(as());let c=-1,u=s;return a.next(d=>z.forEach(d,(p,m)=>(c<m.largestBatchId&&(c=m.largestBatchId),s.get(p)?z.resolve():this.remoteDocumentCache.getEntry(e,p).next(v=>{u=u.insert(p,v)}))).next(()=>this.populateOverlays(e,d,s)).next(()=>this.computeViews(e,u,d,we())).next(p=>({batchId:c,changes:HC(p)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new J(n)).next(r=>{let i=za();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let a=za();return this.indexManager.getCollectionParents(e,s).next(c=>z.forEach(c,u=>{const d=function(m,v){return new wu(v,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,d,r,i).next(p=>{p.forEach((m,v)=>{a=a.insert(m,v)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(a=>{s.forEach((u,d)=>{const p=d.getKey();a.get(p)===null&&(a=a.insert(p,Ut.newInvalidDocument(p)))});let c=za();return a.forEach((u,d)=>{const p=s.get(u);p!==void 0&&il(p.mutation,d,pn.empty(),mt.now()),df(n,d)&&(c=c.insert(u,d))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m9{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return z.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:mr(i.createTime)}}(n)),z.resolve()}getNamedQuery(e,n){return z.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:u9(i.bundledQuery),readTime:mr(i.readTime)}}(n)),z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g9{constructor(){this.overlays=new Ye(J.comparator),this.hr=new Map}getOverlay(e,n){return z.resolve(this.overlays.get(n))}getOverlays(e,n){const r=as();return z.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),z.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.hr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(r)),z.resolve()}getOverlaysForCollection(e,n,r){const i=as(),s=n.length+1,a=new J(n.child("")),c=this.overlays.getIteratorFrom(a);for(;c.hasNext();){const u=c.getNext().value,d=u.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return z.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Ye((d,p)=>d-p);const a=this.overlays.getIterator();for(;a.hasNext();){const d=a.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let p=s.get(d.largestBatchId);p===null&&(p=as(),s=s.insert(d.largestBatchId,p)),p.set(d.getKey(),d)}}const c=as(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((d,p)=>c.set(d,p)),!(c.size()>=i)););return z.resolve(c)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const a=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new zV(n,r));let s=this.hr.get(n);s===void 0&&(s=we(),this.hr.set(n,s)),this.hr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gy{constructor(){this.Pr=new Mt(yt.Ir),this.Tr=new Mt(yt.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new yt(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new yt(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new J(new Ue([])),r=new yt(n,e),i=new yt(n,e+1),s=[];return this.Tr.forEachInRange([r,i],a=>{this.Ar(a),s.push(a.key)}),s}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new J(new Ue([])),r=new yt(n,e),i=new yt(n,e+1);let s=we();return this.Tr.forEachInRange([r,i],a=>{s=s.add(a.key)}),s}containsKey(e){const n=new yt(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class yt{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return J.comparator(e.key,n.key)||Ae(e.pr,n.pr)}static Er(e,n){return Ae(e.pr,n.pr)||J.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v9{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new Mt(yt.Ir)}checkEmpty(e){return z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new FV(s,n,r,i);this.mutationQueue.push(a);for(const c of i)this.wr=this.wr.add(new yt(c.key,s)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return z.resolve(a)}lookupMutationBatch(e,n){return z.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.br(r),s=i<0?0:i;return z.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return z.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new yt(n,0),i=new yt(n,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([r,i],a=>{const c=this.Sr(a.pr);s.push(c)}),z.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Mt(Ae);return n.forEach(i=>{const s=new yt(i,0),a=new yt(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,a],c=>{r=r.add(c.pr)})}),z.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;J.isDocumentKey(s)||(s=s.child(""));const a=new yt(new J(s),0);let c=new Mt(Ae);return this.wr.forEachWhile(u=>{const d=u.key.path;return!!r.isPrefixOf(d)&&(d.length===i&&(c=c.add(u.pr)),!0)},a),z.resolve(this.Dr(c))}Dr(e){const n=[];return e.forEach(r=>{const i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Fe(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return z.forEach(n.mutations,i=>{const s=new yt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new yt(n,0),i=this.wr.firstAfterOrEqual(r);return z.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,z.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _9{constructor(e){this.vr=e,this.docs=function(){return new Ye(J.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,a=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return z.resolve(r?r.document.mutableCopy():Ut.newInvalidDocument(n))}getEntries(e,n){let r=$r();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Ut.newInvalidDocument(i))}),z.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=$r();const a=n.path,c=new J(a.child("")),u=this.docs.getIteratorFrom(c);for(;u.hasNext();){const{key:d,value:{document:p}}=u.getNext();if(!a.isPrefixOf(d.path))break;d.path.length>a.length+1||tV(eV(p),r)<=0||(i.has(p.key)||df(n,p))&&(s=s.insert(p.key,p.mutableCopy()))}return z.resolve(s)}getAllFromCollectionGroup(e,n,r,i){ue()}Fr(e,n){return z.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new y9(this)}getSize(e){return z.resolve(this.size)}}class y9 extends d9{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),z.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w9{constructor(e){this.persistence=e,this.Mr=new Xo(n=>cy(n),hy),this.lastRemoteSnapshotVersion=he.min(),this.highestTargetId=0,this.Or=0,this.Nr=new gy,this.targetCount=0,this.Lr=Do.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),z.resolve()}getLastRemoteSnapshotVersion(e){return z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return z.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),z.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),z.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Lr=new Do(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,z.resolve()}updateTargetData(e,n){return this.qn(n),z.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,z.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Mr.forEach((a,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.Mr.delete(a),s.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),z.waitFor(s).next(()=>i)}getTargetCount(e){return z.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return z.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),z.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(a=>{s.push(i.markPotentiallyOrphaned(e,a))}),z.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),z.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return z.resolve(r)}containsKey(e,n){return z.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E9{constructor(e,n){this.Br={},this.overlays={},this.kr=new oy(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new w9(this),this.indexManager=new c9,this.remoteDocumentCache=function(i){return new _9(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new l9(n),this.$r=new m9(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new g9,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new v9(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){B("MemoryPersistence","Starting transaction:",e);const i=new T9(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(s=>this.referenceDelegate.Wr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gr(e,n){return z.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class T9 extends rV{constructor(e){super(),this.currentSequenceNumber=e}}class vy{constructor(e){this.persistence=e,this.zr=new gy,this.jr=null}static Hr(e){return new vy(e)}get Jr(){if(this.jr)return this.jr;throw ue()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),z.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),z.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),z.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Jr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return z.forEach(this.Jr,r=>{const i=J.fromPath(r);return this.Yr(e,i).next(s=>{s||n.removeEntry(i,he.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return z.or([()=>z.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _y{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=we(),i=we();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new _y(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S9{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I9{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return J3()?8:os.v(ht())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ji(e,n).next(a=>{s.result=a}).next(()=>{if(!s.result)return this.Hi(e,n,i,r).next(a=>{s.result=a})}).next(()=>{if(s.result)return;const a=new S9;return this.Ji(e,n,a).next(c=>{if(s.result=c,this.Ui)return this.Yi(e,n,a,c.size)})}).next(()=>s.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(xa()<=Te.DEBUG&&B("QueryEngine","SDK will not create cache indexes for query:",Ws(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),z.resolve()):(xa()<=Te.DEBUG&&B("QueryEngine","Query:",Ws(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(xa()<=Te.DEBUG&&B("QueryEngine","The SDK decides to create cache indexes for query:",Ws(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,fr(n))):z.resolve())}ji(e,n){if(jE(n))return z.resolve(null);let r=fr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Jg(n,null,"F"),r=fr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const a=we(...s);return this.zi.getDocuments(e,a).next(c=>this.indexManager.getMinOffset(e,r).next(u=>{const d=this.Zi(n,c);return this.Xi(n,d,a,u.readTime)?this.ji(e,Jg(n,null,"F")):this.es(e,d,n,u)}))})))}Hi(e,n,r,i){return jE(n)||i.isEqual(he.min())?z.resolve(null):this.zi.getDocuments(e,r).next(s=>{const a=this.Zi(n,s);return this.Xi(n,a,r,i)?z.resolve(null):(xa()<=Te.DEBUG&&B("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ws(n)),this.es(e,a,n,J5(i,-1)).next(c=>c))})}Zi(e,n){let r=new Mt(UC(e));return n.forEach((i,s)=>{df(e,s)&&(r=r.add(s))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ji(e,n,r){return xa()<=Te.DEBUG&&B("QueryEngine","Using full collection scan to execute query:",Ws(n)),this.zi.getDocumentsMatchingQuery(e,n,Oi.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(a=>{s=s.insert(a.key,a)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P9{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new Ye(Ae),this.rs=new Xo(s=>cy(s),hy),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new p9(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function C9(t,e,n,r){return new P9(t,e,n,r)}async function hx(t,e){const n=de(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const a=[],c=[];let u=we();for(const d of i){a.push(d.batchId);for(const p of d.mutations)u=u.add(p.key)}for(const d of s){c.push(d.batchId);for(const p of d.mutations)u=u.add(p.key)}return n.localDocuments.getDocuments(r,u).next(d=>({us:d,removedBatchIds:a,addedBatchIds:c}))})})}function x9(t,e){const n=de(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.os.newChangeBuffer({trackRemovals:!0});return function(c,u,d,p){const m=d.batch,v=m.keys();let T=z.resolve();return v.forEach(S=>{T=T.next(()=>p.getEntry(u,S)).next(I=>{const C=d.docVersions.get(S);Fe(C!==null),I.version.compareTo(C)<0&&(m.applyToRemoteDocument(I,d),I.isValidDocument()&&(I.setReadTime(d.commitVersion),p.addEntry(I)))})}),T.next(()=>c.mutationQueue.removeMutationBatch(u,m))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let u=we();for(let d=0;d<c.mutationResults.length;++d)c.mutationResults[d].transformResults.length>0&&(u=u.add(c.batch.mutations[d].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function dx(t){const e=de(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function b9(t,e){const n=de(t),r=e.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const a=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const c=[];e.targetChanges.forEach((p,m)=>{const v=i.get(m);if(!v)return;c.push(n.Qr.removeMatchingKeys(s,p.removedDocuments,m).next(()=>n.Qr.addMatchingKeys(s,p.addedDocuments,m)));let T=v.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(m)!==null?T=T.withResumeToken(qt.EMPTY_BYTE_STRING,he.min()).withLastLimboFreeSnapshotVersion(he.min()):p.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(p.resumeToken,r)),i=i.insert(m,T),function(I,C,_){return I.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=3e8?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(v,T,p)&&c.push(n.Qr.updateTargetData(s,T))});let u=$r(),d=we();if(e.documentUpdates.forEach(p=>{e.resolvedLimboDocuments.has(p)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(s,p))}),c.push(R9(s,a,e.documentUpdates).next(p=>{u=p.cs,d=p.ls})),!r.isEqual(he.min())){const p=n.Qr.getLastRemoteSnapshotVersion(s).next(m=>n.Qr.setTargetsMetadata(s,s.currentSequenceNumber,r));c.push(p)}return z.waitFor(c).next(()=>a.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,d)).next(()=>u)}).then(s=>(n.ns=i,s))}function R9(t,e,n){let r=we(),i=we();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let a=$r();return n.forEach((c,u)=>{const d=s.get(c);u.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(c)),u.isNoDocument()&&u.version.isEqual(he.min())?(e.removeEntry(c,u.readTime),a=a.insert(c,u)):!d.isValidDocument()||u.version.compareTo(d.version)>0||u.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(u),a=a.insert(c,u)):B("LocalStore","Ignoring outdated watch update for ",c,". Current version:",d.version," Watch version:",u.version)}),{cs:a,ls:i}})}function A9(t,e){const n=de(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function k9(t,e){const n=de(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(s=>s?(i=s,z.resolve(i)):n.Qr.allocateTargetId(r).next(a=>(i=new fi(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}async function iv(t,e,n){const r=de(t),i=r.ns.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,a=>r.persistence.referenceDelegate.removeTarget(a,i))}catch(a){if(!yu(a))throw a;B("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)}function YE(t,e,n){const r=de(t);let i=he.min(),s=we();return r.persistence.runTransaction("Execute query","readwrite",a=>function(u,d,p){const m=de(u),v=m.rs.get(p);return v!==void 0?z.resolve(m.ns.get(v)):m.Qr.getTargetData(d,p)}(r,a,fr(e)).next(c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(a,c.targetId).next(u=>{s=u})}).next(()=>r.ts.getDocumentsMatchingQuery(a,e,n?i:he.min(),n?s:we())).next(c=>(O9(r,TV(e),c),{documents:c,hs:s})))}function O9(t,e,n){let r=t.ss.get(e)||he.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.ss.set(e,r)}class XE{constructor(){this.activeTargetIds=bV()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class L9{constructor(){this.no=new XE,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new XE,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M9{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JE{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){B("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){B("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pc=null;function pm(){return Pc===null?Pc=function(){return 268435456+Math.round(2147483648*Math.random())}():Pc++,"0x"+Pc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N9={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D9{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ft="WebChannelConnection";class V9 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.fo=r+"://"+n.host,this.po=`projects/${i}/databases/${s}`,this.yo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get wo(){return!1}So(n,r,i,s,a){const c=pm(),u=this.bo(n,r.toUriEncodedString());B("RestConnection",`Sending RPC '${n}' ${c}:`,u,i);const d={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(d,s,a),this.Co(n,u,d,i).then(p=>(B("RestConnection",`Received RPC '${n}' ${c}: `,p),p),p=>{throw Oo("RestConnection",`RPC '${n}' ${c} failed with error: `,p,"url: ",u,"request:",i),p})}vo(n,r,i,s,a,c){return this.So(n,r,i,s,a)}Do(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Yo}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,a)=>n[a]=s),i&&i.headers.forEach((s,a)=>n[a]=s)}bo(n,r){const i=N9[n];return`${this.fo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,n,r,i){const s=pm();return new Promise((a,c)=>{const u=new U5;u.setWithCredentials(!0),u.listenOnce(j5.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case dm.NO_ERROR:const p=u.getResponseJson();B(Ft,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),a(p);break;case dm.TIMEOUT:B(Ft,`RPC '${e}' ${s} timed out`),c(new G(F.DEADLINE_EXCEEDED,"Request time out"));break;case dm.HTTP_ERROR:const m=u.getStatus();if(B(Ft,`RPC '${e}' ${s} failed with status:`,m,"response text:",u.getResponseText()),m>0){let v=u.getResponseJson();Array.isArray(v)&&(v=v[0]);const T=v==null?void 0:v.error;if(T&&T.status&&T.message){const S=function(C){const _=C.toLowerCase().replace(/_/g,"-");return Object.values(F).indexOf(_)>=0?_:F.UNKNOWN}(T.status);c(new G(S,T.message))}else c(new G(F.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new G(F.UNAVAILABLE,"Connection failed."));break;default:ue()}}finally{B(Ft,`RPC '${e}' ${s} completed.`)}});const d=JSON.stringify(i);B(Ft,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",d,r,15)})}Fo(e,n,r){const i=pm(),s=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=F5(),c=z5(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(u.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Do(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const p=s.join("");B(Ft,`Creating RPC '${e}' stream ${i}: ${p}`,u);const m=a.createWebChannel(p,u);let v=!1,T=!1;const S=new D9({lo:C=>{T?B(Ft,`Not sending because RPC '${e}' stream ${i} is closed:`,C):(v||(B(Ft,`Opening RPC '${e}' stream ${i} transport.`),m.open(),v=!0),B(Ft,`RPC '${e}' stream ${i} sending:`,C),m.send(C))},ho:()=>m.close()}),I=(C,_,y)=>{C.listen(_,E=>{try{y(E)}catch(x){setTimeout(()=>{throw x},0)}})};return I(m,Tc.EventType.OPEN,()=>{T||B(Ft,`RPC '${e}' stream ${i} transport opened.`)}),I(m,Tc.EventType.CLOSE,()=>{T||(T=!0,B(Ft,`RPC '${e}' stream ${i} transport closed`),S.Vo())}),I(m,Tc.EventType.ERROR,C=>{T||(T=!0,Oo(Ft,`RPC '${e}' stream ${i} transport errored:`,C),S.Vo(new G(F.UNAVAILABLE,"The operation could not be completed")))}),I(m,Tc.EventType.MESSAGE,C=>{var _;if(!T){const y=C.data[0];Fe(!!y);const E=y,x=E.error||((_=E[0])===null||_===void 0?void 0:_.error);if(x){B(Ft,`RPC '${e}' stream ${i} received error:`,x);const A=x.status;let O=function(K){const q=ot[K];if(q!==void 0)return tx(q)}(A),N=x.message;O===void 0&&(O=F.INTERNAL,N="Unknown error status: "+A+" with message "+x.message),T=!0,S.Vo(new G(O,N)),m.close()}else B(Ft,`RPC '${e}' stream ${i} received:`,y),S.mo(y)}}),I(c,$5.STAT_EVENT,C=>{C.stat===bE.PROXY?B(Ft,`RPC '${e}' stream ${i} detected buffering proxy`):C.stat===bE.NOPROXY&&B(Ft,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{S.Ro()},0),S}}function mm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gf(t){return new KV(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fx{constructor(e,n,r=1e3,i=1.5,s=6e4){this.oi=e,this.timerId=n,this.Mo=r,this.xo=i,this.Oo=s,this.No=0,this.Lo=null,this.Bo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,n-r);i>0&&B("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Lo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Lo!==null&&(this.Lo.skipDelay(),this.Lo=null)}cancel(){this.Lo!==null&&(this.Lo.cancel(),this.Lo=null)}Qo(){return(Math.random()-.5)*this.No}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class px{constructor(e,n,r,i,s,a,c,u){this.oi=e,this.$o=r,this.Uo=i,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=c,this.listener=u,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new fx(e,n)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(e,n){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,e!==4?this.jo.reset():n&&n.code===F.RESOURCE_EXHAUSTED?(vr(n.toString()),vr("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===F.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.To(n)}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Wo===n&&this.o_(r,i)},r=>{e(()=>{const i=new G(F.UNKNOWN,"Fetching auth token failed: "+r.message);return this.__(i)})})}o_(e,n){const r=this.s_(this.Wo);this.stream=this.a_(e,n),this.stream.Po(()=>{r(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(i=>{r(()=>this.__(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Yo(){this.state=5,this.jo.qo(async()=>{this.state=0,this.start()})}__(e){return B("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return n=>{this.oi.enqueueAndForget(()=>this.Wo===e?n():(B("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class F9 extends px{constructor(e,n,r,i,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s}a_(e,n){return this.connection.Fo("Listen",e,n)}onMessage(e){this.jo.reset();const n=YV(this.serializer,e),r=function(s){if(!("targetChange"in s))return he.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?he.min():a.readTime?mr(a.readTime):he.min()}(e);return this.listener.u_(n,r)}c_(e){const n={};n.database=rv(this.serializer),n.addTarget=function(s,a){let c;const u=a.target;if(c=Yg(u)?{documents:e9(s,u)}:{query:t9(s,u).ut},c.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){c.resumeToken=ix(s,a.resumeToken);const d=ev(s,a.expectedCount);d!==null&&(c.expectedCount=d)}else if(a.snapshotVersion.compareTo(he.min())>0){c.readTime=ad(s,a.snapshotVersion.toTimestamp());const d=ev(s,a.expectedCount);d!==null&&(c.expectedCount=d)}return c}(this.serializer,e);const r=r9(this.serializer,e);r&&(n.labels=r),this.t_(n)}l_(e){const n={};n.database=rv(this.serializer),n.removeTarget=e,this.t_(n)}}class z9 extends px{constructor(e,n,r,i,s,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,n){return this.connection.Fo("Write",e,n)}onMessage(e){if(Fe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const n=JV(e.writeResults,e.commitTime),r=mr(e.commitTime);return this.listener.T_(r,n)}return Fe(!e.writeResults||e.writeResults.length===0),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=rv(this.serializer),this.t_(e)}I_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>XV(this.serializer,r))};this.t_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j9 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.A_=!1}R_(){if(this.A_)throw new G(F.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.So(e,tv(n,r),i,s,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new G(F.UNKNOWN,s.toString())})}vo(e,n,r,i,s){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,c])=>this.connection.vo(e,tv(n,r),i,a,c,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new G(F.UNKNOWN,a.toString())})}terminate(){this.A_=!0,this.connection.terminate()}}class $9{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,e==="Online"&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(vr(n),this.g_=!1):B("OnlineStateTracker",n)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U9{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=s,this.M_.io(a=>{r.enqueueAndForget(async()=>{ks(this)&&(B("RemoteStore","Restarting streams for network reachability change."),await async function(u){const d=de(u);d.v_.add(4),await Su(d),d.x_.set("Unknown"),d.v_.delete(4),await vf(d)}(this))})}),this.x_=new $9(r,i)}}async function vf(t){if(ks(t))for(const e of t.F_)await e(!0)}async function Su(t){for(const e of t.F_)await e(!1)}function mx(t,e){const n=de(t);n.C_.has(e.targetId)||(n.C_.set(e.targetId,e),Ty(n)?Ey(n):Jo(n).Jo()&&wy(n,e))}function yy(t,e){const n=de(t),r=Jo(n);n.C_.delete(e),r.Jo()&&gx(n,e),n.C_.size===0&&(r.Jo()?r.Xo():ks(n)&&n.x_.set("Unknown"))}function wy(t,e){if(t.O_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(he.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Jo(t).c_(e)}function gx(t,e){t.O_.Oe(e),Jo(t).l_(e)}function Ey(t){t.O_=new HV({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.C_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),Jo(t).start(),t.x_.p_()}function Ty(t){return ks(t)&&!Jo(t).Ho()&&t.C_.size>0}function ks(t){return de(t).v_.size===0}function vx(t){t.O_=void 0}async function B9(t){t.C_.forEach((e,n)=>{wy(t,e)})}async function H9(t,e){vx(t),Ty(t)?(t.x_.S_(e),Ey(t)):t.x_.set("Unknown")}async function W9(t,e,n){if(t.x_.set("Online"),e instanceof rx&&e.state===2&&e.cause)try{await async function(i,s){const a=s.cause;for(const c of s.targetIds)i.C_.has(c)&&(await i.remoteSyncer.rejectListen(c,a),i.C_.delete(c),i.O_.removeTarget(c))}(t,e)}catch(r){B("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await ld(t,r)}else if(e instanceof Zc?t.O_.$e(e):e instanceof nx?t.O_.Je(e):t.O_.Ge(e),!n.isEqual(he.min()))try{const r=await dx(t.localStore);n.compareTo(r)>=0&&await function(s,a){const c=s.O_.it(a);return c.targetChanges.forEach((u,d)=>{if(u.resumeToken.approximateByteSize()>0){const p=s.C_.get(d);p&&s.C_.set(d,p.withResumeToken(u.resumeToken,a))}}),c.targetMismatches.forEach((u,d)=>{const p=s.C_.get(u);if(!p)return;s.C_.set(u,p.withResumeToken(qt.EMPTY_BYTE_STRING,p.snapshotVersion)),gx(s,u);const m=new fi(p.target,u,d,p.sequenceNumber);wy(s,m)}),s.remoteSyncer.applyRemoteEvent(c)}(t,n)}catch(r){B("RemoteStore","Failed to raise snapshot:",r),await ld(t,r)}}async function ld(t,e,n){if(!yu(e))throw e;t.v_.add(1),await Su(t),t.x_.set("Offline"),n||(n=()=>dx(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{B("RemoteStore","Retrying IndexedDB access"),await n(),t.v_.delete(1),await vf(t)})}function _x(t,e){return e().catch(n=>ld(t,n,e))}async function _f(t){const e=de(t),n=Mi(e);let r=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;q9(e);)try{const i=await A9(e.localStore,r);if(i===null){e.D_.length===0&&n.Xo();break}r=i.batchId,G9(e,i)}catch(i){await ld(e,i)}yx(e)&&wx(e)}function q9(t){return ks(t)&&t.D_.length<10}function G9(t,e){t.D_.push(e);const n=Mi(t);n.Jo()&&n.P_&&n.I_(e.mutations)}function yx(t){return ks(t)&&!Mi(t).Ho()&&t.D_.length>0}function wx(t){Mi(t).start()}async function K9(t){Mi(t).d_()}async function Z9(t){const e=Mi(t);for(const n of t.D_)e.I_(n.mutations)}async function Q9(t,e,n){const r=t.D_.shift(),i=fy.from(r,e,n);await _x(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await _f(t)}async function Y9(t,e){e&&Mi(t).P_&&await async function(r,i){if(function(a){return $V(a)&&a!==F.ABORTED}(i.code)){const s=r.D_.shift();Mi(r).Zo(),await _x(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await _f(r)}}(t,e),yx(t)&&wx(t)}async function e2(t,e){const n=de(t);n.asyncQueue.verifyOperationInProgress(),B("RemoteStore","RemoteStore received new credentials");const r=ks(n);n.v_.add(3),await Su(n),r&&n.x_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.v_.delete(3),await vf(n)}async function X9(t,e){const n=de(t);e?(n.v_.delete(2),await vf(n)):e||(n.v_.add(2),await Su(n),n.x_.set("Unknown"))}function Jo(t){return t.N_||(t.N_=function(n,r,i){const s=de(n);return s.R_(),new F9(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:B9.bind(null,t),To:H9.bind(null,t),u_:W9.bind(null,t)}),t.F_.push(async e=>{e?(t.N_.Zo(),Ty(t)?Ey(t):t.x_.set("Unknown")):(await t.N_.stop(),vx(t))})),t.N_}function Mi(t){return t.L_||(t.L_=function(n,r,i){const s=de(n);return s.R_(),new z9(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:K9.bind(null,t),To:Y9.bind(null,t),E_:Z9.bind(null,t),T_:Q9.bind(null,t)}),t.F_.push(async e=>{e?(t.L_.Zo(),await _f(t)):(await t.L_.stop(),t.D_.length>0&&(B("RemoteStore",`Stopping write stream with ${t.D_.length} pending writes`),t.D_=[]))})),t.L_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sy{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new dr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const a=Date.now()+r,c=new Sy(e,n,a,i,s);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new G(F.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Iy(t,e){if(vr("AsyncQueue",`${e}: ${t}`),yu(t))return new G(F.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(e){this.comparator=e?(n,r)=>e(n,r)||J.comparator(n.key,r.key):(n,r)=>J.comparator(n.key,r.key),this.keyedMap=za(),this.sortedSet=new Ye(this.comparator)}static emptySet(e){return new yo(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof yo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new yo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2{constructor(){this.B_=new Ye(J.comparator)}track(e){const n=e.doc.key,r=this.B_.get(n);r?e.type!==0&&r.type===3?this.B_=this.B_.insert(n,e):e.type===3&&r.type!==1?this.B_=this.B_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.B_=this.B_.remove(n):e.type===1&&r.type===2?this.B_=this.B_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):ue():this.B_=this.B_.insert(n,e)}k_(){const e=[];return this.B_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Vo{constructor(e,n,r,i,s,a,c,u,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=c,this.excludesMetadataChanges=u,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,i,s){const a=[];return n.forEach(c=>{a.push({type:0,doc:c})}),new Vo(e,n,yo.emptySet(n),a,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&hf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J9{constructor(){this.q_=void 0,this.Q_=[]}K_(){return this.Q_.some(e=>e.U_())}}class e8{constructor(){this.queries=new Xo(e=>$C(e),hf),this.onlineState="Unknown",this.W_=new Set}}async function Ex(t,e){const n=de(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.K_()&&e.U_()&&(r=2):(s=new J9,r=e.U_()?0:1);try{switch(r){case 0:s.q_=await n.onListen(i,!0);break;case 1:s.q_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(a){const c=Iy(a,`Initialization of query '${Ws(e.query)}' failed`);return void e.onError(c)}n.queries.set(i,s),s.Q_.push(e),e.G_(n.onlineState),s.q_&&e.z_(s.q_)&&Py(n)}async function Tx(t,e){const n=de(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const a=s.Q_.indexOf(e);a>=0&&(s.Q_.splice(a,1),s.Q_.length===0?i=e.U_()?0:1:!s.K_()&&e.U_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function t8(t,e){const n=de(t);let r=!1;for(const i of e){const s=i.query,a=n.queries.get(s);if(a){for(const c of a.Q_)c.z_(i)&&(r=!0);a.q_=i}}r&&Py(n)}function n8(t,e,n){const r=de(t),i=r.queries.get(e);if(i)for(const s of i.Q_)s.onError(n);r.queries.delete(e)}function Py(t){t.W_.forEach(e=>{e.next()})}var sv,n2;(n2=sv||(sv={})).j_="default",n2.Cache="cache";class Sx{constructor(e,n,r){this.query=e,this.H_=n,this.J_=!1,this.Y_=null,this.onlineState="Unknown",this.options=r||{}}z_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Vo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.J_?this.Z_(e)&&(this.H_.next(e),n=!0):this.X_(e,this.onlineState)&&(this.ea(e),n=!0),this.Y_=e,n}onError(e){this.H_.error(e)}G_(e){this.onlineState=e;let n=!1;return this.Y_&&!this.J_&&this.X_(this.Y_,e)&&(this.ea(this.Y_),n=!0),n}X_(e,n){if(!e.fromCache||!this.U_())return!0;const r=n!=="Offline";return(!this.options.ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Z_(e){if(e.docChanges.length>0)return!0;const n=this.Y_&&this.Y_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ea(e){e=Vo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.J_=!0,this.H_.next(e)}U_(){return this.options.source!==sv.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ix{constructor(e){this.key=e}}class Px{constructor(e){this.key=e}}class r8{constructor(e,n){this.query=e,this.ua=n,this.ca=null,this.hasCachedResults=!1,this.current=!1,this.la=we(),this.mutatedKeys=we(),this.ha=UC(e),this.Pa=new yo(this.ha)}get Ia(){return this.ua}Ta(e,n){const r=n?n.Ea:new t2,i=n?n.Pa:this.Pa;let s=n?n.mutatedKeys:this.mutatedKeys,a=i,c=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,d=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((p,m)=>{const v=i.get(p),T=df(this.query,m)?m:null,S=!!v&&this.mutatedKeys.has(v.key),I=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations);let C=!1;v&&T?v.data.isEqual(T.data)?S!==I&&(r.track({type:3,doc:T}),C=!0):this.da(v,T)||(r.track({type:2,doc:T}),C=!0,(u&&this.ha(T,u)>0||d&&this.ha(T,d)<0)&&(c=!0)):!v&&T?(r.track({type:0,doc:T}),C=!0):v&&!T&&(r.track({type:1,doc:v}),C=!0,(u||d)&&(c=!0)),C&&(T?(a=a.add(T),s=I?s.add(p):s.delete(p)):(a=a.delete(p),s=s.delete(p)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const p=this.query.limitType==="F"?a.last():a.first();a=a.delete(p.key),s=s.delete(p.key),r.track({type:1,doc:p})}return{Pa:a,Ea:r,Xi:c,mutatedKeys:s}}da(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Pa;this.Pa=e.Pa,this.mutatedKeys=e.mutatedKeys;const a=e.Ea.k_();a.sort((p,m)=>function(T,S){const I=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ue()}};return I(T)-I(S)}(p.type,m.type)||this.ha(p.doc,m.doc)),this.Aa(r),i=i!=null&&i;const c=n&&!i?this.Ra():[],u=this.la.size===0&&this.current&&!i?1:0,d=u!==this.ca;return this.ca=u,a.length!==0||d?{snapshot:new Vo(this.query,e.Pa,s,a,e.mutatedKeys,u===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),Va:c}:{Va:c}}G_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Pa:this.Pa,Ea:new t2,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{Va:[]}}ma(e){return!this.ua.has(e)&&!!this.Pa.has(e)&&!this.Pa.get(e).hasLocalMutations}Aa(e){e&&(e.addedDocuments.forEach(n=>this.ua=this.ua.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ua=this.ua.delete(n)),this.current=e.current)}Ra(){if(!this.current)return[];const e=this.la;this.la=we(),this.Pa.forEach(r=>{this.ma(r.key)&&(this.la=this.la.add(r.key))});const n=[];return e.forEach(r=>{this.la.has(r)||n.push(new Px(r))}),this.la.forEach(r=>{e.has(r)||n.push(new Ix(r))}),n}fa(e){this.ua=e.hs,this.la=we();const n=this.Ta(e.documents);return this.applyChanges(n,!0)}ga(){return Vo.fromInitialDocuments(this.query,this.Pa,this.mutatedKeys,this.ca===0,this.hasCachedResults)}}class i8{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class s8{constructor(e){this.key=e,this.pa=!1}}class o8{constructor(e,n,r,i,s,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.ya={},this.wa=new Xo(c=>$C(c),hf),this.Sa=new Map,this.ba=new Set,this.Da=new Ye(J.comparator),this.Ca=new Map,this.va=new gy,this.Fa={},this.Ma=new Map,this.xa=Do.Ln(),this.onlineState="Unknown",this.Oa=void 0}get isPrimaryClient(){return this.Oa===!0}}async function a8(t,e,n=!0){const r=kx(t);let i;const s=r.wa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.ga()):i=await Cx(r,e,n,!0),i}async function l8(t,e){const n=kx(t);await Cx(n,e,!0,!1)}async function Cx(t,e,n,r){const i=await k9(t.localStore,fr(e)),s=i.targetId,a=n?t.sharedClientState.addLocalQueryTarget(s):"not-current";let c;return r&&(c=await u8(t,e,s,a==="current",i.resumeToken)),t.isPrimaryClient&&n&&mx(t.remoteStore,i),c}async function u8(t,e,n,r,i){t.Na=(m,v,T)=>async function(I,C,_,y){let E=C.view.Ta(_);E.Xi&&(E=await YE(I.localStore,C.query,!1).then(({documents:N})=>C.view.Ta(N,E)));const x=y&&y.targetChanges.get(C.targetId),A=y&&y.targetMismatches.get(C.targetId)!=null,O=C.view.applyChanges(E,I.isPrimaryClient,x,A);return i2(I,C.targetId,O.Va),O.snapshot}(t,m,v,T);const s=await YE(t.localStore,e,!0),a=new r8(e,s.hs),c=a.Ta(s.documents),u=Tu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),d=a.applyChanges(c,t.isPrimaryClient,u);i2(t,n,d.Va);const p=new i8(e,n,a);return t.wa.set(e,p),t.Sa.has(n)?t.Sa.get(n).push(e):t.Sa.set(n,[e]),d.snapshot}async function c8(t,e,n){const r=de(t),i=r.wa.get(e),s=r.Sa.get(i.targetId);if(s.length>1)return r.Sa.set(i.targetId,s.filter(a=>!hf(a,e))),void r.wa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await iv(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&yy(r.remoteStore,i.targetId),ov(r,i.targetId)}).catch(_u)):(ov(r,i.targetId),await iv(r.localStore,i.targetId,!0))}async function h8(t,e){const n=de(t),r=n.wa.get(e),i=n.Sa.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),yy(n.remoteStore,r.targetId))}async function d8(t,e,n){const r=y8(t);try{const i=await function(a,c){const u=de(a),d=mt.now(),p=c.reduce((T,S)=>T.add(S.key),we());let m,v;return u.persistence.runTransaction("Locally write mutations","readwrite",T=>{let S=$r(),I=we();return u.os.getEntries(T,p).next(C=>{S=C,S.forEach((_,y)=>{y.isValidDocument()||(I=I.add(_))})}).next(()=>u.localDocuments.getOverlayedDocuments(T,S)).next(C=>{m=C;const _=[];for(const y of c){const E=DV(y,m.get(y.key).overlayedDocument);E!=null&&_.push(new Bi(y.key,E,LC(E.value.mapValue),pr.exists(!0)))}return u.mutationQueue.addMutationBatch(T,d,_,c)}).next(C=>{v=C;const _=C.applyToLocalDocumentSet(m,I);return u.documentOverlayCache.saveOverlays(T,C.batchId,_)})}).then(()=>({batchId:v.batchId,changes:HC(m)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,c,u){let d=a.Fa[a.currentUser.toKey()];d||(d=new Ye(Ae)),d=d.insert(c,u),a.Fa[a.currentUser.toKey()]=d}(r,i.batchId,n),await Iu(r,i.changes),await _f(r.remoteStore)}catch(i){const s=Iy(i,"Failed to persist write");n.reject(s)}}async function xx(t,e){const n=de(t);try{const r=await b9(n.localStore,e);e.targetChanges.forEach((i,s)=>{const a=n.Ca.get(s);a&&(Fe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?a.pa=!0:i.modifiedDocuments.size>0?Fe(a.pa):i.removedDocuments.size>0&&(Fe(a.pa),a.pa=!1))}),await Iu(n,r,e)}catch(r){await _u(r)}}function r2(t,e,n){const r=de(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.wa.forEach((s,a)=>{const c=a.view.G_(e);c.snapshot&&i.push(c.snapshot)}),function(a,c){const u=de(a);u.onlineState=c;let d=!1;u.queries.forEach((p,m)=>{for(const v of m.Q_)v.G_(c)&&(d=!0)}),d&&Py(u)}(r.eventManager,e),i.length&&r.ya.u_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function f8(t,e,n){const r=de(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Ca.get(e),s=i&&i.key;if(s){let a=new Ye(J.comparator);a=a.insert(s,Ut.newNoDocument(s,he.min()));const c=we().add(s),u=new mf(he.min(),new Map,new Ye(Ae),a,c);await xx(r,u),r.Da=r.Da.remove(s),r.Ca.delete(e),Cy(r)}else await iv(r.localStore,e,!1).then(()=>ov(r,e,n)).catch(_u)}async function p8(t,e){const n=de(t),r=e.batch.batchId;try{const i=await x9(n.localStore,e);Rx(n,r,null),bx(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Iu(n,i)}catch(i){await _u(i)}}async function m8(t,e,n){const r=de(t);try{const i=await function(a,c){const u=de(a);return u.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let p;return u.mutationQueue.lookupMutationBatch(d,c).next(m=>(Fe(m!==null),p=m.keys(),u.mutationQueue.removeMutationBatch(d,m))).next(()=>u.mutationQueue.performConsistencyCheck(d)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(d,p,c)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,p)).next(()=>u.localDocuments.getDocuments(d,p))})}(r.localStore,e);Rx(r,e,n),bx(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Iu(r,i)}catch(i){await _u(i)}}function bx(t,e){(t.Ma.get(e)||[]).forEach(n=>{n.resolve()}),t.Ma.delete(e)}function Rx(t,e,n){const r=de(t);let i=r.Fa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Fa[r.currentUser.toKey()]=i}}function ov(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Sa.get(e))t.wa.delete(r),n&&t.ya.La(r,n);t.Sa.delete(e),t.isPrimaryClient&&t.va.Vr(e).forEach(r=>{t.va.containsKey(r)||Ax(t,r)})}function Ax(t,e){t.ba.delete(e.path.canonicalString());const n=t.Da.get(e);n!==null&&(yy(t.remoteStore,n),t.Da=t.Da.remove(e),t.Ca.delete(n),Cy(t))}function i2(t,e,n){for(const r of n)r instanceof Ix?(t.va.addReference(r.key,e),g8(t,r)):r instanceof Px?(B("SyncEngine","Document no longer in limbo: "+r.key),t.va.removeReference(r.key,e),t.va.containsKey(r.key)||Ax(t,r.key)):ue()}function g8(t,e){const n=e.key,r=n.path.canonicalString();t.Da.get(n)||t.ba.has(r)||(B("SyncEngine","New document in limbo: "+n),t.ba.add(r),Cy(t))}function Cy(t){for(;t.ba.size>0&&t.Da.size<t.maxConcurrentLimboResolutions;){const e=t.ba.values().next().value;t.ba.delete(e);const n=new J(Ue.fromString(e)),r=t.xa.next();t.Ca.set(r,new s8(n)),t.Da=t.Da.insert(n,r),mx(t.remoteStore,new fi(fr(dy(n.path)),r,"TargetPurposeLimboResolution",oy._e))}}async function Iu(t,e,n){const r=de(t),i=[],s=[],a=[];r.wa.isEmpty()||(r.wa.forEach((c,u)=>{a.push(r.Na(u,e,n).then(d=>{if((d||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,d!=null&&d.fromCache?"not-current":"current"),d){i.push(d);const p=_y.Ki(u.targetId,d);s.push(p)}}))}),await Promise.all(a),r.ya.u_(i),await async function(u,d){const p=de(u);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>z.forEach(d,v=>z.forEach(v.qi,T=>p.persistence.referenceDelegate.addReference(m,v.targetId,T)).next(()=>z.forEach(v.Qi,T=>p.persistence.referenceDelegate.removeReference(m,v.targetId,T)))))}catch(m){if(!yu(m))throw m;B("LocalStore","Failed to update sequence numbers: "+m)}for(const m of d){const v=m.targetId;if(!m.fromCache){const T=p.ns.get(v),S=T.snapshotVersion,I=T.withLastLimboFreeSnapshotVersion(S);p.ns=p.ns.insert(v,I)}}}(r.localStore,s))}async function v8(t,e){const n=de(t);if(!n.currentUser.isEqual(e)){B("SyncEngine","User change. New user:",e.toKey());const r=await hx(n.localStore,e);n.currentUser=e,function(s,a){s.Ma.forEach(c=>{c.forEach(u=>{u.reject(new G(F.CANCELLED,a))})}),s.Ma.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Iu(n,r.us)}}function _8(t,e){const n=de(t),r=n.Ca.get(e);if(r&&r.pa)return we().add(r.key);{let i=we();const s=n.Sa.get(e);if(!s)return i;for(const a of s){const c=n.wa.get(a);i=i.unionWith(c.view.Ia)}return i}}function kx(t){const e=de(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=xx.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=_8.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=f8.bind(null,e),e.ya.u_=t8.bind(null,e.eventManager),e.ya.La=n8.bind(null,e.eventManager),e}function y8(t){const e=de(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=p8.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=m8.bind(null,e),e}class s2{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=gf(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return C9(this.persistence,new I9,e.initialUser,this.serializer)}createPersistence(e){return new E9(vy.Hr,this.serializer)}createSharedClientState(e){return new L9}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class w8{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>r2(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=v8.bind(null,this.syncEngine),await X9(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new e8}()}createDatastore(e){const n=gf(e.databaseInfo.databaseId),r=function(s){return new V9(s)}(e.databaseInfo);return function(s,a,c,u){return new j9(s,a,c,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,a,c){return new U9(r,i,s,a,c)}(this.localStore,this.datastore,e.asyncQueue,n=>r2(this.syncEngine,n,0),function(){return JE.D()?new JE:new M9}())}createSyncEngine(e,n){return function(i,s,a,c,u,d,p){const m=new o8(i,s,a,c,u,d);return p&&(m.Oa=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(r){const i=de(r);B("RemoteStore","RemoteStore shutting down."),i.v_.add(5),await Su(i),i.M_.shutdown(),i.x_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ox{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.qa(this.observer.next,e)}error(e){this.observer.error?this.qa(this.observer.error,e):vr("Uncaught Error in snapshot listener:",e.toString())}Qa(){this.muted=!0}qa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E8{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=jt.UNAUTHENTICATED,this.clientId=AC.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{B("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(B("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new G(F.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new dr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Iy(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function gm(t,e){t.asyncQueue.verifyOperationInProgress(),B("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await hx(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function o2(t,e){t.asyncQueue.verifyOperationInProgress();const n=await S8(t);B("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>e2(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>e2(e.remoteStore,i)),t._onlineComponents=e}function T8(t){return t.name==="FirebaseError"?t.code===F.FAILED_PRECONDITION||t.code===F.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function S8(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){B("FirestoreClient","Using user provided OfflineComponentProvider");try{await gm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!T8(n))throw n;Oo("Error using user provided cache. Falling back to memory cache: "+n),await gm(t,new s2)}}else B("FirestoreClient","Using default OfflineComponentProvider"),await gm(t,new s2);return t._offlineComponents}async function Lx(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(B("FirestoreClient","Using user provided OnlineComponentProvider"),await o2(t,t._uninitializedComponentsProvider._online)):(B("FirestoreClient","Using default OnlineComponentProvider"),await o2(t,new w8))),t._onlineComponents}function I8(t){return Lx(t).then(e=>e.syncEngine)}async function Mx(t){const e=await Lx(t),n=e.eventManager;return n.onListen=a8.bind(null,e.syncEngine),n.onUnlisten=c8.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=l8.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=h8.bind(null,e.syncEngine),n}function P8(t,e,n={}){const r=new dr;return t.asyncQueue.enqueueAndForget(async()=>function(s,a,c,u,d){const p=new Ox({next:v=>{a.enqueueAndForget(()=>Tx(s,m));const T=v.docs.has(c);!T&&v.fromCache?d.reject(new G(F.UNAVAILABLE,"Failed to get document because the client is offline.")):T&&v.fromCache&&u&&u.source==="server"?d.reject(new G(F.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(v)},error:v=>d.reject(v)}),m=new Sx(dy(c.path),p,{includeMetadataChanges:!0,ta:!0});return Ex(s,m)}(await Mx(t),t.asyncQueue,e,n,r)),r.promise}function C8(t,e,n={}){const r=new dr;return t.asyncQueue.enqueueAndForget(async()=>function(s,a,c,u,d){const p=new Ox({next:v=>{a.enqueueAndForget(()=>Tx(s,m)),v.fromCache&&u.source==="server"?d.reject(new G(F.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(v)},error:v=>d.reject(v)}),m=new Sx(c,p,{includeMetadataChanges:!0,ta:!0});return Ex(s,m)}(await Mx(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nx(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a2=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dx(t,e,n){if(!n)throw new G(F.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function x8(t,e,n,r){if(e===!0&&r===!0)throw new G(F.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function l2(t){if(!J.isDocumentKey(t))throw new G(F.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function u2(t){if(J.isDocumentKey(t))throw new G(F.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function yf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ue()}function Ni(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new G(F.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=yf(t);throw new G(F.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c2{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new G(F.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new G(F.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}x8("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Nx((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new G(F.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new G(F.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new G(F.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class wf{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new c2({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new G(F.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new G(F.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new c2(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new H5;switch(r.type){case"firstParty":return new K5(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new G(F.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=a2.get(n);r&&(B("ComponentProvider","Removing Datastore"),a2.delete(n),r.terminate())}(this),Promise.resolve()}}function b8(t,e,n,r={}){var i;const s=(t=Ni(t,wf))._getSettings(),a=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==a&&Oo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:a,ssl:!1})),r.mockUserToken){let c,u;if(typeof r.mockUserToken=="string")c=r.mockUserToken,u=jt.MOCK_USER;else{c=G3(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const d=r.mockUserToken.sub||r.mockUserToken.user_id;if(!d)throw new G(F.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new jt(d)}t._authCredentials=new W5(new RC(c,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ea(this.firestore,e,this._query)}}class un{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ci(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new un(this.firestore,e,this._key)}}class Ci extends ea{constructor(e,n,r){super(e,n,dy(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new un(this.firestore,null,new J(e))}withConverter(e){return new Ci(this.firestore,e,this._path)}}function Ps(t,e,...n){if(t=gt(t),Dx("collection","path",e),t instanceof wf){const r=Ue.fromString(e,...n);return u2(r),new Ci(t,null,r)}{if(!(t instanceof un||t instanceof Ci))throw new G(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ue.fromString(e,...n));return u2(r),new Ci(t.firestore,null,r)}}function xy(t,e,...n){if(t=gt(t),arguments.length===1&&(e=AC.newId()),Dx("doc","path",e),t instanceof wf){const r=Ue.fromString(e,...n);return l2(r),new un(t,null,new J(r))}{if(!(t instanceof un||t instanceof Ci))throw new G(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ue.fromString(e,...n));return l2(r),new un(t.firestore,t instanceof Ci?t.converter:null,new J(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R8{constructor(){this.nu=Promise.resolve(),this.ru=[],this.iu=!1,this.su=[],this.ou=null,this._u=!1,this.au=!1,this.uu=[],this.jo=new fx(this,"async_queue_retry"),this.cu=()=>{const n=mm();n&&B("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};const e=mm();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.cu)}get isShuttingDown(){return this.iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.lu(),this.hu(e)}enterRestrictedMode(e){if(!this.iu){this.iu=!0,this.au=e||!1;const n=mm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.cu)}}enqueue(e){if(this.lu(),this.iu)return new Promise(()=>{});const n=new dr;return this.hu(()=>this.iu&&this.au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.ru.push(e),this.Pu()))}async Pu(){if(this.ru.length!==0){try{await this.ru[0](),this.ru.shift(),this.jo.reset()}catch(e){if(!yu(e))throw e;B("AsyncQueue","Operation failed with retryable error: "+e)}this.ru.length>0&&this.jo.qo(()=>this.Pu())}}hu(e){const n=this.nu.then(()=>(this._u=!0,e().catch(r=>{this.ou=r,this._u=!1;const i=function(a){let c=a.message||"";return a.stack&&(c=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),c}(r);throw vr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this._u=!1,r))));return this.nu=n,n}enqueueAfterDelay(e,n,r){this.lu(),this.uu.indexOf(e)>-1&&(n=0);const i=Sy.createAndSchedule(this,e,n,r,s=>this.Iu(s));return this.su.push(i),i}lu(){this.ou&&ue()}verifyOperationInProgress(){}async Tu(){let e;do e=this.nu,await e;while(e!==this.nu)}Eu(e){for(const n of this.su)if(n.timerId===e)return!0;return!1}du(e){return this.Tu().then(()=>{this.su.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.su)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tu()})}Au(e){this.uu.push(e)}Iu(e){const n=this.su.indexOf(e);this.su.splice(n,1)}}class Pu extends wf{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new R8}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Vx(this),this._firestoreClient.terminate()}}function A8(t,e){const n=typeof t=="object"?t:HI(),r=typeof t=="string"?t:e||"(default)",i=P_(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=W3("firestore");s&&b8(i,...s)}return i}function by(t){return t._firestoreClient||Vx(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Vx(t){var e,n,r;const i=t._freezeSettings(),s=function(c,u,d,p){return new lV(c,u,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,Nx(p.experimentalLongPollingOptions),p.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new E8(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Fo(qt.fromBase64String(e))}catch(n){throw new G(F.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Fo(qt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new G(F.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new kt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ry{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new G(F.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new G(F.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ae(this._lat,e._lat)||Ae(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k8=/^__.*__$/;class O8{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Bi(e,this.data,this.fieldMask,n,this.fieldTransforms):new Eu(e,this.data,n,this.fieldTransforms)}}class Fx{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Bi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function zx(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ue()}}class Ay{constructor(e,n,r,i,s,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Ru(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Vu(){return this.settings.Vu}mu(e){return new Ay(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}fu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.mu({path:r,gu:!1});return i.pu(e),i}yu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.mu({path:r,gu:!1});return i.Ru(),i}wu(e){return this.mu({path:void 0,gu:!0})}Su(e){return ud(e,this.settings.methodName,this.settings.bu||!1,this.path,this.settings.Du)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ru(){if(this.path)for(let e=0;e<this.path.length;e++)this.pu(this.path.get(e))}pu(e){if(e.length===0)throw this.Su("Document fields must not be empty");if(zx(this.Vu)&&k8.test(e))throw this.Su('Document fields cannot begin and end with "__"')}}class L8{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||gf(e)}Cu(e,n,r,i=!1){return new Ay({Vu:e,methodName:n,Du:r,path:kt.emptyPath(),gu:!1,bu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ky(t){const e=t._freezeSettings(),n=gf(t._databaseId);return new L8(t._databaseId,!!e.ignoreUndefinedProperties,n)}function M8(t,e,n,r,i,s={}){const a=t.Cu(s.merge||s.mergeFields?2:0,e,n,i);Ly("Data must be an object, but it was:",a,r);const c=jx(r,a);let u,d;if(s.merge)u=new pn(a.fieldMask),d=a.fieldTransforms;else if(s.mergeFields){const p=[];for(const m of s.mergeFields){const v=av(e,m,n);if(!a.contains(v))throw new G(F.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);Ux(p,v)||p.push(v)}u=new pn(p),d=a.fieldTransforms.filter(m=>u.covers(m.field))}else u=null,d=a.fieldTransforms;return new O8(new nn(c),u,d)}class Sf extends Tf{_toFieldTransform(e){if(e.Vu!==2)throw e.Vu===1?e.Su(`${this._methodName}() can only appear at the top level of your update data`):e.Su(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Sf}}class Oy extends Tf{_toFieldTransform(e){return new OV(e.path,new ql)}isEqual(e){return e instanceof Oy}}function N8(t,e,n,r){const i=t.Cu(1,e,n);Ly("Data must be an object, but it was:",i,r);const s=[],a=nn.empty();As(r,(u,d)=>{const p=My(e,u,n);d=gt(d);const m=i.yu(p);if(d instanceof Sf)s.push(p);else{const v=Cu(d,m);v!=null&&(s.push(p),a.set(p,v))}});const c=new pn(s);return new Fx(a,c,i.fieldTransforms)}function D8(t,e,n,r,i,s){const a=t.Cu(1,e,n),c=[av(e,r,n)],u=[i];if(s.length%2!=0)throw new G(F.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<s.length;v+=2)c.push(av(e,s[v])),u.push(s[v+1]);const d=[],p=nn.empty();for(let v=c.length-1;v>=0;--v)if(!Ux(d,c[v])){const T=c[v];let S=u[v];S=gt(S);const I=a.yu(T);if(S instanceof Sf)d.push(T);else{const C=Cu(S,I);C!=null&&(d.push(T),p.set(T,C))}}const m=new pn(d);return new Fx(p,m,a.fieldTransforms)}function V8(t,e,n,r=!1){return Cu(n,t.Cu(r?4:3,e))}function Cu(t,e){if($x(t=gt(t)))return Ly("Unsupported field value:",e,t),jx(t,e);if(t instanceof Tf)return function(r,i){if(!zx(i.Vu))throw i.Su(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Su(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.gu&&e.Vu!==4)throw e.Su("Nested arrays are not supported");return function(r,i){const s=[];let a=0;for(const c of r){let u=Cu(c,i.wu(a));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),a++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=gt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return RV(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=mt.fromDate(r);return{timestampValue:ad(i.serializer,s)}}if(r instanceof mt){const s=new mt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ad(i.serializer,s)}}if(r instanceof Ry)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Fo)return{bytesValue:ix(i.serializer,r._byteString)};if(r instanceof un){const s=i.databaseId,a=r.firestore._databaseId;if(!a.isEqual(s))throw i.Su(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:my(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Su(`Unsupported field value: ${yf(r)}`)}(t,e)}function jx(t,e){const n={};return kC(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):As(t,(r,i)=>{const s=Cu(i,e.fu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function $x(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof mt||t instanceof Ry||t instanceof Fo||t instanceof un||t instanceof Tf)}function Ly(t,e,n){if(!$x(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=yf(n);throw r==="an object"?e.Su(t+" a custom object"):e.Su(t+" "+r)}}function av(t,e,n){if((e=gt(e))instanceof Ef)return e._internalPath;if(typeof e=="string")return My(t,e);throw ud("Field path arguments must be of type string or ",t,!1,void 0,n)}const F8=new RegExp("[~\\*/\\[\\]]");function My(t,e,n){if(e.search(F8)>=0)throw ud(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ef(...e.split("."))._internalPath}catch{throw ud(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function ud(t,e,n,r,i){const s=r&&!r.isEmpty(),a=i!==void 0;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let u="";return(s||a)&&(u+=" (found",s&&(u+=` in field ${r}`),a&&(u+=` in document ${i}`),u+=")"),new G(F.INVALID_ARGUMENT,c+t+u)}function Ux(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bx{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new un(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new z8(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Ny("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class z8 extends Bx{data(){return super.data()}}function Ny(t,e){return typeof e=="string"?My(t,e):e instanceof Ef?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j8(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new G(F.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Dy{}class $8 extends Dy{}function Vy(t,e,...n){let r=[];e instanceof Dy&&r.push(e),r=r.concat(n),function(s){const a=s.filter(u=>u instanceof Fy).length,c=s.filter(u=>u instanceof If).length;if(a>1||a>0&&c>0)throw new G(F.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class If extends $8{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new If(e,n,r)}_apply(e){const n=this._parse(e);return Hx(e._query,n),new ea(e.firestore,e.converter,Xg(e._query,n))}_parse(e){const n=ky(e.firestore);return function(s,a,c,u,d,p,m){let v;if(d.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new G(F.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){d2(m,p);const T=[];for(const S of m)T.push(h2(u,s,S));v={arrayValue:{values:T}}}else v=h2(u,s,m)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||d2(m,p),v=V8(c,a,m,p==="in"||p==="not-in");return ct.create(d,p,v)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function cd(t,e,n){const r=e,i=Ny("where",t);return If._create(i,r,n)}class Fy extends Dy{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Fy(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Kn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let a=i;const c=s.getFlattenedFilters();for(const u of c)Hx(a,u),a=Xg(a,u)}(e._query,n),new ea(e.firestore,e.converter,Xg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function h2(t,e,n){if(typeof(n=gt(n))=="string"){if(n==="")throw new G(F.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!jC(e)&&n.indexOf("/")!==-1)throw new G(F.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ue.fromString(n));if(!J.isDocumentKey(r))throw new G(F.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return ME(t,new J(r))}if(n instanceof un)return ME(t,n._key);throw new G(F.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${yf(n)}.`)}function d2(t,e){if(!Array.isArray(t)||t.length===0)throw new G(F.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Hx(t,e){const n=function(i,s){for(const a of i)for(const c of a.getFlattenedFilters())if(s.indexOf(c.op)>=0)return c.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new G(F.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new G(F.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class U8{convertValue(e,n="none"){switch(Is(e)){case 0:return null;case 1:return e.booleanValue;case 2:return at(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ss(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw ue()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return As(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new Ry(at(e.latitude),at(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=ly(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Bl(e));default:return null}}convertTimestamp(e){const n=Li(e);return new mt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ue.fromString(e);Fe(cx(r));const i=new Hl(r.get(1),r.get(3)),s=new J(r.popFirst(5));return i.isEqual(n)||vr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B8(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Wx extends Bx{constructor(e,n,r,i,s,a){super(e,n,r,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Qc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Ny("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Qc extends Wx{data(e={}){return super.data(e)}}class H8{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new $a(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Qc(this._firestore,this._userDataWriter,r.key,r,new $a(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new G(F.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(c=>{const u=new Qc(i._firestore,i._userDataWriter,c.doc.key,c.doc,new $a(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:u,oldIndex:-1,newIndex:a++}})}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>s||c.type!==3).map(c=>{const u=new Qc(i._firestore,i._userDataWriter,c.doc.key,c.doc,new $a(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let d=-1,p=-1;return c.type!==0&&(d=a.indexOf(c.doc.key),a=a.delete(c.doc.key)),c.type!==1&&(a=a.add(c.doc),p=a.indexOf(c.doc.key)),{type:W8(c.type),doc:u,oldIndex:d,newIndex:p}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function W8(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ue()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qx(t){t=Ni(t,un);const e=Ni(t.firestore,Pu);return P8(by(e),t._key).then(n=>G8(e,t,n))}class Gx extends U8{constructor(e){super(),this.firestore=e}convertBytes(e){return new Fo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new un(this.firestore,null,n)}}function xu(t){t=Ni(t,ea);const e=Ni(t.firestore,Pu),n=by(e),r=new Gx(e);return j8(t._query),C8(n,t._query).then(i=>new H8(e,r,t,i))}function q8(t,e,n,...r){t=Ni(t,un);const i=Ni(t.firestore,Pu),s=ky(i);let a;return a=typeof(e=gt(e))=="string"||e instanceof Ef?D8(s,"updateDoc",t._key,e,n,r):N8(s,"updateDoc",t._key,e),Zx(i,[a.toMutation(t._key,pr.exists(!0))])}function Kx(t,e){const n=Ni(t.firestore,Pu),r=xy(t),i=B8(t.converter,e);return Zx(n,[M8(ky(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,pr.exists(!1))]).then(()=>r)}function Zx(t,e){return function(r,i){const s=new dr;return r.asyncQueue.enqueueAndForget(async()=>d8(await I8(r),i,s)),s.promise}(by(t),e)}function G8(t,e,n){const r=n.docs.get(e._key),i=new Gx(t);return new Wx(t,i,e._key,r,new $a(n.hasPendingWrites,n.fromCache),e.converter)}function K8(){return new Oy("serverTimestamp")}(function(e,n=!0){(function(i){Yo=i})(Go),Ao(new _s("firestore",(r,{instanceIdentifier:i,options:s})=>{const a=r.getProvider("app").getImmediate(),c=new Pu(new q5(r.getProvider("auth-internal")),new Q5(r.getProvider("app-check-internal")),function(d,p){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new G(F.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Hl(d.options.projectId,p)}(a,i),a);return s=Object.assign({useFetchStreams:n},s),c._setSettings(s),c},"PUBLIC").setMultipleInstances(!0)),Pi(RE,"4.5.0",e),Pi(RE,"4.5.0","esm2017")})();const Z8={apiKey:"AIzaSyCQDNyTiYEYjO7DxHeQ-Vq2Y7xjK0gh1GU",authDomain:"lunch-77c6b.firebaseapp.com",projectId:"lunch-77c6b",storageBucket:"lunch-77c6b.appspot.com",messagingSenderId:"263423518503",appId:"1:263423518503:web:1a627d336b1112f99b2b02"};BI(Z8);const Ur=A8(),bu=MD(),Q8=async(t,e)=>{const n=await g6(bu,t,e),r={uid:n.user.uid,email:n.user.email,verifiedEmail:n.user.emailVerified};return await _6(n.user),r},Y8=async(t,e)=>{const n=await v6(bu,t,e),r={uid:n.user.uid,email:n.user.email,verifiedEmail:n.user.emailVerified};return localStorage.setItem(`verifiedEmail${n.user.uid}`,n.user.emailVerified),r},X8=async()=>await T6(bu),J8=async t=>m6(bu,t),Pf={signup:Q8,login:Y8,logout:X8,resetPassword:J8},e7={user:null,loading:!1,error:null,authIsReady:!1,verifiedEmail:!1},Yc=Mn("auth/register",async(t,e)=>{try{return await Pf.signup(t.email,t.password)}catch(n){return e.rejectWithValue(n.message)}}),Xc=Mn("auth/login",async(t,e)=>{try{return await Pf.login(t.email,t.password)}catch(n){return e.rejectWithValue(n.message)}}),Qx=Mn("auth/logout",async(t,e)=>{try{return await Pf.logout()}catch(n){return e.rejectWithValue(n.message)}}),t7=Mn("auth/forgot-password",async(t,e)=>{try{return await Pf.resetPassword(t)}catch(n){return e.rejectWithValue(n.message)}}),Yx=E_({name:"auth",initialState:e7,reducers:{setError:(t,e)=>{t.error=e.payload},authReady:(t,e)=>{t.user=e.payload,t.authIsReady=!0}},extraReducers:t=>{t.addCase(Yc.pending,e=>{e.loading=!0}).addCase(Yc.fulfilled,(e,n)=>{e.user=n.payload,e.verifiedEmail=n.payload.verifiedEmail,console.log(n,"action"),e.loading=!1,e.error=null}).addCase(Yc.rejected,(e,n)=>{e.loading=!1,e.error=n.payload}).addCase(Xc.pending,e=>{e.loading=!0}).addCase(Xc.fulfilled,(e,n)=>{console.log(n,"action login"),e.user=n.payload,e.verifiedEmail=n.payload.verifiedEmail,e.loading=!1,e.error=null}).addCase(Xc.rejected,(e,n)=>{e.loading=!1,e.error=n.payload}).addCase(Qx.fulfilled,e=>{e.user=null})}}),{setError:n7,authReady:r7}=Yx.actions,i7=Yx.reducer,s7=()=>{const{user:t}=ft(d=>d.auth),e=yr(),n=zi(),[r,i]=R.useState(null),[s,a]=R.useState(!1),c=async()=>{n("/"),e(Qx())},u=()=>{a(!s)};return R.useEffect(()=>{const d=localStorage.getItem(`verifiedEmail${t==null?void 0:t.uid}`);d&&i(JSON.parse(d))},[t]),P.jsx("nav",{className:"Navbar",children:P.jsxs("div",{className:"container",children:[P.jsxs("div",{className:`hamburger-menu ${s?"active":""}`,onClick:u,children:[P.jsx("div",{className:"bar"}),P.jsx("div",{className:"bar"}),P.jsx("div",{className:"bar"})]}),P.jsxs("div",{className:"logo",children:[P.jsx("p",{children:"SEENTHIS"}),P.jsx("p",{children:"LUNCH"})]}),P.jsxs("ul",{className:`ul-list ${s?"active":""}`,children:[t&&!r&&P.jsx("p",{className:"not-verified-prompt",children:"To get full access, please verify your emailadress"}),P.jsx("li",{className:"list-item",children:P.jsx(pc,{to:"/",children:"Restaurants"})}),t&&r&&P.jsxs(P.Fragment,{children:[P.jsx("li",{className:"list-item",children:P.jsx(pc,{to:"/add",children:"Add Restaurant"})}),P.jsx("li",{className:"list-item",children:P.jsx(pc,{to:"/profile",children:"Profile"})})]}),t?P.jsx(P.Fragment,{children:P.jsxs("li",{className:"list-item list-item-logout",onClick:c,children:["Logout ",P.jsx("span",{className:"logout-icon",children:P.jsx(PL,{})})]})}):P.jsx("li",{className:"list-item",children:P.jsx(pc,{to:"/login",children:"Login"})})]})]})})},o7=async t=>{const e={...t,ratings:[]},n=Ps(Ur,"restaurants"),r=await Kx(n,e);if(!r.id)throw new Error("Something went wrong");return{id:r.id,...e}},a7=async()=>{const t=Ps(Ur,"restaurants"),e=await xu(t),n=[];return e.forEach(r=>{n.push({id:r.id,...r.data()})}),n},l7=async t=>{const e=[];for(const n of t){const r=xy(Ur,"restaurants",n),i=await qx(r);i.exists()&&e.push({id:i.id,...i.data()})}return e},u7=async(t,e)=>{const n=xy(Ur,t,e),r=await qx(n);return{id:r.id,...r.data()}},Cf={createRestaurant:o7,getAllRestaurants:a7,getRestaurant:u7,getRestaurantsByIds:l7},c7={restaurants:[],restaurantsById:[],error:null,loading:!1,restaurant:null},Jc=Mn("restaurants/add",async(t,e)=>{try{return await Cf.createRestaurant(t)}catch(n){return e.rejectWithValue(n.message)}}),sl=Mn("/",async(t,e)=>{try{return await Cf.getAllRestaurants()}catch(n){return e.rejectWithValue(n.message)}}),eh=Mn("/profile",async({ids:t},e)=>{try{return await Cf.getRestaurantsByIds(t)}catch(n){return e.rejectWithValue(n.message)}}),th=Mn("/restaurants/fetchById",async({collection:t,id:e},n)=>{try{return await Cf.getRestaurant(t,e)}catch(r){return n.rejectWithValue(r.message)}}),h7=E_({name:"Restaurants",initialState:c7,reducers:{},extraReducers:t=>{t.addCase(Jc.pending,e=>{e.loading=!0}).addCase(Jc.fulfilled,(e,n)=>{e.loading=!1,e.error=null,e.restaurants=[...e.restaurants,n.payload]}).addCase(Jc.rejected,(e,n)=>{e.loading=!1,e.error=n.payload}).addCase(sl.pending,e=>{e.loading=!0}).addCase(sl.fulfilled,(e,n)=>{e.loading=!1,e.error=null,e.restaurants=n.payload}).addCase(sl.rejected,(e,n)=>{e.loading=!1,e.error=n.payload}).addCase(th.pending,e=>{e.loading=!0}).addCase(th.fulfilled,(e,n)=>{e.loading=!1,e.error=null,e.restaurant=n.payload}).addCase(th.rejected,(e,n)=>{e.loading=!1,e.error=n.payload}).addCase(eh.pending,e=>{e.loading=!0}).addCase(eh.fulfilled,(e,n)=>{e.loading=!1,e.error=null,e.restaurantsById=n.payload}).addCase(eh.rejected,(e,n)=>{e.loading=!1,e.error=n.payload})}}),d7=h7.reducer,f7=async(t,e,n)=>{try{const r=Ps(Ur,"ratings"),i=Vy(Ps(Ur,"ratings"),cd("restaurantId","==",e),cd("userId","==",t)),s=await xu(i);s.empty?await Kx(r,{userId:t,restaurantId:e,rating:n,createdAt:K8()}):s.forEach(async a=>{const c=a.ref;await q8(c,{rating:n})})}catch(r){throw console.error("Error adding/updating rating: ",r),r}},p7=async t=>{try{const e=Vy(Ps(Ur,"ratings"),cd("restaurantId","==",t)),n=await xu(e);let r=[];return n.forEach(i=>{r.push(i.data().rating)}),r}catch(e){console.log(e)}},m7=async()=>{try{const t=await xu(Ps(Ur,"ratings"));let e=[];return t.forEach(n=>{const r=n.data();r.restaurantId&&r.rating&&e.push({restaurantId:r.restaurantId,rating:r.rating})}),e}catch(t){throw console.error(t),t}},g7=async t=>{try{const e=Vy(Ps(Ur,"ratings"),cd("userId","==",t)),n=await xu(e);let r=[];return n.forEach(i=>{const s=i.data(),a=s.createdAt?s.createdAt.toDate():null;r.push({rating:s.rating,createdAt:a,restaurant:s.restaurantId})}),r}catch(e){console.log(e)}},xf={addRatingAsync:f7,getRatingsByRestaurantAsync:p7,getRatingsByUserAsync:g7,getAllRatingsAsync:m7},v7={ratings:[],error:null,loading:!1,userRatings:[],allRatings:[]},nh=Mn("ratings/addRating",async({userId:t,restaurantId:e,rating:n},r)=>{try{return await xf.addRatingAsync(t,e,n),{userId:t,restaurantId:e,rating:n}}catch(i){return r.rejectWithValue(i.message)}}),rh=Mn("ratings/getRatingsByRestaurant",async({restaurantId:t},e)=>{try{return await xf.getRatingsByRestaurantAsync(t)}catch(n){return e.rejectWithValue(n.message)}}),ol=Mn("ratings/getAllRatings",async(t,e)=>{try{return await xf.getAllRatingsAsync()}catch(n){return e.rejectWithValue(n.message)}}),al=Mn("ratings/getUserRatings",async({userId:t},e)=>{try{return(await xf.getRatingsByUserAsync(t)).map(i=>({...i,createdAt:i.createdAt?i.createdAt.toISOString():null}))}catch(n){return e.rejectWithValue(n.message)}}),_7=E_({name:"Ratings",initialState:v7,reducers:{},extraReducers:t=>{t.addCase(nh.pending,e=>{e.loading=!0}).addCase(nh.fulfilled,(e,n)=>{e.loading=!1,e.error=null,e.ratings=[...e.ratings,n.payload]}).addCase(nh.rejected,(e,n)=>{e.loading=!1,e.error=n.payload}).addCase(rh.pending,e=>{e.loading=!0}).addCase(rh.fulfilled,(e,n)=>{e.loading=!1,e.error=null,e.ratings=n.payload}).addCase(rh.rejected,(e,n)=>{e.loading=!1,e.error=n.payload}).addCase(al.pending,e=>{e.loading=!0}).addCase(al.fulfilled,(e,n)=>{e.loading=!1,e.error=null,e.userRatings=n.payload}).addCase(al.rejected,(e,n)=>{e.loading=!1,e.error=n.payload}).addCase(ol.pending,e=>{e.loading=!0}).addCase(ol.fulfilled,(e,n)=>{e.loading=!1,e.error=null,e.allRatings=n.payload}).addCase(ol.rejected,(e,n)=>{e.loading=!1,e.error=n.payload})}}),y7=_7.reducer,zy=()=>P.jsx("div",{className:"Loader",children:P.jsx("div",{className:"inner-loader"})});function w7(t){return Ne({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M298.2 156.6c-52.7-25.7-114.5-10.5-150.2 32.8l55.2 55.2c6.3 6.3 6.3 16.4 0 22.6-3.1 3.1-7.2 4.7-11.3 4.7s-8.2-1.6-11.3-4.7L130.4 217 2.3 479.7c-2.9 6-3.1 13.3 0 19.7 5.4 11.1 18.9 15.7 30 10.3l133.6-65.2-49.2-49.2c-6.3-6.2-6.3-16.4 0-22.6 6.3-6.2 16.4-6.2 22.6 0l57 57 102-49.8c24-11.7 44.5-31.3 57.1-57.1 30.1-61.7 4.5-136.1-57.2-166.2zm92.1-34.9C409.8 81 399.7 32.9 360 0c-50.3 41.7-52.5 107.5-7.9 151.9l8 8c44.4 44.6 110.3 42.4 151.9-7.9-32.9-39.7-81-49.8-121.7-30.3z"},child:[]}]})(t)}function E7(t){return Ne({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"},child:[]}]})(t)}function T7(t){return Ne({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M575.2 325.7c.2-1.9.8-3.7.8-5.6 0-35.3-28.7-64-64-64-12.6 0-24.2 3.8-34.1 10-17.6-38.8-56.5-66-101.9-66-61.8 0-112 50.1-112 112 0 3 .7 5.8.9 8.7-49.6 3.7-88.9 44.7-88.9 95.3 0 53 43 96 96 96h272c53 0 96-43 96-96 0-42.1-27.2-77.4-64.8-90.4zm-430.4-22.6c-43.7-43.7-43.7-114.7 0-158.3 43.7-43.7 114.7-43.7 158.4 0 9.7 9.7 16.9 20.9 22.3 32.7 9.8-3.7 20.1-6 30.7-7.5L386 81.1c4-11.9-7.3-23.1-19.2-19.2L279 91.2 237.5 8.4C232-2.8 216-2.8 210.4 8.4L169 91.2 81.1 61.9C69.3 58 58 69.3 61.9 81.1l29.3 87.8-82.8 41.5c-11.2 5.6-11.2 21.5 0 27.1l82.8 41.4-29.3 87.8c-4 11.9 7.3 23.1 19.2 19.2l76.1-25.3c6.1-12.4 14-23.7 23.6-33.5-13.1-5.4-25.4-13.4-36-24zm-4.8-79.2c0 40.8 29.3 74.8 67.9 82.3 8-4.7 16.3-8.8 25.2-11.7 5.4-44.3 31-82.5 67.4-105C287.3 160.4 258 140 224 140c-46.3 0-84 37.6-84 83.9z"},child:[]}]})(t)}function S7(t){return Ne({tag:"svg",attr:{viewBox:"0 0 288 512"},child:[{tag:"path",attr:{d:"M209.2 233.4l-108-31.6C88.7 198.2 80 186.5 80 173.5c0-16.3 13.2-29.5 29.5-29.5h66.3c12.2 0 24.2 3.7 34.2 10.5 6.1 4.1 14.3 3.1 19.5-2l34.8-34c7.1-6.9 6.1-18.4-1.8-24.5C238 74.8 207.4 64.1 176 64V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48h-2.5C45.8 64-5.4 118.7.5 183.6c4.2 46.1 39.4 83.6 83.8 96.6l102.5 30c12.5 3.7 21.2 15.3 21.2 28.3 0 16.3-13.2 29.5-29.5 29.5h-66.3C100 368 88 364.3 78 357.5c-6.1-4.1-14.3-3.1-19.5 2l-34.8 34c-7.1 6.9-6.1 18.4 1.8 24.5 24.5 19.2 55.1 29.9 86.5 30v48c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-48.2c46.6-.9 90.3-28.6 105.7-72.7 21.5-61.6-14.6-124.8-72.5-141.7z"},child:[]}]})(t)}function I7(t){return Ne({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M327.1 96c-89.97 0-168.54 54.77-212.27 101.63L27.5 131.58c-12.13-9.18-30.24.6-27.14 14.66L24.54 256 .35 365.77c-3.1 14.06 15.01 23.83 27.14 14.66l87.33-66.05C158.55 361.23 237.13 416 327.1 416 464.56 416 576 288 576 256S464.56 96 327.1 96zm87.43 184c-13.25 0-24-10.75-24-24 0-13.26 10.75-24 24-24 13.26 0 24 10.74 24 24 0 13.25-10.75 24-24 24z"},child:[]}]})(t)}function P7(t){return Ne({tag:"svg",attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M336.5 160C322 70.7 287.8 8 248 8s-74 62.7-88.5 152h177zM152 256c0 22.2 1.2 43.5 3.3 64h185.3c2.1-20.5 3.3-41.8 3.3-64s-1.2-43.5-3.3-64H155.3c-2.1 20.5-3.3 41.8-3.3 64zm324.7-96c-28.6-67.9-86.5-120.4-158-141.6 24.4 33.8 41.2 84.7 50 141.6h108zM177.2 18.4C105.8 39.6 47.8 92.1 19.3 160h108c8.7-56.9 25.5-107.8 49.9-141.6zM487.4 192H372.7c2.1 21 3.3 42.5 3.3 64s-1.2 43-3.3 64h114.6c5.5-20.5 8.6-41.8 8.6-64s-3.1-43.5-8.5-64zM120 256c0-21.5 1.2-43 3.3-64H8.6C3.2 212.5 0 233.8 0 256s3.2 43.5 8.6 64h114.6c-2-21-3.2-42.5-3.2-64zm39.5 96c14.5 89.3 48.7 152 88.5 152s74-62.7 88.5-152h-177zm159.3 141.6c71.4-21.2 129.4-73.7 158-141.6h-108c-8.8 56.9-25.6 107.8-50 141.6zM19.3 352c28.6 67.9 86.5 120.4 158 141.6-24.4-33.8-41.2-84.7-50-141.6h-108z"},child:[]}]})(t)}function C7(t){return Ne({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 256H48a48 48 0 0 0 0 96h416a48 48 0 0 0 0-96zm16 128H32a16 16 0 0 0-16 16v16a64 64 0 0 0 64 64h352a64 64 0 0 0 64-64v-16a16 16 0 0 0-16-16zM58.64 224h394.72c34.57 0 54.62-43.9 34.82-75.88C448 83.2 359.55 32.1 256 32c-103.54.1-192 51.2-232.18 116.11C4 180.09 24.07 224 58.64 224zM384 112a16 16 0 1 1-16 16 16 16 0 0 1 16-16zM256 80a16 16 0 1 1-16 16 16 16 0 0 1 16-16zm-128 32a16 16 0 1 1-16 16 16 16 0 0 1 16-16z"},child:[]}]})(t)}function x7(t){return Ne({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M546.2 9.7c-5.6-12.5-21.6-13-28.3-1.2C486.9 62.4 431.4 96 368 96h-80C182 96 96 182 96 288c0 7 .8 13.7 1.5 20.5C161.3 262.8 253.4 224 384 224c8.8 0 16 7.2 16 16s-7.2 16-16 16C132.6 256 26 410.1 2.4 468c-6.6 16.3 1.2 34.9 17.5 41.6 16.4 6.8 35-1.1 41.8-17.3 1.5-3.6 20.9-47.9 71.9-90.6 32.4 43.9 94 85.8 174.9 77.2C465.5 467.5 576 326.7 576 154.3c0-50.2-10.8-102.2-29.8-144.6z"},child:[]}]})(t)}function b7(t){return Ne({tag:"svg",attr:{viewBox:"0 0 288 512"},child:[{tag:"path",attr:{d:"M112 316.94v156.69l22.02 33.02c4.75 7.12 15.22 7.12 19.97 0L176 473.63V316.94c-10.39 1.92-21.06 3.06-32 3.06s-21.61-1.14-32-3.06zM144 0C64.47 0 0 64.47 0 144s64.47 144 144 144 144-64.47 144-144S223.53 0 144 0zm0 76c-37.5 0-68 30.5-68 68 0 6.62-5.38 12-12 12s-12-5.38-12-12c0-50.73 41.28-92 92-92 6.62 0 12 5.38 12 12s-5.38 12-12 12z"},child:[]}]})(t)}function R7(t){return Ne({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497.39 361.8l-112-48a24 24 0 0 0-28 6.9l-49.6 60.6A370.66 370.66 0 0 1 130.6 204.11l60.6-49.6a23.94 23.94 0 0 0 6.9-28l-48-112A24.16 24.16 0 0 0 122.6.61l-104 24A24 24 0 0 0 0 48c0 256.5 207.9 464 464 464a24 24 0 0 0 23.4-18.6l24-104a24.29 24.29 0 0 0-14.01-27.6z"},child:[]}]})(t)}function A7(t){return Ne({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M158.87.15c-16.16-1.52-31.2 8.42-35.33 24.12l-14.81 56.27c187.62 5.49 314.54 130.61 322.48 317l56.94-15.78c15.72-4.36 25.49-19.68 23.62-35.9C490.89 165.08 340.78 17.32 158.87.15zm-58.47 112L.55 491.64a16.21 16.21 0 0 0 20 19.75l379-105.1c-4.27-174.89-123.08-292.14-299.15-294.1zM128 416a32 32 0 1 1 32-32 32 32 0 0 1-32 32zm48-152a32 32 0 1 1 32-32 32 32 0 0 1-32 32zm104 104a32 32 0 1 1 32-32 32 32 0 0 1-32 32z"},child:[]}]})(t)}function lv(t){return Ne({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"},child:[]}]})(t)}function Xx(t){return Ne({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528.1 171.5L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6zM388.6 312.3l23.7 138.4L288 385.4l-124.3 65.3 23.7-138.4-100.6-98 139-20.2 62.2-126 62.2 126 139 20.2-100.6 98z"},child:[]}]})(t)}var Jx={exports:{}},k7="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",O7=k7,L7=O7;function eb(){}function tb(){}tb.resetWarningCache=eb;var M7=function(){function t(r,i,s,a,c,u){if(u!==L7){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:tb,resetWarningCache:eb};return n.PropTypes=n,n};Jx.exports=M7();var N7=Jx.exports;const Qt=yv(N7),zo="/assets/default-image-DnhzG6aR.jpg",jy=({restaurant:t,ratings:e})=>{const[n,r]=R.useState(null),[i,s]=R.useState(0);return R.useEffect(()=>{if(!t||(e==null?void 0:e.length)===0)r(null),s(0);else{const c=(e==null?void 0:e.reduce((u,d)=>typeof d=="number"?u+d:u+d.rating,0))/(e==null?void 0:e.length);r(Math.round(c*100)/100),s(e==null?void 0:e.length)}},[t,e]),P.jsxs(Ri,{className:"RestaurantCard",to:`/restaurants/${t.id}`,children:[P.jsx("img",{src:t.imageURL?t.imageURL:zo,alt:"picture of food",className:"card-image",onError:a=>{a.target.src=zo}}),P.jsxs("div",{className:"restaurant-info",children:[P.jsxs("div",{className:"heading-and-rating",children:[P.jsx("h2",{children:t.name?t.name:t.resturant}),n!==null?P.jsxs("div",{className:"rating-star",children:[n.toFixed(1)," ",P.jsx(lv,{})," ",i]}):P.jsxs("div",{className:"rating-star",children:[P.jsx(Xx,{}),"No ratings"]})]}),P.jsx("p",{children:t.area&&t.area}),P.jsx("p",{children:t.address&&t.address})]})]})};jy.propTypes={restaurant:Qt.object,ratings:Qt.array};const bf=({header:t})=>P.jsx("div",{className:"Hero",children:t||"ello mate"});bf.propTypes={header:Qt.string};const $y=({filters:t,handleChange:e,heading:n,randomRestaurantId:r})=>{const[i,s]=R.useState(!1);return P.jsxs("div",{className:"filter-checkboxes-container",children:[P.jsx("h2",{className:"heading-for-filtering-food",children:n}),P.jsx(_I,{className:`icon-arrow-down ${i?"arrow-down":"arrow-up"}`,onClick:()=>s(!i)}),P.jsxs("div",{className:`filter-checkboxes-and-btn ${i?"":"hide-checkboxes"}`,children:[P.jsxs("div",{className:"filter-checkboxes",children:[P.jsx("button",{type:"button",className:t.checkboxBuffet?"btn":"btn-disabled",onClick:e,id:"checkboxBuffet",name:"checkboxBuffet",children:"Buffet"}),P.jsx("button",{type:"button",className:t.checkboxFish?"btn":"btn-disabled",onClick:e,id:"checkboxFish",name:"checkboxFish",children:"Fish"}),P.jsx("button",{type:"button",className:t.checkboxHamburger?"btn":"btn-disabled",onClick:e,id:"checkboxHamburger",children:"Hamburger"}),P.jsx("button",{type:"button",className:t.checkboxOther?"btn":"btn-disabled",onClick:e,id:"checkboxOther",children:"Other"}),P.jsx("button",{type:"button",className:t.checkboxPasta?"btn":"btn-disabled",onClick:e,id:"checkboxPasta",children:"Pasta"}),P.jsx("button",{type:"button",className:t.checkboxRamen?"btn":"btn-disabled",onClick:e,id:"checkboxRamen",children:"Ramen"}),P.jsx("button",{type:"button",className:t.checkboxSallad?"btn":"btn-disabled",onClick:e,id:"checkboxSallad",children:"Sallad"}),P.jsx("button",{type:"button",className:t.checkboxSausage?"btn":"btn-disabled",onClick:e,id:"checkboxSausage",children:"Sausage"}),P.jsx("button",{type:"button",className:t.checkboxSchnitzel?"btn":"btn-disabled",onClick:e,id:"checkboxSchnitzel",children:"Schnitzel"}),P.jsx("button",{type:"button",className:t.checkboxSushi?"btn":"btn-disabled",onClick:e,id:"checkboxSushi",children:"Sushi"}),P.jsx("button",{type:"button",className:t.checkboxTacos?"btn":"btn-disabled",onClick:e,id:"checkboxTacos",children:"Tacos"}),P.jsx("button",{type:"button",className:t.checkboxVegan?"btn":"btn-disabled",onClick:e,id:"checkboxVegan",children:"Vegan"}),P.jsx("button",{type:"button",className:t.checkboxVegetarian?"btn":"btn-disabled",onClick:e,id:"checkboxVegetarian",children:"Vegetarian"}),P.jsx("button",{type:"button",className:t.outdoorSeating?"btn":"btn-disabled",onClick:e,id:"outdoorSeating",children:"Outdoor Seating"})]}),r&&P.jsx(Ri,{to:`/restaurants/${r}`,children:P.jsx("button",{className:"btn-light btn-random",children:"Can't decide? Discover a random restaurant!"})})]})]})};$y.propTypes={filters:Qt.object,handleChange:Qt.func,heading:Qt.string,randomRestaurantId:Qt.string};const D7=()=>{const t=yr(),{restaurants:e,loading:n,error:r}=ft(E=>E.restaurants),{allRatings:i}=ft(E=>E.ratings),[s,a]=R.useState([]),[c,u]=R.useState({}),[d,p]=R.useState(!1),[m,v]=R.useState({checkboxPizza:!1,checkboxFish:!1,checkboxPasta:!1,checkboxSchnitzel:!1,checkboxBuffet:!1,checkboxVegan:!1,checkboxVegetarian:!1,checkboxHamburger:!1,checkboxSallad:!1,checkboxRamen:!1,checkboxSushi:!1,checkboxTacos:!1,checkboxOther:!1,checkboxSausage:!1,outdoorSeating:!1});R.useEffect(()=>{a(i)},[i]),R.useEffect(()=>{t(sl()),t(ol())},[t]),R.useEffect(()=>{const E=Object.values(m).some(x=>x);p(!!E)},[m]);const T=E=>{const{id:x}=E.target;v(A=>({...A,[x]:!A[x]}))},S=E=>{u(x=>({...x,[E]:!x[E]}))},I=E=>s==null?void 0:s.filter(A=>A.restaurantId===E);let C;(()=>{if(e&&e.length>0){const E=Math.floor(Math.random()*e.length);C=e[E].id}})();const y=e.filter(E=>Object.entries(m).every(([x,A])=>!A||E[x]));return P.jsxs("div",{className:"Home padding-top-navbar",children:[P.jsx(bf,{header:"Restaurants"}),P.jsx($y,{filters:m,handleChange:T,heading:"What should the restaurant offer?",randomRestaurantId:C}),n&&P.jsx(zy,{}),r&&P.jsx("p",{children:"Something went wrong"}),y&&P.jsxs(P.Fragment,{children:[y.length>1&&d&&P.jsxs("p",{className:"filtered-text",children:["These ",y.length," restaurants match your criteria!"]}),y.length===1&&d&&P.jsx("p",{className:"filtered-text",children:"This restaurant matched your criteria."}),y.length===0&&d&&P.jsx("p",{className:"filtered-text",children:"No restaurants matched your criteria :("}),Object.entries(y.reduce((E,x)=>(E[x.area]||(E[x.area]=[]),E[x.area].push(x),E),{})).map(([E,x])=>P.jsxs("div",{className:"restaurant-area-container",children:[P.jsx("h2",{className:"area-heading",children:E}),P.jsx("div",{className:"card-container",children:x.slice(0,c[E]?x.length:3).map(A=>P.jsx(jy,{restaurant:A,ratings:I(A.id)},A.id))}),x.length>3&&P.jsxs("div",{className:"view-more-arrow",onClick:()=>S(E),children:[c[E]?"Show Less":"Show More",c[E]?P.jsx(xL,{className:"icon-arrow-down"}):P.jsx(_I,{className:"icon-arrow-down"})]})]},E))]})]})};function Cs(t){"@babel/helpers - typeof";return Cs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cs(t)}function V7(t,e){if(Cs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Cs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nb(t){var e=V7(t,"string");return Cs(e)=="symbol"?e:e+""}function Ua(t,e,n){return e=nb(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function f2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function re(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?f2(Object(n),!0).forEach(function(r){Ua(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function F7(t){if(Array.isArray(t))return t}function z7(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,c=[],u=!0,d=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=s.call(n)).done)&&(c.push(r.value),c.length!==e);u=!0);}catch(p){d=!0,i=p}finally{try{if(!u&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(d)throw i}}return c}}function uv(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function rb(t,e){if(t){if(typeof t=="string")return uv(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return uv(t,e)}}function j7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lr(t,e){return F7(t)||z7(t,e)||rb(t,e)||j7()}function $7(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Zr(t,e){if(t==null)return{};var n=$7(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}var U7=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function B7(t){var e=t.defaultInputValue,n=e===void 0?"":e,r=t.defaultMenuIsOpen,i=r===void 0?!1:r,s=t.defaultValue,a=s===void 0?null:s,c=t.inputValue,u=t.menuIsOpen,d=t.onChange,p=t.onInputChange,m=t.onMenuClose,v=t.onMenuOpen,T=t.value,S=Zr(t,U7),I=R.useState(c!==void 0?c:n),C=Lr(I,2),_=C[0],y=C[1],E=R.useState(u!==void 0?u:i),x=Lr(E,2),A=x[0],O=x[1],N=R.useState(T!==void 0?T:a),D=Lr(N,2),K=D[0],q=D[1],le=R.useCallback(function(V,ee){typeof d=="function"&&d(V,ee),q(V)},[d]),ve=R.useCallback(function(V,ee){var U;typeof p=="function"&&(U=p(V,ee)),y(U!==void 0?U:V)},[p]),Q=R.useCallback(function(){typeof v=="function"&&v(),O(!0)},[v]),Me=R.useCallback(function(){typeof m=="function"&&m(),O(!1)},[m]),ze=c!==void 0?c:_,pe=u!==void 0?u:A,rt=T!==void 0?T:K;return re(re({},S),{},{inputValue:ze,menuIsOpen:pe,onChange:le,onInputChange:ve,onMenuClose:Me,onMenuOpen:Q,value:rt})}function se(){return se=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},se.apply(this,arguments)}function H7(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p2(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,nb(r.key),r)}}function W7(t,e,n){return e&&p2(t.prototype,e),n&&p2(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function cv(t,e){return cv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},cv(t,e)}function q7(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&cv(t,e)}function hd(t){return hd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},hd(t)}function ib(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ib=function(){return!!t})()}function G7(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function K7(t,e){if(e&&(Cs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return G7(t)}function Z7(t){var e=ib();return function(){var r=hd(t),i;if(e){var s=hd(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return K7(this,i)}}function Q7(t){if(Array.isArray(t))return uv(t)}function Y7(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function X7(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Uy(t){return Q7(t)||Y7(t)||rb(t)||X7()}function J7(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function eF(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var tF=function(){function t(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(eF(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=J7(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},t}(),zt="-ms-",dd="-moz-",be="-webkit-",sb="comm",By="rule",Hy="decl",nF="@import",ob="@keyframes",rF="@layer",iF=Math.abs,Rf=String.fromCharCode,sF=Object.assign;function oF(t,e){return Rt(t,0)^45?(((e<<2^Rt(t,0))<<2^Rt(t,1))<<2^Rt(t,2))<<2^Rt(t,3):0}function ab(t){return t.trim()}function aF(t,e){return(t=e.exec(t))?t[0]:t}function Re(t,e,n){return t.replace(e,n)}function hv(t,e){return t.indexOf(e)}function Rt(t,e){return t.charCodeAt(e)|0}function Zl(t,e,n){return t.slice(e,n)}function tr(t){return t.length}function Wy(t){return t.length}function Cc(t,e){return e.push(t),t}function lF(t,e){return t.map(e).join("")}var Af=1,jo=1,lb=0,cn=0,lt=0,ta="";function kf(t,e,n,r,i,s,a){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:Af,column:jo,length:a,return:""}}function ba(t,e){return sF(kf("",null,null,"",null,null,0),t,{length:-t.length},e)}function uF(){return lt}function cF(){return lt=cn>0?Rt(ta,--cn):0,jo--,lt===10&&(jo=1,Af--),lt}function gn(){return lt=cn<lb?Rt(ta,cn++):0,jo++,lt===10&&(jo=1,Af++),lt}function gr(){return Rt(ta,cn)}function ih(){return cn}function Ru(t,e){return Zl(ta,t,e)}function Ql(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function ub(t){return Af=jo=1,lb=tr(ta=t),cn=0,[]}function cb(t){return ta="",t}function sh(t){return ab(Ru(cn-1,dv(t===91?t+2:t===40?t+1:t)))}function hF(t){for(;(lt=gr())&&lt<33;)gn();return Ql(t)>2||Ql(lt)>3?"":" "}function dF(t,e){for(;--e&&gn()&&!(lt<48||lt>102||lt>57&&lt<65||lt>70&&lt<97););return Ru(t,ih()+(e<6&&gr()==32&&gn()==32))}function dv(t){for(;gn();)switch(lt){case t:return cn;case 34:case 39:t!==34&&t!==39&&dv(lt);break;case 40:t===41&&dv(t);break;case 92:gn();break}return cn}function fF(t,e){for(;gn()&&t+lt!==57;)if(t+lt===84&&gr()===47)break;return"/*"+Ru(e,cn-1)+"*"+Rf(t===47?t:gn())}function pF(t){for(;!Ql(gr());)gn();return Ru(t,cn)}function mF(t){return cb(oh("",null,null,null,[""],t=ub(t),0,[0],t))}function oh(t,e,n,r,i,s,a,c,u){for(var d=0,p=0,m=a,v=0,T=0,S=0,I=1,C=1,_=1,y=0,E="",x=i,A=s,O=r,N=E;C;)switch(S=y,y=gn()){case 40:if(S!=108&&Rt(N,m-1)==58){hv(N+=Re(sh(y),"&","&\f"),"&\f")!=-1&&(_=-1);break}case 34:case 39:case 91:N+=sh(y);break;case 9:case 10:case 13:case 32:N+=hF(S);break;case 92:N+=dF(ih()-1,7);continue;case 47:switch(gr()){case 42:case 47:Cc(gF(fF(gn(),ih()),e,n),u);break;default:N+="/"}break;case 123*I:c[d++]=tr(N)*_;case 125*I:case 59:case 0:switch(y){case 0:case 125:C=0;case 59+p:_==-1&&(N=Re(N,/\f/g,"")),T>0&&tr(N)-m&&Cc(T>32?g2(N+";",r,n,m-1):g2(Re(N," ","")+";",r,n,m-2),u);break;case 59:N+=";";default:if(Cc(O=m2(N,e,n,d,p,i,c,E,x=[],A=[],m),s),y===123)if(p===0)oh(N,e,O,O,x,s,m,c,A);else switch(v===99&&Rt(N,3)===110?100:v){case 100:case 108:case 109:case 115:oh(t,O,O,r&&Cc(m2(t,O,O,0,0,i,c,E,i,x=[],m),A),i,A,m,c,r?x:A);break;default:oh(N,O,O,O,[""],A,0,c,A)}}d=p=T=0,I=_=1,E=N="",m=a;break;case 58:m=1+tr(N),T=S;default:if(I<1){if(y==123)--I;else if(y==125&&I++==0&&cF()==125)continue}switch(N+=Rf(y),y*I){case 38:_=p>0?1:(N+="\f",-1);break;case 44:c[d++]=(tr(N)-1)*_,_=1;break;case 64:gr()===45&&(N+=sh(gn())),v=gr(),p=m=tr(E=N+=pF(ih())),y++;break;case 45:S===45&&tr(N)==2&&(I=0)}}return s}function m2(t,e,n,r,i,s,a,c,u,d,p){for(var m=i-1,v=i===0?s:[""],T=Wy(v),S=0,I=0,C=0;S<r;++S)for(var _=0,y=Zl(t,m+1,m=iF(I=a[S])),E=t;_<T;++_)(E=ab(I>0?v[_]+" "+y:Re(y,/&\f/g,v[_])))&&(u[C++]=E);return kf(t,e,n,i===0?By:c,u,d,p)}function gF(t,e,n){return kf(t,e,n,sb,Rf(uF()),Zl(t,2,-2),0)}function g2(t,e,n,r){return kf(t,e,n,Hy,Zl(t,0,r),Zl(t,r+1,-1),r)}function wo(t,e){for(var n="",r=Wy(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function vF(t,e,n,r){switch(t.type){case rF:if(t.children.length)break;case nF:case Hy:return t.return=t.return||t.value;case sb:return"";case ob:return t.return=t.value+"{"+wo(t.children,r)+"}";case By:t.value=t.props.join(",")}return tr(n=wo(t.children,r))?t.return=t.value+"{"+n+"}":""}function _F(t){var e=Wy(t);return function(n,r,i,s){for(var a="",c=0;c<e;c++)a+=t[c](n,r,i,s)||"";return a}}function yF(t){return function(e){e.root||(e=e.return)&&t(e)}}function wF(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var EF=function(e,n,r){for(var i=0,s=0;i=s,s=gr(),i===38&&s===12&&(n[r]=1),!Ql(s);)gn();return Ru(e,cn)},TF=function(e,n){var r=-1,i=44;do switch(Ql(i)){case 0:i===38&&gr()===12&&(n[r]=1),e[r]+=EF(cn-1,n,r);break;case 2:e[r]+=sh(i);break;case 4:if(i===44){e[++r]=gr()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=Rf(i)}while(i=gn());return e},SF=function(e,n){return cb(TF(ub(e),n))},v2=new WeakMap,IF=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!v2.get(r))&&!i){v2.set(e,!0);for(var s=[],a=SF(n,s),c=r.props,u=0,d=0;u<a.length;u++)for(var p=0;p<c.length;p++,d++)e.props[d]=s[u]?a[u].replace(/&\f/g,c[p]):c[p]+" "+a[u]}}},PF=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function hb(t,e){switch(oF(t,e)){case 5103:return be+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return be+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return be+t+dd+t+zt+t+t;case 6828:case 4268:return be+t+zt+t+t;case 6165:return be+t+zt+"flex-"+t+t;case 5187:return be+t+Re(t,/(\w+).+(:[^]+)/,be+"box-$1$2"+zt+"flex-$1$2")+t;case 5443:return be+t+zt+"flex-item-"+Re(t,/flex-|-self/,"")+t;case 4675:return be+t+zt+"flex-line-pack"+Re(t,/align-content|flex-|-self/,"")+t;case 5548:return be+t+zt+Re(t,"shrink","negative")+t;case 5292:return be+t+zt+Re(t,"basis","preferred-size")+t;case 6060:return be+"box-"+Re(t,"-grow","")+be+t+zt+Re(t,"grow","positive")+t;case 4554:return be+Re(t,/([^-])(transform)/g,"$1"+be+"$2")+t;case 6187:return Re(Re(Re(t,/(zoom-|grab)/,be+"$1"),/(image-set)/,be+"$1"),t,"")+t;case 5495:case 3959:return Re(t,/(image-set\([^]*)/,be+"$1$`$1");case 4968:return Re(Re(t,/(.+:)(flex-)?(.*)/,be+"box-pack:$3"+zt+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+be+t+t;case 4095:case 3583:case 4068:case 2532:return Re(t,/(.+)-inline(.+)/,be+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(tr(t)-1-e>6)switch(Rt(t,e+1)){case 109:if(Rt(t,e+4)!==45)break;case 102:return Re(t,/(.+:)(.+)-([^]+)/,"$1"+be+"$2-$3$1"+dd+(Rt(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~hv(t,"stretch")?hb(Re(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(Rt(t,e+1)!==115)break;case 6444:switch(Rt(t,tr(t)-3-(~hv(t,"!important")&&10))){case 107:return Re(t,":",":"+be)+t;case 101:return Re(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+be+(Rt(t,14)===45?"inline-":"")+"box$3$1"+be+"$2$3$1"+zt+"$2box$3")+t}break;case 5936:switch(Rt(t,e+11)){case 114:return be+t+zt+Re(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return be+t+zt+Re(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return be+t+zt+Re(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return be+t+zt+t+t}return t}var CF=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case Hy:e.return=hb(e.value,e.length);break;case ob:return wo([ba(e,{value:Re(e.value,"@","@"+be)})],i);case By:if(e.length)return lF(e.props,function(s){switch(aF(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return wo([ba(e,{props:[Re(s,/:(read-\w+)/,":"+dd+"$1")]})],i);case"::placeholder":return wo([ba(e,{props:[Re(s,/:(plac\w+)/,":"+be+"input-$1")]}),ba(e,{props:[Re(s,/:(plac\w+)/,":"+dd+"$1")]}),ba(e,{props:[Re(s,/:(plac\w+)/,zt+"input-$1")]})],i)}return""})}},xF=[CF],bF=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(I){var C=I.getAttribute("data-emotion");C.indexOf(" ")!==-1&&(document.head.appendChild(I),I.setAttribute("data-s",""))})}var i=e.stylisPlugins||xF,s={},a,c=[];a=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(I){for(var C=I.getAttribute("data-emotion").split(" "),_=1;_<C.length;_++)s[C[_]]=!0;c.push(I)});var u,d=[IF,PF];{var p,m=[vF,yF(function(I){p.insert(I)})],v=_F(d.concat(i,m)),T=function(C){return wo(mF(C),v)};u=function(C,_,y,E){p=y,T(C?C+"{"+_.styles+"}":_.styles),E&&(S.inserted[_.name]=!0)}}var S={key:n,sheet:new tF({key:n,container:a,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:u};return S.sheet.hydrate(c),S},db={exports:{}},Le={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var It=typeof Symbol=="function"&&Symbol.for,qy=It?Symbol.for("react.element"):60103,Gy=It?Symbol.for("react.portal"):60106,Of=It?Symbol.for("react.fragment"):60107,Lf=It?Symbol.for("react.strict_mode"):60108,Mf=It?Symbol.for("react.profiler"):60114,Nf=It?Symbol.for("react.provider"):60109,Df=It?Symbol.for("react.context"):60110,Ky=It?Symbol.for("react.async_mode"):60111,Vf=It?Symbol.for("react.concurrent_mode"):60111,Ff=It?Symbol.for("react.forward_ref"):60112,zf=It?Symbol.for("react.suspense"):60113,RF=It?Symbol.for("react.suspense_list"):60120,jf=It?Symbol.for("react.memo"):60115,$f=It?Symbol.for("react.lazy"):60116,AF=It?Symbol.for("react.block"):60121,kF=It?Symbol.for("react.fundamental"):60117,OF=It?Symbol.for("react.responder"):60118,LF=It?Symbol.for("react.scope"):60119;function Sn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case qy:switch(t=t.type,t){case Ky:case Vf:case Of:case Mf:case Lf:case zf:return t;default:switch(t=t&&t.$$typeof,t){case Df:case Ff:case $f:case jf:case Nf:return t;default:return e}}case Gy:return e}}}function fb(t){return Sn(t)===Vf}Le.AsyncMode=Ky;Le.ConcurrentMode=Vf;Le.ContextConsumer=Df;Le.ContextProvider=Nf;Le.Element=qy;Le.ForwardRef=Ff;Le.Fragment=Of;Le.Lazy=$f;Le.Memo=jf;Le.Portal=Gy;Le.Profiler=Mf;Le.StrictMode=Lf;Le.Suspense=zf;Le.isAsyncMode=function(t){return fb(t)||Sn(t)===Ky};Le.isConcurrentMode=fb;Le.isContextConsumer=function(t){return Sn(t)===Df};Le.isContextProvider=function(t){return Sn(t)===Nf};Le.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===qy};Le.isForwardRef=function(t){return Sn(t)===Ff};Le.isFragment=function(t){return Sn(t)===Of};Le.isLazy=function(t){return Sn(t)===$f};Le.isMemo=function(t){return Sn(t)===jf};Le.isPortal=function(t){return Sn(t)===Gy};Le.isProfiler=function(t){return Sn(t)===Mf};Le.isStrictMode=function(t){return Sn(t)===Lf};Le.isSuspense=function(t){return Sn(t)===zf};Le.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Of||t===Vf||t===Mf||t===Lf||t===zf||t===RF||typeof t=="object"&&t!==null&&(t.$$typeof===$f||t.$$typeof===jf||t.$$typeof===Nf||t.$$typeof===Df||t.$$typeof===Ff||t.$$typeof===kF||t.$$typeof===OF||t.$$typeof===LF||t.$$typeof===AF)};Le.typeOf=Sn;db.exports=Le;var MF=db.exports,pb=MF,NF={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},DF={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},mb={};mb[pb.ForwardRef]=NF;mb[pb.Memo]=DF;var VF=!0;function FF(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):r+=i+" "}),r}var gb=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||VF===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},zF=function(e,n,r){gb(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var s=n;do e.insert(n===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function jF(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var $F={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},UF=/[A-Z]|^ms/g,BF=/_EMO_([^_]+?)_([^]*?)_EMO_/g,vb=function(e){return e.charCodeAt(1)===45},_2=function(e){return e!=null&&typeof e!="boolean"},vm=wF(function(t){return vb(t)?t:t.replace(UF,"-$&").toLowerCase()}),y2=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(BF,function(r,i,s){return nr={name:i,styles:s,next:nr},i})}return $F[e]!==1&&!vb(e)&&typeof n=="number"&&n!==0?n+"px":n};function Yl(t,e,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return nr={name:n.name,styles:n.styles,next:nr},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)nr={name:r.name,styles:r.styles,next:nr},r=r.next;var i=n.styles+";";return i}return HF(t,e,n)}case"function":{if(t!==void 0){var s=nr,a=n(t);return nr=s,Yl(t,e,a)}break}}if(e==null)return n;var c=e[n];return c!==void 0?c:n}function HF(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Yl(t,e,n[i])+";";else for(var s in n){var a=n[s];if(typeof a!="object")e!=null&&e[a]!==void 0?r+=s+"{"+e[a]+"}":_2(a)&&(r+=vm(s)+":"+y2(s,a)+";");else if(Array.isArray(a)&&typeof a[0]=="string"&&(e==null||e[a[0]]===void 0))for(var c=0;c<a.length;c++)_2(a[c])&&(r+=vm(s)+":"+y2(s,a[c])+";");else{var u=Yl(t,e,a);switch(s){case"animation":case"animationName":{r+=vm(s)+":"+u+";";break}default:r+=s+"{"+u+"}"}}}return r}var w2=/label:\s*([^\s;\n{]+)\s*(;|$)/g,nr,_b=function(e,n,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var i=!0,s="";nr=void 0;var a=e[0];a==null||a.raw===void 0?(i=!1,s+=Yl(r,n,a)):s+=a[0];for(var c=1;c<e.length;c++)s+=Yl(r,n,e[c]),i&&(s+=a[c]);w2.lastIndex=0;for(var u="",d;(d=w2.exec(s))!==null;)u+="-"+d[1];var p=jF(s)+u;return{name:p,styles:s,next:nr}},WF=function(e){return e()},qF=ll.useInsertionEffect?ll.useInsertionEffect:!1,GF=qF||WF,Zy={}.hasOwnProperty,yb=R.createContext(typeof HTMLElement<"u"?bF({key:"css"}):null);yb.Provider;var KF=function(e){return R.forwardRef(function(n,r){var i=R.useContext(yb);return e(n,i,r)})},ZF=R.createContext({}),fv="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",QF=function(e,n){var r={};for(var i in n)Zy.call(n,i)&&(r[i]=n[i]);return r[fv]=e,r},YF=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return gb(n,r,i),GF(function(){return zF(n,r,i)}),null},XF=KF(function(t,e,n){var r=t.css;typeof r=="string"&&e.registered[r]!==void 0&&(r=e.registered[r]);var i=t[fv],s=[r],a="";typeof t.className=="string"?a=FF(e.registered,s,t.className):t.className!=null&&(a=t.className+" ");var c=_b(s,void 0,R.useContext(ZF));a+=e.key+"-"+c.name;var u={};for(var d in t)Zy.call(t,d)&&d!=="css"&&d!==fv&&(u[d]=t[d]);return u.ref=n,u.className=a,R.createElement(R.Fragment,null,R.createElement(YF,{cache:e,serialized:c,isStringTag:typeof i=="string"}),R.createElement(i,u))}),JF=XF,ne=function(e,n){var r=arguments;if(n==null||!Zy.call(n,"css"))return R.createElement.apply(void 0,r);var i=r.length,s=new Array(i);s[0]=JF,s[1]=QF(e,n);for(var a=2;a<i;a++)s[a]=r[a];return R.createElement.apply(null,s)};function Qy(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return _b(e)}var ez=function(){var e=Qy.apply(void 0,arguments),n="animation-"+e.name;return{name:n,styles:"@keyframes "+n+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};function tz(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}const nz=Math.min,rz=Math.max,fd=Math.round,xc=Math.floor,pd=t=>({x:t,y:t});function iz(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}function wb(t){return Tb(t)?(t.nodeName||"").toLowerCase():"#document"}function Hn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Eb(t){var e;return(e=(Tb(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Tb(t){return t instanceof Node||t instanceof Hn(t).Node}function pv(t){return t instanceof Element||t instanceof Hn(t).Element}function Yy(t){return t instanceof HTMLElement||t instanceof Hn(t).HTMLElement}function E2(t){return typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Hn(t).ShadowRoot}function Sb(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=Xy(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function sz(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function oz(t){return["html","body","#document"].includes(wb(t))}function Xy(t){return Hn(t).getComputedStyle(t)}function az(t){if(wb(t)==="html")return t;const e=t.assignedSlot||t.parentNode||E2(t)&&t.host||Eb(t);return E2(e)?e.host:e}function Ib(t){const e=az(t);return oz(e)?t.ownerDocument?t.ownerDocument.body:t.body:Yy(e)&&Sb(e)?e:Ib(e)}function md(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=Ib(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),a=Hn(i);return s?e.concat(a,a.visualViewport||[],Sb(i)?i:[],a.frameElement&&n?md(a.frameElement):[]):e.concat(i,md(i,[],n))}function lz(t){const e=Xy(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Yy(t),s=i?t.offsetWidth:n,a=i?t.offsetHeight:r,c=fd(n)!==s||fd(r)!==a;return c&&(n=s,r=a),{width:n,height:r,$:c}}function Jy(t){return pv(t)?t:t.contextElement}function _m(t){const e=Jy(t);if(!Yy(e))return pd(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=lz(e);let a=(s?fd(n.width):n.width)/r,c=(s?fd(n.height):n.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!c||!Number.isFinite(c))&&(c=1),{x:a,y:c}}const uz=pd(0);function cz(t){const e=Hn(t);return!sz()||!e.visualViewport?uz:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function hz(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Hn(t)?!1:e}function T2(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=Jy(t);let a=pd(1);e&&(r?pv(r)&&(a=_m(r)):a=_m(t));const c=hz(s,n,r)?cz(s):pd(0);let u=(i.left+c.x)/a.x,d=(i.top+c.y)/a.y,p=i.width/a.x,m=i.height/a.y;if(s){const v=Hn(s),T=r&&pv(r)?Hn(r):r;let S=v,I=S.frameElement;for(;I&&r&&T!==S;){const C=_m(I),_=I.getBoundingClientRect(),y=Xy(I),E=_.left+(I.clientLeft+parseFloat(y.paddingLeft))*C.x,x=_.top+(I.clientTop+parseFloat(y.paddingTop))*C.y;u*=C.x,d*=C.y,p*=C.x,m*=C.y,u+=E,d+=x,S=Hn(I),I=S.frameElement}}return iz({width:p,height:m,x:u,y:d})}function dz(t,e){let n=null,r;const i=Eb(t);function s(){var c;clearTimeout(r),(c=n)==null||c.disconnect(),n=null}function a(c,u){c===void 0&&(c=!1),u===void 0&&(u=1),s();const{left:d,top:p,width:m,height:v}=t.getBoundingClientRect();if(c||e(),!m||!v)return;const T=xc(p),S=xc(i.clientWidth-(d+m)),I=xc(i.clientHeight-(p+v)),C=xc(d),y={rootMargin:-T+"px "+-S+"px "+-I+"px "+-C+"px",threshold:rz(0,nz(1,u))||1};let E=!0;function x(A){const O=A[0].intersectionRatio;if(O!==u){if(!E)return a();O?a(!1,O):r=setTimeout(()=>{a(!1,1e-7)},100)}E=!1}try{n=new IntersectionObserver(x,{...y,root:i.ownerDocument})}catch{n=new IntersectionObserver(x,y)}n.observe(t)}return a(!0),s}function fz(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:u=!1}=r,d=Jy(t),p=i||s?[...d?md(d):[],...md(e)]:[];p.forEach(_=>{i&&_.addEventListener("scroll",n,{passive:!0}),s&&_.addEventListener("resize",n)});const m=d&&c?dz(d,n):null;let v=-1,T=null;a&&(T=new ResizeObserver(_=>{let[y]=_;y&&y.target===d&&T&&(T.unobserve(e),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{var E;(E=T)==null||E.observe(e)})),n()}),d&&!u&&T.observe(d),T.observe(e));let S,I=u?T2(t):null;u&&C();function C(){const _=T2(t);I&&(_.x!==I.x||_.y!==I.y||_.width!==I.width||_.height!==I.height)&&n(),I=_,S=requestAnimationFrame(C)}return n(),()=>{var _;p.forEach(y=>{i&&y.removeEventListener("scroll",n),s&&y.removeEventListener("resize",n)}),m==null||m(),(_=T)==null||_.disconnect(),T=null,u&&cancelAnimationFrame(S)}}var mv=R.useLayoutEffect,pz=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],gd=function(){};function mz(t,e){return e?e[0]==="-"?t+e:t+"__"+e:t}function gz(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var s=[].concat(r);if(e&&t)for(var a in e)e.hasOwnProperty(a)&&e[a]&&s.push("".concat(mz(t,a)));return s.filter(function(c){return c}).map(function(c){return String(c).trim()}).join(" ")}var S2=function(e){return Pz(e)?e.filter(Boolean):Cs(e)==="object"&&e!==null?[e]:[]},Pb=function(e){e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme;var n=Zr(e,pz);return re({},n)},Je=function(e,n,r){var i=e.cx,s=e.getStyles,a=e.getClassNames,c=e.className;return{css:s(n,e),className:i(r??{},a(n,e),c)}};function Uf(t){return[document.documentElement,document.body,window].indexOf(t)>-1}function vz(t){return Uf(t)?window.innerHeight:t.clientHeight}function Cb(t){return Uf(t)?window.pageYOffset:t.scrollTop}function vd(t,e){if(Uf(t)){window.scrollTo(0,e);return}t.scrollTop=e}function _z(t){var e=getComputedStyle(t),n=e.position==="absolute",r=/(auto|scroll)/;if(e.position==="fixed")return document.documentElement;for(var i=t;i=i.parentElement;)if(e=getComputedStyle(i),!(n&&e.position==="static")&&r.test(e.overflow+e.overflowY+e.overflowX))return i;return document.documentElement}function yz(t,e,n,r){return n*((t=t/r-1)*t*t+1)+e}function bc(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:gd,i=Cb(t),s=e-i,a=10,c=0;function u(){c+=a;var d=yz(c,i,s,n);vd(t,d),c<n?window.requestAnimationFrame(u):r(t)}u()}function I2(t,e){var n=t.getBoundingClientRect(),r=e.getBoundingClientRect(),i=e.offsetHeight/3;r.bottom+i>n.bottom?vd(t,Math.min(e.offsetTop+e.clientHeight-t.offsetHeight+i,t.scrollHeight)):r.top-i<n.top&&vd(t,Math.max(e.offsetTop-i,0))}function wz(t){var e=t.getBoundingClientRect();return{bottom:e.bottom,height:e.height,left:e.left,right:e.right,top:e.top,width:e.width}}function P2(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function Ez(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var xb=!1,Tz={get passive(){return xb=!0}},Rc=typeof window<"u"?window:{};Rc.addEventListener&&Rc.removeEventListener&&(Rc.addEventListener("p",gd,Tz),Rc.removeEventListener("p",gd,!1));var Sz=xb;function Iz(t){return t!=null}function Pz(t){return Array.isArray(t)}function Ac(t,e,n){return t?e:n}var Cz=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var s=Object.entries(e).filter(function(a){var c=Lr(a,1),u=c[0];return!r.includes(u)});return s.reduce(function(a,c){var u=Lr(c,2),d=u[0],p=u[1];return a[d]=p,a},{})},xz=["children","innerProps"],bz=["children","innerProps"];function Rz(t){var e=t.maxHeight,n=t.menuEl,r=t.minHeight,i=t.placement,s=t.shouldScroll,a=t.isFixedPosition,c=t.controlHeight,u=_z(n),d={placement:"bottom",maxHeight:e};if(!n||!n.offsetParent)return d;var p=u.getBoundingClientRect(),m=p.height,v=n.getBoundingClientRect(),T=v.bottom,S=v.height,I=v.top,C=n.offsetParent.getBoundingClientRect(),_=C.top,y=a?window.innerHeight:vz(u),E=Cb(u),x=parseInt(getComputedStyle(n).marginBottom,10),A=parseInt(getComputedStyle(n).marginTop,10),O=_-A,N=y-I,D=O+E,K=m-E-I,q=T-y+E+x,le=E+I-A,ve=160;switch(i){case"auto":case"bottom":if(N>=S)return{placement:"bottom",maxHeight:e};if(K>=S&&!a)return s&&bc(u,q,ve),{placement:"bottom",maxHeight:e};if(!a&&K>=r||a&&N>=r){s&&bc(u,q,ve);var Q=a?N-x:K-x;return{placement:"bottom",maxHeight:Q}}if(i==="auto"||a){var Me=e,ze=a?O:D;return ze>=r&&(Me=Math.min(ze-x-c,e)),{placement:"top",maxHeight:Me}}if(i==="bottom")return s&&vd(u,q),{placement:"bottom",maxHeight:e};break;case"top":if(O>=S)return{placement:"top",maxHeight:e};if(D>=S&&!a)return s&&bc(u,le,ve),{placement:"top",maxHeight:e};if(!a&&D>=r||a&&O>=r){var pe=e;return(!a&&D>=r||a&&O>=r)&&(pe=a?O-A:D-A),s&&bc(u,le,ve),{placement:"top",maxHeight:pe}}return{placement:"bottom",maxHeight:e};default:throw new Error('Invalid placement provided "'.concat(i,'".'))}return d}function Az(t){var e={bottom:"top",top:"bottom"};return t?e[t]:"bottom"}var bb=function(e){return e==="auto"?"bottom":e},kz=function(e,n){var r,i=e.placement,s=e.theme,a=s.borderRadius,c=s.spacing,u=s.colors;return re((r={label:"menu"},Ua(r,Az(i),"100%"),Ua(r,"position","absolute"),Ua(r,"width","100%"),Ua(r,"zIndex",1),r),n?{}:{backgroundColor:u.neutral0,borderRadius:a,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:c.menuGutter,marginTop:c.menuGutter})},Rb=R.createContext(null),Oz=function(e){var n=e.children,r=e.minMenuHeight,i=e.maxMenuHeight,s=e.menuPlacement,a=e.menuPosition,c=e.menuShouldScrollIntoView,u=e.theme,d=R.useContext(Rb)||{},p=d.setPortalPlacement,m=R.useRef(null),v=R.useState(i),T=Lr(v,2),S=T[0],I=T[1],C=R.useState(null),_=Lr(C,2),y=_[0],E=_[1],x=u.spacing.controlHeight;return mv(function(){var A=m.current;if(A){var O=a==="fixed",N=c&&!O,D=Rz({maxHeight:i,menuEl:A,minHeight:r,placement:s,shouldScroll:N,isFixedPosition:O,controlHeight:x});I(D.maxHeight),E(D.placement),p==null||p(D.placement)}},[i,s,a,c,r,p,x]),n({ref:m,placerProps:re(re({},e),{},{placement:y||bb(s),maxHeight:S})})},Lz=function(e){var n=e.children,r=e.innerRef,i=e.innerProps;return ne("div",se({},Je(e,"menu",{menu:!0}),{ref:r},i),n)},Mz=Lz,Nz=function(e,n){var r=e.maxHeight,i=e.theme.spacing.baseUnit;return re({maxHeight:r,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},n?{}:{paddingBottom:i,paddingTop:i})},Dz=function(e){var n=e.children,r=e.innerProps,i=e.innerRef,s=e.isMulti;return ne("div",se({},Je(e,"menuList",{"menu-list":!0,"menu-list--is-multi":s}),{ref:i},r),n)},Ab=function(e,n){var r=e.theme,i=r.spacing.baseUnit,s=r.colors;return re({textAlign:"center"},n?{}:{color:s.neutral40,padding:"".concat(i*2,"px ").concat(i*3,"px")})},Vz=Ab,Fz=Ab,zz=function(e){var n=e.children,r=n===void 0?"No options":n,i=e.innerProps,s=Zr(e,xz);return ne("div",se({},Je(re(re({},s),{},{children:r,innerProps:i}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),i),r)},jz=function(e){var n=e.children,r=n===void 0?"Loading...":n,i=e.innerProps,s=Zr(e,bz);return ne("div",se({},Je(re(re({},s),{},{children:r,innerProps:i}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),i),r)},$z=function(e){var n=e.rect,r=e.offset,i=e.position;return{left:n.left,position:i,top:r,width:n.width,zIndex:1}},Uz=function(e){var n=e.appendTo,r=e.children,i=e.controlElement,s=e.innerProps,a=e.menuPlacement,c=e.menuPosition,u=R.useRef(null),d=R.useRef(null),p=R.useState(bb(a)),m=Lr(p,2),v=m[0],T=m[1],S=R.useMemo(function(){return{setPortalPlacement:T}},[]),I=R.useState(null),C=Lr(I,2),_=C[0],y=C[1],E=R.useCallback(function(){if(i){var N=wz(i),D=c==="fixed"?0:window.pageYOffset,K=N[v]+D;(K!==(_==null?void 0:_.offset)||N.left!==(_==null?void 0:_.rect.left)||N.width!==(_==null?void 0:_.rect.width))&&y({offset:K,rect:N})}},[i,c,v,_==null?void 0:_.offset,_==null?void 0:_.rect.left,_==null?void 0:_.rect.width]);mv(function(){E()},[E]);var x=R.useCallback(function(){typeof d.current=="function"&&(d.current(),d.current=null),i&&u.current&&(d.current=fz(i,u.current,E,{elementResize:"ResizeObserver"in window}))},[i,E]);mv(function(){x()},[x]);var A=R.useCallback(function(N){u.current=N,x()},[x]);if(!n&&c!=="fixed"||!_)return null;var O=ne("div",se({ref:A},Je(re(re({},e),{},{offset:_.offset,position:c,rect:_.rect}),"menuPortal",{"menu-portal":!0}),s),r);return ne(Rb.Provider,{value:S},n?eI.createPortal(O,n):O)},Bz=function(e){var n=e.isDisabled,r=e.isRtl;return{label:"container",direction:r?"rtl":void 0,pointerEvents:n?"none":void 0,position:"relative"}},Hz=function(e){var n=e.children,r=e.innerProps,i=e.isDisabled,s=e.isRtl;return ne("div",se({},Je(e,"container",{"--is-disabled":i,"--is-rtl":s}),r),n)},Wz=function(e,n){var r=e.theme.spacing,i=e.isMulti,s=e.hasValue,a=e.selectProps.controlShouldRenderValue;return re({alignItems:"center",display:i&&s&&a?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},n?{}:{padding:"".concat(r.baseUnit/2,"px ").concat(r.baseUnit*2,"px")})},qz=function(e){var n=e.children,r=e.innerProps,i=e.isMulti,s=e.hasValue;return ne("div",se({},Je(e,"valueContainer",{"value-container":!0,"value-container--is-multi":i,"value-container--has-value":s}),r),n)},Gz=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},Kz=function(e){var n=e.children,r=e.innerProps;return ne("div",se({},Je(e,"indicatorsContainer",{indicators:!0}),r),n)},C2,Zz=["size"],Qz=["innerProps","isRtl","size"],Yz={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},kb=function(e){var n=e.size,r=Zr(e,Zz);return ne("svg",se({height:n,width:n,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:Yz},r))},e1=function(e){return ne(kb,se({size:20},e),ne("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},Ob=function(e){return ne(kb,se({size:20},e),ne("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},Lb=function(e,n){var r=e.isFocused,i=e.theme,s=i.spacing.baseUnit,a=i.colors;return re({label:"indicatorContainer",display:"flex",transition:"color 150ms"},n?{}:{color:r?a.neutral60:a.neutral20,padding:s*2,":hover":{color:r?a.neutral80:a.neutral40}})},Xz=Lb,Jz=function(e){var n=e.children,r=e.innerProps;return ne("div",se({},Je(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),r),n||ne(Ob,null))},ej=Lb,tj=function(e){var n=e.children,r=e.innerProps;return ne("div",se({},Je(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),r),n||ne(e1,null))},nj=function(e,n){var r=e.isDisabled,i=e.theme,s=i.spacing.baseUnit,a=i.colors;return re({label:"indicatorSeparator",alignSelf:"stretch",width:1},n?{}:{backgroundColor:r?a.neutral10:a.neutral20,marginBottom:s*2,marginTop:s*2})},rj=function(e){var n=e.innerProps;return ne("span",se({},n,Je(e,"indicatorSeparator",{"indicator-separator":!0})))},ij=ez(C2||(C2=tz([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),sj=function(e,n){var r=e.isFocused,i=e.size,s=e.theme,a=s.colors,c=s.spacing.baseUnit;return re({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:i,lineHeight:1,marginRight:i,textAlign:"center",verticalAlign:"middle"},n?{}:{color:r?a.neutral60:a.neutral20,padding:c*2})},ym=function(e){var n=e.delay,r=e.offset;return ne("span",{css:Qy({animation:"".concat(ij," 1s ease-in-out ").concat(n,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:r?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},oj=function(e){var n=e.innerProps,r=e.isRtl,i=e.size,s=i===void 0?4:i,a=Zr(e,Qz);return ne("div",se({},Je(re(re({},a),{},{innerProps:n,isRtl:r,size:s}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),n),ne(ym,{delay:0,offset:r}),ne(ym,{delay:160,offset:!0}),ne(ym,{delay:320,offset:!r}))},aj=function(e,n){var r=e.isDisabled,i=e.isFocused,s=e.theme,a=s.colors,c=s.borderRadius,u=s.spacing;return re({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:u.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},n?{}:{backgroundColor:r?a.neutral5:a.neutral0,borderColor:r?a.neutral10:i?a.primary:a.neutral20,borderRadius:c,borderStyle:"solid",borderWidth:1,boxShadow:i?"0 0 0 1px ".concat(a.primary):void 0,"&:hover":{borderColor:i?a.primary:a.neutral30}})},lj=function(e){var n=e.children,r=e.isDisabled,i=e.isFocused,s=e.innerRef,a=e.innerProps,c=e.menuIsOpen;return ne("div",se({ref:s},Je(e,"control",{control:!0,"control--is-disabled":r,"control--is-focused":i,"control--menu-is-open":c}),a,{"aria-disabled":r||void 0}),n)},uj=lj,cj=["data"],hj=function(e,n){var r=e.theme.spacing;return n?{}:{paddingBottom:r.baseUnit*2,paddingTop:r.baseUnit*2}},dj=function(e){var n=e.children,r=e.cx,i=e.getStyles,s=e.getClassNames,a=e.Heading,c=e.headingProps,u=e.innerProps,d=e.label,p=e.theme,m=e.selectProps;return ne("div",se({},Je(e,"group",{group:!0}),u),ne(a,se({},c,{selectProps:m,theme:p,getStyles:i,getClassNames:s,cx:r}),d),ne("div",null,n))},fj=function(e,n){var r=e.theme,i=r.colors,s=r.spacing;return re({label:"group",cursor:"default",display:"block"},n?{}:{color:i.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:s.baseUnit*3,paddingRight:s.baseUnit*3,textTransform:"uppercase"})},pj=function(e){var n=Pb(e);n.data;var r=Zr(n,cj);return ne("div",se({},Je(e,"groupHeading",{"group-heading":!0}),r))},mj=dj,gj=["innerRef","isDisabled","isHidden","inputClassName"],vj=function(e,n){var r=e.isDisabled,i=e.value,s=e.theme,a=s.spacing,c=s.colors;return re(re({visibility:r?"hidden":"visible",transform:i?"translateZ(0)":""},_j),n?{}:{margin:a.baseUnit/2,paddingBottom:a.baseUnit/2,paddingTop:a.baseUnit/2,color:c.neutral80})},Mb={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},_j={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":re({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},Mb)},yj=function(e){return re({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},Mb)},wj=function(e){var n=e.cx,r=e.value,i=Pb(e),s=i.innerRef,a=i.isDisabled,c=i.isHidden,u=i.inputClassName,d=Zr(i,gj);return ne("div",se({},Je(e,"input",{"input-container":!0}),{"data-value":r||""}),ne("input",se({className:n({input:!0},u),ref:s,style:yj(c),disabled:a},d)))},Ej=wj,Tj=function(e,n){var r=e.theme,i=r.spacing,s=r.borderRadius,a=r.colors;return re({label:"multiValue",display:"flex",minWidth:0},n?{}:{backgroundColor:a.neutral10,borderRadius:s/2,margin:i.baseUnit/2})},Sj=function(e,n){var r=e.theme,i=r.borderRadius,s=r.colors,a=e.cropWithEllipsis;return re({overflow:"hidden",textOverflow:a||a===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},n?{}:{borderRadius:i/2,color:s.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},Ij=function(e,n){var r=e.theme,i=r.spacing,s=r.borderRadius,a=r.colors,c=e.isFocused;return re({alignItems:"center",display:"flex"},n?{}:{borderRadius:s/2,backgroundColor:c?a.dangerLight:void 0,paddingLeft:i.baseUnit,paddingRight:i.baseUnit,":hover":{backgroundColor:a.dangerLight,color:a.danger}})},Nb=function(e){var n=e.children,r=e.innerProps;return ne("div",r,n)},Pj=Nb,Cj=Nb;function xj(t){var e=t.children,n=t.innerProps;return ne("div",se({role:"button"},n),e||ne(e1,{size:14}))}var bj=function(e){var n=e.children,r=e.components,i=e.data,s=e.innerProps,a=e.isDisabled,c=e.removeProps,u=e.selectProps,d=r.Container,p=r.Label,m=r.Remove;return ne(d,{data:i,innerProps:re(re({},Je(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":a})),s),selectProps:u},ne(p,{data:i,innerProps:re({},Je(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:u},n),ne(m,{data:i,innerProps:re(re({},Je(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(n||"option")},c),selectProps:u}))},Rj=bj,Aj=function(e,n){var r=e.isDisabled,i=e.isFocused,s=e.isSelected,a=e.theme,c=a.spacing,u=a.colors;return re({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},n?{}:{backgroundColor:s?u.primary:i?u.primary25:"transparent",color:r?u.neutral20:s?u.neutral0:"inherit",padding:"".concat(c.baseUnit*2,"px ").concat(c.baseUnit*3,"px"),":active":{backgroundColor:r?void 0:s?u.primary:u.primary50}})},kj=function(e){var n=e.children,r=e.isDisabled,i=e.isFocused,s=e.isSelected,a=e.innerRef,c=e.innerProps;return ne("div",se({},Je(e,"option",{option:!0,"option--is-disabled":r,"option--is-focused":i,"option--is-selected":s}),{ref:a,"aria-disabled":r},c),n)},Oj=kj,Lj=function(e,n){var r=e.theme,i=r.spacing,s=r.colors;return re({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},n?{}:{color:s.neutral50,marginLeft:i.baseUnit/2,marginRight:i.baseUnit/2})},Mj=function(e){var n=e.children,r=e.innerProps;return ne("div",se({},Je(e,"placeholder",{placeholder:!0}),r),n)},Nj=Mj,Dj=function(e,n){var r=e.isDisabled,i=e.theme,s=i.spacing,a=i.colors;return re({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},n?{}:{color:r?a.neutral40:a.neutral80,marginLeft:s.baseUnit/2,marginRight:s.baseUnit/2})},Vj=function(e){var n=e.children,r=e.isDisabled,i=e.innerProps;return ne("div",se({},Je(e,"singleValue",{"single-value":!0,"single-value--is-disabled":r}),i),n)},Fj=Vj,zj={ClearIndicator:tj,Control:uj,DropdownIndicator:Jz,DownChevron:Ob,CrossIcon:e1,Group:mj,GroupHeading:pj,IndicatorsContainer:Kz,IndicatorSeparator:rj,Input:Ej,LoadingIndicator:oj,Menu:Mz,MenuList:Dz,MenuPortal:Uz,LoadingMessage:jz,NoOptionsMessage:zz,MultiValue:Rj,MultiValueContainer:Pj,MultiValueLabel:Cj,MultiValueRemove:xj,Option:Oj,Placeholder:Nj,SelectContainer:Hz,SingleValue:Fj,ValueContainer:qz},jj=function(e){return re(re({},zj),e.components)},x2=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function $j(t,e){return!!(t===e||x2(t)&&x2(e))}function Uj(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!$j(t[n],e[n]))return!1;return!0}function Bj(t,e){e===void 0&&(e=Uj);var n=null;function r(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];if(n&&n.lastThis===this&&e(i,n.lastArgs))return n.lastResult;var a=t.apply(this,i);return n={lastResult:a,lastArgs:i,lastThis:this},a}return r.clear=function(){n=null},r}var Hj={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},Wj=function(e){return ne("span",se({css:Hj},e))},b2=Wj,qj={guidance:function(e){var n=e.isSearchable,r=e.isMulti,i=e.tabSelectsValue,s=e.context,a=e.isInitialFocus;switch(s){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(i?", press Tab to select the option and exit the menu":"",".");case"input":return a?"".concat(e["aria-label"]||"Select"," is focused ").concat(n?",type to refine list":"",", press Down to open the menu, ").concat(r?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var n=e.action,r=e.label,i=r===void 0?"":r,s=e.labels,a=e.isDisabled;switch(n){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(i,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(s.length>1?"s":""," ").concat(s.join(","),", selected.");case"select-option":return a?"option ".concat(i," is disabled. Select another option."):"option ".concat(i,", selected.");default:return""}},onFocus:function(e){var n=e.context,r=e.focused,i=e.options,s=e.label,a=s===void 0?"":s,c=e.selectValue,u=e.isDisabled,d=e.isSelected,p=e.isAppleDevice,m=function(I,C){return I&&I.length?"".concat(I.indexOf(C)+1," of ").concat(I.length):""};if(n==="value"&&c)return"value ".concat(a," focused, ").concat(m(c,r),".");if(n==="menu"&&p){var v=u?" disabled":"",T="".concat(d?" selected":"").concat(v);return"".concat(a).concat(T,", ").concat(m(i,r),".")}return""},onFilter:function(e){var n=e.inputValue,r=e.resultsMessage;return"".concat(r).concat(n?" for search term "+n:"",".")}},Gj=function(e){var n=e.ariaSelection,r=e.focusedOption,i=e.focusedValue,s=e.focusableOptions,a=e.isFocused,c=e.selectValue,u=e.selectProps,d=e.id,p=e.isAppleDevice,m=u.ariaLiveMessages,v=u.getOptionLabel,T=u.inputValue,S=u.isMulti,I=u.isOptionDisabled,C=u.isSearchable,_=u.menuIsOpen,y=u.options,E=u.screenReaderStatus,x=u.tabSelectsValue,A=u.isLoading,O=u["aria-label"],N=u["aria-live"],D=R.useMemo(function(){return re(re({},qj),m||{})},[m]),K=R.useMemo(function(){var ze="";if(n&&D.onChange){var pe=n.option,rt=n.options,V=n.removedValue,ee=n.removedValues,U=n.value,ie=function(vt){return Array.isArray(vt)?null:vt},te=V||pe||ie(U),Pe=te?v(te):"",_e=rt||ee||void 0,me=_e?_e.map(v):[],X=re({isDisabled:te&&I(te,c),label:Pe,labels:me},n);ze=D.onChange(X)}return ze},[n,D,I,c,v]),q=R.useMemo(function(){var ze="",pe=r||i,rt=!!(r&&c&&c.includes(r));if(pe&&D.onFocus){var V={focused:pe,label:v(pe),isDisabled:I(pe,c),isSelected:rt,options:s,context:pe===r?"menu":"value",selectValue:c,isAppleDevice:p};ze=D.onFocus(V)}return ze},[r,i,v,I,D,s,c,p]),le=R.useMemo(function(){var ze="";if(_&&y.length&&!A&&D.onFilter){var pe=E({count:s.length});ze=D.onFilter({inputValue:T,resultsMessage:pe})}return ze},[s,T,_,D,y,E,A]),ve=(n==null?void 0:n.action)==="initial-input-focus",Q=R.useMemo(function(){var ze="";if(D.guidance){var pe=i?"value":_?"menu":"input";ze=D.guidance({"aria-label":O,context:pe,isDisabled:r&&I(r,c),isMulti:S,isSearchable:C,tabSelectsValue:x,isInitialFocus:ve})}return ze},[O,r,i,S,I,C,_,D,c,x,ve]),Me=ne(R.Fragment,null,ne("span",{id:"aria-selection"},K),ne("span",{id:"aria-focused"},q),ne("span",{id:"aria-results"},le),ne("span",{id:"aria-guidance"},Q));return ne(R.Fragment,null,ne(b2,{id:d},ve&&Me),ne(b2,{"aria-live":N,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},a&&!ve&&Me))},Kj=Gj,gv=[{base:"A",letters:"AⒶＡÀÁÂẦẤẪẨÃĀĂẰẮẴẲȦǠÄǞẢÅǺǍȀȂẠẬẶḀĄȺⱯ"},{base:"AA",letters:"Ꜳ"},{base:"AE",letters:"ÆǼǢ"},{base:"AO",letters:"Ꜵ"},{base:"AU",letters:"Ꜷ"},{base:"AV",letters:"ꜸꜺ"},{base:"AY",letters:"Ꜽ"},{base:"B",letters:"BⒷＢḂḄḆɃƂƁ"},{base:"C",letters:"CⒸＣĆĈĊČÇḈƇȻꜾ"},{base:"D",letters:"DⒹＤḊĎḌḐḒḎĐƋƊƉꝹ"},{base:"DZ",letters:"ǱǄ"},{base:"Dz",letters:"ǲǅ"},{base:"E",letters:"EⒺＥÈÉÊỀẾỄỂẼĒḔḖĔĖËẺĚȄȆẸỆȨḜĘḘḚƐƎ"},{base:"F",letters:"FⒻＦḞƑꝻ"},{base:"G",letters:"GⒼＧǴĜḠĞĠǦĢǤƓꞠꝽꝾ"},{base:"H",letters:"HⒽＨĤḢḦȞḤḨḪĦⱧⱵꞍ"},{base:"I",letters:"IⒾＩÌÍÎĨĪĬİÏḮỈǏȈȊỊĮḬƗ"},{base:"J",letters:"JⒿＪĴɈ"},{base:"K",letters:"KⓀＫḰǨḲĶḴƘⱩꝀꝂꝄꞢ"},{base:"L",letters:"LⓁＬĿĹĽḶḸĻḼḺŁȽⱢⱠꝈꝆꞀ"},{base:"LJ",letters:"Ǉ"},{base:"Lj",letters:"ǈ"},{base:"M",letters:"MⓂＭḾṀṂⱮƜ"},{base:"N",letters:"NⓃＮǸŃÑṄŇṆŅṊṈȠƝꞐꞤ"},{base:"NJ",letters:"Ǌ"},{base:"Nj",letters:"ǋ"},{base:"O",letters:"OⓄＯÒÓÔỒỐỖỔÕṌȬṎŌṐṒŎȮȰÖȪỎŐǑȌȎƠỜỚỠỞỢỌỘǪǬØǾƆƟꝊꝌ"},{base:"OI",letters:"Ƣ"},{base:"OO",letters:"Ꝏ"},{base:"OU",letters:"Ȣ"},{base:"P",letters:"PⓅＰṔṖƤⱣꝐꝒꝔ"},{base:"Q",letters:"QⓆＱꝖꝘɊ"},{base:"R",letters:"RⓇＲŔṘŘȐȒṚṜŖṞɌⱤꝚꞦꞂ"},{base:"S",letters:"SⓈＳẞŚṤŜṠŠṦṢṨȘŞⱾꞨꞄ"},{base:"T",letters:"TⓉＴṪŤṬȚŢṰṮŦƬƮȾꞆ"},{base:"TZ",letters:"Ꜩ"},{base:"U",letters:"UⓊＵÙÚÛŨṸŪṺŬÜǛǗǕǙỦŮŰǓȔȖƯỪỨỮỬỰỤṲŲṶṴɄ"},{base:"V",letters:"VⓋＶṼṾƲꝞɅ"},{base:"VY",letters:"Ꝡ"},{base:"W",letters:"WⓌＷẀẂŴẆẄẈⱲ"},{base:"X",letters:"XⓍＸẊẌ"},{base:"Y",letters:"YⓎＹỲÝŶỸȲẎŸỶỴƳɎỾ"},{base:"Z",letters:"ZⓏＺŹẐŻŽẒẔƵȤⱿⱫꝢ"},{base:"a",letters:"aⓐａẚàáâầấẫẩãāăằắẵẳȧǡäǟảåǻǎȁȃạậặḁąⱥɐ"},{base:"aa",letters:"ꜳ"},{base:"ae",letters:"æǽǣ"},{base:"ao",letters:"ꜵ"},{base:"au",letters:"ꜷ"},{base:"av",letters:"ꜹꜻ"},{base:"ay",letters:"ꜽ"},{base:"b",letters:"bⓑｂḃḅḇƀƃɓ"},{base:"c",letters:"cⓒｃćĉċčçḉƈȼꜿↄ"},{base:"d",letters:"dⓓｄḋďḍḑḓḏđƌɖɗꝺ"},{base:"dz",letters:"ǳǆ"},{base:"e",letters:"eⓔｅèéêềếễểẽēḕḗĕėëẻěȅȇẹệȩḝęḙḛɇɛǝ"},{base:"f",letters:"fⓕｆḟƒꝼ"},{base:"g",letters:"gⓖｇǵĝḡğġǧģǥɠꞡᵹꝿ"},{base:"h",letters:"hⓗｈĥḣḧȟḥḩḫẖħⱨⱶɥ"},{base:"hv",letters:"ƕ"},{base:"i",letters:"iⓘｉìíîĩīĭïḯỉǐȉȋịįḭɨı"},{base:"j",letters:"jⓙｊĵǰɉ"},{base:"k",letters:"kⓚｋḱǩḳķḵƙⱪꝁꝃꝅꞣ"},{base:"l",letters:"lⓛｌŀĺľḷḹļḽḻſłƚɫⱡꝉꞁꝇ"},{base:"lj",letters:"ǉ"},{base:"m",letters:"mⓜｍḿṁṃɱɯ"},{base:"n",letters:"nⓝｎǹńñṅňṇņṋṉƞɲŉꞑꞥ"},{base:"nj",letters:"ǌ"},{base:"o",letters:"oⓞｏòóôồốỗổõṍȭṏōṑṓŏȯȱöȫỏőǒȍȏơờớỡởợọộǫǭøǿɔꝋꝍɵ"},{base:"oi",letters:"ƣ"},{base:"ou",letters:"ȣ"},{base:"oo",letters:"ꝏ"},{base:"p",letters:"pⓟｐṕṗƥᵽꝑꝓꝕ"},{base:"q",letters:"qⓠｑɋꝗꝙ"},{base:"r",letters:"rⓡｒŕṙřȑȓṛṝŗṟɍɽꝛꞧꞃ"},{base:"s",letters:"sⓢｓßśṥŝṡšṧṣṩșşȿꞩꞅẛ"},{base:"t",letters:"tⓣｔṫẗťṭțţṱṯŧƭʈⱦꞇ"},{base:"tz",letters:"ꜩ"},{base:"u",letters:"uⓤｕùúûũṹūṻŭüǜǘǖǚủůűǔȕȗưừứữửựụṳųṷṵʉ"},{base:"v",letters:"vⓥｖṽṿʋꝟʌ"},{base:"vy",letters:"ꝡ"},{base:"w",letters:"wⓦｗẁẃŵẇẅẘẉⱳ"},{base:"x",letters:"xⓧｘẋẍ"},{base:"y",letters:"yⓨｙỳýŷỹȳẏÿỷẙỵƴɏỿ"},{base:"z",letters:"zⓩｚźẑżžẓẕƶȥɀⱬꝣ"}],Zj=new RegExp("["+gv.map(function(t){return t.letters}).join("")+"]","g"),Db={};for(var wm=0;wm<gv.length;wm++)for(var Em=gv[wm],Tm=0;Tm<Em.letters.length;Tm++)Db[Em.letters[Tm]]=Em.base;var Vb=function(e){return e.replace(Zj,function(n){return Db[n]})},Qj=Bj(Vb),R2=function(e){return e.replace(/^\s+|\s+$/g,"")},Yj=function(e){return"".concat(e.label," ").concat(e.value)},Xj=function(e){return function(n,r){if(n.data.__isNew__)return!0;var i=re({ignoreCase:!0,ignoreAccents:!0,stringify:Yj,trim:!0,matchFrom:"any"},e),s=i.ignoreCase,a=i.ignoreAccents,c=i.stringify,u=i.trim,d=i.matchFrom,p=u?R2(r):r,m=u?R2(c(n)):c(n);return s&&(p=p.toLowerCase(),m=m.toLowerCase()),a&&(p=Qj(p),m=Vb(m)),d==="start"?m.substr(0,p.length)===p:m.indexOf(p)>-1}},Jj=["innerRef"];function e$(t){var e=t.innerRef,n=Zr(t,Jj),r=Cz(n,"onExited","in","enter","exit","appear");return ne("input",se({ref:e},r,{css:Qy({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var t$=function(e){e.cancelable&&e.preventDefault(),e.stopPropagation()};function n$(t){var e=t.isEnabled,n=t.onBottomArrive,r=t.onBottomLeave,i=t.onTopArrive,s=t.onTopLeave,a=R.useRef(!1),c=R.useRef(!1),u=R.useRef(0),d=R.useRef(null),p=R.useCallback(function(C,_){if(d.current!==null){var y=d.current,E=y.scrollTop,x=y.scrollHeight,A=y.clientHeight,O=d.current,N=_>0,D=x-A-E,K=!1;D>_&&a.current&&(r&&r(C),a.current=!1),N&&c.current&&(s&&s(C),c.current=!1),N&&_>D?(n&&!a.current&&n(C),O.scrollTop=x,K=!0,a.current=!0):!N&&-_>E&&(i&&!c.current&&i(C),O.scrollTop=0,K=!0,c.current=!0),K&&t$(C)}},[n,r,i,s]),m=R.useCallback(function(C){p(C,C.deltaY)},[p]),v=R.useCallback(function(C){u.current=C.changedTouches[0].clientY},[]),T=R.useCallback(function(C){var _=u.current-C.changedTouches[0].clientY;p(C,_)},[p]),S=R.useCallback(function(C){if(C){var _=Sz?{passive:!1}:!1;C.addEventListener("wheel",m,_),C.addEventListener("touchstart",v,_),C.addEventListener("touchmove",T,_)}},[T,v,m]),I=R.useCallback(function(C){C&&(C.removeEventListener("wheel",m,!1),C.removeEventListener("touchstart",v,!1),C.removeEventListener("touchmove",T,!1))},[T,v,m]);return R.useEffect(function(){if(e){var C=d.current;return S(C),function(){I(C)}}},[e,S,I]),function(C){d.current=C}}var A2=["boxSizing","height","overflow","paddingRight","position"],k2={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function O2(t){t.preventDefault()}function L2(t){t.stopPropagation()}function M2(){var t=this.scrollTop,e=this.scrollHeight,n=t+this.offsetHeight;t===0?this.scrollTop=1:n===e&&(this.scrollTop=t-1)}function N2(){return"ontouchstart"in window||navigator.maxTouchPoints}var D2=!!(typeof window<"u"&&window.document&&window.document.createElement),Ra=0,Hs={capture:!1,passive:!1};function r$(t){var e=t.isEnabled,n=t.accountForScrollbars,r=n===void 0?!0:n,i=R.useRef({}),s=R.useRef(null),a=R.useCallback(function(u){if(D2){var d=document.body,p=d&&d.style;if(r&&A2.forEach(function(S){var I=p&&p[S];i.current[S]=I}),r&&Ra<1){var m=parseInt(i.current.paddingRight,10)||0,v=document.body?document.body.clientWidth:0,T=window.innerWidth-v+m||0;Object.keys(k2).forEach(function(S){var I=k2[S];p&&(p[S]=I)}),p&&(p.paddingRight="".concat(T,"px"))}d&&N2()&&(d.addEventListener("touchmove",O2,Hs),u&&(u.addEventListener("touchstart",M2,Hs),u.addEventListener("touchmove",L2,Hs))),Ra+=1}},[r]),c=R.useCallback(function(u){if(D2){var d=document.body,p=d&&d.style;Ra=Math.max(Ra-1,0),r&&Ra<1&&A2.forEach(function(m){var v=i.current[m];p&&(p[m]=v)}),d&&N2()&&(d.removeEventListener("touchmove",O2,Hs),u&&(u.removeEventListener("touchstart",M2,Hs),u.removeEventListener("touchmove",L2,Hs)))}},[r]);return R.useEffect(function(){if(e){var u=s.current;return a(u),function(){c(u)}}},[e,a,c]),function(u){s.current=u}}var i$=function(e){var n=e.target;return n.ownerDocument.activeElement&&n.ownerDocument.activeElement.blur()},s$={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function o$(t){var e=t.children,n=t.lockEnabled,r=t.captureEnabled,i=r===void 0?!0:r,s=t.onBottomArrive,a=t.onBottomLeave,c=t.onTopArrive,u=t.onTopLeave,d=n$({isEnabled:i,onBottomArrive:s,onBottomLeave:a,onTopArrive:c,onTopLeave:u}),p=r$({isEnabled:n}),m=function(T){d(T),p(T)};return ne(R.Fragment,null,n&&ne("div",{onClick:i$,css:s$}),e(m))}var a$={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},l$=function(e){var n=e.name,r=e.onFocus;return ne("input",{required:!0,name:n,tabIndex:-1,"aria-hidden":"true",onFocus:r,css:a$,value:"",onChange:function(){}})},u$=l$;function t1(t){var e;return typeof window<"u"&&window.navigator!=null?t.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function c$(){return t1(/^iPhone/i)}function Fb(){return t1(/^Mac/i)}function h$(){return t1(/^iPad/i)||Fb()&&navigator.maxTouchPoints>1}function d$(){return c$()||h$()}function f$(){return Fb()||d$()}var p$=function(e){return e.label},m$=function(e){return e.label},g$=function(e){return e.value},v$=function(e){return!!e.isDisabled},_$={clearIndicator:ej,container:Bz,control:aj,dropdownIndicator:Xz,group:hj,groupHeading:fj,indicatorsContainer:Gz,indicatorSeparator:nj,input:vj,loadingIndicator:sj,loadingMessage:Fz,menu:kz,menuList:Nz,menuPortal:$z,multiValue:Tj,multiValueLabel:Sj,multiValueRemove:Ij,noOptionsMessage:Vz,option:Aj,placeholder:Lj,singleValue:Dj,valueContainer:Wz},y$={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},w$=4,zb=4,E$=38,T$=zb*2,S$={baseUnit:zb,controlHeight:E$,menuGutter:T$},Sm={borderRadius:w$,colors:y$,spacing:S$},I$={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:P2(),captureMenuScroll:!P2(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:Xj(),formatGroupLabel:p$,getOptionLabel:m$,getOptionValue:g$,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:v$,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!Ez(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var n=e.count;return"".concat(n," result").concat(n!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function V2(t,e,n,r){var i=Ub(t,e,n),s=Bb(t,e,n),a=$b(t,e),c=_d(t,e);return{type:"option",data:e,isDisabled:i,isSelected:s,label:a,value:c,index:r}}function ah(t,e){return t.options.map(function(n,r){if("options"in n){var i=n.options.map(function(a,c){return V2(t,a,e,c)}).filter(function(a){return z2(t,a)});return i.length>0?{type:"group",data:n,options:i,index:r}:void 0}var s=V2(t,n,e,r);return z2(t,s)?s:void 0}).filter(Iz)}function jb(t){return t.reduce(function(e,n){return n.type==="group"?e.push.apply(e,Uy(n.options.map(function(r){return r.data}))):e.push(n.data),e},[])}function F2(t,e){return t.reduce(function(n,r){return r.type==="group"?n.push.apply(n,Uy(r.options.map(function(i){return{data:i.data,id:"".concat(e,"-").concat(r.index,"-").concat(i.index)}}))):n.push({data:r.data,id:"".concat(e,"-").concat(r.index)}),n},[])}function P$(t,e){return jb(ah(t,e))}function z2(t,e){var n=t.inputValue,r=n===void 0?"":n,i=e.data,s=e.isSelected,a=e.label,c=e.value;return(!Wb(t)||!s)&&Hb(t,{label:a,value:c,data:i},r)}function C$(t,e){var n=t.focusedValue,r=t.selectValue,i=r.indexOf(n);if(i>-1){var s=e.indexOf(n);if(s>-1)return n;if(i<e.length)return e[i]}return null}function x$(t,e){var n=t.focusedOption;return n&&e.indexOf(n)>-1?n:e[0]}var Im=function(e,n){var r,i=(r=e.find(function(s){return s.data===n}))===null||r===void 0?void 0:r.id;return i||null},$b=function(e,n){return e.getOptionLabel(n)},_d=function(e,n){return e.getOptionValue(n)};function Ub(t,e,n){return typeof t.isOptionDisabled=="function"?t.isOptionDisabled(e,n):!1}function Bb(t,e,n){if(n.indexOf(e)>-1)return!0;if(typeof t.isOptionSelected=="function")return t.isOptionSelected(e,n);var r=_d(t,e);return n.some(function(i){return _d(t,i)===r})}function Hb(t,e,n){return t.filterOption?t.filterOption(e,n):!0}var Wb=function(e){var n=e.hideSelectedOptions,r=e.isMulti;return n===void 0?r:n},b$=1,qb=function(t){q7(n,t);var e=Z7(n);function n(r){var i;if(H7(this,n),i=e.call(this,r),i.state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:""},i.blockOptionHover=!1,i.isComposing=!1,i.commonProps=void 0,i.initialTouchX=0,i.initialTouchY=0,i.openAfterFocus=!1,i.scrollToFocusedOptionOnUpdate=!1,i.userIsDragging=void 0,i.isAppleDevice=f$(),i.controlRef=null,i.getControlRef=function(u){i.controlRef=u},i.focusedOptionRef=null,i.getFocusedOptionRef=function(u){i.focusedOptionRef=u},i.menuListRef=null,i.getMenuListRef=function(u){i.menuListRef=u},i.inputRef=null,i.getInputRef=function(u){i.inputRef=u},i.focus=i.focusInput,i.blur=i.blurInput,i.onChange=function(u,d){var p=i.props,m=p.onChange,v=p.name;d.name=v,i.ariaOnChange(u,d),m(u,d)},i.setValue=function(u,d,p){var m=i.props,v=m.closeMenuOnSelect,T=m.isMulti,S=m.inputValue;i.onInputChange("",{action:"set-value",prevInputValue:S}),v&&(i.setState({inputIsHiddenAfterUpdate:!T}),i.onMenuClose()),i.setState({clearFocusValueOnUpdate:!0}),i.onChange(u,{action:d,option:p})},i.selectOption=function(u){var d=i.props,p=d.blurInputOnSelect,m=d.isMulti,v=d.name,T=i.state.selectValue,S=m&&i.isOptionSelected(u,T),I=i.isOptionDisabled(u,T);if(S){var C=i.getOptionValue(u);i.setValue(T.filter(function(_){return i.getOptionValue(_)!==C}),"deselect-option",u)}else if(!I)m?i.setValue([].concat(Uy(T),[u]),"select-option",u):i.setValue(u,"select-option");else{i.ariaOnChange(u,{action:"select-option",option:u,name:v});return}p&&i.blurInput()},i.removeValue=function(u){var d=i.props.isMulti,p=i.state.selectValue,m=i.getOptionValue(u),v=p.filter(function(S){return i.getOptionValue(S)!==m}),T=Ac(d,v,v[0]||null);i.onChange(T,{action:"remove-value",removedValue:u}),i.focusInput()},i.clearValue=function(){var u=i.state.selectValue;i.onChange(Ac(i.props.isMulti,[],null),{action:"clear",removedValues:u})},i.popValue=function(){var u=i.props.isMulti,d=i.state.selectValue,p=d[d.length-1],m=d.slice(0,d.length-1),v=Ac(u,m,m[0]||null);i.onChange(v,{action:"pop-value",removedValue:p})},i.getFocusedOptionId=function(u){return Im(i.state.focusableOptionsWithIds,u)},i.getFocusableOptionsWithIds=function(){return F2(ah(i.props,i.state.selectValue),i.getElementId("option"))},i.getValue=function(){return i.state.selectValue},i.cx=function(){for(var u=arguments.length,d=new Array(u),p=0;p<u;p++)d[p]=arguments[p];return gz.apply(void 0,[i.props.classNamePrefix].concat(d))},i.getOptionLabel=function(u){return $b(i.props,u)},i.getOptionValue=function(u){return _d(i.props,u)},i.getStyles=function(u,d){var p=i.props.unstyled,m=_$[u](d,p);m.boxSizing="border-box";var v=i.props.styles[u];return v?v(m,d):m},i.getClassNames=function(u,d){var p,m;return(p=(m=i.props.classNames)[u])===null||p===void 0?void 0:p.call(m,d)},i.getElementId=function(u){return"".concat(i.state.instancePrefix,"-").concat(u)},i.getComponents=function(){return jj(i.props)},i.buildCategorizedOptions=function(){return ah(i.props,i.state.selectValue)},i.getCategorizedOptions=function(){return i.props.menuIsOpen?i.buildCategorizedOptions():[]},i.buildFocusableOptions=function(){return jb(i.buildCategorizedOptions())},i.getFocusableOptions=function(){return i.props.menuIsOpen?i.buildFocusableOptions():[]},i.ariaOnChange=function(u,d){i.setState({ariaSelection:re({value:u},d)})},i.onMenuMouseDown=function(u){u.button===0&&(u.stopPropagation(),u.preventDefault(),i.focusInput())},i.onMenuMouseMove=function(u){i.blockOptionHover=!1},i.onControlMouseDown=function(u){if(!u.defaultPrevented){var d=i.props.openMenuOnClick;i.state.isFocused?i.props.menuIsOpen?u.target.tagName!=="INPUT"&&u.target.tagName!=="TEXTAREA"&&i.onMenuClose():d&&i.openMenu("first"):(d&&(i.openAfterFocus=!0),i.focusInput()),u.target.tagName!=="INPUT"&&u.target.tagName!=="TEXTAREA"&&u.preventDefault()}},i.onDropdownIndicatorMouseDown=function(u){if(!(u&&u.type==="mousedown"&&u.button!==0)&&!i.props.isDisabled){var d=i.props,p=d.isMulti,m=d.menuIsOpen;i.focusInput(),m?(i.setState({inputIsHiddenAfterUpdate:!p}),i.onMenuClose()):i.openMenu("first"),u.preventDefault()}},i.onClearIndicatorMouseDown=function(u){u&&u.type==="mousedown"&&u.button!==0||(i.clearValue(),u.preventDefault(),i.openAfterFocus=!1,u.type==="touchend"?i.focusInput():setTimeout(function(){return i.focusInput()}))},i.onScroll=function(u){typeof i.props.closeMenuOnScroll=="boolean"?u.target instanceof HTMLElement&&Uf(u.target)&&i.props.onMenuClose():typeof i.props.closeMenuOnScroll=="function"&&i.props.closeMenuOnScroll(u)&&i.props.onMenuClose()},i.onCompositionStart=function(){i.isComposing=!0},i.onCompositionEnd=function(){i.isComposing=!1},i.onTouchStart=function(u){var d=u.touches,p=d&&d.item(0);p&&(i.initialTouchX=p.clientX,i.initialTouchY=p.clientY,i.userIsDragging=!1)},i.onTouchMove=function(u){var d=u.touches,p=d&&d.item(0);if(p){var m=Math.abs(p.clientX-i.initialTouchX),v=Math.abs(p.clientY-i.initialTouchY),T=5;i.userIsDragging=m>T||v>T}},i.onTouchEnd=function(u){i.userIsDragging||(i.controlRef&&!i.controlRef.contains(u.target)&&i.menuListRef&&!i.menuListRef.contains(u.target)&&i.blurInput(),i.initialTouchX=0,i.initialTouchY=0)},i.onControlTouchEnd=function(u){i.userIsDragging||i.onControlMouseDown(u)},i.onClearIndicatorTouchEnd=function(u){i.userIsDragging||i.onClearIndicatorMouseDown(u)},i.onDropdownIndicatorTouchEnd=function(u){i.userIsDragging||i.onDropdownIndicatorMouseDown(u)},i.handleInputChange=function(u){var d=i.props.inputValue,p=u.currentTarget.value;i.setState({inputIsHiddenAfterUpdate:!1}),i.onInputChange(p,{action:"input-change",prevInputValue:d}),i.props.menuIsOpen||i.onMenuOpen()},i.onInputFocus=function(u){i.props.onFocus&&i.props.onFocus(u),i.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(i.openAfterFocus||i.props.openMenuOnFocus)&&i.openMenu("first"),i.openAfterFocus=!1},i.onInputBlur=function(u){var d=i.props.inputValue;if(i.menuListRef&&i.menuListRef.contains(document.activeElement)){i.inputRef.focus();return}i.props.onBlur&&i.props.onBlur(u),i.onInputChange("",{action:"input-blur",prevInputValue:d}),i.onMenuClose(),i.setState({focusedValue:null,isFocused:!1})},i.onOptionHover=function(u){if(!(i.blockOptionHover||i.state.focusedOption===u)){var d=i.getFocusableOptions(),p=d.indexOf(u);i.setState({focusedOption:u,focusedOptionId:p>-1?i.getFocusedOptionId(u):null})}},i.shouldHideSelectedOptions=function(){return Wb(i.props)},i.onValueInputFocus=function(u){u.preventDefault(),u.stopPropagation(),i.focus()},i.onKeyDown=function(u){var d=i.props,p=d.isMulti,m=d.backspaceRemovesValue,v=d.escapeClearsValue,T=d.inputValue,S=d.isClearable,I=d.isDisabled,C=d.menuIsOpen,_=d.onKeyDown,y=d.tabSelectsValue,E=d.openMenuOnFocus,x=i.state,A=x.focusedOption,O=x.focusedValue,N=x.selectValue;if(!I&&!(typeof _=="function"&&(_(u),u.defaultPrevented))){switch(i.blockOptionHover=!0,u.key){case"ArrowLeft":if(!p||T)return;i.focusValue("previous");break;case"ArrowRight":if(!p||T)return;i.focusValue("next");break;case"Delete":case"Backspace":if(T)return;if(O)i.removeValue(O);else{if(!m)return;p?i.popValue():S&&i.clearValue()}break;case"Tab":if(i.isComposing||u.shiftKey||!C||!y||!A||E&&i.isOptionSelected(A,N))return;i.selectOption(A);break;case"Enter":if(u.keyCode===229)break;if(C){if(!A||i.isComposing)return;i.selectOption(A);break}return;case"Escape":C?(i.setState({inputIsHiddenAfterUpdate:!1}),i.onInputChange("",{action:"menu-close",prevInputValue:T}),i.onMenuClose()):S&&v&&i.clearValue();break;case" ":if(T)return;if(!C){i.openMenu("first");break}if(!A)return;i.selectOption(A);break;case"ArrowUp":C?i.focusOption("up"):i.openMenu("last");break;case"ArrowDown":C?i.focusOption("down"):i.openMenu("first");break;case"PageUp":if(!C)return;i.focusOption("pageup");break;case"PageDown":if(!C)return;i.focusOption("pagedown");break;case"Home":if(!C)return;i.focusOption("first");break;case"End":if(!C)return;i.focusOption("last");break;default:return}u.preventDefault()}},i.state.instancePrefix="react-select-"+(i.props.instanceId||++b$),i.state.selectValue=S2(r.value),r.menuIsOpen&&i.state.selectValue.length){var s=i.getFocusableOptionsWithIds(),a=i.buildFocusableOptions(),c=a.indexOf(i.state.selectValue[0]);i.state.focusableOptionsWithIds=s,i.state.focusedOption=a[c],i.state.focusedOptionId=Im(s,a[c])}return i}return W7(n,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&I2(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(i){var s=this.props,a=s.isDisabled,c=s.menuIsOpen,u=this.state.isFocused;(u&&!a&&i.isDisabled||u&&c&&!i.menuIsOpen)&&this.focusInput(),u&&a&&!i.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!u&&!a&&i.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(I2(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(i,s){this.props.onInputChange(i,s)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(i){var s=this,a=this.state,c=a.selectValue,u=a.isFocused,d=this.buildFocusableOptions(),p=i==="first"?0:d.length-1;if(!this.props.isMulti){var m=d.indexOf(c[0]);m>-1&&(p=m)}this.scrollToFocusedOptionOnUpdate=!(u&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:d[p],focusedOptionId:this.getFocusedOptionId(d[p])},function(){return s.onMenuOpen()})}},{key:"focusValue",value:function(i){var s=this.state,a=s.selectValue,c=s.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var u=a.indexOf(c);c||(u=-1);var d=a.length-1,p=-1;if(a.length){switch(i){case"previous":u===0?p=0:u===-1?p=d:p=u-1;break;case"next":u>-1&&u<d&&(p=u+1);break}this.setState({inputIsHidden:p!==-1,focusedValue:a[p]})}}}},{key:"focusOption",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",s=this.props.pageSize,a=this.state.focusedOption,c=this.getFocusableOptions();if(c.length){var u=0,d=c.indexOf(a);a||(d=-1),i==="up"?u=d>0?d-1:c.length-1:i==="down"?u=(d+1)%c.length:i==="pageup"?(u=d-s,u<0&&(u=0)):i==="pagedown"?(u=d+s,u>c.length-1&&(u=c.length-1)):i==="last"&&(u=c.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:c[u],focusedValue:null,focusedOptionId:this.getFocusedOptionId(c[u])})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(Sm):re(re({},Sm),this.props.theme):Sm}},{key:"getCommonProps",value:function(){var i=this.clearValue,s=this.cx,a=this.getStyles,c=this.getClassNames,u=this.getValue,d=this.selectOption,p=this.setValue,m=this.props,v=m.isMulti,T=m.isRtl,S=m.options,I=this.hasValue();return{clearValue:i,cx:s,getStyles:a,getClassNames:c,getValue:u,hasValue:I,isMulti:v,isRtl:T,options:S,selectOption:d,selectProps:m,setValue:p,theme:this.getTheme()}}},{key:"hasValue",value:function(){var i=this.state.selectValue;return i.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var i=this.props,s=i.isClearable,a=i.isMulti;return s===void 0?a:s}},{key:"isOptionDisabled",value:function(i,s){return Ub(this.props,i,s)}},{key:"isOptionSelected",value:function(i,s){return Bb(this.props,i,s)}},{key:"filterOption",value:function(i,s){return Hb(this.props,i,s)}},{key:"formatOptionLabel",value:function(i,s){if(typeof this.props.formatOptionLabel=="function"){var a=this.props.inputValue,c=this.state.selectValue;return this.props.formatOptionLabel(i,{context:s,inputValue:a,selectValue:c})}else return this.getOptionLabel(i)}},{key:"formatGroupLabel",value:function(i){return this.props.formatGroupLabel(i)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var i=this.props,s=i.isDisabled,a=i.isSearchable,c=i.inputId,u=i.inputValue,d=i.tabIndex,p=i.form,m=i.menuIsOpen,v=i.required,T=this.getComponents(),S=T.Input,I=this.state,C=I.inputIsHidden,_=I.ariaSelection,y=this.commonProps,E=c||this.getElementId("input"),x=re(re(re({"aria-autocomplete":"list","aria-expanded":m,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":v,role:"combobox","aria-activedescendant":this.isAppleDevice?void 0:this.state.focusedOptionId||""},m&&{"aria-controls":this.getElementId("listbox")}),!a&&{"aria-readonly":!0}),this.hasValue()?(_==null?void 0:_.action)==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return a?R.createElement(S,se({},y,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:E,innerRef:this.getInputRef,isDisabled:s,isHidden:C,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:d,form:p,type:"text",value:u},x)):R.createElement(e$,se({id:E,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:gd,onFocus:this.onInputFocus,disabled:s,tabIndex:d,inputMode:"none",form:p,value:""},x))}},{key:"renderPlaceholderOrValue",value:function(){var i=this,s=this.getComponents(),a=s.MultiValue,c=s.MultiValueContainer,u=s.MultiValueLabel,d=s.MultiValueRemove,p=s.SingleValue,m=s.Placeholder,v=this.commonProps,T=this.props,S=T.controlShouldRenderValue,I=T.isDisabled,C=T.isMulti,_=T.inputValue,y=T.placeholder,E=this.state,x=E.selectValue,A=E.focusedValue,O=E.isFocused;if(!this.hasValue()||!S)return _?null:R.createElement(m,se({},v,{key:"placeholder",isDisabled:I,isFocused:O,innerProps:{id:this.getElementId("placeholder")}}),y);if(C)return x.map(function(D,K){var q=D===A,le="".concat(i.getOptionLabel(D),"-").concat(i.getOptionValue(D));return R.createElement(a,se({},v,{components:{Container:c,Label:u,Remove:d},isFocused:q,isDisabled:I,key:le,index:K,removeProps:{onClick:function(){return i.removeValue(D)},onTouchEnd:function(){return i.removeValue(D)},onMouseDown:function(Q){Q.preventDefault()}},data:D}),i.formatOptionLabel(D,"value"))});if(_)return null;var N=x[0];return R.createElement(p,se({},v,{data:N,isDisabled:I}),this.formatOptionLabel(N,"value"))}},{key:"renderClearIndicator",value:function(){var i=this.getComponents(),s=i.ClearIndicator,a=this.commonProps,c=this.props,u=c.isDisabled,d=c.isLoading,p=this.state.isFocused;if(!this.isClearable()||!s||u||!this.hasValue()||d)return null;var m={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return R.createElement(s,se({},a,{innerProps:m,isFocused:p}))}},{key:"renderLoadingIndicator",value:function(){var i=this.getComponents(),s=i.LoadingIndicator,a=this.commonProps,c=this.props,u=c.isDisabled,d=c.isLoading,p=this.state.isFocused;if(!s||!d)return null;var m={"aria-hidden":"true"};return R.createElement(s,se({},a,{innerProps:m,isDisabled:u,isFocused:p}))}},{key:"renderIndicatorSeparator",value:function(){var i=this.getComponents(),s=i.DropdownIndicator,a=i.IndicatorSeparator;if(!s||!a)return null;var c=this.commonProps,u=this.props.isDisabled,d=this.state.isFocused;return R.createElement(a,se({},c,{isDisabled:u,isFocused:d}))}},{key:"renderDropdownIndicator",value:function(){var i=this.getComponents(),s=i.DropdownIndicator;if(!s)return null;var a=this.commonProps,c=this.props.isDisabled,u=this.state.isFocused,d={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return R.createElement(s,se({},a,{innerProps:d,isDisabled:c,isFocused:u}))}},{key:"renderMenu",value:function(){var i=this,s=this.getComponents(),a=s.Group,c=s.GroupHeading,u=s.Menu,d=s.MenuList,p=s.MenuPortal,m=s.LoadingMessage,v=s.NoOptionsMessage,T=s.Option,S=this.commonProps,I=this.state.focusedOption,C=this.props,_=C.captureMenuScroll,y=C.inputValue,E=C.isLoading,x=C.loadingMessage,A=C.minMenuHeight,O=C.maxMenuHeight,N=C.menuIsOpen,D=C.menuPlacement,K=C.menuPosition,q=C.menuPortalTarget,le=C.menuShouldBlockScroll,ve=C.menuShouldScrollIntoView,Q=C.noOptionsMessage,Me=C.onMenuScrollToTop,ze=C.onMenuScrollToBottom;if(!N)return null;var pe=function(Pe,_e){var me=Pe.type,X=Pe.data,We=Pe.isDisabled,vt=Pe.isSelected,Hi=Pe.label,na=Pe.value,Os=I===X,Qr=We?void 0:function(){return i.onOptionHover(X)},ra=We?void 0:function(){return i.selectOption(X)},Au="".concat(i.getElementId("option"),"-").concat(_e),ku={id:Au,onClick:ra,onMouseMove:Qr,onMouseOver:Qr,tabIndex:-1,role:"option","aria-selected":i.isAppleDevice?void 0:vt};return R.createElement(T,se({},S,{innerProps:ku,data:X,isDisabled:We,isSelected:vt,key:Au,label:Hi,type:me,value:na,isFocused:Os,innerRef:Os?i.getFocusedOptionRef:void 0}),i.formatOptionLabel(Pe.data,"menu"))},rt;if(this.hasOptions())rt=this.getCategorizedOptions().map(function(te){if(te.type==="group"){var Pe=te.data,_e=te.options,me=te.index,X="".concat(i.getElementId("group"),"-").concat(me),We="".concat(X,"-heading");return R.createElement(a,se({},S,{key:X,data:Pe,options:_e,Heading:c,headingProps:{id:We,data:te.data},label:i.formatGroupLabel(te.data)}),te.options.map(function(vt){return pe(vt,"".concat(me,"-").concat(vt.index))}))}else if(te.type==="option")return pe(te,"".concat(te.index))});else if(E){var V=x({inputValue:y});if(V===null)return null;rt=R.createElement(m,S,V)}else{var ee=Q({inputValue:y});if(ee===null)return null;rt=R.createElement(v,S,ee)}var U={minMenuHeight:A,maxMenuHeight:O,menuPlacement:D,menuPosition:K,menuShouldScrollIntoView:ve},ie=R.createElement(Oz,se({},S,U),function(te){var Pe=te.ref,_e=te.placerProps,me=_e.placement,X=_e.maxHeight;return R.createElement(u,se({},S,U,{innerRef:Pe,innerProps:{onMouseDown:i.onMenuMouseDown,onMouseMove:i.onMenuMouseMove},isLoading:E,placement:me}),R.createElement(o$,{captureEnabled:_,onTopArrive:Me,onBottomArrive:ze,lockEnabled:le},function(We){return R.createElement(d,se({},S,{innerRef:function(Hi){i.getMenuListRef(Hi),We(Hi)},innerProps:{role:"listbox","aria-multiselectable":S.isMulti,id:i.getElementId("listbox")},isLoading:E,maxHeight:X,focusedOption:I}),rt)}))});return q||K==="fixed"?R.createElement(p,se({},S,{appendTo:q,controlElement:this.controlRef,menuPlacement:D,menuPosition:K}),ie):ie}},{key:"renderFormField",value:function(){var i=this,s=this.props,a=s.delimiter,c=s.isDisabled,u=s.isMulti,d=s.name,p=s.required,m=this.state.selectValue;if(p&&!this.hasValue()&&!c)return R.createElement(u$,{name:d,onFocus:this.onValueInputFocus});if(!(!d||c))if(u)if(a){var v=m.map(function(I){return i.getOptionValue(I)}).join(a);return R.createElement("input",{name:d,type:"hidden",value:v})}else{var T=m.length>0?m.map(function(I,C){return R.createElement("input",{key:"i-".concat(C),name:d,type:"hidden",value:i.getOptionValue(I)})}):R.createElement("input",{name:d,type:"hidden",value:""});return R.createElement("div",null,T)}else{var S=m[0]?this.getOptionValue(m[0]):"";return R.createElement("input",{name:d,type:"hidden",value:S})}}},{key:"renderLiveRegion",value:function(){var i=this.commonProps,s=this.state,a=s.ariaSelection,c=s.focusedOption,u=s.focusedValue,d=s.isFocused,p=s.selectValue,m=this.getFocusableOptions();return R.createElement(Kj,se({},i,{id:this.getElementId("live-region"),ariaSelection:a,focusedOption:c,focusedValue:u,isFocused:d,selectValue:p,focusableOptions:m,isAppleDevice:this.isAppleDevice}))}},{key:"render",value:function(){var i=this.getComponents(),s=i.Control,a=i.IndicatorsContainer,c=i.SelectContainer,u=i.ValueContainer,d=this.props,p=d.className,m=d.id,v=d.isDisabled,T=d.menuIsOpen,S=this.state.isFocused,I=this.commonProps=this.getCommonProps();return R.createElement(c,se({},I,{className:p,innerProps:{id:m,onKeyDown:this.onKeyDown},isDisabled:v,isFocused:S}),this.renderLiveRegion(),R.createElement(s,se({},I,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:v,isFocused:S,menuIsOpen:T}),R.createElement(u,se({},I,{isDisabled:v}),this.renderPlaceholderOrValue(),this.renderInput()),R.createElement(a,se({},I,{isDisabled:v}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(i,s){var a=s.prevProps,c=s.clearFocusValueOnUpdate,u=s.inputIsHiddenAfterUpdate,d=s.ariaSelection,p=s.isFocused,m=s.prevWasFocused,v=s.instancePrefix,T=i.options,S=i.value,I=i.menuIsOpen,C=i.inputValue,_=i.isMulti,y=S2(S),E={};if(a&&(S!==a.value||T!==a.options||I!==a.menuIsOpen||C!==a.inputValue)){var x=I?P$(i,y):[],A=I?F2(ah(i,y),"".concat(v,"-option")):[],O=c?C$(s,y):null,N=x$(s,x),D=Im(A,N);E={selectValue:y,focusedOption:N,focusedOptionId:D,focusableOptionsWithIds:A,focusedValue:O,clearFocusValueOnUpdate:!1}}var K=u!=null&&i!==a?{inputIsHidden:u,inputIsHiddenAfterUpdate:void 0}:{},q=d,le=p&&m;return p&&!le&&(q={value:Ac(_,y,y[0]||null),options:y,action:"initial-input-focus"},le=!m),(d==null?void 0:d.action)==="initial-input-focus"&&(q=null),re(re(re({},E),K),{},{prevProps:i,ariaSelection:q,prevWasFocused:le})}}]),n}(R.Component);qb.defaultProps=I$;var R$=R.forwardRef(function(t,e){var n=B7(t);return R.createElement(qb,se({ref:e},n))}),Gb=R$;const Kb=({label:t,initState:e,handleChange:n,id:r})=>{const[i,s]=R.useState(e),a=()=>{s(c=>!c)};return P.jsx("div",{className:"checkbox-wrapper",children:P.jsxs("label",{children:[P.jsx("input",{type:"checkbox",checked:i,onChange:n,onClick:a,className:i?"checked":"",id:r}),P.jsx("span",{children:t})]})})};Kb.propTypes={label:Qt.string,initState:Qt.bool,handleChange:Qt.func,id:Qt.string};const A$=()=>{ft(I=>I.auth);const{error:t}=ft(I=>I.restaurants),e=yr(),n=zi(),[r,i]=R.useState(!0),[s,a]=R.useState(""),[c,u]=R.useState(""),[d,p]=R.useState({name:"",website:"",imageURL:"",area:"",address:"",email:"",phoneNumber:"",priceRange:"",checkboxPizza:!1,checkboxFish:!1,checkboxPasta:!1,checkboxSchnitzel:!1,checkboxBuffet:!1,checkboxVegan:!1,checkboxVegetarian:!1,checkboxHamburger:!1,checkboxSallad:!1,checkboxRamen:!1,checkboxSushi:!1,checkboxTacos:!1,checkboxOther:!1,checkboxSausage:!1,outdoorSeating:!1,openingHours:"",closingHours:""});R.useEffect(()=>{d.name&&d.website?i(!1):i(!0)},[d.name,d.website]);const m=I=>{const{id:C,value:_,type:y,checked:E}=I.target;if(C==="phoneNumber"){const x=_.replace(/[^0-9\-–\s]/g,"");p(A=>({...A,[C]:x}))}else y==="checkbox"?p(x=>({...x,[C]:E})):y==="button"?p(x=>({...x,[C]:!x[C]})):(d.name&&a(""),d.website&&u(""),p(x=>({...x,[C]:_})))},v=I=>{I.preventDefault();let C=!0;try{new URL(d.website)}catch{C=!1}if(!d.name&&!C){a("You need to enter the restaurants name"),u("Invalid website URL");return}if(!C){u("Invalid website URL");return}if(!d.name){a("You need to enter the restaurants name");return}if(d.name&&d.website&&C)a(""),u(""),e(Jc(d)).then(()=>{n("/")});else return},T={control:(I,C)=>({...I,border:(C.isFocused,"1px solid grey"),height:"3rem",boxShadow:"none","&:hover":{borderColor:"grey"}}),option:(I,C)=>({...I,backgroundColor:C.isSelected?"#ffccb3;":C.isFocused?"#ffefe7":"transparent",color:(C.isSelected,"#000000")})},S=[{value:"Hammarby Sjöstad",label:"Hammarby Sjöstad"},{value:"Skanstull",label:"Skanstull"},{value:"Medborgarplatsen",label:"Medborgarplatsen"}];return P.jsxs("div",{className:"Add padding-top-navbar",children:[P.jsx(bf,{header:"Add Restaurant"}),P.jsxs("p",{className:"add-text",children:[P.jsx("b",{children:"Lunchtime hero needed!"}),P.jsx("br",{}),"Think you've found the best spot in town? ",P.jsx("br",{}),"Add a restaurant below! ",P.jsx("br",{}),"The more details you provide, the easier it will be for others to find their next favorite lunch spot."]}),P.jsxs("form",{className:"add-resturant-form",children:[P.jsx("p",{className:"error",children:s&&s}),P.jsxs("label",{htmlFor:"name",children:["Resturant name *",P.jsx("input",{type:"text",id:"name",className:"resturant-input",autoComplete:"off",value:d.name,onChange:m})]}),P.jsx("p",{className:"error",children:c&&c}),P.jsxs("label",{htmlFor:"website",children:["Website URL *",P.jsx("input",{type:"text",id:"website",className:"resturant-input",autoComplete:"off",value:d.website,onChange:m})]}),P.jsxs("label",{htmlFor:"imageURL",children:["Image URL",P.jsx("input",{type:"text",id:"imageURL",className:"resturant-input",autoComplete:"off",value:d.imageURL,onChange:m})]}),P.jsxs("label",{htmlFor:"area",children:["Area",P.jsx(Gb,{id:"area",value:S.find(I=>I.value===d.area),options:S,onChange:I=>m({target:{id:"area",value:I.value}}),className:"select-input",styles:T})]}),P.jsxs("label",{htmlFor:"address",children:["Address",P.jsx("input",{type:"text",id:"address",className:"resturant-input",autoComplete:"off",placeholder:"Street name and number only (e.g., Hammarby kaj 10d)",value:d.address,onChange:m})]}),P.jsxs("label",{htmlFor:"address",children:["Restaurant email",P.jsx("input",{type:"email",id:"email",className:"resturant-input",autoComplete:"off",value:d.email,onChange:m})]}),P.jsxs("label",{htmlFor:"address",children:["Restaurant phone number",P.jsx("input",{type:"text",id:"phoneNumber",className:"resturant-input",autoComplete:"off",value:d.phoneNumber,onChange:m})]}),P.jsxs("label",{htmlFor:"address",children:["Approximate price range",P.jsx("input",{type:"text",id:"priceRange",className:"resturant-input",autoComplete:"off",placeholder:"150-200kr",value:d.priceRange,onChange:m})]}),P.jsxs("label",{htmlFor:"openingHours",children:["What time do they open for lunch?",P.jsx("input",{type:"time",id:"openingHours",className:"resturant-input",placeholder:"Hammarbykaj 10d",value:d.openingHours,onChange:m})]}),P.jsxs("label",{htmlFor:"closingHours",children:["What time do they close for lunch?",P.jsx("input",{type:"time",id:"closingHours",className:"resturant-input",value:d.closingHours,onChange:m})]}),P.jsx(Kb,{label:"Does the restaurant offer outdoor seating?",initState:d.outdoorSeating,handleChange:m,id:"outdoorSeating"}),P.jsx($y,{handleChange:m,heading:"What amenities does this restaurant offer?",filters:d}),t&&P.jsx("p",{className:"error",children:t}),P.jsx("button",{className:`btn btn-submit ${r&&"disabled"}`,onClick:v,children:"Add Resturant"})]})]})};function k$(t){return Ne({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"m20.35 26.1-2.68 15.78L381.7 103.9l2.6-15.79zm-.55 57.94-1.58 15.92L382.2 136l1.6-16zm212.1 84.36c-2.1-.1-4.2.7-5.9 2.3-3.4 3.1-3.5 8.4-.4 11.7l2.6 2.8-17.7-7.6c-4.2-1.8-9.1.1-10.9 4.3-1.8 4.3.1 9.2 4.4 11l6.8 3c-30.5 1.9-60.3 12-83.5 29l-1.8-3c-2.4-3.9-7.5-5.2-11.5-2.8-3.9 2.4-5.2 7.5-2.8 11.4l3.2 5.3-.4.4-8.2-8.6c-3.2-3.3-8.5-3.5-11.8-.3-3.3 3.2-3.5 8.5-.3 11.8l9.2 9.6c-9.5 12.4-16.3 26.8-19.3 42.9h346.8c5 0 9-3.7 9-8.3 0-4.6-4-8.3-9-8.3h-8l3-.6c5-.7 8-5 7-9.5-1-4.6-5-7.7-10-6.9l-11 1.8c-3-3.3-6-6.2-9-8.8l2-2.1c3-3.2 4-8.4 0-11.8-3-3.3-8.1-3.4-11.4-.2l-5 4.7c-12.9-6.6-26.7-9.8-38.5-11.3 3.7-2.6 4.7-7.8 2-11.6-2.6-3.7-7.8-4.7-11.6-2l-13.3 9.3 3.4-6c2.2-4 .8-9.1-3.2-11.4-4-2.2-9.1-.8-11.3 3.2l-6 10.5c-13-9.4-27.6-16.2-42.9-20.6L237.8 171c-1.6-1.7-3.7-2.5-5.9-2.6zm-52.1 52.1 15.4 5.5c3.3 1.2 4.9 4.8 3.8 8-1.2 3.3-4.8 4.9-8 3.8l-15.4-5.6c-3.3-1.2-5-4.7-3.8-8 1.9-3.5 4.8-4.5 8-3.7zm85.6 22.4c1.5 3.1.2 6.9-2.9 8.3l-14.8 7.1c-3.1 1.5-6.9.1-8.4-3-1.4-3.1-.1-6.8 3-8.3l14.8-7c3.1-1.4 7 .4 8.3 2.9zm98.6 10.6 11.8 11.3c2.5 2.4 2.6 6.4.2 8.9-2.4 2.4-6.3 2.5-8.8.1l-11.8-11.3c-2.5-2.4-2.6-6.4-.2-8.9 2.7-2.2 6.5-2.3 8.8-.1zm-214.3 16.8c1 3.3-.8 6.8-4.1 7.9l-15.6 5c-3.2 1-6.8-.8-7.8-4.1-1.1-3.3.7-6.8 4-7.8l15.6-5c3.3-.9 7 1.5 7.9 4zm145-3.3 15.9 4c3.4.8 5.4 4.2 4.6 7.6-.9 3.3-4.3 5.4-7.6 4.5l-15.9-4c-3.4-.8-5.4-4.2-4.5-7.6 1.5-3.6 4.3-5 7.5-4.5zM39.33 312c1.68 42.5 16.6 76.8 48.58 101.7C121.9 440.1 176.1 456 255 456s133.1-15.9 167.1-42.3c32-24.9 46.9-59.2 48.6-101.7zM191 472v16h128v-16z"},child:[]}]})(t)}function O$(t){return Ne({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M255 22.31c-21.2 0-40.5 10.78-50.5 27.63l-4.4 7.42-7.6-4.08c-7.1-3.85-15.2-5.89-23.3-5.89-28.3 0-51.3 23.57-51.3 53.21 0 26.5 18.6 48.6 43.5 52.6l7.6 1.2v53.4c57.9-11.1 116-11.6 174 0v-69.7l4.8-2.6c15.7-8.3 26.1-26.1 26.1-46.15 0-28.8-20.7-51.12-45.4-51.12-6.5 0-13 1.61-18.9 4.72l-6.2 3.2-4.6-5.09C288 29.29 272 22.31 255 22.31zm1 194.79c-25.6 0-51.1 2.4-76.7 7-.9 6-1.3 12.2-1.3 18.6 0 29 9.2 55.2 23.6 73.7 14.4 18.5 33.5 29.3 54.4 29.3s40-10.8 54.4-29.3c14.4-18.5 23.6-44.7 23.6-73.7 0-6.4-.5-12.7-1.3-18.7-25.6-4.7-51.1-7-76.7-6.9zM208.7 348l-89.2 29.7-27.98 112H321.6L307.1 388l17.8-2.6 14.9 104.3h80.7l-28-112-89.2-29.7c-13.8 9.9-30 15.7-47.3 15.7-17.3 0-33.5-5.8-47.3-15.7zm69.3 52.7a9.999 9.999 0 0 1 10 10 9.999 9.999 0 0 1-10 10 9.999 9.999 0 0 1-10-10 9.999 9.999 0 0 1 10-10zm7 46a10 10 0 0 1 10 10 10 10 0 0 1-10 10 10 10 0 0 1-10-10 10 10 0 0 1 10-10z"},child:[]}]})(t)}function L$(t){return Ne({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M415.5 20.2c-8.2 0-17 1.12-25.1 3.28 2.5 11.27 4.2 22.1 4.5 33.29 7 1.62 13.6 4.29 19.7 7.79 1.8 1.03 3.5 2.13 5.2 3.28 10.7-4.95 23-8.62 35.8-11.94 10.9-2.85 22-5.3 32.5-7.54-2.9-1.64-6-3.39-8.6-4.76-9.7-5.02-17.9-7.99-32.6-4.92l-12.3 2.58 2.3-18.36c-5.9-1.81-13.4-2.7-21.4-2.7zm-35.7 52.73c-5.5 0-11.2 1-17.1 3.14-15.5 5.72-32.8 20.21-48.9 49.23-5.8 10.4-11.2 20.3-16.4 29.6h.6c6.2-.1 11.9.7 17.3 2.5 10.9 3.6 19.7 10.6 28.5 19.3l-12.6 12.8c-8-7.9-14.6-12.7-21.5-15-6.2-2.1-13.2-2.4-23.1 0-27.5 50.1-46.4 84.5-64.9 110.1 14 11.9 33.2 16.8 57.8 16.3l.4 18c-26.9.5-51.1-5.1-69.2-20.1-20.8 25.1-43.4 40.8-77.5 56.4 11.7 11.2 30.4 19.7 54.6 25.6l-4.2 17.4c-29-7-53-17.7-67.9-35.3-.2.1-.3.1-.5.2-30.64 12.7-43.76 26.9-47.39 38.8-3.63 11.8.83 23.6 11.55 35 10.73 11.3 27.54 20.9 44.84 25.6 17.3 4.8 34.8 4.4 47.3-1.8 80.8-40.1 127.6-80.6 164.1-129.5 36.6-49 62.7-106.9 100.4-181.4 5.1-10 4.5-23.4-1.2-36.6-5.7-13.21-16.3-25.68-29.1-33.01-8-4.59-16.7-7.26-25.9-7.26zM68.25 451.2c-10.4 9.9-26.58 13.3-43.45 16.6-.29 0-.59.1-.88.1 8.39 1.8 16.27 3.8 22.47 6.2 9 3.5 15.21 10.7 20.57 17.7 3.54-9.7 7.82-18.6 14.79-29.4-4.89-3.4-9.43-7.1-13.5-11.2z"},child:[]}]})(t)}function M$(t){return Ne({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M294.818 43.27c-.957.003-1.917.014-2.88.035-46.15.993-96.56 23.687-128.614 54.82-41.965 40.758-91.926 108.163-118.896 173.047-13.486 32.442-21.17 64.22-19.93 91.305 1.24 27.085 10.723 49.188 32.54 65.546 15.71 11.78 28.638 10.986 44.814 2.72 16.175-8.268 34.067-25.324 52.433-45.405 36.732-40.162 74.766-92.452 121.008-107.932 61.794-20.685 98.278-34.43 120.926-46.785 22.646-12.353 31.392-22.466 40.74-39.08 7.302-12.974 8.365-26.067 5.03-39.882-3.334-13.814-11.388-28.167-22.45-41.62-22.127-26.903-56.253-49.946-83.706-60.003-12.75-4.67-26.652-6.79-41.016-6.764zm3.418 24.26c21.21-.103 42.145 4.338 58.493 16.677 47.554 35.895 86.454 58.96 54.377 111.88-32.076 52.923-177.004 58.17-217.56 20.06-1.663-10.596-12.613-91.45 10.176-121.653 12.52-10.007 54.02-26.77 94.513-26.965zm-119.87 43.66c-1.058 1.99-7.086 83.113-10.403 98.937-19.397 9.728-71.78 21.074-73.92 6.977 3.618-16.654 37.1-71.993 84.324-105.915zm278.095 26.248c1.196 3.294 2.213 6.627 3.026 9.996 4.2 17.4 2.736 35.916-6.84 52.933-10.34 18.374-23.007 32.528-47.808 46.057-24.8 13.53-61.8 27.285-123.832 48.05-36.878 12.346-75.83 61.892-113.438 103.012-18.804 20.56-37.417 39.008-57.525 49.285-5.895 3.014-12.05 5.204-18.322 6.418 3.03 1.73 6.143 3.338 9.165 4.728 8.116 3.734 16.547 5.668 17.197 5.686 14.037-.65 29.08-8.326 44.816-21.024 15.82-12.764 32.063-30.284 48.493-48.676 32.86-36.784 65.744-77.523 104.444-90.478 61.817-20.694 98.67-34.278 121.465-46.543 22.794-12.264 31.4-22.235 40.044-39.028 9.733-18.912 10.244-32.256 4.506-46.28-4.33-10.583-12.968-21.73-25.39-34.135zm-314.546 95.466c33.96-.19 69.09 16.75 104.688 36.092-71.258 37.318-141.89 180.326-187.133 133.99-18.206-20.105-19.433-119.77 30.147-153.564 17.043-11.616 34.51-16.418 52.297-16.518zm-36.463 73.213c-5.436.103-10.92 1.77-14.74 4.787-12.34 9.753-21.72 34.145-11.206 45.844 10.057 11.19 35.46 5.816 44.728-6.012 8.262-10.544 5.69-31.088-4.32-40.02-3.632-3.24-9.023-4.7-14.46-4.6z"},child:[]}]})(t)}function N$(t){return Ne({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M206 44.27c-1.9 0-3.8 0-5.7.1-9.1.28-18 1.12-26.7 2.63-12.9 21.86-10.3 52.93-.8 78.4 24.7 3.1 51.8 6.5 78.2 11-3.8-15-6.2-30.4-3.7-45.87 2.2-13.73 8.7-27.19 20.7-39.3-18.9-4.27-40.6-7.08-62-6.96zm-54.8 8.35c-27.5 9.37-48.4 27.34-56.4 59.98 2.88 1.1 7.8 2.5 14.1 3.8 11.1 2.2 26.5 4.3 43.9 6.5-6.9-22.4-9.3-47.69-1.6-70.28zm137.7 4.14c-15.5 11.8-21.7 23.68-23.8 36.67-2.3 13.87.9 29.77 5.5 46.57 9.4 1.9 18.5 3.9 27.2 6.2 16.5 4.2 31.8 9.5 45.6 15.2 1.2-11.6 2.9-24.3 10.1-36.4 6.3-10.5 16.7-19.8 33.1-26.97-26.1-16.99-56.3-30.47-97.7-41.27zm115.4 53.84c-20.6 6.6-30.1 14.8-35.4 23.7-5.7 9.5-6.8 21.2-8.3 34.5 5.6 2.6 10.9 5.3 15.8 7.8 20.6 10.7 34.3 20.1 40.3 25.3h-.1c23 19.6 38 16.7 48.8 8.7 10-7.5 14.8-22.2 13.7-29.6-27.2-28-49.6-51.2-74.8-70.4zm-289.7 25.1c0 4.1.2 8.2.7 12 .9 6.9 2.7 12.8 5.7 17.3 3 4.4 7.1 7.8 14.3 10 5.1 1.6 10.3 3.2 15.4 4.7 14.3-2 28.9-2.8 43.2-2.7 31.8.2 62.2 5.2 85.4 12.3 35.8 9.2 63.9 22.8 87.9 39.2 17.8.5 34.7-.7 50.4-3.9-4.2-2.5-8.4-5.5-12.6-9.1h-.1c-3.5-3-17.2-12.7-36.8-22.9-19.6-10.3-45.5-21.4-74.9-29-40-10.4-91.9-16.4-134.1-21.7-16.8-2.1-31.9-4.1-44.5-6.2zm79.2 59.4c-8.9 0-17.8.3-26.6 1-16.9 26.7-26 53-6 95.2 27 3.5 55.4 7.7 81.6 13.3-3.6-18.5-1.4-36.2 5.4-52.4 6.7-16 17.7-30.6 31.5-44.2-1.7-.5-3.4-1-5.1-1.4h-.2l-.2-.1c-21.2-6.5-50.2-11.1-80.4-11.4zm-49 3.8c-1.7.3-3.5.7-5.2 1-23.3 4.6-44.62 12.9-61 25.6-15.25 11.8-26.25 27.2-31.39 48 .14 0 .1 0 .24.1 3.12 1.3 8.6 2.8 15.53 4.2 13.85 2.8 33.67 5.4 56.22 8.2 6.8.8 14 1.7 21.2 2.6-13.7-35.9-8-65 4.4-89.7zm154.7 15.2c-16.2 14.6-28.2 29.6-34.7 45.1-6.5 15.6-7.8 31.5-2.4 49.9 1 .2 2 .5 2.9.7 29.4 7.7 52.5 16.4 70 24.7 1.3-12.1 5.1-25.5 15.1-36.6 9.7-10.8 24.6-18.8 46.3-22.1-2.5-2.3-5-4.7-7.6-7-25-22.5-52.1-41.4-89.6-54.7zm114 78.2c-27.3 1.1-41.6 8.7-49.7 17.6-8.4 9.4-10.8 21.7-11.1 33.7 11.6 6.6 19.4 12.3 23.9 16.2 24.5 21 53.2 24.2 74.6 19.5 10.7-2.4 19.4-6.9 24.4-11.3 3.7-3.4 5-5.9 5.1-8-25.6-23.5-46.5-46.6-67.2-67.7zm-342.03 5.3c.51 3.4 1.18 6.7 2.07 9.9 3.9 14 10.51 24.2 26.86 29.2 72.1 22.2 141.5 46.3 202.7 56 34.7 5.5 66.5 6.5 94.9.2-11.3-4.1-22.6-10.4-33.2-19.5-8.7-7.5-40.5-29.7-104.1-46.2-42.9-11.2-98.5-17.7-143.8-23.3-16.92-2.2-32.42-4.2-45.43-6.3zm-6.3 68.3c-14.86.6-29.25 14.4-33.92 23 10.71 6.2 40.81 10 53.64-13.7-5.72-6.6-12.11-9.2-18.45-9.3zm35.53 23.9c-19.9.7-26.61 44-15.54 52.1 11.38 1.4 33.74-41.7 19.54-51.7-1-.3-2.1-.4-3.1-.4zm86.3 11.3c-3.7 0-6.9 1-9.1 3.4-8.4 22.1 38.9 36.5 48.9 25.8 2.3-9-23.7-28.9-39.8-29.2zm74.3 37.6c-16-.2-40.6 7.7-40 20.2 9.5 21.6 53.3-1.5 52.8-16.1-1.6-2.7-6.5-4-12.8-4.1z"},child:[]}]})(t)}function D$(t){return Ne({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M287.9 76.19v.01h-1.1c-1.9.1-5.4 1.68-9.3 5.36-3.9 3.69-8 9.05-11.5 14.52C258.9 107 254.2 118 254.2 118l-5.1 12-9.4-9s-11-10.5-24.4-19.6c-6.7-4.46-14-8.5-20.2-10.59-6.2-2.09-10.7-1.98-13.1-.75-5.2 2.67-9.7 9.27-12.8 19.24-3.1 10.1-4.6 22.8-5 35.1-.8 24.7 2.4 47.6 2.4 47.6l2.3 15.9-14.8-6.3s-9.7-4.2-20.4-6.8c-5.4-1.2-11-2-15-1.9-4.1.2-5.9 1.2-6.4 1.8-2.7 3.3-3.9 9.4-2.6 17.9 1.2 8.6 4.8 18.9 9.1 28.5 8.6 19.3 19.8 36 19.8 36l9.8 14.5-17.6-.5c.1 0-10.1-.3-21.7 1.1-11.57 1.4-23.95 5.8-26.76 9-10.59 12.2-14.01 26.1-13.15 41.2.87 15.2 6.38 31.4 13.83 45.9s16.81 27.3 24.58 35.8c.7.7 1.3 1.4 2 2 16-9.9 25.7-25.6 33.2-46.2 9.2-25.6 14-58 21.3-91.1 7.3-33.2 17.1-67.3 37.7-96.3 20.7-29.1 52.3-52.6 100.7-64 13.7-3.2 26.7-4.7 38.9-4.8-3-4.5-6.5-9.3-10.5-14.4-7.1-9.1-15.2-17.93-23.1-24.09-7.4-5.78-14.5-8.87-19.9-9.02zM148.6 118.7c-22 4.2-47.7 28.3-69.23 63.3-21.89 35.5-39.78 81.1-48.85 123.9-9.08 42.7-8.81 82.7 2.39 105.7 5.6 11.5 13.22 18.8 24.37 22.2 8.66 2.7 19.98 2.9 34.36-.7-8.29-9.6-17.18-22.1-24.61-36.6-8.26-16.1-14.72-34.3-15.79-53-1.06-18.7 3.64-38.1 17.53-54.1 9.68-11.2 25.08-13.4 38.13-15 3.3-.4 5.6-.5 8.5-.6-4-6.9-8.7-15.6-13.1-25.3-4.62-10.6-8.76-22-10.4-33.3-1.64-11.2-.87-23 6.61-32v-.1c5.19-6.2 12.69-7.9 19.39-8.2 6.8-.2 13.6.9 19.9 2.4 3.4.8 6.5 1.7 9.5 2.6-.8-9.4-1.5-22.1-1.1-36.1.3-8.3 1-16.8 2.4-25.1zm194.3 22.9c-11.1 0-23.2 1.3-36.2 4.5-44.9 10.5-71.9 31-90.2 56.8-18.3 25.8-27.7 57.4-34.8 89.7-7.1 32.4-11.8 65.2-22 93.4-5.4 14.9-12.7 28.7-22.8 40 129.5-22.2 254.5-67 351-112.1-2.2-14-10.2-56-31.9-96-13.2-24.3-31.2-46.9-55.2-61-15.1-8.8-32.5-14.5-53.2-15.2-1.6-.1-3.1-.1-4.7-.1z"},child:[]}]})(t)}function V$(t){return Ne({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M0 192c0-35.3 28.7-64 64-64c.5 0 1.1 0 1.6 0C73 91.5 105.3 64 144 64c15 0 29 4.1 40.9 11.2C198.2 49.6 225.1 32 256 32s57.8 17.6 71.1 43.2C339 68.1 353 64 368 64c38.7 0 71 27.5 78.4 64c.5 0 1.1 0 1.6 0c35.3 0 64 28.7 64 64c0 11.7-3.1 22.6-8.6 32H8.6C3.1 214.6 0 203.7 0 192zm0 91.4C0 268.3 12.3 256 27.4 256H484.6c15.1 0 27.4 12.3 27.4 27.4c0 70.5-44.4 130.7-106.7 154.1L403.5 452c-2 16-15.6 28-31.8 28H140.2c-16.1 0-29.8-12-31.8-28l-1.8-14.4C44.4 414.1 0 353.9 0 283.4z"},child:[]}]})(t)}var vv={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(t,e){(function(n,r){r(e)})(SA,function(n){var r="1.9.4";function i(o){var l,h,f,g;for(h=1,f=arguments.length;h<f;h++){g=arguments[h];for(l in g)o[l]=g[l]}return o}var s=Object.create||function(){function o(){}return function(l){return o.prototype=l,new o}}();function a(o,l){var h=Array.prototype.slice;if(o.bind)return o.bind.apply(o,h.call(arguments,1));var f=h.call(arguments,2);return function(){return o.apply(l,f.length?f.concat(h.call(arguments)):arguments)}}var c=0;function u(o){return"_leaflet_id"in o||(o._leaflet_id=++c),o._leaflet_id}function d(o,l,h){var f,g,w,b;return b=function(){f=!1,g&&(w.apply(h,g),g=!1)},w=function(){f?g=arguments:(o.apply(h,arguments),setTimeout(b,l),f=!0)},w}function p(o,l,h){var f=l[1],g=l[0],w=f-g;return o===f&&h?o:((o-g)%w+w)%w+g}function m(){return!1}function v(o,l){if(l===!1)return o;var h=Math.pow(10,l===void 0?6:l);return Math.round(o*h)/h}function T(o){return o.trim?o.trim():o.replace(/^\s+|\s+$/g,"")}function S(o){return T(o).split(/\s+/)}function I(o,l){Object.prototype.hasOwnProperty.call(o,"options")||(o.options=o.options?s(o.options):{});for(var h in l)o.options[h]=l[h];return o.options}function C(o,l,h){var f=[];for(var g in o)f.push(encodeURIComponent(h?g.toUpperCase():g)+"="+encodeURIComponent(o[g]));return(!l||l.indexOf("?")===-1?"?":"&")+f.join("&")}var _=/\{ *([\w_ -]+) *\}/g;function y(o,l){return o.replace(_,function(h,f){var g=l[f];if(g===void 0)throw new Error("No value provided for variable "+h);return typeof g=="function"&&(g=g(l)),g})}var E=Array.isArray||function(o){return Object.prototype.toString.call(o)==="[object Array]"};function x(o,l){for(var h=0;h<o.length;h++)if(o[h]===l)return h;return-1}var A="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function O(o){return window["webkit"+o]||window["moz"+o]||window["ms"+o]}var N=0;function D(o){var l=+new Date,h=Math.max(0,16-(l-N));return N=l+h,window.setTimeout(o,h)}var K=window.requestAnimationFrame||O("RequestAnimationFrame")||D,q=window.cancelAnimationFrame||O("CancelAnimationFrame")||O("CancelRequestAnimationFrame")||function(o){window.clearTimeout(o)};function le(o,l,h){if(h&&K===D)o.call(l);else return K.call(window,a(o,l))}function ve(o){o&&q.call(window,o)}var Q={__proto__:null,extend:i,create:s,bind:a,get lastId(){return c},stamp:u,throttle:d,wrapNum:p,falseFn:m,formatNum:v,trim:T,splitWords:S,setOptions:I,getParamString:C,template:y,isArray:E,indexOf:x,emptyImageUrl:A,requestFn:K,cancelFn:q,requestAnimFrame:le,cancelAnimFrame:ve};function Me(){}Me.extend=function(o){var l=function(){I(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},h=l.__super__=this.prototype,f=s(h);f.constructor=l,l.prototype=f;for(var g in this)Object.prototype.hasOwnProperty.call(this,g)&&g!=="prototype"&&g!=="__super__"&&(l[g]=this[g]);return o.statics&&i(l,o.statics),o.includes&&(ze(o.includes),i.apply(null,[f].concat(o.includes))),i(f,o),delete f.statics,delete f.includes,f.options&&(f.options=h.options?s(h.options):{},i(f.options,o.options)),f._initHooks=[],f.callInitHooks=function(){if(!this._initHooksCalled){h.callInitHooks&&h.callInitHooks.call(this),this._initHooksCalled=!0;for(var w=0,b=f._initHooks.length;w<b;w++)f._initHooks[w].call(this)}},l},Me.include=function(o){var l=this.prototype.options;return i(this.prototype,o),o.options&&(this.prototype.options=l,this.mergeOptions(o.options)),this},Me.mergeOptions=function(o){return i(this.prototype.options,o),this},Me.addInitHook=function(o){var l=Array.prototype.slice.call(arguments,1),h=typeof o=="function"?o:function(){this[o].apply(this,l)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(h),this};function ze(o){if(!(typeof L>"u"||!L||!L.Mixin)){o=E(o)?o:[o];for(var l=0;l<o.length;l++)o[l]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var pe={on:function(o,l,h){if(typeof o=="object")for(var f in o)this._on(f,o[f],l);else{o=S(o);for(var g=0,w=o.length;g<w;g++)this._on(o[g],l,h)}return this},off:function(o,l,h){if(!arguments.length)delete this._events;else if(typeof o=="object")for(var f in o)this._off(f,o[f],l);else{o=S(o);for(var g=arguments.length===1,w=0,b=o.length;w<b;w++)g?this._off(o[w]):this._off(o[w],l,h)}return this},_on:function(o,l,h,f){if(typeof l!="function"){console.warn("wrong listener type: "+typeof l);return}if(this._listens(o,l,h)===!1){h===this&&(h=void 0);var g={fn:l,ctx:h};f&&(g.once=!0),this._events=this._events||{},this._events[o]=this._events[o]||[],this._events[o].push(g)}},_off:function(o,l,h){var f,g,w;if(this._events&&(f=this._events[o],!!f)){if(arguments.length===1){if(this._firingCount)for(g=0,w=f.length;g<w;g++)f[g].fn=m;delete this._events[o];return}if(typeof l!="function"){console.warn("wrong listener type: "+typeof l);return}var b=this._listens(o,l,h);if(b!==!1){var k=f[b];this._firingCount&&(k.fn=m,this._events[o]=f=f.slice()),f.splice(b,1)}}},fire:function(o,l,h){if(!this.listens(o,h))return this;var f=i({},l,{type:o,target:this,sourceTarget:l&&l.sourceTarget||this});if(this._events){var g=this._events[o];if(g){this._firingCount=this._firingCount+1||1;for(var w=0,b=g.length;w<b;w++){var k=g[w],M=k.fn;k.once&&this.off(o,M,k.ctx),M.call(k.ctx||this,f)}this._firingCount--}}return h&&this._propagateEvent(f),this},listens:function(o,l,h,f){typeof o!="string"&&console.warn('"string" type argument expected');var g=l;typeof l!="function"&&(f=!!l,g=void 0,h=void 0);var w=this._events&&this._events[o];if(w&&w.length&&this._listens(o,g,h)!==!1)return!0;if(f){for(var b in this._eventParents)if(this._eventParents[b].listens(o,l,h,f))return!0}return!1},_listens:function(o,l,h){if(!this._events)return!1;var f=this._events[o]||[];if(!l)return!!f.length;h===this&&(h=void 0);for(var g=0,w=f.length;g<w;g++)if(f[g].fn===l&&f[g].ctx===h)return g;return!1},once:function(o,l,h){if(typeof o=="object")for(var f in o)this._on(f,o[f],l,!0);else{o=S(o);for(var g=0,w=o.length;g<w;g++)this._on(o[g],l,h,!0)}return this},addEventParent:function(o){return this._eventParents=this._eventParents||{},this._eventParents[u(o)]=o,this},removeEventParent:function(o){return this._eventParents&&delete this._eventParents[u(o)],this},_propagateEvent:function(o){for(var l in this._eventParents)this._eventParents[l].fire(o.type,i({layer:o.target,propagatedFrom:o.target},o),!0)}};pe.addEventListener=pe.on,pe.removeEventListener=pe.clearAllEventListeners=pe.off,pe.addOneTimeEventListener=pe.once,pe.fireEvent=pe.fire,pe.hasEventListeners=pe.listens;var rt=Me.extend(pe);function V(o,l,h){this.x=h?Math.round(o):o,this.y=h?Math.round(l):l}var ee=Math.trunc||function(o){return o>0?Math.floor(o):Math.ceil(o)};V.prototype={clone:function(){return new V(this.x,this.y)},add:function(o){return this.clone()._add(U(o))},_add:function(o){return this.x+=o.x,this.y+=o.y,this},subtract:function(o){return this.clone()._subtract(U(o))},_subtract:function(o){return this.x-=o.x,this.y-=o.y,this},divideBy:function(o){return this.clone()._divideBy(o)},_divideBy:function(o){return this.x/=o,this.y/=o,this},multiplyBy:function(o){return this.clone()._multiplyBy(o)},_multiplyBy:function(o){return this.x*=o,this.y*=o,this},scaleBy:function(o){return new V(this.x*o.x,this.y*o.y)},unscaleBy:function(o){return new V(this.x/o.x,this.y/o.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=ee(this.x),this.y=ee(this.y),this},distanceTo:function(o){o=U(o);var l=o.x-this.x,h=o.y-this.y;return Math.sqrt(l*l+h*h)},equals:function(o){return o=U(o),o.x===this.x&&o.y===this.y},contains:function(o){return o=U(o),Math.abs(o.x)<=Math.abs(this.x)&&Math.abs(o.y)<=Math.abs(this.y)},toString:function(){return"Point("+v(this.x)+", "+v(this.y)+")"}};function U(o,l,h){return o instanceof V?o:E(o)?new V(o[0],o[1]):o==null?o:typeof o=="object"&&"x"in o&&"y"in o?new V(o.x,o.y):new V(o,l,h)}function ie(o,l){if(o)for(var h=l?[o,l]:o,f=0,g=h.length;f<g;f++)this.extend(h[f])}ie.prototype={extend:function(o){var l,h;if(!o)return this;if(o instanceof V||typeof o[0]=="number"||"x"in o)l=h=U(o);else if(o=te(o),l=o.min,h=o.max,!l||!h)return this;return!this.min&&!this.max?(this.min=l.clone(),this.max=h.clone()):(this.min.x=Math.min(l.x,this.min.x),this.max.x=Math.max(h.x,this.max.x),this.min.y=Math.min(l.y,this.min.y),this.max.y=Math.max(h.y,this.max.y)),this},getCenter:function(o){return U((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,o)},getBottomLeft:function(){return U(this.min.x,this.max.y)},getTopRight:function(){return U(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(o){var l,h;return typeof o[0]=="number"||o instanceof V?o=U(o):o=te(o),o instanceof ie?(l=o.min,h=o.max):l=h=o,l.x>=this.min.x&&h.x<=this.max.x&&l.y>=this.min.y&&h.y<=this.max.y},intersects:function(o){o=te(o);var l=this.min,h=this.max,f=o.min,g=o.max,w=g.x>=l.x&&f.x<=h.x,b=g.y>=l.y&&f.y<=h.y;return w&&b},overlaps:function(o){o=te(o);var l=this.min,h=this.max,f=o.min,g=o.max,w=g.x>l.x&&f.x<h.x,b=g.y>l.y&&f.y<h.y;return w&&b},isValid:function(){return!!(this.min&&this.max)},pad:function(o){var l=this.min,h=this.max,f=Math.abs(l.x-h.x)*o,g=Math.abs(l.y-h.y)*o;return te(U(l.x-f,l.y-g),U(h.x+f,h.y+g))},equals:function(o){return o?(o=te(o),this.min.equals(o.getTopLeft())&&this.max.equals(o.getBottomRight())):!1}};function te(o,l){return!o||o instanceof ie?o:new ie(o,l)}function Pe(o,l){if(o)for(var h=l?[o,l]:o,f=0,g=h.length;f<g;f++)this.extend(h[f])}Pe.prototype={extend:function(o){var l=this._southWest,h=this._northEast,f,g;if(o instanceof me)f=o,g=o;else if(o instanceof Pe){if(f=o._southWest,g=o._northEast,!f||!g)return this}else return o?this.extend(X(o)||_e(o)):this;return!l&&!h?(this._southWest=new me(f.lat,f.lng),this._northEast=new me(g.lat,g.lng)):(l.lat=Math.min(f.lat,l.lat),l.lng=Math.min(f.lng,l.lng),h.lat=Math.max(g.lat,h.lat),h.lng=Math.max(g.lng,h.lng)),this},pad:function(o){var l=this._southWest,h=this._northEast,f=Math.abs(l.lat-h.lat)*o,g=Math.abs(l.lng-h.lng)*o;return new Pe(new me(l.lat-f,l.lng-g),new me(h.lat+f,h.lng+g))},getCenter:function(){return new me((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new me(this.getNorth(),this.getWest())},getSouthEast:function(){return new me(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(o){typeof o[0]=="number"||o instanceof me||"lat"in o?o=X(o):o=_e(o);var l=this._southWest,h=this._northEast,f,g;return o instanceof Pe?(f=o.getSouthWest(),g=o.getNorthEast()):f=g=o,f.lat>=l.lat&&g.lat<=h.lat&&f.lng>=l.lng&&g.lng<=h.lng},intersects:function(o){o=_e(o);var l=this._southWest,h=this._northEast,f=o.getSouthWest(),g=o.getNorthEast(),w=g.lat>=l.lat&&f.lat<=h.lat,b=g.lng>=l.lng&&f.lng<=h.lng;return w&&b},overlaps:function(o){o=_e(o);var l=this._southWest,h=this._northEast,f=o.getSouthWest(),g=o.getNorthEast(),w=g.lat>l.lat&&f.lat<h.lat,b=g.lng>l.lng&&f.lng<h.lng;return w&&b},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(o,l){return o?(o=_e(o),this._southWest.equals(o.getSouthWest(),l)&&this._northEast.equals(o.getNorthEast(),l)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function _e(o,l){return o instanceof Pe?o:new Pe(o,l)}function me(o,l,h){if(isNaN(o)||isNaN(l))throw new Error("Invalid LatLng object: ("+o+", "+l+")");this.lat=+o,this.lng=+l,h!==void 0&&(this.alt=+h)}me.prototype={equals:function(o,l){if(!o)return!1;o=X(o);var h=Math.max(Math.abs(this.lat-o.lat),Math.abs(this.lng-o.lng));return h<=(l===void 0?1e-9:l)},toString:function(o){return"LatLng("+v(this.lat,o)+", "+v(this.lng,o)+")"},distanceTo:function(o){return vt.distance(this,X(o))},wrap:function(){return vt.wrapLatLng(this)},toBounds:function(o){var l=180*o/40075017,h=l/Math.cos(Math.PI/180*this.lat);return _e([this.lat-l,this.lng-h],[this.lat+l,this.lng+h])},clone:function(){return new me(this.lat,this.lng,this.alt)}};function X(o,l,h){return o instanceof me?o:E(o)&&typeof o[0]!="object"?o.length===3?new me(o[0],o[1],o[2]):o.length===2?new me(o[0],o[1]):null:o==null?o:typeof o=="object"&&"lat"in o?new me(o.lat,"lng"in o?o.lng:o.lon,o.alt):l===void 0?null:new me(o,l,h)}var We={latLngToPoint:function(o,l){var h=this.projection.project(o),f=this.scale(l);return this.transformation._transform(h,f)},pointToLatLng:function(o,l){var h=this.scale(l),f=this.transformation.untransform(o,h);return this.projection.unproject(f)},project:function(o){return this.projection.project(o)},unproject:function(o){return this.projection.unproject(o)},scale:function(o){return 256*Math.pow(2,o)},zoom:function(o){return Math.log(o/256)/Math.LN2},getProjectedBounds:function(o){if(this.infinite)return null;var l=this.projection.bounds,h=this.scale(o),f=this.transformation.transform(l.min,h),g=this.transformation.transform(l.max,h);return new ie(f,g)},infinite:!1,wrapLatLng:function(o){var l=this.wrapLng?p(o.lng,this.wrapLng,!0):o.lng,h=this.wrapLat?p(o.lat,this.wrapLat,!0):o.lat,f=o.alt;return new me(h,l,f)},wrapLatLngBounds:function(o){var l=o.getCenter(),h=this.wrapLatLng(l),f=l.lat-h.lat,g=l.lng-h.lng;if(f===0&&g===0)return o;var w=o.getSouthWest(),b=o.getNorthEast(),k=new me(w.lat-f,w.lng-g),M=new me(b.lat-f,b.lng-g);return new Pe(k,M)}},vt=i({},We,{wrapLng:[-180,180],R:6371e3,distance:function(o,l){var h=Math.PI/180,f=o.lat*h,g=l.lat*h,w=Math.sin((l.lat-o.lat)*h/2),b=Math.sin((l.lng-o.lng)*h/2),k=w*w+Math.cos(f)*Math.cos(g)*b*b,M=2*Math.atan2(Math.sqrt(k),Math.sqrt(1-k));return this.R*M}}),Hi=6378137,na={R:Hi,MAX_LATITUDE:85.0511287798,project:function(o){var l=Math.PI/180,h=this.MAX_LATITUDE,f=Math.max(Math.min(h,o.lat),-h),g=Math.sin(f*l);return new V(this.R*o.lng*l,this.R*Math.log((1+g)/(1-g))/2)},unproject:function(o){var l=180/Math.PI;return new me((2*Math.atan(Math.exp(o.y/this.R))-Math.PI/2)*l,o.x*l/this.R)},bounds:function(){var o=Hi*Math.PI;return new ie([-o,-o],[o,o])}()};function Os(o,l,h,f){if(E(o)){this._a=o[0],this._b=o[1],this._c=o[2],this._d=o[3];return}this._a=o,this._b=l,this._c=h,this._d=f}Os.prototype={transform:function(o,l){return this._transform(o.clone(),l)},_transform:function(o,l){return l=l||1,o.x=l*(this._a*o.x+this._b),o.y=l*(this._c*o.y+this._d),o},untransform:function(o,l){return l=l||1,new V((o.x/l-this._b)/this._a,(o.y/l-this._d)/this._c)}};function Qr(o,l,h,f){return new Os(o,l,h,f)}var ra=i({},vt,{code:"EPSG:3857",projection:na,transformation:function(){var o=.5/(Math.PI*na.R);return Qr(o,.5,-o,.5)}()}),Au=i({},ra,{code:"EPSG:900913"});function ku(o){return document.createElementNS("http://www.w3.org/2000/svg",o)}function n1(o,l){var h="",f,g,w,b,k,M;for(f=0,w=o.length;f<w;f++){for(k=o[f],g=0,b=k.length;g<b;g++)M=k[g],h+=(g?"L":"M")+M.x+" "+M.y;h+=l?Y.svg?"z":"x":""}return h||"M0 0"}var Bf=document.documentElement.style,Ou="ActiveXObject"in window,Yb=Ou&&!document.addEventListener,r1="msLaunchUri"in navigator&&!("documentMode"in document),Hf=Zn("webkit"),i1=Zn("android"),s1=Zn("android 2")||Zn("android 3"),Xb=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Jb=i1&&Zn("Google")&&Xb<537&&!("AudioNode"in window),Wf=!!window.opera,o1=!r1&&Zn("chrome"),a1=Zn("gecko")&&!Hf&&!Wf&&!Ou,eR=!o1&&Zn("safari"),l1=Zn("phantom"),u1="OTransition"in Bf,tR=navigator.platform.indexOf("Win")===0,c1=Ou&&"transition"in Bf,qf="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!s1,h1="MozPerspective"in Bf,nR=!window.L_DISABLE_3D&&(c1||qf||h1)&&!u1&&!l1,ia=typeof orientation<"u"||Zn("mobile"),rR=ia&&Hf,iR=ia&&qf,d1=!window.PointerEvent&&window.MSPointerEvent,f1=!!(window.PointerEvent||d1),p1="ontouchstart"in window||!!window.TouchEvent,sR=!window.L_NO_TOUCH&&(p1||f1),oR=ia&&Wf,aR=ia&&a1,lR=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,uR=function(){var o=!1;try{var l=Object.defineProperty({},"passive",{get:function(){o=!0}});window.addEventListener("testPassiveEventSupport",m,l),window.removeEventListener("testPassiveEventSupport",m,l)}catch{}return o}(),cR=function(){return!!document.createElement("canvas").getContext}(),Gf=!!(document.createElementNS&&ku("svg").createSVGRect),hR=!!Gf&&function(){var o=document.createElement("div");return o.innerHTML="<svg/>",(o.firstChild&&o.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),dR=!Gf&&function(){try{var o=document.createElement("div");o.innerHTML='<v:shape adj="1"/>';var l=o.firstChild;return l.style.behavior="url(#default#VML)",l&&typeof l.adj=="object"}catch{return!1}}(),fR=navigator.platform.indexOf("Mac")===0,pR=navigator.platform.indexOf("Linux")===0;function Zn(o){return navigator.userAgent.toLowerCase().indexOf(o)>=0}var Y={ie:Ou,ielt9:Yb,edge:r1,webkit:Hf,android:i1,android23:s1,androidStock:Jb,opera:Wf,chrome:o1,gecko:a1,safari:eR,phantom:l1,opera12:u1,win:tR,ie3d:c1,webkit3d:qf,gecko3d:h1,any3d:nR,mobile:ia,mobileWebkit:rR,mobileWebkit3d:iR,msPointer:d1,pointer:f1,touch:sR,touchNative:p1,mobileOpera:oR,mobileGecko:aR,retina:lR,passiveEvents:uR,canvas:cR,svg:Gf,vml:dR,inlineSvg:hR,mac:fR,linux:pR},m1=Y.msPointer?"MSPointerDown":"pointerdown",g1=Y.msPointer?"MSPointerMove":"pointermove",v1=Y.msPointer?"MSPointerUp":"pointerup",_1=Y.msPointer?"MSPointerCancel":"pointercancel",Kf={touchstart:m1,touchmove:g1,touchend:v1,touchcancel:_1},y1={touchstart:wR,touchmove:Lu,touchend:Lu,touchcancel:Lu},Ls={},w1=!1;function mR(o,l,h){return l==="touchstart"&&yR(),y1[l]?(h=y1[l].bind(this,h),o.addEventListener(Kf[l],h,!1),h):(console.warn("wrong event specified:",l),m)}function gR(o,l,h){if(!Kf[l]){console.warn("wrong event specified:",l);return}o.removeEventListener(Kf[l],h,!1)}function vR(o){Ls[o.pointerId]=o}function _R(o){Ls[o.pointerId]&&(Ls[o.pointerId]=o)}function E1(o){delete Ls[o.pointerId]}function yR(){w1||(document.addEventListener(m1,vR,!0),document.addEventListener(g1,_R,!0),document.addEventListener(v1,E1,!0),document.addEventListener(_1,E1,!0),w1=!0)}function Lu(o,l){if(l.pointerType!==(l.MSPOINTER_TYPE_MOUSE||"mouse")){l.touches=[];for(var h in Ls)l.touches.push(Ls[h]);l.changedTouches=[l],o(l)}}function wR(o,l){l.MSPOINTER_TYPE_TOUCH&&l.pointerType===l.MSPOINTER_TYPE_TOUCH&&Pt(l),Lu(o,l)}function ER(o){var l={},h,f;for(f in o)h=o[f],l[f]=h&&h.bind?h.bind(o):h;return o=l,l.type="dblclick",l.detail=2,l.isTrusted=!1,l._simulated=!0,l}var TR=200;function SR(o,l){o.addEventListener("dblclick",l);var h=0,f;function g(w){if(w.detail!==1){f=w.detail;return}if(!(w.pointerType==="mouse"||w.sourceCapabilities&&!w.sourceCapabilities.firesTouchEvents)){var b=C1(w);if(!(b.some(function(M){return M instanceof HTMLLabelElement&&M.attributes.for})&&!b.some(function(M){return M instanceof HTMLInputElement||M instanceof HTMLSelectElement}))){var k=Date.now();k-h<=TR?(f++,f===2&&l(ER(w))):f=1,h=k}}}return o.addEventListener("click",g),{dblclick:l,simDblclick:g}}function IR(o,l){o.removeEventListener("dblclick",l.dblclick),o.removeEventListener("click",l.simDblclick)}var Zf=Du(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),sa=Du(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),T1=sa==="webkitTransition"||sa==="OTransition"?sa+"End":"transitionend";function S1(o){return typeof o=="string"?document.getElementById(o):o}function oa(o,l){var h=o.style[l]||o.currentStyle&&o.currentStyle[l];if((!h||h==="auto")&&document.defaultView){var f=document.defaultView.getComputedStyle(o,null);h=f?f[l]:null}return h==="auto"?null:h}function xe(o,l,h){var f=document.createElement(o);return f.className=l||"",h&&h.appendChild(f),f}function qe(o){var l=o.parentNode;l&&l.removeChild(o)}function Mu(o){for(;o.firstChild;)o.removeChild(o.firstChild)}function Ms(o){var l=o.parentNode;l&&l.lastChild!==o&&l.appendChild(o)}function Ns(o){var l=o.parentNode;l&&l.firstChild!==o&&l.insertBefore(o,l.firstChild)}function Qf(o,l){if(o.classList!==void 0)return o.classList.contains(l);var h=Nu(o);return h.length>0&&new RegExp("(^|\\s)"+l+"(\\s|$)").test(h)}function ge(o,l){if(o.classList!==void 0)for(var h=S(l),f=0,g=h.length;f<g;f++)o.classList.add(h[f]);else if(!Qf(o,l)){var w=Nu(o);Yf(o,(w?w+" ":"")+l)}}function tt(o,l){o.classList!==void 0?o.classList.remove(l):Yf(o,T((" "+Nu(o)+" ").replace(" "+l+" "," ")))}function Yf(o,l){o.className.baseVal===void 0?o.className=l:o.className.baseVal=l}function Nu(o){return o.correspondingElement&&(o=o.correspondingElement),o.className.baseVal===void 0?o.className:o.className.baseVal}function In(o,l){"opacity"in o.style?o.style.opacity=l:"filter"in o.style&&PR(o,l)}function PR(o,l){var h=!1,f="DXImageTransform.Microsoft.Alpha";try{h=o.filters.item(f)}catch{if(l===1)return}l=Math.round(l*100),h?(h.Enabled=l!==100,h.Opacity=l):o.style.filter+=" progid:"+f+"(opacity="+l+")"}function Du(o){for(var l=document.documentElement.style,h=0;h<o.length;h++)if(o[h]in l)return o[h];return!1}function Wi(o,l,h){var f=l||new V(0,0);o.style[Zf]=(Y.ie3d?"translate("+f.x+"px,"+f.y+"px)":"translate3d("+f.x+"px,"+f.y+"px,0)")+(h?" scale("+h+")":"")}function it(o,l){o._leaflet_pos=l,Y.any3d?Wi(o,l):(o.style.left=l.x+"px",o.style.top=l.y+"px")}function qi(o){return o._leaflet_pos||new V(0,0)}var aa,la,Xf;if("onselectstart"in document)aa=function(){fe(window,"selectstart",Pt)},la=function(){De(window,"selectstart",Pt)};else{var ua=Du(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);aa=function(){if(ua){var o=document.documentElement.style;Xf=o[ua],o[ua]="none"}},la=function(){ua&&(document.documentElement.style[ua]=Xf,Xf=void 0)}}function Jf(){fe(window,"dragstart",Pt)}function ep(){De(window,"dragstart",Pt)}var Vu,tp;function np(o){for(;o.tabIndex===-1;)o=o.parentNode;o.style&&(Fu(),Vu=o,tp=o.style.outlineStyle,o.style.outlineStyle="none",fe(window,"keydown",Fu))}function Fu(){Vu&&(Vu.style.outlineStyle=tp,Vu=void 0,tp=void 0,De(window,"keydown",Fu))}function I1(o){do o=o.parentNode;while((!o.offsetWidth||!o.offsetHeight)&&o!==document.body);return o}function rp(o){var l=o.getBoundingClientRect();return{x:l.width/o.offsetWidth||1,y:l.height/o.offsetHeight||1,boundingClientRect:l}}var CR={__proto__:null,TRANSFORM:Zf,TRANSITION:sa,TRANSITION_END:T1,get:S1,getStyle:oa,create:xe,remove:qe,empty:Mu,toFront:Ms,toBack:Ns,hasClass:Qf,addClass:ge,removeClass:tt,setClass:Yf,getClass:Nu,setOpacity:In,testProp:Du,setTransform:Wi,setPosition:it,getPosition:qi,get disableTextSelection(){return aa},get enableTextSelection(){return la},disableImageDrag:Jf,enableImageDrag:ep,preventOutline:np,restoreOutline:Fu,getSizedParentNode:I1,getScale:rp};function fe(o,l,h,f){if(l&&typeof l=="object")for(var g in l)sp(o,g,l[g],h);else{l=S(l);for(var w=0,b=l.length;w<b;w++)sp(o,l[w],h,f)}return this}var Qn="_leaflet_events";function De(o,l,h,f){if(arguments.length===1)P1(o),delete o[Qn];else if(l&&typeof l=="object")for(var g in l)op(o,g,l[g],h);else if(l=S(l),arguments.length===2)P1(o,function(k){return x(l,k)!==-1});else for(var w=0,b=l.length;w<b;w++)op(o,l[w],h,f);return this}function P1(o,l){for(var h in o[Qn]){var f=h.split(/\d/)[0];(!l||l(f))&&op(o,f,null,null,h)}}var ip={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function sp(o,l,h,f){var g=l+u(h)+(f?"_"+u(f):"");if(o[Qn]&&o[Qn][g])return this;var w=function(k){return h.call(f||o,k||window.event)},b=w;!Y.touchNative&&Y.pointer&&l.indexOf("touch")===0?w=mR(o,l,w):Y.touch&&l==="dblclick"?w=SR(o,w):"addEventListener"in o?l==="touchstart"||l==="touchmove"||l==="wheel"||l==="mousewheel"?o.addEventListener(ip[l]||l,w,Y.passiveEvents?{passive:!1}:!1):l==="mouseenter"||l==="mouseleave"?(w=function(k){k=k||window.event,lp(o,k)&&b(k)},o.addEventListener(ip[l],w,!1)):o.addEventListener(l,b,!1):o.attachEvent("on"+l,w),o[Qn]=o[Qn]||{},o[Qn][g]=w}function op(o,l,h,f,g){g=g||l+u(h)+(f?"_"+u(f):"");var w=o[Qn]&&o[Qn][g];if(!w)return this;!Y.touchNative&&Y.pointer&&l.indexOf("touch")===0?gR(o,l,w):Y.touch&&l==="dblclick"?IR(o,w):"removeEventListener"in o?o.removeEventListener(ip[l]||l,w,!1):o.detachEvent("on"+l,w),o[Qn][g]=null}function Gi(o){return o.stopPropagation?o.stopPropagation():o.originalEvent?o.originalEvent._stopped=!0:o.cancelBubble=!0,this}function ap(o){return sp(o,"wheel",Gi),this}function ca(o){return fe(o,"mousedown touchstart dblclick contextmenu",Gi),o._leaflet_disable_click=!0,this}function Pt(o){return o.preventDefault?o.preventDefault():o.returnValue=!1,this}function Ki(o){return Pt(o),Gi(o),this}function C1(o){if(o.composedPath)return o.composedPath();for(var l=[],h=o.target;h;)l.push(h),h=h.parentNode;return l}function x1(o,l){if(!l)return new V(o.clientX,o.clientY);var h=rp(l),f=h.boundingClientRect;return new V((o.clientX-f.left)/h.x-l.clientLeft,(o.clientY-f.top)/h.y-l.clientTop)}var xR=Y.linux&&Y.chrome?window.devicePixelRatio:Y.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function b1(o){return Y.edge?o.wheelDeltaY/2:o.deltaY&&o.deltaMode===0?-o.deltaY/xR:o.deltaY&&o.deltaMode===1?-o.deltaY*20:o.deltaY&&o.deltaMode===2?-o.deltaY*60:o.deltaX||o.deltaZ?0:o.wheelDelta?(o.wheelDeltaY||o.wheelDelta)/2:o.detail&&Math.abs(o.detail)<32765?-o.detail*20:o.detail?o.detail/-32765*60:0}function lp(o,l){var h=l.relatedTarget;if(!h)return!0;try{for(;h&&h!==o;)h=h.parentNode}catch{return!1}return h!==o}var bR={__proto__:null,on:fe,off:De,stopPropagation:Gi,disableScrollPropagation:ap,disableClickPropagation:ca,preventDefault:Pt,stop:Ki,getPropagationPath:C1,getMousePosition:x1,getWheelDelta:b1,isExternalTarget:lp,addListener:fe,removeListener:De},R1=rt.extend({run:function(o,l,h,f){this.stop(),this._el=o,this._inProgress=!0,this._duration=h||.25,this._easeOutPower=1/Math.max(f||.5,.2),this._startPos=qi(o),this._offset=l.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=le(this._animate,this),this._step()},_step:function(o){var l=+new Date-this._startTime,h=this._duration*1e3;l<h?this._runFrame(this._easeOut(l/h),o):(this._runFrame(1),this._complete())},_runFrame:function(o,l){var h=this._startPos.add(this._offset.multiplyBy(o));l&&h._round(),it(this._el,h),this.fire("step")},_complete:function(){ve(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(o){return 1-Math.pow(1-o,this._easeOutPower)}}),Se=rt.extend({options:{crs:ra,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(o,l){l=I(this,l),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(o),this._initLayout(),this._onResize=a(this._onResize,this),this._initEvents(),l.maxBounds&&this.setMaxBounds(l.maxBounds),l.zoom!==void 0&&(this._zoom=this._limitZoom(l.zoom)),l.center&&l.zoom!==void 0&&this.setView(X(l.center),l.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=sa&&Y.any3d&&!Y.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),fe(this._proxy,T1,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(o,l,h){if(l=l===void 0?this._zoom:this._limitZoom(l),o=this._limitCenter(X(o),l,this.options.maxBounds),h=h||{},this._stop(),this._loaded&&!h.reset&&h!==!0){h.animate!==void 0&&(h.zoom=i({animate:h.animate},h.zoom),h.pan=i({animate:h.animate,duration:h.duration},h.pan));var f=this._zoom!==l?this._tryAnimatedZoom&&this._tryAnimatedZoom(o,l,h.zoom):this._tryAnimatedPan(o,h.pan);if(f)return clearTimeout(this._sizeTimer),this}return this._resetView(o,l,h.pan&&h.pan.noMoveStart),this},setZoom:function(o,l){return this._loaded?this.setView(this.getCenter(),o,{zoom:l}):(this._zoom=o,this)},zoomIn:function(o,l){return o=o||(Y.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+o,l)},zoomOut:function(o,l){return o=o||(Y.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-o,l)},setZoomAround:function(o,l,h){var f=this.getZoomScale(l),g=this.getSize().divideBy(2),w=o instanceof V?o:this.latLngToContainerPoint(o),b=w.subtract(g).multiplyBy(1-1/f),k=this.containerPointToLatLng(g.add(b));return this.setView(k,l,{zoom:h})},_getBoundsCenterZoom:function(o,l){l=l||{},o=o.getBounds?o.getBounds():_e(o);var h=U(l.paddingTopLeft||l.padding||[0,0]),f=U(l.paddingBottomRight||l.padding||[0,0]),g=this.getBoundsZoom(o,!1,h.add(f));if(g=typeof l.maxZoom=="number"?Math.min(l.maxZoom,g):g,g===1/0)return{center:o.getCenter(),zoom:g};var w=f.subtract(h).divideBy(2),b=this.project(o.getSouthWest(),g),k=this.project(o.getNorthEast(),g),M=this.unproject(b.add(k).divideBy(2).add(w),g);return{center:M,zoom:g}},fitBounds:function(o,l){if(o=_e(o),!o.isValid())throw new Error("Bounds are not valid.");var h=this._getBoundsCenterZoom(o,l);return this.setView(h.center,h.zoom,l)},fitWorld:function(o){return this.fitBounds([[-90,-180],[90,180]],o)},panTo:function(o,l){return this.setView(o,this._zoom,{pan:l})},panBy:function(o,l){if(o=U(o).round(),l=l||{},!o.x&&!o.y)return this.fire("moveend");if(l.animate!==!0&&!this.getSize().contains(o))return this._resetView(this.unproject(this.project(this.getCenter()).add(o)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new R1,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),l.noMoveStart||this.fire("movestart"),l.animate!==!1){ge(this._mapPane,"leaflet-pan-anim");var h=this._getMapPanePos().subtract(o).round();this._panAnim.run(this._mapPane,h,l.duration||.25,l.easeLinearity)}else this._rawPanBy(o),this.fire("move").fire("moveend");return this},flyTo:function(o,l,h){if(h=h||{},h.animate===!1||!Y.any3d)return this.setView(o,l,h);this._stop();var f=this.project(this.getCenter()),g=this.project(o),w=this.getSize(),b=this._zoom;o=X(o),l=l===void 0?b:l;var k=Math.max(w.x,w.y),M=k*this.getZoomScale(b,l),j=g.distanceTo(f)||1,W=1.42,ae=W*W;function ye(st){var Qu=st?-1:1,gA=st?M:k,vA=M*M-k*k+Qu*ae*ae*j*j,_A=2*gA*ae*j,yp=vA/_A,u0=Math.sqrt(yp*yp+1)-yp,yA=u0<1e-9?-18:Math.log(u0);return yA}function Gt(st){return(Math.exp(st)-Math.exp(-st))/2}function _t(st){return(Math.exp(st)+Math.exp(-st))/2}function Cn(st){return Gt(st)/_t(st)}var en=ye(0);function $s(st){return k*(_t(en)/_t(en+W*st))}function dA(st){return k*(_t(en)*Cn(en+W*st)-Gt(en))/ae}function fA(st){return 1-Math.pow(1-st,1.5)}var pA=Date.now(),a0=(ye(1)-en)/W,mA=h.duration?1e3*h.duration:1e3*a0*.8;function l0(){var st=(Date.now()-pA)/mA,Qu=fA(st)*a0;st<=1?(this._flyToFrame=le(l0,this),this._move(this.unproject(f.add(g.subtract(f).multiplyBy(dA(Qu)/j)),b),this.getScaleZoom(k/$s(Qu),b),{flyTo:!0})):this._move(o,l)._moveEnd(!0)}return this._moveStart(!0,h.noMoveStart),l0.call(this),this},flyToBounds:function(o,l){var h=this._getBoundsCenterZoom(o,l);return this.flyTo(h.center,h.zoom,l)},setMaxBounds:function(o){return o=_e(o),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),o.isValid()?(this.options.maxBounds=o,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(o){var l=this.options.minZoom;return this.options.minZoom=o,this._loaded&&l!==o&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(o):this},setMaxZoom:function(o){var l=this.options.maxZoom;return this.options.maxZoom=o,this._loaded&&l!==o&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(o):this},panInsideBounds:function(o,l){this._enforcingBounds=!0;var h=this.getCenter(),f=this._limitCenter(h,this._zoom,_e(o));return h.equals(f)||this.panTo(f,l),this._enforcingBounds=!1,this},panInside:function(o,l){l=l||{};var h=U(l.paddingTopLeft||l.padding||[0,0]),f=U(l.paddingBottomRight||l.padding||[0,0]),g=this.project(this.getCenter()),w=this.project(o),b=this.getPixelBounds(),k=te([b.min.add(h),b.max.subtract(f)]),M=k.getSize();if(!k.contains(w)){this._enforcingBounds=!0;var j=w.subtract(k.getCenter()),W=k.extend(w).getSize().subtract(M);g.x+=j.x<0?-W.x:W.x,g.y+=j.y<0?-W.y:W.y,this.panTo(this.unproject(g),l),this._enforcingBounds=!1}return this},invalidateSize:function(o){if(!this._loaded)return this;o=i({animate:!1,pan:!0},o===!0?{animate:!0}:o);var l=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var h=this.getSize(),f=l.divideBy(2).round(),g=h.divideBy(2).round(),w=f.subtract(g);return!w.x&&!w.y?this:(o.animate&&o.pan?this.panBy(w):(o.pan&&this._rawPanBy(w),this.fire("move"),o.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(a(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:l,newSize:h}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(o){if(o=this._locateOptions=i({timeout:1e4,watch:!1},o),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var l=a(this._handleGeolocationResponse,this),h=a(this._handleGeolocationError,this);return o.watch?this._locationWatchId=navigator.geolocation.watchPosition(l,h,o):navigator.geolocation.getCurrentPosition(l,h,o),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(o){if(this._container._leaflet_id){var l=o.code,h=o.message||(l===1?"permission denied":l===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:l,message:"Geolocation error: "+h+"."})}},_handleGeolocationResponse:function(o){if(this._container._leaflet_id){var l=o.coords.latitude,h=o.coords.longitude,f=new me(l,h),g=f.toBounds(o.coords.accuracy*2),w=this._locateOptions;if(w.setView){var b=this.getBoundsZoom(g);this.setView(f,w.maxZoom?Math.min(b,w.maxZoom):b)}var k={latlng:f,bounds:g,timestamp:o.timestamp};for(var M in o.coords)typeof o.coords[M]=="number"&&(k[M]=o.coords[M]);this.fire("locationfound",k)}},addHandler:function(o,l){if(!l)return this;var h=this[o]=new l(this);return this._handlers.push(h),this.options[o]&&h.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),qe(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(ve(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var o;for(o in this._layers)this._layers[o].remove();for(o in this._panes)qe(this._panes[o]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(o,l){var h="leaflet-pane"+(o?" leaflet-"+o.replace("Pane","")+"-pane":""),f=xe("div",h,l||this._mapPane);return o&&(this._panes[o]=f),f},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var o=this.getPixelBounds(),l=this.unproject(o.getBottomLeft()),h=this.unproject(o.getTopRight());return new Pe(l,h)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(o,l,h){o=_e(o),h=U(h||[0,0]);var f=this.getZoom()||0,g=this.getMinZoom(),w=this.getMaxZoom(),b=o.getNorthWest(),k=o.getSouthEast(),M=this.getSize().subtract(h),j=te(this.project(k,f),this.project(b,f)).getSize(),W=Y.any3d?this.options.zoomSnap:1,ae=M.x/j.x,ye=M.y/j.y,Gt=l?Math.max(ae,ye):Math.min(ae,ye);return f=this.getScaleZoom(Gt,f),W&&(f=Math.round(f/(W/100))*(W/100),f=l?Math.ceil(f/W)*W:Math.floor(f/W)*W),Math.max(g,Math.min(w,f))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new V(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(o,l){var h=this._getTopLeftPoint(o,l);return new ie(h,h.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(o){return this.options.crs.getProjectedBounds(o===void 0?this.getZoom():o)},getPane:function(o){return typeof o=="string"?this._panes[o]:o},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(o,l){var h=this.options.crs;return l=l===void 0?this._zoom:l,h.scale(o)/h.scale(l)},getScaleZoom:function(o,l){var h=this.options.crs;l=l===void 0?this._zoom:l;var f=h.zoom(o*h.scale(l));return isNaN(f)?1/0:f},project:function(o,l){return l=l===void 0?this._zoom:l,this.options.crs.latLngToPoint(X(o),l)},unproject:function(o,l){return l=l===void 0?this._zoom:l,this.options.crs.pointToLatLng(U(o),l)},layerPointToLatLng:function(o){var l=U(o).add(this.getPixelOrigin());return this.unproject(l)},latLngToLayerPoint:function(o){var l=this.project(X(o))._round();return l._subtract(this.getPixelOrigin())},wrapLatLng:function(o){return this.options.crs.wrapLatLng(X(o))},wrapLatLngBounds:function(o){return this.options.crs.wrapLatLngBounds(_e(o))},distance:function(o,l){return this.options.crs.distance(X(o),X(l))},containerPointToLayerPoint:function(o){return U(o).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(o){return U(o).add(this._getMapPanePos())},containerPointToLatLng:function(o){var l=this.containerPointToLayerPoint(U(o));return this.layerPointToLatLng(l)},latLngToContainerPoint:function(o){return this.layerPointToContainerPoint(this.latLngToLayerPoint(X(o)))},mouseEventToContainerPoint:function(o){return x1(o,this._container)},mouseEventToLayerPoint:function(o){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(o))},mouseEventToLatLng:function(o){return this.layerPointToLatLng(this.mouseEventToLayerPoint(o))},_initContainer:function(o){var l=this._container=S1(o);if(l){if(l._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");fe(l,"scroll",this._onScroll,this),this._containerId=u(l)},_initLayout:function(){var o=this._container;this._fadeAnimated=this.options.fadeAnimation&&Y.any3d,ge(o,"leaflet-container"+(Y.touch?" leaflet-touch":"")+(Y.retina?" leaflet-retina":"")+(Y.ielt9?" leaflet-oldie":"")+(Y.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var l=oa(o,"position");l!=="absolute"&&l!=="relative"&&l!=="fixed"&&l!=="sticky"&&(o.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var o=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),it(this._mapPane,new V(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(ge(o.markerPane,"leaflet-zoom-hide"),ge(o.shadowPane,"leaflet-zoom-hide"))},_resetView:function(o,l,h){it(this._mapPane,new V(0,0));var f=!this._loaded;this._loaded=!0,l=this._limitZoom(l),this.fire("viewprereset");var g=this._zoom!==l;this._moveStart(g,h)._move(o,l)._moveEnd(g),this.fire("viewreset"),f&&this.fire("load")},_moveStart:function(o,l){return o&&this.fire("zoomstart"),l||this.fire("movestart"),this},_move:function(o,l,h,f){l===void 0&&(l=this._zoom);var g=this._zoom!==l;return this._zoom=l,this._lastCenter=o,this._pixelOrigin=this._getNewPixelOrigin(o),f?h&&h.pinch&&this.fire("zoom",h):((g||h&&h.pinch)&&this.fire("zoom",h),this.fire("move",h)),this},_moveEnd:function(o){return o&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return ve(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(o){it(this._mapPane,this._getMapPanePos().subtract(o))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(o){this._targets={},this._targets[u(this._container)]=this;var l=o?De:fe;l(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&l(window,"resize",this._onResize,this),Y.any3d&&this.options.transform3DLimit&&(o?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){ve(this._resizeRequest),this._resizeRequest=le(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var o=this._getMapPanePos();Math.max(Math.abs(o.x),Math.abs(o.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(o,l){for(var h=[],f,g=l==="mouseout"||l==="mouseover",w=o.target||o.srcElement,b=!1;w;){if(f=this._targets[u(w)],f&&(l==="click"||l==="preclick")&&this._draggableMoved(f)){b=!0;break}if(f&&f.listens(l,!0)&&(g&&!lp(w,o)||(h.push(f),g))||w===this._container)break;w=w.parentNode}return!h.length&&!b&&!g&&this.listens(l,!0)&&(h=[this]),h},_isClickDisabled:function(o){for(;o&&o!==this._container;){if(o._leaflet_disable_click)return!0;o=o.parentNode}},_handleDOMEvent:function(o){var l=o.target||o.srcElement;if(!(!this._loaded||l._leaflet_disable_events||o.type==="click"&&this._isClickDisabled(l))){var h=o.type;h==="mousedown"&&np(l),this._fireDOMEvent(o,h)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(o,l,h){if(o.type==="click"){var f=i({},o);f.type="preclick",this._fireDOMEvent(f,f.type,h)}var g=this._findEventTargets(o,l);if(h){for(var w=[],b=0;b<h.length;b++)h[b].listens(l,!0)&&w.push(h[b]);g=w.concat(g)}if(g.length){l==="contextmenu"&&Pt(o);var k=g[0],M={originalEvent:o};if(o.type!=="keypress"&&o.type!=="keydown"&&o.type!=="keyup"){var j=k.getLatLng&&(!k._radius||k._radius<=10);M.containerPoint=j?this.latLngToContainerPoint(k.getLatLng()):this.mouseEventToContainerPoint(o),M.layerPoint=this.containerPointToLayerPoint(M.containerPoint),M.latlng=j?k.getLatLng():this.layerPointToLatLng(M.layerPoint)}for(b=0;b<g.length;b++)if(g[b].fire(l,M,!0),M.originalEvent._stopped||g[b].options.bubblingMouseEvents===!1&&x(this._mouseEvents,l)!==-1)return}},_draggableMoved:function(o){return o=o.dragging&&o.dragging.enabled()?o:this,o.dragging&&o.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var o=0,l=this._handlers.length;o<l;o++)this._handlers[o].disable()},whenReady:function(o,l){return this._loaded?o.call(l||this,{target:this}):this.on("load",o,l),this},_getMapPanePos:function(){return qi(this._mapPane)||new V(0,0)},_moved:function(){var o=this._getMapPanePos();return o&&!o.equals([0,0])},_getTopLeftPoint:function(o,l){var h=o&&l!==void 0?this._getNewPixelOrigin(o,l):this.getPixelOrigin();return h.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(o,l){var h=this.getSize()._divideBy(2);return this.project(o,l)._subtract(h)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(o,l,h){var f=this._getNewPixelOrigin(h,l);return this.project(o,l)._subtract(f)},_latLngBoundsToNewLayerBounds:function(o,l,h){var f=this._getNewPixelOrigin(h,l);return te([this.project(o.getSouthWest(),l)._subtract(f),this.project(o.getNorthWest(),l)._subtract(f),this.project(o.getSouthEast(),l)._subtract(f),this.project(o.getNorthEast(),l)._subtract(f)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(o){return this.latLngToLayerPoint(o).subtract(this._getCenterLayerPoint())},_limitCenter:function(o,l,h){if(!h)return o;var f=this.project(o,l),g=this.getSize().divideBy(2),w=new ie(f.subtract(g),f.add(g)),b=this._getBoundsOffset(w,h,l);return Math.abs(b.x)<=1&&Math.abs(b.y)<=1?o:this.unproject(f.add(b),l)},_limitOffset:function(o,l){if(!l)return o;var h=this.getPixelBounds(),f=new ie(h.min.add(o),h.max.add(o));return o.add(this._getBoundsOffset(f,l))},_getBoundsOffset:function(o,l,h){var f=te(this.project(l.getNorthEast(),h),this.project(l.getSouthWest(),h)),g=f.min.subtract(o.min),w=f.max.subtract(o.max),b=this._rebound(g.x,-w.x),k=this._rebound(g.y,-w.y);return new V(b,k)},_rebound:function(o,l){return o+l>0?Math.round(o-l)/2:Math.max(0,Math.ceil(o))-Math.max(0,Math.floor(l))},_limitZoom:function(o){var l=this.getMinZoom(),h=this.getMaxZoom(),f=Y.any3d?this.options.zoomSnap:1;return f&&(o=Math.round(o/f)*f),Math.max(l,Math.min(h,o))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){tt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(o,l){var h=this._getCenterOffset(o)._trunc();return(l&&l.animate)!==!0&&!this.getSize().contains(h)?!1:(this.panBy(h,l),!0)},_createAnimProxy:function(){var o=this._proxy=xe("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(o),this.on("zoomanim",function(l){var h=Zf,f=this._proxy.style[h];Wi(this._proxy,this.project(l.center,l.zoom),this.getZoomScale(l.zoom,1)),f===this._proxy.style[h]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){qe(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var o=this.getCenter(),l=this.getZoom();Wi(this._proxy,this.project(o,l),this.getZoomScale(l,1))},_catchTransitionEnd:function(o){this._animatingZoom&&o.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(o,l,h){if(this._animatingZoom)return!0;if(h=h||{},!this._zoomAnimated||h.animate===!1||this._nothingToAnimate()||Math.abs(l-this._zoom)>this.options.zoomAnimationThreshold)return!1;var f=this.getZoomScale(l),g=this._getCenterOffset(o)._divideBy(1-1/f);return h.animate!==!0&&!this.getSize().contains(g)?!1:(le(function(){this._moveStart(!0,h.noMoveStart||!1)._animateZoom(o,l,!0)},this),!0)},_animateZoom:function(o,l,h,f){this._mapPane&&(h&&(this._animatingZoom=!0,this._animateToCenter=o,this._animateToZoom=l,ge(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:o,zoom:l,noUpdate:f}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(a(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&tt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function RR(o,l){return new Se(o,l)}var Nn=Me.extend({options:{position:"topright"},initialize:function(o){I(this,o)},getPosition:function(){return this.options.position},setPosition:function(o){var l=this._map;return l&&l.removeControl(this),this.options.position=o,l&&l.addControl(this),this},getContainer:function(){return this._container},addTo:function(o){this.remove(),this._map=o;var l=this._container=this.onAdd(o),h=this.getPosition(),f=o._controlCorners[h];return ge(l,"leaflet-control"),h.indexOf("bottom")!==-1?f.insertBefore(l,f.firstChild):f.appendChild(l),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(qe(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(o){this._map&&o&&o.screenX>0&&o.screenY>0&&this._map.getContainer().focus()}}),ha=function(o){return new Nn(o)};Se.include({addControl:function(o){return o.addTo(this),this},removeControl:function(o){return o.remove(),this},_initControlPos:function(){var o=this._controlCorners={},l="leaflet-",h=this._controlContainer=xe("div",l+"control-container",this._container);function f(g,w){var b=l+g+" "+l+w;o[g+w]=xe("div",b,h)}f("top","left"),f("top","right"),f("bottom","left"),f("bottom","right")},_clearControlPos:function(){for(var o in this._controlCorners)qe(this._controlCorners[o]);qe(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var A1=Nn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(o,l,h,f){return h<f?-1:f<h?1:0}},initialize:function(o,l,h){I(this,h),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var f in o)this._addLayer(o[f],f);for(f in l)this._addLayer(l[f],f,!0)},onAdd:function(o){this._initLayout(),this._update(),this._map=o,o.on("zoomend",this._checkDisabledLayers,this);for(var l=0;l<this._layers.length;l++)this._layers[l].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(o){return Nn.prototype.addTo.call(this,o),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var o=0;o<this._layers.length;o++)this._layers[o].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(o,l){return this._addLayer(o,l),this._map?this._update():this},addOverlay:function(o,l){return this._addLayer(o,l,!0),this._map?this._update():this},removeLayer:function(o){o.off("add remove",this._onLayerChange,this);var l=this._getLayer(u(o));return l&&this._layers.splice(this._layers.indexOf(l),1),this._map?this._update():this},expand:function(){ge(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var o=this._map.getSize().y-(this._container.offsetTop+50);return o<this._section.clientHeight?(ge(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=o+"px"):tt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return tt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var o="leaflet-control-layers",l=this._container=xe("div",o),h=this.options.collapsed;l.setAttribute("aria-haspopup",!0),ca(l),ap(l);var f=this._section=xe("section",o+"-list");h&&(this._map.on("click",this.collapse,this),fe(l,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var g=this._layersLink=xe("a",o+"-toggle",l);g.href="#",g.title="Layers",g.setAttribute("role","button"),fe(g,{keydown:function(w){w.keyCode===13&&this._expandSafely()},click:function(w){Pt(w),this._expandSafely()}},this),h||this.expand(),this._baseLayersList=xe("div",o+"-base",f),this._separator=xe("div",o+"-separator",f),this._overlaysList=xe("div",o+"-overlays",f),l.appendChild(f)},_getLayer:function(o){for(var l=0;l<this._layers.length;l++)if(this._layers[l]&&u(this._layers[l].layer)===o)return this._layers[l]},_addLayer:function(o,l,h){this._map&&o.on("add remove",this._onLayerChange,this),this._layers.push({layer:o,name:l,overlay:h}),this.options.sortLayers&&this._layers.sort(a(function(f,g){return this.options.sortFunction(f.layer,g.layer,f.name,g.name)},this)),this.options.autoZIndex&&o.setZIndex&&(this._lastZIndex++,o.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Mu(this._baseLayersList),Mu(this._overlaysList),this._layerControlInputs=[];var o,l,h,f,g=0;for(h=0;h<this._layers.length;h++)f=this._layers[h],this._addItem(f),l=l||f.overlay,o=o||!f.overlay,g+=f.overlay?0:1;return this.options.hideSingleBase&&(o=o&&g>1,this._baseLayersList.style.display=o?"":"none"),this._separator.style.display=l&&o?"":"none",this},_onLayerChange:function(o){this._handlingClick||this._update();var l=this._getLayer(u(o.target)),h=l.overlay?o.type==="add"?"overlayadd":"overlayremove":o.type==="add"?"baselayerchange":null;h&&this._map.fire(h,l)},_createRadioElement:function(o,l){var h='<input type="radio" class="leaflet-control-layers-selector" name="'+o+'"'+(l?' checked="checked"':"")+"/>",f=document.createElement("div");return f.innerHTML=h,f.firstChild},_addItem:function(o){var l=document.createElement("label"),h=this._map.hasLayer(o.layer),f;o.overlay?(f=document.createElement("input"),f.type="checkbox",f.className="leaflet-control-layers-selector",f.defaultChecked=h):f=this._createRadioElement("leaflet-base-layers_"+u(this),h),this._layerControlInputs.push(f),f.layerId=u(o.layer),fe(f,"click",this._onInputClick,this);var g=document.createElement("span");g.innerHTML=" "+o.name;var w=document.createElement("span");l.appendChild(w),w.appendChild(f),w.appendChild(g);var b=o.overlay?this._overlaysList:this._baseLayersList;return b.appendChild(l),this._checkDisabledLayers(),l},_onInputClick:function(){if(!this._preventClick){var o=this._layerControlInputs,l,h,f=[],g=[];this._handlingClick=!0;for(var w=o.length-1;w>=0;w--)l=o[w],h=this._getLayer(l.layerId).layer,l.checked?f.push(h):l.checked||g.push(h);for(w=0;w<g.length;w++)this._map.hasLayer(g[w])&&this._map.removeLayer(g[w]);for(w=0;w<f.length;w++)this._map.hasLayer(f[w])||this._map.addLayer(f[w]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var o=this._layerControlInputs,l,h,f=this._map.getZoom(),g=o.length-1;g>=0;g--)l=o[g],h=this._getLayer(l.layerId).layer,l.disabled=h.options.minZoom!==void 0&&f<h.options.minZoom||h.options.maxZoom!==void 0&&f>h.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var o=this._section;this._preventClick=!0,fe(o,"click",Pt),this.expand();var l=this;setTimeout(function(){De(o,"click",Pt),l._preventClick=!1})}}),AR=function(o,l,h){return new A1(o,l,h)},up=Nn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(o){var l="leaflet-control-zoom",h=xe("div",l+" leaflet-bar"),f=this.options;return this._zoomInButton=this._createButton(f.zoomInText,f.zoomInTitle,l+"-in",h,this._zoomIn),this._zoomOutButton=this._createButton(f.zoomOutText,f.zoomOutTitle,l+"-out",h,this._zoomOut),this._updateDisabled(),o.on("zoomend zoomlevelschange",this._updateDisabled,this),h},onRemove:function(o){o.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(o){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(o.shiftKey?3:1))},_zoomOut:function(o){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(o.shiftKey?3:1))},_createButton:function(o,l,h,f,g){var w=xe("a",h,f);return w.innerHTML=o,w.href="#",w.title=l,w.setAttribute("role","button"),w.setAttribute("aria-label",l),ca(w),fe(w,"click",Ki),fe(w,"click",g,this),fe(w,"click",this._refocusOnMap,this),w},_updateDisabled:function(){var o=this._map,l="leaflet-disabled";tt(this._zoomInButton,l),tt(this._zoomOutButton,l),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||o._zoom===o.getMinZoom())&&(ge(this._zoomOutButton,l),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||o._zoom===o.getMaxZoom())&&(ge(this._zoomInButton,l),this._zoomInButton.setAttribute("aria-disabled","true"))}});Se.mergeOptions({zoomControl:!0}),Se.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new up,this.addControl(this.zoomControl))});var kR=function(o){return new up(o)},k1=Nn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(o){var l="leaflet-control-scale",h=xe("div",l),f=this.options;return this._addScales(f,l+"-line",h),o.on(f.updateWhenIdle?"moveend":"move",this._update,this),o.whenReady(this._update,this),h},onRemove:function(o){o.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(o,l,h){o.metric&&(this._mScale=xe("div",l,h)),o.imperial&&(this._iScale=xe("div",l,h))},_update:function(){var o=this._map,l=o.getSize().y/2,h=o.distance(o.containerPointToLatLng([0,l]),o.containerPointToLatLng([this.options.maxWidth,l]));this._updateScales(h)},_updateScales:function(o){this.options.metric&&o&&this._updateMetric(o),this.options.imperial&&o&&this._updateImperial(o)},_updateMetric:function(o){var l=this._getRoundNum(o),h=l<1e3?l+" m":l/1e3+" km";this._updateScale(this._mScale,h,l/o)},_updateImperial:function(o){var l=o*3.2808399,h,f,g;l>5280?(h=l/5280,f=this._getRoundNum(h),this._updateScale(this._iScale,f+" mi",f/h)):(g=this._getRoundNum(l),this._updateScale(this._iScale,g+" ft",g/l))},_updateScale:function(o,l,h){o.style.width=Math.round(this.options.maxWidth*h)+"px",o.innerHTML=l},_getRoundNum:function(o){var l=Math.pow(10,(Math.floor(o)+"").length-1),h=o/l;return h=h>=10?10:h>=5?5:h>=3?3:h>=2?2:1,l*h}}),OR=function(o){return new k1(o)},LR='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',cp=Nn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Y.inlineSvg?LR+" ":"")+"Leaflet</a>"},initialize:function(o){I(this,o),this._attributions={}},onAdd:function(o){o.attributionControl=this,this._container=xe("div","leaflet-control-attribution"),ca(this._container);for(var l in o._layers)o._layers[l].getAttribution&&this.addAttribution(o._layers[l].getAttribution());return this._update(),o.on("layeradd",this._addAttribution,this),this._container},onRemove:function(o){o.off("layeradd",this._addAttribution,this)},_addAttribution:function(o){o.layer.getAttribution&&(this.addAttribution(o.layer.getAttribution()),o.layer.once("remove",function(){this.removeAttribution(o.layer.getAttribution())},this))},setPrefix:function(o){return this.options.prefix=o,this._update(),this},addAttribution:function(o){return o?(this._attributions[o]||(this._attributions[o]=0),this._attributions[o]++,this._update(),this):this},removeAttribution:function(o){return o?(this._attributions[o]&&(this._attributions[o]--,this._update()),this):this},_update:function(){if(this._map){var o=[];for(var l in this._attributions)this._attributions[l]&&o.push(l);var h=[];this.options.prefix&&h.push(this.options.prefix),o.length&&h.push(o.join(", ")),this._container.innerHTML=h.join(' <span aria-hidden="true">|</span> ')}}});Se.mergeOptions({attributionControl:!0}),Se.addInitHook(function(){this.options.attributionControl&&new cp().addTo(this)});var MR=function(o){return new cp(o)};Nn.Layers=A1,Nn.Zoom=up,Nn.Scale=k1,Nn.Attribution=cp,ha.layers=AR,ha.zoom=kR,ha.scale=OR,ha.attribution=MR;var Yn=Me.extend({initialize:function(o){this._map=o},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Yn.addTo=function(o,l){return o.addHandler(l,this),this};var NR={Events:pe},O1=Y.touch?"touchstart mousedown":"mousedown",Yr=rt.extend({options:{clickTolerance:3},initialize:function(o,l,h,f){I(this,f),this._element=o,this._dragStartTarget=l||o,this._preventOutline=h},enable:function(){this._enabled||(fe(this._dragStartTarget,O1,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Yr._dragging===this&&this.finishDrag(!0),De(this._dragStartTarget,O1,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(o){if(this._enabled&&(this._moved=!1,!Qf(this._element,"leaflet-zoom-anim"))){if(o.touches&&o.touches.length!==1){Yr._dragging===this&&this.finishDrag();return}if(!(Yr._dragging||o.shiftKey||o.which!==1&&o.button!==1&&!o.touches)&&(Yr._dragging=this,this._preventOutline&&np(this._element),Jf(),aa(),!this._moving)){this.fire("down");var l=o.touches?o.touches[0]:o,h=I1(this._element);this._startPoint=new V(l.clientX,l.clientY),this._startPos=qi(this._element),this._parentScale=rp(h);var f=o.type==="mousedown";fe(document,f?"mousemove":"touchmove",this._onMove,this),fe(document,f?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(o){if(this._enabled){if(o.touches&&o.touches.length>1){this._moved=!0;return}var l=o.touches&&o.touches.length===1?o.touches[0]:o,h=new V(l.clientX,l.clientY)._subtract(this._startPoint);!h.x&&!h.y||Math.abs(h.x)+Math.abs(h.y)<this.options.clickTolerance||(h.x/=this._parentScale.x,h.y/=this._parentScale.y,Pt(o),this._moved||(this.fire("dragstart"),this._moved=!0,ge(document.body,"leaflet-dragging"),this._lastTarget=o.target||o.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),ge(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(h),this._moving=!0,this._lastEvent=o,this._updatePosition())}},_updatePosition:function(){var o={originalEvent:this._lastEvent};this.fire("predrag",o),it(this._element,this._newPos),this.fire("drag",o)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(o){tt(document.body,"leaflet-dragging"),this._lastTarget&&(tt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),De(document,"mousemove touchmove",this._onMove,this),De(document,"mouseup touchend touchcancel",this._onUp,this),ep(),la();var l=this._moved&&this._moving;this._moving=!1,Yr._dragging=!1,l&&this.fire("dragend",{noInertia:o,distance:this._newPos.distanceTo(this._startPos)})}});function L1(o,l,h){var f,g=[1,4,2,8],w,b,k,M,j,W,ae,ye;for(w=0,W=o.length;w<W;w++)o[w]._code=Zi(o[w],l);for(k=0;k<4;k++){for(ae=g[k],f=[],w=0,W=o.length,b=W-1;w<W;b=w++)M=o[w],j=o[b],M._code&ae?j._code&ae||(ye=zu(j,M,ae,l,h),ye._code=Zi(ye,l),f.push(ye)):(j._code&ae&&(ye=zu(j,M,ae,l,h),ye._code=Zi(ye,l),f.push(ye)),f.push(M));o=f}return o}function M1(o,l){var h,f,g,w,b,k,M,j,W;if(!o||o.length===0)throw new Error("latlngs not passed");Pn(o)||(console.warn("latlngs are not flat! Only the first ring will be used"),o=o[0]);var ae=X([0,0]),ye=_e(o),Gt=ye.getNorthWest().distanceTo(ye.getSouthWest())*ye.getNorthEast().distanceTo(ye.getNorthWest());Gt<1700&&(ae=hp(o));var _t=o.length,Cn=[];for(h=0;h<_t;h++){var en=X(o[h]);Cn.push(l.project(X([en.lat-ae.lat,en.lng-ae.lng])))}for(k=M=j=0,h=0,f=_t-1;h<_t;f=h++)g=Cn[h],w=Cn[f],b=g.y*w.x-w.y*g.x,M+=(g.x+w.x)*b,j+=(g.y+w.y)*b,k+=b*3;k===0?W=Cn[0]:W=[M/k,j/k];var $s=l.unproject(U(W));return X([$s.lat+ae.lat,$s.lng+ae.lng])}function hp(o){for(var l=0,h=0,f=0,g=0;g<o.length;g++){var w=X(o[g]);l+=w.lat,h+=w.lng,f++}return X([l/f,h/f])}var DR={__proto__:null,clipPolygon:L1,polygonCenter:M1,centroid:hp};function N1(o,l){if(!l||!o.length)return o.slice();var h=l*l;return o=zR(o,h),o=FR(o,h),o}function D1(o,l,h){return Math.sqrt(da(o,l,h,!0))}function VR(o,l,h){return da(o,l,h)}function FR(o,l){var h=o.length,f=typeof Uint8Array<"u"?Uint8Array:Array,g=new f(h);g[0]=g[h-1]=1,dp(o,g,l,0,h-1);var w,b=[];for(w=0;w<h;w++)g[w]&&b.push(o[w]);return b}function dp(o,l,h,f,g){var w=0,b,k,M;for(k=f+1;k<=g-1;k++)M=da(o[k],o[f],o[g],!0),M>w&&(b=k,w=M);w>h&&(l[b]=1,dp(o,l,h,f,b),dp(o,l,h,b,g))}function zR(o,l){for(var h=[o[0]],f=1,g=0,w=o.length;f<w;f++)jR(o[f],o[g])>l&&(h.push(o[f]),g=f);return g<w-1&&h.push(o[w-1]),h}var V1;function F1(o,l,h,f,g){var w=f?V1:Zi(o,h),b=Zi(l,h),k,M,j;for(V1=b;;){if(!(w|b))return[o,l];if(w&b)return!1;k=w||b,M=zu(o,l,k,h,g),j=Zi(M,h),k===w?(o=M,w=j):(l=M,b=j)}}function zu(o,l,h,f,g){var w=l.x-o.x,b=l.y-o.y,k=f.min,M=f.max,j,W;return h&8?(j=o.x+w*(M.y-o.y)/b,W=M.y):h&4?(j=o.x+w*(k.y-o.y)/b,W=k.y):h&2?(j=M.x,W=o.y+b*(M.x-o.x)/w):h&1&&(j=k.x,W=o.y+b*(k.x-o.x)/w),new V(j,W,g)}function Zi(o,l){var h=0;return o.x<l.min.x?h|=1:o.x>l.max.x&&(h|=2),o.y<l.min.y?h|=4:o.y>l.max.y&&(h|=8),h}function jR(o,l){var h=l.x-o.x,f=l.y-o.y;return h*h+f*f}function da(o,l,h,f){var g=l.x,w=l.y,b=h.x-g,k=h.y-w,M=b*b+k*k,j;return M>0&&(j=((o.x-g)*b+(o.y-w)*k)/M,j>1?(g=h.x,w=h.y):j>0&&(g+=b*j,w+=k*j)),b=o.x-g,k=o.y-w,f?b*b+k*k:new V(g,w)}function Pn(o){return!E(o[0])||typeof o[0][0]!="object"&&typeof o[0][0]<"u"}function z1(o){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Pn(o)}function j1(o,l){var h,f,g,w,b,k,M,j;if(!o||o.length===0)throw new Error("latlngs not passed");Pn(o)||(console.warn("latlngs are not flat! Only the first ring will be used"),o=o[0]);var W=X([0,0]),ae=_e(o),ye=ae.getNorthWest().distanceTo(ae.getSouthWest())*ae.getNorthEast().distanceTo(ae.getNorthWest());ye<1700&&(W=hp(o));var Gt=o.length,_t=[];for(h=0;h<Gt;h++){var Cn=X(o[h]);_t.push(l.project(X([Cn.lat-W.lat,Cn.lng-W.lng])))}for(h=0,f=0;h<Gt-1;h++)f+=_t[h].distanceTo(_t[h+1])/2;if(f===0)j=_t[0];else for(h=0,w=0;h<Gt-1;h++)if(b=_t[h],k=_t[h+1],g=b.distanceTo(k),w+=g,w>f){M=(w-f)/g,j=[k.x-M*(k.x-b.x),k.y-M*(k.y-b.y)];break}var en=l.unproject(U(j));return X([en.lat+W.lat,en.lng+W.lng])}var $R={__proto__:null,simplify:N1,pointToSegmentDistance:D1,closestPointOnSegment:VR,clipSegment:F1,_getEdgeIntersection:zu,_getBitCode:Zi,_sqClosestPointOnSegment:da,isFlat:Pn,_flat:z1,polylineCenter:j1},fp={project:function(o){return new V(o.lng,o.lat)},unproject:function(o){return new me(o.y,o.x)},bounds:new ie([-180,-90],[180,90])},pp={R:6378137,R_MINOR:6356752314245179e-9,bounds:new ie([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(o){var l=Math.PI/180,h=this.R,f=o.lat*l,g=this.R_MINOR/h,w=Math.sqrt(1-g*g),b=w*Math.sin(f),k=Math.tan(Math.PI/4-f/2)/Math.pow((1-b)/(1+b),w/2);return f=-h*Math.log(Math.max(k,1e-10)),new V(o.lng*l*h,f)},unproject:function(o){for(var l=180/Math.PI,h=this.R,f=this.R_MINOR/h,g=Math.sqrt(1-f*f),w=Math.exp(-o.y/h),b=Math.PI/2-2*Math.atan(w),k=0,M=.1,j;k<15&&Math.abs(M)>1e-7;k++)j=g*Math.sin(b),j=Math.pow((1-j)/(1+j),g/2),M=Math.PI/2-2*Math.atan(w*j)-b,b+=M;return new me(b*l,o.x*l/h)}},UR={__proto__:null,LonLat:fp,Mercator:pp,SphericalMercator:na},BR=i({},vt,{code:"EPSG:3395",projection:pp,transformation:function(){var o=.5/(Math.PI*pp.R);return Qr(o,.5,-o,.5)}()}),$1=i({},vt,{code:"EPSG:4326",projection:fp,transformation:Qr(1/180,1,-1/180,.5)}),HR=i({},We,{projection:fp,transformation:Qr(1,0,-1,0),scale:function(o){return Math.pow(2,o)},zoom:function(o){return Math.log(o)/Math.LN2},distance:function(o,l){var h=l.lng-o.lng,f=l.lat-o.lat;return Math.sqrt(h*h+f*f)},infinite:!0});We.Earth=vt,We.EPSG3395=BR,We.EPSG3857=ra,We.EPSG900913=Au,We.EPSG4326=$1,We.Simple=HR;var Dn=rt.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(o){return o.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(o){return o&&o.removeLayer(this),this},getPane:function(o){return this._map.getPane(o?this.options[o]||o:this.options.pane)},addInteractiveTarget:function(o){return this._map._targets[u(o)]=this,this},removeInteractiveTarget:function(o){return delete this._map._targets[u(o)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(o){var l=o.target;if(l.hasLayer(this)){if(this._map=l,this._zoomAnimated=l._zoomAnimated,this.getEvents){var h=this.getEvents();l.on(h,this),this.once("remove",function(){l.off(h,this)},this)}this.onAdd(l),this.fire("add"),l.fire("layeradd",{layer:this})}}});Se.include({addLayer:function(o){if(!o._layerAdd)throw new Error("The provided object is not a Layer.");var l=u(o);return this._layers[l]?this:(this._layers[l]=o,o._mapToAdd=this,o.beforeAdd&&o.beforeAdd(this),this.whenReady(o._layerAdd,o),this)},removeLayer:function(o){var l=u(o);return this._layers[l]?(this._loaded&&o.onRemove(this),delete this._layers[l],this._loaded&&(this.fire("layerremove",{layer:o}),o.fire("remove")),o._map=o._mapToAdd=null,this):this},hasLayer:function(o){return u(o)in this._layers},eachLayer:function(o,l){for(var h in this._layers)o.call(l,this._layers[h]);return this},_addLayers:function(o){o=o?E(o)?o:[o]:[];for(var l=0,h=o.length;l<h;l++)this.addLayer(o[l])},_addZoomLimit:function(o){(!isNaN(o.options.maxZoom)||!isNaN(o.options.minZoom))&&(this._zoomBoundLayers[u(o)]=o,this._updateZoomLevels())},_removeZoomLimit:function(o){var l=u(o);this._zoomBoundLayers[l]&&(delete this._zoomBoundLayers[l],this._updateZoomLevels())},_updateZoomLevels:function(){var o=1/0,l=-1/0,h=this._getZoomSpan();for(var f in this._zoomBoundLayers){var g=this._zoomBoundLayers[f].options;o=g.minZoom===void 0?o:Math.min(o,g.minZoom),l=g.maxZoom===void 0?l:Math.max(l,g.maxZoom)}this._layersMaxZoom=l===-1/0?void 0:l,this._layersMinZoom=o===1/0?void 0:o,h!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Ds=Dn.extend({initialize:function(o,l){I(this,l),this._layers={};var h,f;if(o)for(h=0,f=o.length;h<f;h++)this.addLayer(o[h])},addLayer:function(o){var l=this.getLayerId(o);return this._layers[l]=o,this._map&&this._map.addLayer(o),this},removeLayer:function(o){var l=o in this._layers?o:this.getLayerId(o);return this._map&&this._layers[l]&&this._map.removeLayer(this._layers[l]),delete this._layers[l],this},hasLayer:function(o){var l=typeof o=="number"?o:this.getLayerId(o);return l in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(o){var l=Array.prototype.slice.call(arguments,1),h,f;for(h in this._layers)f=this._layers[h],f[o]&&f[o].apply(f,l);return this},onAdd:function(o){this.eachLayer(o.addLayer,o)},onRemove:function(o){this.eachLayer(o.removeLayer,o)},eachLayer:function(o,l){for(var h in this._layers)o.call(l,this._layers[h]);return this},getLayer:function(o){return this._layers[o]},getLayers:function(){var o=[];return this.eachLayer(o.push,o),o},setZIndex:function(o){return this.invoke("setZIndex",o)},getLayerId:function(o){return u(o)}}),WR=function(o,l){return new Ds(o,l)},wr=Ds.extend({addLayer:function(o){return this.hasLayer(o)?this:(o.addEventParent(this),Ds.prototype.addLayer.call(this,o),this.fire("layeradd",{layer:o}))},removeLayer:function(o){return this.hasLayer(o)?(o in this._layers&&(o=this._layers[o]),o.removeEventParent(this),Ds.prototype.removeLayer.call(this,o),this.fire("layerremove",{layer:o})):this},setStyle:function(o){return this.invoke("setStyle",o)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var o=new Pe;for(var l in this._layers){var h=this._layers[l];o.extend(h.getBounds?h.getBounds():h.getLatLng())}return o}}),qR=function(o,l){return new wr(o,l)},Vs=Me.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(o){I(this,o)},createIcon:function(o){return this._createIcon("icon",o)},createShadow:function(o){return this._createIcon("shadow",o)},_createIcon:function(o,l){var h=this._getIconUrl(o);if(!h){if(o==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var f=this._createImg(h,l&&l.tagName==="IMG"?l:null);return this._setIconStyles(f,o),(this.options.crossOrigin||this.options.crossOrigin==="")&&(f.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),f},_setIconStyles:function(o,l){var h=this.options,f=h[l+"Size"];typeof f=="number"&&(f=[f,f]);var g=U(f),w=U(l==="shadow"&&h.shadowAnchor||h.iconAnchor||g&&g.divideBy(2,!0));o.className="leaflet-marker-"+l+" "+(h.className||""),w&&(o.style.marginLeft=-w.x+"px",o.style.marginTop=-w.y+"px"),g&&(o.style.width=g.x+"px",o.style.height=g.y+"px")},_createImg:function(o,l){return l=l||document.createElement("img"),l.src=o,l},_getIconUrl:function(o){return Y.retina&&this.options[o+"RetinaUrl"]||this.options[o+"Url"]}});function GR(o){return new Vs(o)}var fa=Vs.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(o){return typeof fa.imagePath!="string"&&(fa.imagePath=this._detectIconPath()),(this.options.imagePath||fa.imagePath)+Vs.prototype._getIconUrl.call(this,o)},_stripUrl:function(o){var l=function(h,f,g){var w=f.exec(h);return w&&w[g]};return o=l(o,/^url\((['"])?(.+)\1\)$/,2),o&&l(o,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var o=xe("div","leaflet-default-icon-path",document.body),l=oa(o,"background-image")||oa(o,"backgroundImage");if(document.body.removeChild(o),l=this._stripUrl(l),l)return l;var h=document.querySelector('link[href$="leaflet.css"]');return h?h.href.substring(0,h.href.length-11-1):""}}),U1=Yn.extend({initialize:function(o){this._marker=o},addHooks:function(){var o=this._marker._icon;this._draggable||(this._draggable=new Yr(o,o,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),ge(o,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&tt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(o){var l=this._marker,h=l._map,f=this._marker.options.autoPanSpeed,g=this._marker.options.autoPanPadding,w=qi(l._icon),b=h.getPixelBounds(),k=h.getPixelOrigin(),M=te(b.min._subtract(k).add(g),b.max._subtract(k).subtract(g));if(!M.contains(w)){var j=U((Math.max(M.max.x,w.x)-M.max.x)/(b.max.x-M.max.x)-(Math.min(M.min.x,w.x)-M.min.x)/(b.min.x-M.min.x),(Math.max(M.max.y,w.y)-M.max.y)/(b.max.y-M.max.y)-(Math.min(M.min.y,w.y)-M.min.y)/(b.min.y-M.min.y)).multiplyBy(f);h.panBy(j,{animate:!1}),this._draggable._newPos._add(j),this._draggable._startPos._add(j),it(l._icon,this._draggable._newPos),this._onDrag(o),this._panRequest=le(this._adjustPan.bind(this,o))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(o){this._marker.options.autoPan&&(ve(this._panRequest),this._panRequest=le(this._adjustPan.bind(this,o)))},_onDrag:function(o){var l=this._marker,h=l._shadow,f=qi(l._icon),g=l._map.layerPointToLatLng(f);h&&it(h,f),l._latlng=g,o.latlng=g,o.oldLatLng=this._oldLatLng,l.fire("move",o).fire("drag",o)},_onDragEnd:function(o){ve(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",o)}}),ju=Dn.extend({options:{icon:new fa,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(o,l){I(this,l),this._latlng=X(o)},onAdd:function(o){this._zoomAnimated=this._zoomAnimated&&o.options.markerZoomAnimation,this._zoomAnimated&&o.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(o){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&o.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(o){var l=this._latlng;return this._latlng=X(o),this.update(),this.fire("move",{oldLatLng:l,latlng:this._latlng})},setZIndexOffset:function(o){return this.options.zIndexOffset=o,this.update()},getIcon:function(){return this.options.icon},setIcon:function(o){return this.options.icon=o,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var o=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(o)}return this},_initIcon:function(){var o=this.options,l="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),h=o.icon.createIcon(this._icon),f=!1;h!==this._icon&&(this._icon&&this._removeIcon(),f=!0,o.title&&(h.title=o.title),h.tagName==="IMG"&&(h.alt=o.alt||"")),ge(h,l),o.keyboard&&(h.tabIndex="0",h.setAttribute("role","button")),this._icon=h,o.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&fe(h,"focus",this._panOnFocus,this);var g=o.icon.createShadow(this._shadow),w=!1;g!==this._shadow&&(this._removeShadow(),w=!0),g&&(ge(g,l),g.alt=""),this._shadow=g,o.opacity<1&&this._updateOpacity(),f&&this.getPane().appendChild(this._icon),this._initInteraction(),g&&w&&this.getPane(o.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&De(this._icon,"focus",this._panOnFocus,this),qe(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&qe(this._shadow),this._shadow=null},_setPos:function(o){this._icon&&it(this._icon,o),this._shadow&&it(this._shadow,o),this._zIndex=o.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(o){this._icon&&(this._icon.style.zIndex=this._zIndex+o)},_animateZoom:function(o){var l=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center).round();this._setPos(l)},_initInteraction:function(){if(this.options.interactive&&(ge(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),U1)){var o=this.options.draggable;this.dragging&&(o=this.dragging.enabled(),this.dragging.disable()),this.dragging=new U1(this),o&&this.dragging.enable()}},setOpacity:function(o){return this.options.opacity=o,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var o=this.options.opacity;this._icon&&In(this._icon,o),this._shadow&&In(this._shadow,o)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var o=this._map;if(o){var l=this.options.icon.options,h=l.iconSize?U(l.iconSize):U(0,0),f=l.iconAnchor?U(l.iconAnchor):U(0,0);o.panInside(this._latlng,{paddingTopLeft:f,paddingBottomRight:h.subtract(f)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function KR(o,l){return new ju(o,l)}var Xr=Dn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(o){this._renderer=o.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(o){return I(this,o),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&o&&Object.prototype.hasOwnProperty.call(o,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),$u=Xr.extend({options:{fill:!0,radius:10},initialize:function(o,l){I(this,l),this._latlng=X(o),this._radius=this.options.radius},setLatLng:function(o){var l=this._latlng;return this._latlng=X(o),this.redraw(),this.fire("move",{oldLatLng:l,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(o){return this.options.radius=this._radius=o,this.redraw()},getRadius:function(){return this._radius},setStyle:function(o){var l=o&&o.radius||this._radius;return Xr.prototype.setStyle.call(this,o),this.setRadius(l),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var o=this._radius,l=this._radiusY||o,h=this._clickTolerance(),f=[o+h,l+h];this._pxBounds=new ie(this._point.subtract(f),this._point.add(f))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(o){return o.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function ZR(o,l){return new $u(o,l)}var mp=$u.extend({initialize:function(o,l,h){if(typeof l=="number"&&(l=i({},h,{radius:l})),I(this,l),this._latlng=X(o),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(o){return this._mRadius=o,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var o=[this._radius,this._radiusY||this._radius];return new Pe(this._map.layerPointToLatLng(this._point.subtract(o)),this._map.layerPointToLatLng(this._point.add(o)))},setStyle:Xr.prototype.setStyle,_project:function(){var o=this._latlng.lng,l=this._latlng.lat,h=this._map,f=h.options.crs;if(f.distance===vt.distance){var g=Math.PI/180,w=this._mRadius/vt.R/g,b=h.project([l+w,o]),k=h.project([l-w,o]),M=b.add(k).divideBy(2),j=h.unproject(M).lat,W=Math.acos((Math.cos(w*g)-Math.sin(l*g)*Math.sin(j*g))/(Math.cos(l*g)*Math.cos(j*g)))/g;(isNaN(W)||W===0)&&(W=w/Math.cos(Math.PI/180*l)),this._point=M.subtract(h.getPixelOrigin()),this._radius=isNaN(W)?0:M.x-h.project([j,o-W]).x,this._radiusY=M.y-b.y}else{var ae=f.unproject(f.project(this._latlng).subtract([this._mRadius,0]));this._point=h.latLngToLayerPoint(this._latlng),this._radius=this._point.x-h.latLngToLayerPoint(ae).x}this._updateBounds()}});function QR(o,l,h){return new mp(o,l,h)}var Er=Xr.extend({options:{smoothFactor:1,noClip:!1},initialize:function(o,l){I(this,l),this._setLatLngs(o)},getLatLngs:function(){return this._latlngs},setLatLngs:function(o){return this._setLatLngs(o),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(o){for(var l=1/0,h=null,f=da,g,w,b=0,k=this._parts.length;b<k;b++)for(var M=this._parts[b],j=1,W=M.length;j<W;j++){g=M[j-1],w=M[j];var ae=f(o,g,w,!0);ae<l&&(l=ae,h=f(o,g,w))}return h&&(h.distance=Math.sqrt(l)),h},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return j1(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(o,l){return l=l||this._defaultShape(),o=X(o),l.push(o),this._bounds.extend(o),this.redraw()},_setLatLngs:function(o){this._bounds=new Pe,this._latlngs=this._convertLatLngs(o)},_defaultShape:function(){return Pn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(o){for(var l=[],h=Pn(o),f=0,g=o.length;f<g;f++)h?(l[f]=X(o[f]),this._bounds.extend(l[f])):l[f]=this._convertLatLngs(o[f]);return l},_project:function(){var o=new ie;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,o),this._bounds.isValid()&&o.isValid()&&(this._rawPxBounds=o,this._updateBounds())},_updateBounds:function(){var o=this._clickTolerance(),l=new V(o,o);this._rawPxBounds&&(this._pxBounds=new ie([this._rawPxBounds.min.subtract(l),this._rawPxBounds.max.add(l)]))},_projectLatlngs:function(o,l,h){var f=o[0]instanceof me,g=o.length,w,b;if(f){for(b=[],w=0;w<g;w++)b[w]=this._map.latLngToLayerPoint(o[w]),h.extend(b[w]);l.push(b)}else for(w=0;w<g;w++)this._projectLatlngs(o[w],l,h)},_clipPoints:function(){var o=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(o))){if(this.options.noClip){this._parts=this._rings;return}var l=this._parts,h,f,g,w,b,k,M;for(h=0,g=0,w=this._rings.length;h<w;h++)for(M=this._rings[h],f=0,b=M.length;f<b-1;f++)k=F1(M[f],M[f+1],o,f,!0),k&&(l[g]=l[g]||[],l[g].push(k[0]),(k[1]!==M[f+1]||f===b-2)&&(l[g].push(k[1]),g++))}},_simplifyPoints:function(){for(var o=this._parts,l=this.options.smoothFactor,h=0,f=o.length;h<f;h++)o[h]=N1(o[h],l)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(o,l){var h,f,g,w,b,k,M=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(o))return!1;for(h=0,w=this._parts.length;h<w;h++)for(k=this._parts[h],f=0,b=k.length,g=b-1;f<b;g=f++)if(!(!l&&f===0)&&D1(o,k[g],k[f])<=M)return!0;return!1}});function YR(o,l){return new Er(o,l)}Er._flat=z1;var Fs=Er.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return M1(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(o){var l=Er.prototype._convertLatLngs.call(this,o),h=l.length;return h>=2&&l[0]instanceof me&&l[0].equals(l[h-1])&&l.pop(),l},_setLatLngs:function(o){Er.prototype._setLatLngs.call(this,o),Pn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Pn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var o=this._renderer._bounds,l=this.options.weight,h=new V(l,l);if(o=new ie(o.min.subtract(h),o.max.add(h)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(o))){if(this.options.noClip){this._parts=this._rings;return}for(var f=0,g=this._rings.length,w;f<g;f++)w=L1(this._rings[f],o,!0),w.length&&this._parts.push(w)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(o){var l=!1,h,f,g,w,b,k,M,j;if(!this._pxBounds||!this._pxBounds.contains(o))return!1;for(w=0,M=this._parts.length;w<M;w++)for(h=this._parts[w],b=0,j=h.length,k=j-1;b<j;k=b++)f=h[b],g=h[k],f.y>o.y!=g.y>o.y&&o.x<(g.x-f.x)*(o.y-f.y)/(g.y-f.y)+f.x&&(l=!l);return l||Er.prototype._containsPoint.call(this,o,!0)}});function XR(o,l){return new Fs(o,l)}var Tr=wr.extend({initialize:function(o,l){I(this,l),this._layers={},o&&this.addData(o)},addData:function(o){var l=E(o)?o:o.features,h,f,g;if(l){for(h=0,f=l.length;h<f;h++)g=l[h],(g.geometries||g.geometry||g.features||g.coordinates)&&this.addData(g);return this}var w=this.options;if(w.filter&&!w.filter(o))return this;var b=Uu(o,w);return b?(b.feature=Wu(o),b.defaultOptions=b.options,this.resetStyle(b),w.onEachFeature&&w.onEachFeature(o,b),this.addLayer(b)):this},resetStyle:function(o){return o===void 0?this.eachLayer(this.resetStyle,this):(o.options=i({},o.defaultOptions),this._setLayerStyle(o,this.options.style),this)},setStyle:function(o){return this.eachLayer(function(l){this._setLayerStyle(l,o)},this)},_setLayerStyle:function(o,l){o.setStyle&&(typeof l=="function"&&(l=l(o.feature)),o.setStyle(l))}});function Uu(o,l){var h=o.type==="Feature"?o.geometry:o,f=h?h.coordinates:null,g=[],w=l&&l.pointToLayer,b=l&&l.coordsToLatLng||gp,k,M,j,W;if(!f&&!h)return null;switch(h.type){case"Point":return k=b(f),B1(w,o,k,l);case"MultiPoint":for(j=0,W=f.length;j<W;j++)k=b(f[j]),g.push(B1(w,o,k,l));return new wr(g);case"LineString":case"MultiLineString":return M=Bu(f,h.type==="LineString"?0:1,b),new Er(M,l);case"Polygon":case"MultiPolygon":return M=Bu(f,h.type==="Polygon"?1:2,b),new Fs(M,l);case"GeometryCollection":for(j=0,W=h.geometries.length;j<W;j++){var ae=Uu({geometry:h.geometries[j],type:"Feature",properties:o.properties},l);ae&&g.push(ae)}return new wr(g);case"FeatureCollection":for(j=0,W=h.features.length;j<W;j++){var ye=Uu(h.features[j],l);ye&&g.push(ye)}return new wr(g);default:throw new Error("Invalid GeoJSON object.")}}function B1(o,l,h,f){return o?o(l,h):new ju(h,f&&f.markersInheritOptions&&f)}function gp(o){return new me(o[1],o[0],o[2])}function Bu(o,l,h){for(var f=[],g=0,w=o.length,b;g<w;g++)b=l?Bu(o[g],l-1,h):(h||gp)(o[g]),f.push(b);return f}function vp(o,l){return o=X(o),o.alt!==void 0?[v(o.lng,l),v(o.lat,l),v(o.alt,l)]:[v(o.lng,l),v(o.lat,l)]}function Hu(o,l,h,f){for(var g=[],w=0,b=o.length;w<b;w++)g.push(l?Hu(o[w],Pn(o[w])?0:l-1,h,f):vp(o[w],f));return!l&&h&&g.length>0&&g.push(g[0].slice()),g}function zs(o,l){return o.feature?i({},o.feature,{geometry:l}):Wu(l)}function Wu(o){return o.type==="Feature"||o.type==="FeatureCollection"?o:{type:"Feature",properties:{},geometry:o}}var _p={toGeoJSON:function(o){return zs(this,{type:"Point",coordinates:vp(this.getLatLng(),o)})}};ju.include(_p),mp.include(_p),$u.include(_p),Er.include({toGeoJSON:function(o){var l=!Pn(this._latlngs),h=Hu(this._latlngs,l?1:0,!1,o);return zs(this,{type:(l?"Multi":"")+"LineString",coordinates:h})}}),Fs.include({toGeoJSON:function(o){var l=!Pn(this._latlngs),h=l&&!Pn(this._latlngs[0]),f=Hu(this._latlngs,h?2:l?1:0,!0,o);return l||(f=[f]),zs(this,{type:(h?"Multi":"")+"Polygon",coordinates:f})}}),Ds.include({toMultiPoint:function(o){var l=[];return this.eachLayer(function(h){l.push(h.toGeoJSON(o).geometry.coordinates)}),zs(this,{type:"MultiPoint",coordinates:l})},toGeoJSON:function(o){var l=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(l==="MultiPoint")return this.toMultiPoint(o);var h=l==="GeometryCollection",f=[];return this.eachLayer(function(g){if(g.toGeoJSON){var w=g.toGeoJSON(o);if(h)f.push(w.geometry);else{var b=Wu(w);b.type==="FeatureCollection"?f.push.apply(f,b.features):f.push(b)}}}),h?zs(this,{geometries:f,type:"GeometryCollection"}):{type:"FeatureCollection",features:f}}});function H1(o,l){return new Tr(o,l)}var JR=H1,qu=Dn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(o,l,h){this._url=o,this._bounds=_e(l),I(this,h)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(ge(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){qe(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(o){return this.options.opacity=o,this._image&&this._updateOpacity(),this},setStyle:function(o){return o.opacity&&this.setOpacity(o.opacity),this},bringToFront:function(){return this._map&&Ms(this._image),this},bringToBack:function(){return this._map&&Ns(this._image),this},setUrl:function(o){return this._url=o,this._image&&(this._image.src=o),this},setBounds:function(o){return this._bounds=_e(o),this._map&&this._reset(),this},getEvents:function(){var o={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},setZIndex:function(o){return this.options.zIndex=o,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var o=this._url.tagName==="IMG",l=this._image=o?this._url:xe("img");if(ge(l,"leaflet-image-layer"),this._zoomAnimated&&ge(l,"leaflet-zoom-animated"),this.options.className&&ge(l,this.options.className),l.onselectstart=m,l.onmousemove=m,l.onload=a(this.fire,this,"load"),l.onerror=a(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(l.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),o){this._url=l.src;return}l.src=this._url,l.alt=this.options.alt},_animateZoom:function(o){var l=this._map.getZoomScale(o.zoom),h=this._map._latLngBoundsToNewLayerBounds(this._bounds,o.zoom,o.center).min;Wi(this._image,h,l)},_reset:function(){var o=this._image,l=new ie(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),h=l.getSize();it(o,l.min),o.style.width=h.x+"px",o.style.height=h.y+"px"},_updateOpacity:function(){In(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var o=this.options.errorOverlayUrl;o&&this._url!==o&&(this._url=o,this._image.src=o)},getCenter:function(){return this._bounds.getCenter()}}),eA=function(o,l,h){return new qu(o,l,h)},W1=qu.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var o=this._url.tagName==="VIDEO",l=this._image=o?this._url:xe("video");if(ge(l,"leaflet-image-layer"),this._zoomAnimated&&ge(l,"leaflet-zoom-animated"),this.options.className&&ge(l,this.options.className),l.onselectstart=m,l.onmousemove=m,l.onloadeddata=a(this.fire,this,"load"),o){for(var h=l.getElementsByTagName("source"),f=[],g=0;g<h.length;g++)f.push(h[g].src);this._url=h.length>0?f:[l.src];return}E(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(l.style,"objectFit")&&(l.style.objectFit="fill"),l.autoplay=!!this.options.autoplay,l.loop=!!this.options.loop,l.muted=!!this.options.muted,l.playsInline=!!this.options.playsInline;for(var w=0;w<this._url.length;w++){var b=xe("source");b.src=this._url[w],l.appendChild(b)}}});function tA(o,l,h){return new W1(o,l,h)}var q1=qu.extend({_initImage:function(){var o=this._image=this._url;ge(o,"leaflet-image-layer"),this._zoomAnimated&&ge(o,"leaflet-zoom-animated"),this.options.className&&ge(o,this.options.className),o.onselectstart=m,o.onmousemove=m}});function nA(o,l,h){return new q1(o,l,h)}var Xn=Dn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(o,l){o&&(o instanceof me||E(o))?(this._latlng=X(o),I(this,l)):(I(this,o),this._source=l),this.options.content&&(this._content=this.options.content)},openOn:function(o){return o=arguments.length?o:this._source._map,o.hasLayer(this)||o.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(o){return this._map?this.close():(arguments.length?this._source=o:o=this._source,this._prepareOpen(),this.openOn(o._map)),this},onAdd:function(o){this._zoomAnimated=o._zoomAnimated,this._container||this._initLayout(),o._fadeAnimated&&In(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),o._fadeAnimated&&In(this._container,1),this.bringToFront(),this.options.interactive&&(ge(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(o){o._fadeAnimated?(In(this._container,0),this._removeTimeout=setTimeout(a(qe,void 0,this._container),200)):qe(this._container),this.options.interactive&&(tt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(o){return this._latlng=X(o),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(o){return this._content=o,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var o={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Ms(this._container),this},bringToBack:function(){return this._map&&Ns(this._container),this},_prepareOpen:function(o){var l=this._source;if(!l._map)return!1;if(l instanceof wr){l=null;var h=this._source._layers;for(var f in h)if(h[f]._map){l=h[f];break}if(!l)return!1;this._source=l}if(!o)if(l.getCenter)o=l.getCenter();else if(l.getLatLng)o=l.getLatLng();else if(l.getBounds)o=l.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(o),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var o=this._contentNode,l=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof l=="string")o.innerHTML=l;else{for(;o.hasChildNodes();)o.removeChild(o.firstChild);o.appendChild(l)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var o=this._map.latLngToLayerPoint(this._latlng),l=U(this.options.offset),h=this._getAnchor();this._zoomAnimated?it(this._container,o.add(h)):l=l.add(o).add(h);var f=this._containerBottom=-l.y,g=this._containerLeft=-Math.round(this._containerWidth/2)+l.x;this._container.style.bottom=f+"px",this._container.style.left=g+"px"}},_getAnchor:function(){return[0,0]}});Se.include({_initOverlay:function(o,l,h,f){var g=l;return g instanceof o||(g=new o(f).setContent(l)),h&&g.setLatLng(h),g}}),Dn.include({_initOverlay:function(o,l,h,f){var g=h;return g instanceof o?(I(g,f),g._source=this):(g=l&&!f?l:new o(f,this),g.setContent(h)),g}});var Gu=Xn.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(o){return o=arguments.length?o:this._source._map,!o.hasLayer(this)&&o._popup&&o._popup.options.autoClose&&o.removeLayer(o._popup),o._popup=this,Xn.prototype.openOn.call(this,o)},onAdd:function(o){Xn.prototype.onAdd.call(this,o),o.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Xr||this._source.on("preclick",Gi))},onRemove:function(o){Xn.prototype.onRemove.call(this,o),o.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Xr||this._source.off("preclick",Gi))},getEvents:function(){var o=Xn.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(o.preclick=this.close),this.options.keepInView&&(o.moveend=this._adjustPan),o},_initLayout:function(){var o="leaflet-popup",l=this._container=xe("div",o+" "+(this.options.className||"")+" leaflet-zoom-animated"),h=this._wrapper=xe("div",o+"-content-wrapper",l);if(this._contentNode=xe("div",o+"-content",h),ca(l),ap(this._contentNode),fe(l,"contextmenu",Gi),this._tipContainer=xe("div",o+"-tip-container",l),this._tip=xe("div",o+"-tip",this._tipContainer),this.options.closeButton){var f=this._closeButton=xe("a",o+"-close-button",l);f.setAttribute("role","button"),f.setAttribute("aria-label","Close popup"),f.href="#close",f.innerHTML='<span aria-hidden="true">&#215;</span>',fe(f,"click",function(g){Pt(g),this.close()},this)}},_updateLayout:function(){var o=this._contentNode,l=o.style;l.width="",l.whiteSpace="nowrap";var h=o.offsetWidth;h=Math.min(h,this.options.maxWidth),h=Math.max(h,this.options.minWidth),l.width=h+1+"px",l.whiteSpace="",l.height="";var f=o.offsetHeight,g=this.options.maxHeight,w="leaflet-popup-scrolled";g&&f>g?(l.height=g+"px",ge(o,w)):tt(o,w),this._containerWidth=this._container.offsetWidth},_animateZoom:function(o){var l=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center),h=this._getAnchor();it(this._container,l.add(h))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var o=this._map,l=parseInt(oa(this._container,"marginBottom"),10)||0,h=this._container.offsetHeight+l,f=this._containerWidth,g=new V(this._containerLeft,-h-this._containerBottom);g._add(qi(this._container));var w=o.layerPointToContainerPoint(g),b=U(this.options.autoPanPadding),k=U(this.options.autoPanPaddingTopLeft||b),M=U(this.options.autoPanPaddingBottomRight||b),j=o.getSize(),W=0,ae=0;w.x+f+M.x>j.x&&(W=w.x+f-j.x+M.x),w.x-W-k.x<0&&(W=w.x-k.x),w.y+h+M.y>j.y&&(ae=w.y+h-j.y+M.y),w.y-ae-k.y<0&&(ae=w.y-k.y),(W||ae)&&(this.options.keepInView&&(this._autopanning=!0),o.fire("autopanstart").panBy([W,ae]))}},_getAnchor:function(){return U(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),rA=function(o,l){return new Gu(o,l)};Se.mergeOptions({closePopupOnClick:!0}),Se.include({openPopup:function(o,l,h){return this._initOverlay(Gu,o,l,h).openOn(this),this},closePopup:function(o){return o=arguments.length?o:this._popup,o&&o.close(),this}}),Dn.include({bindPopup:function(o,l){return this._popup=this._initOverlay(Gu,this._popup,o,l),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(o){return this._popup&&(this instanceof wr||(this._popup._source=this),this._popup._prepareOpen(o||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(o){return this._popup&&this._popup.setContent(o),this},getPopup:function(){return this._popup},_openPopup:function(o){if(!(!this._popup||!this._map)){Ki(o);var l=o.layer||o.target;if(this._popup._source===l&&!(l instanceof Xr)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(o.latlng);return}this._popup._source=l,this.openPopup(o.latlng)}},_movePopup:function(o){this._popup.setLatLng(o.latlng)},_onKeyPress:function(o){o.originalEvent.keyCode===13&&this._openPopup(o)}});var Ku=Xn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(o){Xn.prototype.onAdd.call(this,o),this.setOpacity(this.options.opacity),o.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(o){Xn.prototype.onRemove.call(this,o),o.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var o=Xn.prototype.getEvents.call(this);return this.options.permanent||(o.preclick=this.close),o},_initLayout:function(){var o="leaflet-tooltip",l=o+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=xe("div",l),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+u(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(o){var l,h,f=this._map,g=this._container,w=f.latLngToContainerPoint(f.getCenter()),b=f.layerPointToContainerPoint(o),k=this.options.direction,M=g.offsetWidth,j=g.offsetHeight,W=U(this.options.offset),ae=this._getAnchor();k==="top"?(l=M/2,h=j):k==="bottom"?(l=M/2,h=0):k==="center"?(l=M/2,h=j/2):k==="right"?(l=0,h=j/2):k==="left"?(l=M,h=j/2):b.x<w.x?(k="right",l=0,h=j/2):(k="left",l=M+(W.x+ae.x)*2,h=j/2),o=o.subtract(U(l,h,!0)).add(W).add(ae),tt(g,"leaflet-tooltip-right"),tt(g,"leaflet-tooltip-left"),tt(g,"leaflet-tooltip-top"),tt(g,"leaflet-tooltip-bottom"),ge(g,"leaflet-tooltip-"+k),it(g,o)},_updatePosition:function(){var o=this._map.latLngToLayerPoint(this._latlng);this._setPosition(o)},setOpacity:function(o){this.options.opacity=o,this._container&&In(this._container,o)},_animateZoom:function(o){var l=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center);this._setPosition(l)},_getAnchor:function(){return U(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),iA=function(o,l){return new Ku(o,l)};Se.include({openTooltip:function(o,l,h){return this._initOverlay(Ku,o,l,h).openOn(this),this},closeTooltip:function(o){return o.close(),this}}),Dn.include({bindTooltip:function(o,l){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Ku,this._tooltip,o,l),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(o){if(!(!o&&this._tooltipHandlersAdded)){var l=o?"off":"on",h={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?h.add=this._openTooltip:(h.mouseover=this._openTooltip,h.mouseout=this.closeTooltip,h.click=this._openTooltip,this._map?this._addFocusListeners():h.add=this._addFocusListeners),this._tooltip.options.sticky&&(h.mousemove=this._moveTooltip),this[l](h),this._tooltipHandlersAdded=!o}},openTooltip:function(o){return this._tooltip&&(this instanceof wr||(this._tooltip._source=this),this._tooltip._prepareOpen(o)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(o){return this._tooltip&&this._tooltip.setContent(o),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(o){var l=typeof o.getElement=="function"&&o.getElement();l&&(fe(l,"focus",function(){this._tooltip._source=o,this.openTooltip()},this),fe(l,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(o){var l=typeof o.getElement=="function"&&o.getElement();l&&l.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(o){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var l=this;this._map.once("moveend",function(){l._openOnceFlag=!1,l._openTooltip(o)});return}this._tooltip._source=o.layer||o.target,this.openTooltip(this._tooltip.options.sticky?o.latlng:void 0)}},_moveTooltip:function(o){var l=o.latlng,h,f;this._tooltip.options.sticky&&o.originalEvent&&(h=this._map.mouseEventToContainerPoint(o.originalEvent),f=this._map.containerPointToLayerPoint(h),l=this._map.layerPointToLatLng(f)),this._tooltip.setLatLng(l)}});var G1=Vs.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(o){var l=o&&o.tagName==="DIV"?o:document.createElement("div"),h=this.options;if(h.html instanceof Element?(Mu(l),l.appendChild(h.html)):l.innerHTML=h.html!==!1?h.html:"",h.bgPos){var f=U(h.bgPos);l.style.backgroundPosition=-f.x+"px "+-f.y+"px"}return this._setIconStyles(l,"icon"),l},createShadow:function(){return null}});function sA(o){return new G1(o)}Vs.Default=fa;var pa=Dn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Y.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(o){I(this,o)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(o){o._addZoomLimit(this)},onRemove:function(o){this._removeAllTiles(),qe(this._container),o._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Ms(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Ns(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(o){return this.options.opacity=o,this._updateOpacity(),this},setZIndex:function(o){return this.options.zIndex=o,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var o=this._clampZoom(this._map.getZoom());o!==this._tileZoom&&(this._tileZoom=o,this._updateLevels()),this._update()}return this},getEvents:function(){var o={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=d(this._onMoveEnd,this.options.updateInterval,this)),o.move=this._onMove),this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},createTile:function(){return document.createElement("div")},getTileSize:function(){var o=this.options.tileSize;return o instanceof V?o:new V(o,o)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(o){for(var l=this.getPane().children,h=-o(-1/0,1/0),f=0,g=l.length,w;f<g;f++)w=l[f].style.zIndex,l[f]!==this._container&&w&&(h=o(h,+w));isFinite(h)&&(this.options.zIndex=h+o(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Y.ielt9){In(this._container,this.options.opacity);var o=+new Date,l=!1,h=!1;for(var f in this._tiles){var g=this._tiles[f];if(!(!g.current||!g.loaded)){var w=Math.min(1,(o-g.loaded)/200);In(g.el,w),w<1?l=!0:(g.active?h=!0:this._onOpaqueTile(g),g.active=!0)}}h&&!this._noPrune&&this._pruneTiles(),l&&(ve(this._fadeFrame),this._fadeFrame=le(this._updateOpacity,this))}},_onOpaqueTile:m,_initContainer:function(){this._container||(this._container=xe("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var o=this._tileZoom,l=this.options.maxZoom;if(o!==void 0){for(var h in this._levels)h=Number(h),this._levels[h].el.children.length||h===o?(this._levels[h].el.style.zIndex=l-Math.abs(o-h),this._onUpdateLevel(h)):(qe(this._levels[h].el),this._removeTilesAtZoom(h),this._onRemoveLevel(h),delete this._levels[h]);var f=this._levels[o],g=this._map;return f||(f=this._levels[o]={},f.el=xe("div","leaflet-tile-container leaflet-zoom-animated",this._container),f.el.style.zIndex=l,f.origin=g.project(g.unproject(g.getPixelOrigin()),o).round(),f.zoom=o,this._setZoomTransform(f,g.getCenter(),g.getZoom()),m(f.el.offsetWidth),this._onCreateLevel(f)),this._level=f,f}},_onUpdateLevel:m,_onRemoveLevel:m,_onCreateLevel:m,_pruneTiles:function(){if(this._map){var o,l,h=this._map.getZoom();if(h>this.options.maxZoom||h<this.options.minZoom){this._removeAllTiles();return}for(o in this._tiles)l=this._tiles[o],l.retain=l.current;for(o in this._tiles)if(l=this._tiles[o],l.current&&!l.active){var f=l.coords;this._retainParent(f.x,f.y,f.z,f.z-5)||this._retainChildren(f.x,f.y,f.z,f.z+2)}for(o in this._tiles)this._tiles[o].retain||this._removeTile(o)}},_removeTilesAtZoom:function(o){for(var l in this._tiles)this._tiles[l].coords.z===o&&this._removeTile(l)},_removeAllTiles:function(){for(var o in this._tiles)this._removeTile(o)},_invalidateAll:function(){for(var o in this._levels)qe(this._levels[o].el),this._onRemoveLevel(Number(o)),delete this._levels[o];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(o,l,h,f){var g=Math.floor(o/2),w=Math.floor(l/2),b=h-1,k=new V(+g,+w);k.z=+b;var M=this._tileCoordsToKey(k),j=this._tiles[M];return j&&j.active?(j.retain=!0,!0):(j&&j.loaded&&(j.retain=!0),b>f?this._retainParent(g,w,b,f):!1)},_retainChildren:function(o,l,h,f){for(var g=2*o;g<2*o+2;g++)for(var w=2*l;w<2*l+2;w++){var b=new V(g,w);b.z=h+1;var k=this._tileCoordsToKey(b),M=this._tiles[k];if(M&&M.active){M.retain=!0;continue}else M&&M.loaded&&(M.retain=!0);h+1<f&&this._retainChildren(g,w,h+1,f)}},_resetView:function(o){var l=o&&(o.pinch||o.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),l,l)},_animateZoom:function(o){this._setView(o.center,o.zoom,!0,o.noUpdate)},_clampZoom:function(o){var l=this.options;return l.minNativeZoom!==void 0&&o<l.minNativeZoom?l.minNativeZoom:l.maxNativeZoom!==void 0&&l.maxNativeZoom<o?l.maxNativeZoom:o},_setView:function(o,l,h,f){var g=Math.round(l);this.options.maxZoom!==void 0&&g>this.options.maxZoom||this.options.minZoom!==void 0&&g<this.options.minZoom?g=void 0:g=this._clampZoom(g);var w=this.options.updateWhenZooming&&g!==this._tileZoom;(!f||w)&&(this._tileZoom=g,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),g!==void 0&&this._update(o),h||this._pruneTiles(),this._noPrune=!!h),this._setZoomTransforms(o,l)},_setZoomTransforms:function(o,l){for(var h in this._levels)this._setZoomTransform(this._levels[h],o,l)},_setZoomTransform:function(o,l,h){var f=this._map.getZoomScale(h,o.zoom),g=o.origin.multiplyBy(f).subtract(this._map._getNewPixelOrigin(l,h)).round();Y.any3d?Wi(o.el,g,f):it(o.el,g)},_resetGrid:function(){var o=this._map,l=o.options.crs,h=this._tileSize=this.getTileSize(),f=this._tileZoom,g=this._map.getPixelWorldBounds(this._tileZoom);g&&(this._globalTileRange=this._pxBoundsToTileRange(g)),this._wrapX=l.wrapLng&&!this.options.noWrap&&[Math.floor(o.project([0,l.wrapLng[0]],f).x/h.x),Math.ceil(o.project([0,l.wrapLng[1]],f).x/h.y)],this._wrapY=l.wrapLat&&!this.options.noWrap&&[Math.floor(o.project([l.wrapLat[0],0],f).y/h.x),Math.ceil(o.project([l.wrapLat[1],0],f).y/h.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(o){var l=this._map,h=l._animatingZoom?Math.max(l._animateToZoom,l.getZoom()):l.getZoom(),f=l.getZoomScale(h,this._tileZoom),g=l.project(o,this._tileZoom).floor(),w=l.getSize().divideBy(f*2);return new ie(g.subtract(w),g.add(w))},_update:function(o){var l=this._map;if(l){var h=this._clampZoom(l.getZoom());if(o===void 0&&(o=l.getCenter()),this._tileZoom!==void 0){var f=this._getTiledPixelBounds(o),g=this._pxBoundsToTileRange(f),w=g.getCenter(),b=[],k=this.options.keepBuffer,M=new ie(g.getBottomLeft().subtract([k,-k]),g.getTopRight().add([k,-k]));if(!(isFinite(g.min.x)&&isFinite(g.min.y)&&isFinite(g.max.x)&&isFinite(g.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var j in this._tiles){var W=this._tiles[j].coords;(W.z!==this._tileZoom||!M.contains(new V(W.x,W.y)))&&(this._tiles[j].current=!1)}if(Math.abs(h-this._tileZoom)>1){this._setView(o,h);return}for(var ae=g.min.y;ae<=g.max.y;ae++)for(var ye=g.min.x;ye<=g.max.x;ye++){var Gt=new V(ye,ae);if(Gt.z=this._tileZoom,!!this._isValidTile(Gt)){var _t=this._tiles[this._tileCoordsToKey(Gt)];_t?_t.current=!0:b.push(Gt)}}if(b.sort(function(en,$s){return en.distanceTo(w)-$s.distanceTo(w)}),b.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Cn=document.createDocumentFragment();for(ye=0;ye<b.length;ye++)this._addTile(b[ye],Cn);this._level.el.appendChild(Cn)}}}},_isValidTile:function(o){var l=this._map.options.crs;if(!l.infinite){var h=this._globalTileRange;if(!l.wrapLng&&(o.x<h.min.x||o.x>h.max.x)||!l.wrapLat&&(o.y<h.min.y||o.y>h.max.y))return!1}if(!this.options.bounds)return!0;var f=this._tileCoordsToBounds(o);return _e(this.options.bounds).overlaps(f)},_keyToBounds:function(o){return this._tileCoordsToBounds(this._keyToTileCoords(o))},_tileCoordsToNwSe:function(o){var l=this._map,h=this.getTileSize(),f=o.scaleBy(h),g=f.add(h),w=l.unproject(f,o.z),b=l.unproject(g,o.z);return[w,b]},_tileCoordsToBounds:function(o){var l=this._tileCoordsToNwSe(o),h=new Pe(l[0],l[1]);return this.options.noWrap||(h=this._map.wrapLatLngBounds(h)),h},_tileCoordsToKey:function(o){return o.x+":"+o.y+":"+o.z},_keyToTileCoords:function(o){var l=o.split(":"),h=new V(+l[0],+l[1]);return h.z=+l[2],h},_removeTile:function(o){var l=this._tiles[o];l&&(qe(l.el),delete this._tiles[o],this.fire("tileunload",{tile:l.el,coords:this._keyToTileCoords(o)}))},_initTile:function(o){ge(o,"leaflet-tile");var l=this.getTileSize();o.style.width=l.x+"px",o.style.height=l.y+"px",o.onselectstart=m,o.onmousemove=m,Y.ielt9&&this.options.opacity<1&&In(o,this.options.opacity)},_addTile:function(o,l){var h=this._getTilePos(o),f=this._tileCoordsToKey(o),g=this.createTile(this._wrapCoords(o),a(this._tileReady,this,o));this._initTile(g),this.createTile.length<2&&le(a(this._tileReady,this,o,null,g)),it(g,h),this._tiles[f]={el:g,coords:o,current:!0},l.appendChild(g),this.fire("tileloadstart",{tile:g,coords:o})},_tileReady:function(o,l,h){l&&this.fire("tileerror",{error:l,tile:h,coords:o});var f=this._tileCoordsToKey(o);h=this._tiles[f],h&&(h.loaded=+new Date,this._map._fadeAnimated?(In(h.el,0),ve(this._fadeFrame),this._fadeFrame=le(this._updateOpacity,this)):(h.active=!0,this._pruneTiles()),l||(ge(h.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:h.el,coords:o})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Y.ielt9||!this._map._fadeAnimated?le(this._pruneTiles,this):setTimeout(a(this._pruneTiles,this),250)))},_getTilePos:function(o){return o.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(o){var l=new V(this._wrapX?p(o.x,this._wrapX):o.x,this._wrapY?p(o.y,this._wrapY):o.y);return l.z=o.z,l},_pxBoundsToTileRange:function(o){var l=this.getTileSize();return new ie(o.min.unscaleBy(l).floor(),o.max.unscaleBy(l).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var o in this._tiles)if(!this._tiles[o].loaded)return!1;return!0}});function oA(o){return new pa(o)}var js=pa.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(o,l){this._url=o,l=I(this,l),l.detectRetina&&Y.retina&&l.maxZoom>0?(l.tileSize=Math.floor(l.tileSize/2),l.zoomReverse?(l.zoomOffset--,l.minZoom=Math.min(l.maxZoom,l.minZoom+1)):(l.zoomOffset++,l.maxZoom=Math.max(l.minZoom,l.maxZoom-1)),l.minZoom=Math.max(0,l.minZoom)):l.zoomReverse?l.minZoom=Math.min(l.maxZoom,l.minZoom):l.maxZoom=Math.max(l.minZoom,l.maxZoom),typeof l.subdomains=="string"&&(l.subdomains=l.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(o,l){return this._url===o&&l===void 0&&(l=!0),this._url=o,l||this.redraw(),this},createTile:function(o,l){var h=document.createElement("img");return fe(h,"load",a(this._tileOnLoad,this,l,h)),fe(h,"error",a(this._tileOnError,this,l,h)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(h.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(h.referrerPolicy=this.options.referrerPolicy),h.alt="",h.src=this.getTileUrl(o),h},getTileUrl:function(o){var l={r:Y.retina?"@2x":"",s:this._getSubdomain(o),x:o.x,y:o.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var h=this._globalTileRange.max.y-o.y;this.options.tms&&(l.y=h),l["-y"]=h}return y(this._url,i(l,this.options))},_tileOnLoad:function(o,l){Y.ielt9?setTimeout(a(o,this,null,l),0):o(null,l)},_tileOnError:function(o,l,h){var f=this.options.errorTileUrl;f&&l.getAttribute("src")!==f&&(l.src=f),o(h,l)},_onTileRemove:function(o){o.tile.onload=null},_getZoomForUrl:function(){var o=this._tileZoom,l=this.options.maxZoom,h=this.options.zoomReverse,f=this.options.zoomOffset;return h&&(o=l-o),o+f},_getSubdomain:function(o){var l=Math.abs(o.x+o.y)%this.options.subdomains.length;return this.options.subdomains[l]},_abortLoading:function(){var o,l;for(o in this._tiles)if(this._tiles[o].coords.z!==this._tileZoom&&(l=this._tiles[o].el,l.onload=m,l.onerror=m,!l.complete)){l.src=A;var h=this._tiles[o].coords;qe(l),delete this._tiles[o],this.fire("tileabort",{tile:l,coords:h})}},_removeTile:function(o){var l=this._tiles[o];if(l)return l.el.setAttribute("src",A),pa.prototype._removeTile.call(this,o)},_tileReady:function(o,l,h){if(!(!this._map||h&&h.getAttribute("src")===A))return pa.prototype._tileReady.call(this,o,l,h)}});function K1(o,l){return new js(o,l)}var Z1=js.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(o,l){this._url=o;var h=i({},this.defaultWmsParams);for(var f in l)f in this.options||(h[f]=l[f]);l=I(this,l);var g=l.detectRetina&&Y.retina?2:1,w=this.getTileSize();h.width=w.x*g,h.height=w.y*g,this.wmsParams=h},onAdd:function(o){this._crs=this.options.crs||o.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var l=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[l]=this._crs.code,js.prototype.onAdd.call(this,o)},getTileUrl:function(o){var l=this._tileCoordsToNwSe(o),h=this._crs,f=te(h.project(l[0]),h.project(l[1])),g=f.min,w=f.max,b=(this._wmsVersion>=1.3&&this._crs===$1?[g.y,g.x,w.y,w.x]:[g.x,g.y,w.x,w.y]).join(","),k=js.prototype.getTileUrl.call(this,o);return k+C(this.wmsParams,k,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+b},setParams:function(o,l){return i(this.wmsParams,o),l||this.redraw(),this}});function aA(o,l){return new Z1(o,l)}js.WMS=Z1,K1.wms=aA;var Sr=Dn.extend({options:{padding:.1},initialize:function(o){I(this,o),u(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),ge(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var o={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(o.zoomanim=this._onAnimZoom),o},_onAnimZoom:function(o){this._updateTransform(o.center,o.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(o,l){var h=this._map.getZoomScale(l,this._zoom),f=this._map.getSize().multiplyBy(.5+this.options.padding),g=this._map.project(this._center,l),w=f.multiplyBy(-h).add(g).subtract(this._map._getNewPixelOrigin(o,l));Y.any3d?Wi(this._container,w,h):it(this._container,w)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var o in this._layers)this._layers[o]._reset()},_onZoomEnd:function(){for(var o in this._layers)this._layers[o]._project()},_updatePaths:function(){for(var o in this._layers)this._layers[o]._update()},_update:function(){var o=this.options.padding,l=this._map.getSize(),h=this._map.containerPointToLayerPoint(l.multiplyBy(-o)).round();this._bounds=new ie(h,h.add(l.multiplyBy(1+o*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Q1=Sr.extend({options:{tolerance:0},getEvents:function(){var o=Sr.prototype.getEvents.call(this);return o.viewprereset=this._onViewPreReset,o},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Sr.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var o=this._container=document.createElement("canvas");fe(o,"mousemove",this._onMouseMove,this),fe(o,"click dblclick mousedown mouseup contextmenu",this._onClick,this),fe(o,"mouseout",this._handleMouseOut,this),o._leaflet_disable_events=!0,this._ctx=o.getContext("2d")},_destroyContainer:function(){ve(this._redrawRequest),delete this._ctx,qe(this._container),De(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var o;this._redrawBounds=null;for(var l in this._layers)o=this._layers[l],o._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Sr.prototype._update.call(this);var o=this._bounds,l=this._container,h=o.getSize(),f=Y.retina?2:1;it(l,o.min),l.width=f*h.x,l.height=f*h.y,l.style.width=h.x+"px",l.style.height=h.y+"px",Y.retina&&this._ctx.scale(2,2),this._ctx.translate(-o.min.x,-o.min.y),this.fire("update")}},_reset:function(){Sr.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(o){this._updateDashArray(o),this._layers[u(o)]=o;var l=o._order={layer:o,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=l),this._drawLast=l,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(o){this._requestRedraw(o)},_removePath:function(o){var l=o._order,h=l.next,f=l.prev;h?h.prev=f:this._drawLast=f,f?f.next=h:this._drawFirst=h,delete o._order,delete this._layers[u(o)],this._requestRedraw(o)},_updatePath:function(o){this._extendRedrawBounds(o),o._project(),o._update(),this._requestRedraw(o)},_updateStyle:function(o){this._updateDashArray(o),this._requestRedraw(o)},_updateDashArray:function(o){if(typeof o.options.dashArray=="string"){var l=o.options.dashArray.split(/[, ]+/),h=[],f,g;for(g=0;g<l.length;g++){if(f=Number(l[g]),isNaN(f))return;h.push(f)}o.options._dashArray=h}else o.options._dashArray=o.options.dashArray},_requestRedraw:function(o){this._map&&(this._extendRedrawBounds(o),this._redrawRequest=this._redrawRequest||le(this._redraw,this))},_extendRedrawBounds:function(o){if(o._pxBounds){var l=(o.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new ie,this._redrawBounds.extend(o._pxBounds.min.subtract([l,l])),this._redrawBounds.extend(o._pxBounds.max.add([l,l]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var o=this._redrawBounds;if(o){var l=o.getSize();this._ctx.clearRect(o.min.x,o.min.y,l.x,l.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var o,l=this._redrawBounds;if(this._ctx.save(),l){var h=l.getSize();this._ctx.beginPath(),this._ctx.rect(l.min.x,l.min.y,h.x,h.y),this._ctx.clip()}this._drawing=!0;for(var f=this._drawFirst;f;f=f.next)o=f.layer,(!l||o._pxBounds&&o._pxBounds.intersects(l))&&o._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(o,l){if(this._drawing){var h,f,g,w,b=o._parts,k=b.length,M=this._ctx;if(k){for(M.beginPath(),h=0;h<k;h++){for(f=0,g=b[h].length;f<g;f++)w=b[h][f],M[f?"lineTo":"moveTo"](w.x,w.y);l&&M.closePath()}this._fillStroke(M,o)}}},_updateCircle:function(o){if(!(!this._drawing||o._empty())){var l=o._point,h=this._ctx,f=Math.max(Math.round(o._radius),1),g=(Math.max(Math.round(o._radiusY),1)||f)/f;g!==1&&(h.save(),h.scale(1,g)),h.beginPath(),h.arc(l.x,l.y/g,f,0,Math.PI*2,!1),g!==1&&h.restore(),this._fillStroke(h,o)}},_fillStroke:function(o,l){var h=l.options;h.fill&&(o.globalAlpha=h.fillOpacity,o.fillStyle=h.fillColor||h.color,o.fill(h.fillRule||"evenodd")),h.stroke&&h.weight!==0&&(o.setLineDash&&o.setLineDash(l.options&&l.options._dashArray||[]),o.globalAlpha=h.opacity,o.lineWidth=h.weight,o.strokeStyle=h.color,o.lineCap=h.lineCap,o.lineJoin=h.lineJoin,o.stroke())},_onClick:function(o){for(var l=this._map.mouseEventToLayerPoint(o),h,f,g=this._drawFirst;g;g=g.next)h=g.layer,h.options.interactive&&h._containsPoint(l)&&(!(o.type==="click"||o.type==="preclick")||!this._map._draggableMoved(h))&&(f=h);this._fireEvent(f?[f]:!1,o)},_onMouseMove:function(o){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var l=this._map.mouseEventToLayerPoint(o);this._handleMouseHover(o,l)}},_handleMouseOut:function(o){var l=this._hoveredLayer;l&&(tt(this._container,"leaflet-interactive"),this._fireEvent([l],o,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(o,l){if(!this._mouseHoverThrottled){for(var h,f,g=this._drawFirst;g;g=g.next)h=g.layer,h.options.interactive&&h._containsPoint(l)&&(f=h);f!==this._hoveredLayer&&(this._handleMouseOut(o),f&&(ge(this._container,"leaflet-interactive"),this._fireEvent([f],o,"mouseover"),this._hoveredLayer=f)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,o),this._mouseHoverThrottled=!0,setTimeout(a(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(o,l,h){this._map._fireDOMEvent(l,h||l.type,o)},_bringToFront:function(o){var l=o._order;if(l){var h=l.next,f=l.prev;if(h)h.prev=f;else return;f?f.next=h:h&&(this._drawFirst=h),l.prev=this._drawLast,this._drawLast.next=l,l.next=null,this._drawLast=l,this._requestRedraw(o)}},_bringToBack:function(o){var l=o._order;if(l){var h=l.next,f=l.prev;if(f)f.next=h;else return;h?h.prev=f:f&&(this._drawLast=f),l.prev=null,l.next=this._drawFirst,this._drawFirst.prev=l,this._drawFirst=l,this._requestRedraw(o)}}});function Y1(o){return Y.canvas?new Q1(o):null}var ma=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(o){return document.createElement("<lvml:"+o+' class="lvml">')}}catch{}return function(o){return document.createElement("<"+o+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),lA={_initContainer:function(){this._container=xe("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Sr.prototype._update.call(this),this.fire("update"))},_initPath:function(o){var l=o._container=ma("shape");ge(l,"leaflet-vml-shape "+(this.options.className||"")),l.coordsize="1 1",o._path=ma("path"),l.appendChild(o._path),this._updateStyle(o),this._layers[u(o)]=o},_addPath:function(o){var l=o._container;this._container.appendChild(l),o.options.interactive&&o.addInteractiveTarget(l)},_removePath:function(o){var l=o._container;qe(l),o.removeInteractiveTarget(l),delete this._layers[u(o)]},_updateStyle:function(o){var l=o._stroke,h=o._fill,f=o.options,g=o._container;g.stroked=!!f.stroke,g.filled=!!f.fill,f.stroke?(l||(l=o._stroke=ma("stroke")),g.appendChild(l),l.weight=f.weight+"px",l.color=f.color,l.opacity=f.opacity,f.dashArray?l.dashStyle=E(f.dashArray)?f.dashArray.join(" "):f.dashArray.replace(/( *, *)/g," "):l.dashStyle="",l.endcap=f.lineCap.replace("butt","flat"),l.joinstyle=f.lineJoin):l&&(g.removeChild(l),o._stroke=null),f.fill?(h||(h=o._fill=ma("fill")),g.appendChild(h),h.color=f.fillColor||f.color,h.opacity=f.fillOpacity):h&&(g.removeChild(h),o._fill=null)},_updateCircle:function(o){var l=o._point.round(),h=Math.round(o._radius),f=Math.round(o._radiusY||h);this._setPath(o,o._empty()?"M0 0":"AL "+l.x+","+l.y+" "+h+","+f+" 0,"+65535*360)},_setPath:function(o,l){o._path.v=l},_bringToFront:function(o){Ms(o._container)},_bringToBack:function(o){Ns(o._container)}},Zu=Y.vml?ma:ku,ga=Sr.extend({_initContainer:function(){this._container=Zu("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Zu("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){qe(this._container),De(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Sr.prototype._update.call(this);var o=this._bounds,l=o.getSize(),h=this._container;(!this._svgSize||!this._svgSize.equals(l))&&(this._svgSize=l,h.setAttribute("width",l.x),h.setAttribute("height",l.y)),it(h,o.min),h.setAttribute("viewBox",[o.min.x,o.min.y,l.x,l.y].join(" ")),this.fire("update")}},_initPath:function(o){var l=o._path=Zu("path");o.options.className&&ge(l,o.options.className),o.options.interactive&&ge(l,"leaflet-interactive"),this._updateStyle(o),this._layers[u(o)]=o},_addPath:function(o){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(o._path),o.addInteractiveTarget(o._path)},_removePath:function(o){qe(o._path),o.removeInteractiveTarget(o._path),delete this._layers[u(o)]},_updatePath:function(o){o._project(),o._update()},_updateStyle:function(o){var l=o._path,h=o.options;l&&(h.stroke?(l.setAttribute("stroke",h.color),l.setAttribute("stroke-opacity",h.opacity),l.setAttribute("stroke-width",h.weight),l.setAttribute("stroke-linecap",h.lineCap),l.setAttribute("stroke-linejoin",h.lineJoin),h.dashArray?l.setAttribute("stroke-dasharray",h.dashArray):l.removeAttribute("stroke-dasharray"),h.dashOffset?l.setAttribute("stroke-dashoffset",h.dashOffset):l.removeAttribute("stroke-dashoffset")):l.setAttribute("stroke","none"),h.fill?(l.setAttribute("fill",h.fillColor||h.color),l.setAttribute("fill-opacity",h.fillOpacity),l.setAttribute("fill-rule",h.fillRule||"evenodd")):l.setAttribute("fill","none"))},_updatePoly:function(o,l){this._setPath(o,n1(o._parts,l))},_updateCircle:function(o){var l=o._point,h=Math.max(Math.round(o._radius),1),f=Math.max(Math.round(o._radiusY),1)||h,g="a"+h+","+f+" 0 1,0 ",w=o._empty()?"M0 0":"M"+(l.x-h)+","+l.y+g+h*2+",0 "+g+-h*2+",0 ";this._setPath(o,w)},_setPath:function(o,l){o._path.setAttribute("d",l)},_bringToFront:function(o){Ms(o._path)},_bringToBack:function(o){Ns(o._path)}});Y.vml&&ga.include(lA);function X1(o){return Y.svg||Y.vml?new ga(o):null}Se.include({getRenderer:function(o){var l=o.options.renderer||this._getPaneRenderer(o.options.pane)||this.options.renderer||this._renderer;return l||(l=this._renderer=this._createRenderer()),this.hasLayer(l)||this.addLayer(l),l},_getPaneRenderer:function(o){if(o==="overlayPane"||o===void 0)return!1;var l=this._paneRenderers[o];return l===void 0&&(l=this._createRenderer({pane:o}),this._paneRenderers[o]=l),l},_createRenderer:function(o){return this.options.preferCanvas&&Y1(o)||X1(o)}});var J1=Fs.extend({initialize:function(o,l){Fs.prototype.initialize.call(this,this._boundsToLatLngs(o),l)},setBounds:function(o){return this.setLatLngs(this._boundsToLatLngs(o))},_boundsToLatLngs:function(o){return o=_e(o),[o.getSouthWest(),o.getNorthWest(),o.getNorthEast(),o.getSouthEast()]}});function uA(o,l){return new J1(o,l)}ga.create=Zu,ga.pointsToPath=n1,Tr.geometryToLayer=Uu,Tr.coordsToLatLng=gp,Tr.coordsToLatLngs=Bu,Tr.latLngToCoords=vp,Tr.latLngsToCoords=Hu,Tr.getFeature=zs,Tr.asFeature=Wu,Se.mergeOptions({boxZoom:!0});var e0=Yn.extend({initialize:function(o){this._map=o,this._container=o._container,this._pane=o._panes.overlayPane,this._resetStateTimeout=0,o.on("unload",this._destroy,this)},addHooks:function(){fe(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){De(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){qe(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(o){if(!o.shiftKey||o.which!==1&&o.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),aa(),Jf(),this._startPoint=this._map.mouseEventToContainerPoint(o),fe(document,{contextmenu:Ki,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(o){this._moved||(this._moved=!0,this._box=xe("div","leaflet-zoom-box",this._container),ge(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(o);var l=new ie(this._point,this._startPoint),h=l.getSize();it(this._box,l.min),this._box.style.width=h.x+"px",this._box.style.height=h.y+"px"},_finish:function(){this._moved&&(qe(this._box),tt(this._container,"leaflet-crosshair")),la(),ep(),De(document,{contextmenu:Ki,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(o){if(!(o.which!==1&&o.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(a(this._resetState,this),0);var l=new Pe(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(l).fire("boxzoomend",{boxZoomBounds:l})}},_onKeyDown:function(o){o.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Se.addInitHook("addHandler","boxZoom",e0),Se.mergeOptions({doubleClickZoom:!0});var t0=Yn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(o){var l=this._map,h=l.getZoom(),f=l.options.zoomDelta,g=o.originalEvent.shiftKey?h-f:h+f;l.options.doubleClickZoom==="center"?l.setZoom(g):l.setZoomAround(o.containerPoint,g)}});Se.addInitHook("addHandler","doubleClickZoom",t0),Se.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var n0=Yn.extend({addHooks:function(){if(!this._draggable){var o=this._map;this._draggable=new Yr(o._mapPane,o._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),o.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),o.on("zoomend",this._onZoomEnd,this),o.whenReady(this._onZoomEnd,this))}ge(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){tt(this._map._container,"leaflet-grab"),tt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var o=this._map;if(o._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var l=_e(this._map.options.maxBounds);this._offsetLimit=te(this._map.latLngToContainerPoint(l.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(l.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;o.fire("movestart").fire("dragstart"),o.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(o){if(this._map.options.inertia){var l=this._lastTime=+new Date,h=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(h),this._times.push(l),this._prunePositions(l)}this._map.fire("move",o).fire("drag",o)},_prunePositions:function(o){for(;this._positions.length>1&&o-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var o=this._map.getSize().divideBy(2),l=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=l.subtract(o).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(o,l){return o-(o-l)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var o=this._draggable._newPos.subtract(this._draggable._startPos),l=this._offsetLimit;o.x<l.min.x&&(o.x=this._viscousLimit(o.x,l.min.x)),o.y<l.min.y&&(o.y=this._viscousLimit(o.y,l.min.y)),o.x>l.max.x&&(o.x=this._viscousLimit(o.x,l.max.x)),o.y>l.max.y&&(o.y=this._viscousLimit(o.y,l.max.y)),this._draggable._newPos=this._draggable._startPos.add(o)}},_onPreDragWrap:function(){var o=this._worldWidth,l=Math.round(o/2),h=this._initialWorldOffset,f=this._draggable._newPos.x,g=(f-l+h)%o+l-h,w=(f+l+h)%o-l-h,b=Math.abs(g+h)<Math.abs(w+h)?g:w;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=b},_onDragEnd:function(o){var l=this._map,h=l.options,f=!h.inertia||o.noInertia||this._times.length<2;if(l.fire("dragend",o),f)l.fire("moveend");else{this._prunePositions(+new Date);var g=this._lastPos.subtract(this._positions[0]),w=(this._lastTime-this._times[0])/1e3,b=h.easeLinearity,k=g.multiplyBy(b/w),M=k.distanceTo([0,0]),j=Math.min(h.inertiaMaxSpeed,M),W=k.multiplyBy(j/M),ae=j/(h.inertiaDeceleration*b),ye=W.multiplyBy(-ae/2).round();!ye.x&&!ye.y?l.fire("moveend"):(ye=l._limitOffset(ye,l.options.maxBounds),le(function(){l.panBy(ye,{duration:ae,easeLinearity:b,noMoveStart:!0,animate:!0})}))}}});Se.addInitHook("addHandler","dragging",n0),Se.mergeOptions({keyboard:!0,keyboardPanDelta:80});var r0=Yn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(o){this._map=o,this._setPanDelta(o.options.keyboardPanDelta),this._setZoomDelta(o.options.zoomDelta)},addHooks:function(){var o=this._map._container;o.tabIndex<=0&&(o.tabIndex="0"),fe(o,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),De(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var o=document.body,l=document.documentElement,h=o.scrollTop||l.scrollTop,f=o.scrollLeft||l.scrollLeft;this._map._container.focus(),window.scrollTo(f,h)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(o){var l=this._panKeys={},h=this.keyCodes,f,g;for(f=0,g=h.left.length;f<g;f++)l[h.left[f]]=[-1*o,0];for(f=0,g=h.right.length;f<g;f++)l[h.right[f]]=[o,0];for(f=0,g=h.down.length;f<g;f++)l[h.down[f]]=[0,o];for(f=0,g=h.up.length;f<g;f++)l[h.up[f]]=[0,-1*o]},_setZoomDelta:function(o){var l=this._zoomKeys={},h=this.keyCodes,f,g;for(f=0,g=h.zoomIn.length;f<g;f++)l[h.zoomIn[f]]=o;for(f=0,g=h.zoomOut.length;f<g;f++)l[h.zoomOut[f]]=-o},_addHooks:function(){fe(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){De(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(o){if(!(o.altKey||o.ctrlKey||o.metaKey)){var l=o.keyCode,h=this._map,f;if(l in this._panKeys){if(!h._panAnim||!h._panAnim._inProgress)if(f=this._panKeys[l],o.shiftKey&&(f=U(f).multiplyBy(3)),h.options.maxBounds&&(f=h._limitOffset(U(f),h.options.maxBounds)),h.options.worldCopyJump){var g=h.wrapLatLng(h.unproject(h.project(h.getCenter()).add(f)));h.panTo(g)}else h.panBy(f)}else if(l in this._zoomKeys)h.setZoom(h.getZoom()+(o.shiftKey?3:1)*this._zoomKeys[l]);else if(l===27&&h._popup&&h._popup.options.closeOnEscapeKey)h.closePopup();else return;Ki(o)}}});Se.addInitHook("addHandler","keyboard",r0),Se.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var i0=Yn.extend({addHooks:function(){fe(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){De(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(o){var l=b1(o),h=this._map.options.wheelDebounceTime;this._delta+=l,this._lastMousePos=this._map.mouseEventToContainerPoint(o),this._startTime||(this._startTime=+new Date);var f=Math.max(h-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(a(this._performZoom,this),f),Ki(o)},_performZoom:function(){var o=this._map,l=o.getZoom(),h=this._map.options.zoomSnap||0;o._stop();var f=this._delta/(this._map.options.wheelPxPerZoomLevel*4),g=4*Math.log(2/(1+Math.exp(-Math.abs(f))))/Math.LN2,w=h?Math.ceil(g/h)*h:g,b=o._limitZoom(l+(this._delta>0?w:-w))-l;this._delta=0,this._startTime=null,b&&(o.options.scrollWheelZoom==="center"?o.setZoom(l+b):o.setZoomAround(this._lastMousePos,l+b))}});Se.addInitHook("addHandler","scrollWheelZoom",i0);var cA=600;Se.mergeOptions({tapHold:Y.touchNative&&Y.safari&&Y.mobile,tapTolerance:15});var s0=Yn.extend({addHooks:function(){fe(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){De(this._map._container,"touchstart",this._onDown,this)},_onDown:function(o){if(clearTimeout(this._holdTimeout),o.touches.length===1){var l=o.touches[0];this._startPos=this._newPos=new V(l.clientX,l.clientY),this._holdTimeout=setTimeout(a(function(){this._cancel(),this._isTapValid()&&(fe(document,"touchend",Pt),fe(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",l))},this),cA),fe(document,"touchend touchcancel contextmenu",this._cancel,this),fe(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function o(){De(document,"touchend",Pt),De(document,"touchend touchcancel",o)},_cancel:function(){clearTimeout(this._holdTimeout),De(document,"touchend touchcancel contextmenu",this._cancel,this),De(document,"touchmove",this._onMove,this)},_onMove:function(o){var l=o.touches[0];this._newPos=new V(l.clientX,l.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(o,l){var h=new MouseEvent(o,{bubbles:!0,cancelable:!0,view:window,screenX:l.screenX,screenY:l.screenY,clientX:l.clientX,clientY:l.clientY});h._simulated=!0,l.target.dispatchEvent(h)}});Se.addInitHook("addHandler","tapHold",s0),Se.mergeOptions({touchZoom:Y.touch,bounceAtZoomLimits:!0});var o0=Yn.extend({addHooks:function(){ge(this._map._container,"leaflet-touch-zoom"),fe(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){tt(this._map._container,"leaflet-touch-zoom"),De(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(o){var l=this._map;if(!(!o.touches||o.touches.length!==2||l._animatingZoom||this._zooming)){var h=l.mouseEventToContainerPoint(o.touches[0]),f=l.mouseEventToContainerPoint(o.touches[1]);this._centerPoint=l.getSize()._divideBy(2),this._startLatLng=l.containerPointToLatLng(this._centerPoint),l.options.touchZoom!=="center"&&(this._pinchStartLatLng=l.containerPointToLatLng(h.add(f)._divideBy(2))),this._startDist=h.distanceTo(f),this._startZoom=l.getZoom(),this._moved=!1,this._zooming=!0,l._stop(),fe(document,"touchmove",this._onTouchMove,this),fe(document,"touchend touchcancel",this._onTouchEnd,this),Pt(o)}},_onTouchMove:function(o){if(!(!o.touches||o.touches.length!==2||!this._zooming)){var l=this._map,h=l.mouseEventToContainerPoint(o.touches[0]),f=l.mouseEventToContainerPoint(o.touches[1]),g=h.distanceTo(f)/this._startDist;if(this._zoom=l.getScaleZoom(g,this._startZoom),!l.options.bounceAtZoomLimits&&(this._zoom<l.getMinZoom()&&g<1||this._zoom>l.getMaxZoom()&&g>1)&&(this._zoom=l._limitZoom(this._zoom)),l.options.touchZoom==="center"){if(this._center=this._startLatLng,g===1)return}else{var w=h._add(f)._divideBy(2)._subtract(this._centerPoint);if(g===1&&w.x===0&&w.y===0)return;this._center=l.unproject(l.project(this._pinchStartLatLng,this._zoom).subtract(w),this._zoom)}this._moved||(l._moveStart(!0,!1),this._moved=!0),ve(this._animRequest);var b=a(l._move,l,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=le(b,this,!0),Pt(o)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,ve(this._animRequest),De(document,"touchmove",this._onTouchMove,this),De(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Se.addInitHook("addHandler","touchZoom",o0),Se.BoxZoom=e0,Se.DoubleClickZoom=t0,Se.Drag=n0,Se.Keyboard=r0,Se.ScrollWheelZoom=i0,Se.TapHold=s0,Se.TouchZoom=o0,n.Bounds=ie,n.Browser=Y,n.CRS=We,n.Canvas=Q1,n.Circle=mp,n.CircleMarker=$u,n.Class=Me,n.Control=Nn,n.DivIcon=G1,n.DivOverlay=Xn,n.DomEvent=bR,n.DomUtil=CR,n.Draggable=Yr,n.Evented=rt,n.FeatureGroup=wr,n.GeoJSON=Tr,n.GridLayer=pa,n.Handler=Yn,n.Icon=Vs,n.ImageOverlay=qu,n.LatLng=me,n.LatLngBounds=Pe,n.Layer=Dn,n.LayerGroup=Ds,n.LineUtil=$R,n.Map=Se,n.Marker=ju,n.Mixin=NR,n.Path=Xr,n.Point=V,n.PolyUtil=DR,n.Polygon=Fs,n.Polyline=Er,n.Popup=Gu,n.PosAnimation=R1,n.Projection=UR,n.Rectangle=J1,n.Renderer=Sr,n.SVG=ga,n.SVGOverlay=q1,n.TileLayer=js,n.Tooltip=Ku,n.Transformation=Os,n.Util=Q,n.VideoOverlay=W1,n.bind=a,n.bounds=te,n.canvas=Y1,n.circle=QR,n.circleMarker=ZR,n.control=ha,n.divIcon=sA,n.extend=i,n.featureGroup=qR,n.geoJSON=H1,n.geoJson=JR,n.gridLayer=oA,n.icon=GR,n.imageOverlay=eA,n.latLng=X,n.latLngBounds=_e,n.layerGroup=WR,n.map=RR,n.marker=KR,n.point=U,n.polygon=XR,n.polyline=YR,n.popup=rA,n.rectangle=uA,n.setOptions=I,n.stamp=u,n.svg=X1,n.svgOverlay=nA,n.tileLayer=K1,n.tooltip=iA,n.transformation=Qr,n.version=r,n.videoOverlay=tA;var hA=window.L;n.noConflict=function(){return window.L=hA,this},window.L=n})})(vv,vv.exports);var F$=vv.exports;const Pm=yv(F$),_v=({initialAddress:t})=>{const e=R.useRef(null);return R.useEffect(()=>((async()=>{if(!e.current){const r=Pm.map("map").setView([0,0],18),s=await(await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(t)}`)).json();if(s.length>0){const{lat:a,lon:c}=s[0];r.setView([a,c],18),Pm.marker([a,c]).addTo(r)}Pm.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}).addTo(r),e.current=r}})(),()=>{e.current&&(e.current.remove(),e.current=null)}),[t]),P.jsx("div",{id:"map",style:{height:"400px",width:"100%",borderRadius:"1rem"}})};_v.propTypes={initialAddress:Qt.string};const Zb=({restaurant:t,restaurants:e})=>{const n=yr(),{allRatings:r}=ft(u=>u.ratings);R.useEffect(()=>{n(ol())},[]);const i=e==null?void 0:e.filter(u=>{if(u.id===(t==null?void 0:t.id))return!1;const d=[],p=[];for(const v in t)v.startsWith("checkbox")&&t[v]&&p.push(v);for(const v in u)v.startsWith("checkbox")&&u[v]&&d.push(v);return p.some(v=>d.includes(v))}),s=(u,d)=>{const p=Object.keys(t).filter(I=>I.startsWith("checkbox")&&t[I]),m=Object.keys(u).filter(I=>I.startsWith("checkbox")&&u[I]),v=Object.keys(d).filter(I=>I.startsWith("checkbox")&&d[I]),T=m.filter(I=>p.includes(I));return v.filter(I=>p.includes(I)).length-T.length},a=i.sort(s),c=u=>r==null?void 0:r.filter(p=>p.restaurantId===u);return P.jsxs("div",{className:"SimilarRestaurants",children:[P.jsx("p",{children:"You might also be interested in these restaurants"}),i&&P.jsx("div",{className:"similar-restaurants",children:a.slice(0,3).map(u=>P.jsx(jy,{restaurant:u,ratings:c(u.id)},u.id))})]})};Zb.propTypes={restaurant:Qt.object,restaurants:Qt.array};const z$=()=>{const t=yr(),{id:e}=wO(),[n,r]=R.useState(!0),[i,s]=R.useState(null),[a,c]=R.useState(0),[u,d]=R.useState(null),[p,m]=R.useState(!1),[v,T]=R.useState(null),{restaurant:S,error:I,loading:C}=ft(Q=>Q.restaurants),{user:_}=ft(Q=>Q.auth),{ratings:y}=ft(Q=>Q.ratings),{userRatings:E}=ft(Q=>Q.ratings),{restaurants:x}=ft(Q=>Q.restaurants),A=E==null?void 0:E.find(Q=>(S==null?void 0:S.id)===Q.restaurant),O=A==null?void 0:A.rating,D=Object.keys(S||{}).filter(Q=>typeof S[Q]=="boolean"&&Q.includes("checkbox")).map(Q=>({name:Q,value:S[Q]})).filter(Q=>Q.value),K={Buffet:P.jsx(O$,{}),Fish:P.jsx(I7,{}),Hamburger:P.jsx(C7,{}),Vegan:P.jsx(x7,{}),Vegetarian:P.jsx(w7,{}),Pizza:P.jsx(A7,{}),Pasta:P.jsx(bL,{}),Ramen:P.jsx(k$,{}),Schnitzel:P.jsx(M$,{}),Buffe:P.jsx(AL,{}),Sausage:P.jsx(L$,{}),Sallad:P.jsx(V$,{}),Sushi:P.jsx(N$,{}),Tacos:P.jsx(D$,{}),Other:P.jsx(RL,{})};R.useEffect(()=>{t(th({collection:"restaurants",id:e})).then(()=>r(!1)).catch(()=>r(!1))},[t,e]),R.useEffect(()=>{t(rh({restaurantId:e}))},[t,e]),R.useEffect(()=>{t(al({userId:_==null?void 0:_.uid}))},[t,_]),R.useEffect(()=>{t(sl())},[t]),R.useEffect(()=>{d(O)},[O]);const q=async Q=>{d(Q),m(!0);try{await t(nh({userId:_.uid,restaurantId:e,rating:Q}))}catch(Me){console.log(Me)}},le=Q=>{T(Q)},ve=()=>{T(null)};return R.useEffect(()=>{setTimeout(()=>{if(!n)if(!S||y.length===0)s(null),c(0);else{const Me=y.reduce((ze,pe)=>typeof pe=="number"?ze+pe:ze+pe.rating,0)/y.length;s(Math.round(Me*100)/100),c(y.length)}},250)},[S,y,n]),C?P.jsx(zy,{}):I?P.jsx("p",{children:"Something went wrong"}):P.jsxs("div",{className:"RestaurantDetails",children:[S&&P.jsxs("div",{className:"details-container",children:[P.jsxs("div",{className:"image-container",children:[P.jsx("img",{src:S.imageURL?S.imageURL:zo,className:"restaurant-image",onError:Q=>{Q.target.src=zo},alt:"Picture of food"}),P.jsxs("h2",{className:"image-text",children:[S.name," ",S.area&&S.area]}),P.jsx("div",{className:"current-rating",children:i!==null&&!n?P.jsx("div",{className:"inner-current-rating",children:P.jsxs("div",{className:"icon-and-number icon-and-number-no-gap",children:[P.jsx("span",{children:P.jsx(lv,{className:"icon"})}),P.jsxs("span",{className:"rating-number",children:[i.toFixed(1),"/5"]})]})}):P.jsx("div",{children:"These are not the ratings you're looking for"})})]}),P.jsxs("div",{className:"info-container",children:[P.jsxs("div",{className:"top-container",children:[P.jsx("h3",{children:"This restaurant offers"}),P.jsxs("div",{className:"website-button-and-food-options",children:[P.jsx("div",{className:"food-options",children:D.map(Q=>P.jsxs("div",{className:"food-option",children:[K[Q.name.replace("checkbox","")],Q.name.replace("checkbox","")]},Q.name))}),P.jsx("a",{href:S&&S.website,target:"_blank",rel:"noopener noreferrer",children:P.jsx("button",{className:"website-btn",children:"Visit their website"})})]})]}),P.jsx("div",{className:"middle-container",children:P.jsxs("div",{className:"map-and-contact-info",children:[S&&S.address?P.jsx("div",{className:"map-container",children:P.jsx(_v,{initialAddress:`${S.address}, Stockholm`})}):P.jsx("div",{className:"map-container",children:P.jsx(_v,{initialAddress:"Hammarby kaj 10d, Stockholm"})}),P.jsxs("div",{className:"contact-container",children:[P.jsxs("div",{className:"contact-info",children:[P.jsx("h3",{className:"info-card-text",children:S.name}),P.jsxs("p",{className:"icon-and-number",children:[P.jsx(E7,{}),S.openingHours&&S.closingHours?P.jsxs("span",{children:[S.openingHours," - ",S.closingHours]}):P.jsx("span",{className:"info-card-text",children:"Opening hours are not registered"})]}),P.jsxs("p",{className:"icon-and-number",children:[P.jsx(b7,{}),S.address?P.jsx("span",{className:"info-card-text",children:S.address}):P.jsx("span",{children:"No address is registered"})]}),S.outdoorSeating&&P.jsxs("p",{className:"icon-and-number",children:[P.jsx(T7,{}),P.jsx("span",{children:"Outdoor seating"})]}),S.priceRange&&P.jsxs("p",{className:"icon-and-number",children:[P.jsx(S7,{}),P.jsx("span",{className:"info-card-text",children:S.priceRange})]}),P.jsxs("p",{className:"icon-and-number",children:[P.jsx(R7,{}),S.phoneNumber?P.jsx("span",{children:S.phoneNumber}):P.jsx("span",{children:"No phone number is registered"})]}),P.jsxs("p",{className:"icon-and-number",children:[P.jsx(CL,{}),S.email?P.jsx("span",{children:P.jsx("a",{href:`mailto:${S.email}`,children:S.email})}):P.jsx("span",{children:"No email is registered"})]}),P.jsxs("p",{className:"icon-and-number",children:[P.jsx(P7,{}),P.jsx("span",{children:P.jsx("a",{href:S.website,target:"_blank",rel:"noopener noreferrer",children:"To Restaurant Webpage"})})]})]}),_&&_.verifiedEmail&&P.jsx("div",{className:"ratings-container",children:P.jsxs("div",{className:"stars-wrapper",children:[p?P.jsx("p",{children:"Thank you for your rating!"}):O?P.jsxs(P.Fragment,{children:[P.jsxs("p",{children:["You previously gave this restaurant ",O,"/5 stars."]}),P.jsx("p",{children:"Do you wish to update your rating?"})]}):P.jsx("p",{children:"Rate your dining experience!"}),P.jsx("div",{className:"rating-stars",children:[5,4,3,2,1].map(Q=>O?P.jsx(lv,{className:`icon icon-star icon-star-full ${v!==null&&v>=Q||Q<=u?"yellow":""}`,onMouseEnter:()=>le(Q),onMouseLeave:ve,onClick:()=>q(Q)},Q):P.jsx(Xx,{className:`icon icon-star ${v!==null&&v>=Q||Q<=u?"yellow":""}`,onMouseEnter:()=>le(Q),onMouseLeave:ve,onClick:()=>q(Q)},Q))})]})})]})]})})]})]}),P.jsx(Zb,{restaurant:S,restaurants:x})]})},j$=()=>{const{user:t,loading:e,error:n}=ft(m=>m.auth),r=zi(),i=yr(),[s,a]=R.useState(!1),[c,u]=R.useState({email:"",password:""}),d=m=>{const{id:v,value:T}=m.target;u(S=>({...S,[v]:T}))},p=async m=>{m.preventDefault(),await i(Xc(c)),a(!0)};return R.useEffect(()=>{t&&s&&r("/")},[s,t]),P.jsx("div",{className:"Login padding-top-navbar",children:P.jsxs("div",{className:"login-form-container",children:[P.jsxs("p",{className:"register-link",children:["Don't have an account? ",P.jsx(Ri,{to:"/register",children:"Register"})]}),P.jsxs("form",{noValidate:!0,className:"login-form",children:[P.jsx("label",{htmlFor:"email",children:"Email"}),P.jsx("input",{type:"email",className:"form-control",id:"email",value:c.email,onChange:d}),P.jsx("label",{htmlFor:"password",children:"Password"}),P.jsx("input",{type:"password",className:"form-control",id:"password",value:c.password,onChange:d}),e&&P.jsx("p",{children:"Loading..."}),n&&P.jsx("p",{children:n}),P.jsx("div",{children:P.jsx(Ri,{to:"/forgot-password",children:"Forgot password?"})}),P.jsx("button",{className:"btn",onClick:p,children:"Log in to your account"})]})]})})},$$=()=>{const{user:t,loading:e,error:n}=ft(m=>m.auth),r=yr(),i=zi(),[s,a]=R.useState(!1),[c,u]=R.useState({email:"",password:"",confirmPassword:""}),d=m=>{const{id:v,value:T}=m.target;u(S=>({...S,[v]:T}))},p=async m=>{if(m.preventDefault(),c.password!=c.confirmPassword){r(n7("The passwords do not match"));return}await r(Yc(c)),a(!0)};return R.useEffect(()=>{t&&s&&i("/")},[s,t]),P.jsx("div",{className:"Register padding-top-navbar",children:P.jsxs("div",{className:"register-form-container",children:[P.jsxs("p",{children:["Already registered? ",P.jsx(Ri,{to:"/login",children:"Login"})]}),P.jsxs("form",{noValidate:!0,className:"register-form",children:[P.jsx("label",{htmlFor:"email",children:"Email"}),P.jsx("input",{type:"email",className:"form-control",id:"email",value:c.email,onChange:d}),P.jsx("label",{htmlFor:"password",children:"Password"}),P.jsx("input",{type:"password",className:"form-control",id:"password",value:c.password,onChange:d}),P.jsx("label",{htmlFor:"confirmPassword",children:"Confirm password"}),P.jsx("input",{type:"password",className:"form-control",id:"confirmPassword",value:c.confirmPassword,onChange:d}),e&&P.jsx("p",{children:"Loading..."}),n&&P.jsx("p",{children:n}),P.jsx("button",{className:"btn",onClick:p,children:"Register"})]})]})})},Qb=({ratedRestaurant:t})=>{const e=n=>{const r=new Date(n),i={day:"numeric",month:"long",year:"numeric"},s=r.toLocaleDateString("en-US",i);let a=r.getDate(),c="th";return a===1||a===21||a===31?c="st":a===2||a===22?c="nd":(a===3||a===23)&&(c="rd"),s.replace(/\b\d+\b/,`${a}${c}`)};return P.jsxs("div",{className:"RatedRestaurantCard",children:[P.jsx("img",{src:t.imageURL?t.imageURL:zo,alt:"image of food",className:"card-image",onError:n=>{n.target.src=zo}}),P.jsxs("div",{className:"rated-card-info",children:[P.jsx("h2",{children:t.name}),P.jsx("div",{className:"rating-circle",children:P.jsxs("p",{className:"text-rating-circle",children:[t.rating,"/5"]})}),t.rating>=4&&P.jsx("p",{children:"You really enjoyed this restaurant!"}),t.rating==3&&P.jsx("p",{children:"You thought this place was alright, but you weren't blown away."}),t.rating<=2&&P.jsx("p",{children:"This place did not meet your expectations at all unfortunately."}),P.jsxs("p",{children:["On ",e(t.createdAt)," you gave it ",t.rating,t.rating==1?" star.":" stars."]}),P.jsx(Ri,{to:`/restaurants/${t.id}`,children:" Go to restaurant"})]})]})};Qb.propTypes={ratedRestaurant:Qt.object};const U$=()=>{const t=zi(),e=yr(),{user:n}=ft(_=>_.auth),{restaurantsById:r}=ft(_=>_.restaurants),{userRatings:i,loading:s,error:a}=ft(_=>_.ratings),c=i==null?void 0:i.map(_=>_.restaurant),[u,d]=R.useState([]),[p,m]=R.useState("created"),v={control:(_,y)=>({..._,border:(y.isFocused,"1px solid grey"),height:"2rem",boxShadow:"none","&:hover":{borderColor:"grey"}}),option:(_,y)=>({..._,backgroundColor:y.isSelected?"#ffccb3;":y.isFocused?"#ffefe7":"transparent",color:"#000000"})},T=[{value:"rating",label:"Highest rated restaurant"},{value:"created",label:"Latest rated restaurant"}],S=[];i==null||i.forEach(_=>{const y=r.find(E=>E.id===_.restaurant);y&&S.push({rating:_.rating,createdAt:_.createdAt,...y})});const I=_=>{m(_.value)};R.useEffect(()=>{e(al({userId:n.uid}))},[e,n]),R.useEffect(()=>{n||t("/login")},[n,t]),R.useEffect(()=>{C(c,u)||(e(eh({ids:c||[]})),d(c))},[e,c,u]);function C(_,y){if(_===y)return!0;if(_==null||y==null||_.length!==y.length)return!1;for(let E=0;E<_.length;E++)if(_[E]!==y[E])return!1;return!0}return s?P.jsx(zy,{}):a?P.jsx("p",{children:"Something went wrong"}):P.jsxs("div",{className:"Profile padding-top-navbar",children:[P.jsx(bf,{header:"Your Profile"}),P.jsxs("div",{className:"profile-content-container",children:[P.jsxs("div",{className:"welcome-user-text",children:[P.jsx("h2",{children:"Welcome!"}),P.jsxs("p",{children:["You are logged in as ",n.email]}),P.jsx("p",{children:"Below are all the restaurants that you have rated."}),P.jsx(Gb,{id:"sort",value:T.find(_=>_.value===p),options:T,onChange:I,className:"select-input",styles:v})]}),P.jsx("div",{className:"rated-restaurants-container",children:S.slice().sort((_,y)=>p==="rating"?y.rating-_.rating:new Date(y.createdAt)-new Date(_.createdAt)).map(_=>P.jsx("div",{className:"rated-restauarant-container",children:P.jsx(Qb,{ratedRestaurant:_})},_.id))})]})]})},j2=({children:t})=>{const{user:e}=ft(i=>i.auth),[n,r]=R.useState(!1);return R.useEffect(()=>{(async()=>{(!e||!e.verifiedEmail)&&r(!0)})()},[e]),n?P.jsx(MO,{to:"/"}):e?t:null},B$=({setShowModal:t,text:e})=>P.jsxs("div",{className:"ConfirmationModal",children:[P.jsx("p",{children:e}),P.jsx("button",{className:"btn",onClick:()=>t(!1),children:"Close"})]}),H$=()=>{const{user:t,loading:e,error:n}=ft(p=>p.auth);zi();const r=yr(),[i,s]=R.useState(!1),[a,c]=R.useState({email:""}),u=p=>{const{id:m,value:v}=p.target;c(T=>({...T,[m]:v}))},d=async p=>{p.preventDefault(),await r(t7(a.email)),a.email&&s(!0)};return P.jsxs("div",{className:"ForgotPassword padding-top-navbar",children:[i&&P.jsx(B$,{setShowModal:s,text:"Check your inbox for an email!"}),P.jsxs("div",{className:"login-form-container",children:[P.jsx("h1",{children:"Reset Password"}),P.jsxs("form",{noValidate:!0,className:"login-form",children:[P.jsx("label",{htmlFor:"email",children:"Email"}),P.jsx("input",{type:"email",className:"form-control",id:"email",value:a.email,onChange:u}),e&&P.jsx("p",{children:"Loading..."}),n&&P.jsx("p",{children:n}),P.jsx("div",{className:"link-to-login",children:P.jsx(Ri,{to:"/login",children:"Go back to login"})}),P.jsx("button",{className:"btn",onClick:d,children:"Reset Password"})]})]})]})};function W$(){const{authIsReady:t}=ft(n=>n.auth),e=yr();return R.useEffect(()=>{E6(bu,n=>{let r=null;n&&(r={uid:n.uid,email:n.email,verifiedEmail:n.verifiedEmail}),e(r7(r))})},[]),P.jsx(P.Fragment,{children:t&&P.jsxs(P.Fragment,{children:[P.jsx(s7,{}),P.jsxs(DO,{children:[P.jsx(ti,{path:"/",element:P.jsx(D7,{})}),P.jsx(ti,{path:"/add",element:P.jsx(j2,{children:P.jsx(A$,{})})}),P.jsx(ti,{path:"/restaurants/:id",element:P.jsx(z$,{})}),P.jsx(ti,{path:"/register",element:P.jsx($$,{})}),P.jsx(ti,{path:"/login",element:P.jsx(j$,{})}),P.jsx(ti,{path:"/forgot-password",element:P.jsx(H$,{})}),P.jsx(ti,{path:"/profile",element:P.jsx(j2,{children:P.jsx(U$,{})})})]})]})})}const q$=p3({reducer:{restaurants:d7,auth:i7,ratings:y7}});Cm.createRoot(document.getElementById("root")).render(P.jsx(ar.StrictMode,{children:P.jsx(mL,{store:q$,children:P.jsx(HO,{children:P.jsx(W$,{})})})}));
