var bA=Object.defineProperty;var RA=(t,e,n)=>e in t?bA(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Sp=(t,e,n)=>(RA(t,typeof e!="symbol"?e+"":e,n),n);function AA(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var kA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Sv(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Z2={exports:{}},Ed={},Q2={exports:{}},Ee={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jl=Symbol.for("react.element"),OA=Symbol.for("react.portal"),LA=Symbol.for("react.fragment"),MA=Symbol.for("react.strict_mode"),NA=Symbol.for("react.profiler"),DA=Symbol.for("react.provider"),VA=Symbol.for("react.context"),FA=Symbol.for("react.forward_ref"),zA=Symbol.for("react.suspense"),jA=Symbol.for("react.memo"),$A=Symbol.for("react.lazy"),m0=Symbol.iterator;function BA(t){return t===null||typeof t!="object"?null:(t=m0&&t[m0]||t["@@iterator"],typeof t=="function"?t:null)}var Y2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},X2=Object.assign,J2={};function zo(t,e,n){this.props=t,this.context=e,this.refs=J2,this.updater=n||Y2}zo.prototype.isReactComponent={};zo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};zo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function eT(){}eT.prototype=zo.prototype;function Iv(t,e,n){this.props=t,this.context=e,this.refs=J2,this.updater=n||Y2}var Pv=Iv.prototype=new eT;Pv.constructor=Iv;X2(Pv,zo.prototype);Pv.isPureReactComponent=!0;var g0=Array.isArray,tT=Object.prototype.hasOwnProperty,Cv={current:null},nT={key:!0,ref:!0,__self:!0,__source:!0};function rT(t,e,n){var r,i={},s=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)tT.call(e,r)&&!nT.hasOwnProperty(r)&&(i[r]=e[r]);var c=arguments.length-2;if(c===1)i.children=n;else if(1<c){for(var u=Array(c),d=0;d<c;d++)u[d]=arguments[d+2];i.children=u}if(t&&t.defaultProps)for(r in c=t.defaultProps,c)i[r]===void 0&&(i[r]=c[r]);return{$$typeof:Jl,type:t,key:s,ref:a,props:i,_owner:Cv.current}}function UA(t,e){return{$$typeof:Jl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function xv(t){return typeof t=="object"&&t!==null&&t.$$typeof===Jl}function HA(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var v0=/\/+/g;function Ip(t,e){return typeof t=="object"&&t!==null&&t.key!=null?HA(""+t.key):e.toString(36)}function Lc(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Jl:case OA:a=!0}}if(a)return a=t,i=i(a),t=r===""?"."+Ip(a,0):r,g0(i)?(n="",t!=null&&(n=t.replace(v0,"$&/")+"/"),Lc(i,e,n,"",function(d){return d})):i!=null&&(xv(i)&&(i=UA(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(v0,"$&/")+"/")+t)),e.push(i)),1;if(a=0,r=r===""?".":r+":",g0(t))for(var c=0;c<t.length;c++){s=t[c];var u=r+Ip(s,c);a+=Lc(s,e,n,u,i)}else if(u=BA(t),typeof u=="function")for(t=u.call(t),c=0;!(s=t.next()).done;)s=s.value,u=r+Ip(s,c++),a+=Lc(s,e,n,u,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Ju(t,e,n){if(t==null)return t;var r=[],i=0;return Lc(t,r,"","",function(s){return e.call(n,s,i++)}),r}function WA(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Xt={current:null},Mc={transition:null},qA={ReactCurrentDispatcher:Xt,ReactCurrentBatchConfig:Mc,ReactCurrentOwner:Cv};Ee.Children={map:Ju,forEach:function(t,e,n){Ju(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Ju(t,function(){e++}),e},toArray:function(t){return Ju(t,function(e){return e})||[]},only:function(t){if(!xv(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ee.Component=zo;Ee.Fragment=LA;Ee.Profiler=NA;Ee.PureComponent=Iv;Ee.StrictMode=MA;Ee.Suspense=zA;Ee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qA;Ee.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=X2({},t.props),i=t.key,s=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=Cv.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var c=t.type.defaultProps;for(u in e)tT.call(e,u)&&!nT.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&c!==void 0?c[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){c=Array(u);for(var d=0;d<u;d++)c[d]=arguments[d+2];r.children=c}return{$$typeof:Jl,type:t.type,key:i,ref:s,props:r,_owner:a}};Ee.createContext=function(t){return t={$$typeof:VA,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:DA,_context:t},t.Consumer=t};Ee.createElement=rT;Ee.createFactory=function(t){var e=rT.bind(null,t);return e.type=t,e};Ee.createRef=function(){return{current:null}};Ee.forwardRef=function(t){return{$$typeof:FA,render:t}};Ee.isValidElement=xv;Ee.lazy=function(t){return{$$typeof:$A,_payload:{_status:-1,_result:t},_init:WA}};Ee.memo=function(t,e){return{$$typeof:jA,type:t,compare:e===void 0?null:e}};Ee.startTransition=function(t){var e=Mc.transition;Mc.transition={};try{t()}finally{Mc.transition=e}};Ee.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Ee.useCallback=function(t,e){return Xt.current.useCallback(t,e)};Ee.useContext=function(t){return Xt.current.useContext(t)};Ee.useDebugValue=function(){};Ee.useDeferredValue=function(t){return Xt.current.useDeferredValue(t)};Ee.useEffect=function(t,e){return Xt.current.useEffect(t,e)};Ee.useId=function(){return Xt.current.useId()};Ee.useImperativeHandle=function(t,e,n){return Xt.current.useImperativeHandle(t,e,n)};Ee.useInsertionEffect=function(t,e){return Xt.current.useInsertionEffect(t,e)};Ee.useLayoutEffect=function(t,e){return Xt.current.useLayoutEffect(t,e)};Ee.useMemo=function(t,e){return Xt.current.useMemo(t,e)};Ee.useReducer=function(t,e,n){return Xt.current.useReducer(t,e,n)};Ee.useRef=function(t){return Xt.current.useRef(t)};Ee.useState=function(t){return Xt.current.useState(t)};Ee.useSyncExternalStore=function(t,e,n){return Xt.current.useSyncExternalStore(t,e,n)};Ee.useTransition=function(){return Xt.current.useTransition()};Ee.version="18.2.0";Q2.exports=Ee;var R=Q2.exports;const lr=Sv(R),ul=AA({__proto__:null,default:lr},[R]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GA=R,KA=Symbol.for("react.element"),ZA=Symbol.for("react.fragment"),QA=Object.prototype.hasOwnProperty,YA=GA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,XA={key:!0,ref:!0,__self:!0,__source:!0};function iT(t,e,n){var r,i={},s=null,a=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)QA.call(e,r)&&!XA.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:KA,type:t,key:s,ref:a,props:i,_owner:YA.current}}Ed.Fragment=ZA;Ed.jsx=iT;Ed.jsxs=iT;Z2.exports=Ed;var I=Z2.exports,Rm={},sT={exports:{}},En={},oT={exports:{}},aT={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(V,ee){var B=V.length;V.push(ee);e:for(;0<B;){var ie=B-1>>>1,te=V[ie];if(0<i(te,ee))V[ie]=ee,V[B]=te,B=ie;else break e}}function n(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var ee=V[0],B=V.pop();if(B!==ee){V[0]=B;e:for(var ie=0,te=V.length,Pe=te>>>1;ie<Pe;){var _e=2*(ie+1)-1,me=V[_e],X=_e+1,We=V[X];if(0>i(me,B))X<te&&0>i(We,me)?(V[ie]=We,V[X]=B,ie=X):(V[ie]=me,V[_e]=B,ie=_e);else if(X<te&&0>i(We,B))V[ie]=We,V[X]=B,ie=X;else break e}}return ee}function i(V,ee){var B=V.sortIndex-ee.sortIndex;return B!==0?B:V.id-ee.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,c=a.now();t.unstable_now=function(){return a.now()-c}}var u=[],d=[],p=1,m=null,v=3,y=!1,C=!1,T=!1,S=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function P(V){for(var ee=n(d);ee!==null;){if(ee.callback===null)r(d);else if(ee.startTime<=V)r(d),ee.sortIndex=ee.expirationTime,e(u,ee);else break;ee=n(d)}}function x(V){if(T=!1,P(V),!C)if(n(u)!==null)C=!0,fe(A);else{var ee=n(d);ee!==null&&He(x,ee.startTime-V)}}function A(V,ee){C=!1,T&&(T=!1,w(D),D=-1),y=!0;var B=v;try{for(P(ee),m=n(u);m!==null&&(!(m.expirationTime>ee)||V&&!le());){var ie=m.callback;if(typeof ie=="function"){m.callback=null,v=m.priorityLevel;var te=ie(m.expirationTime<=ee);ee=t.unstable_now(),typeof te=="function"?m.callback=te:m===n(u)&&r(u),P(ee)}else r(u);m=n(u)}if(m!==null)var Pe=!0;else{var _e=n(d);_e!==null&&He(x,_e.startTime-ee),Pe=!1}return Pe}finally{m=null,v=B,y=!1}}var O=!1,M=null,D=-1,Z=5,G=-1;function le(){return!(t.unstable_now()-G<Z)}function ve(){if(M!==null){var V=t.unstable_now();G=V;var ee=!0;try{ee=M(!0,V)}finally{ee?rt():(O=!1,M=null)}}else O=!1}var rt;if(typeof E=="function")rt=function(){E(ve)};else if(typeof MessageChannel<"u"){var Fe=new MessageChannel,K=Fe.port2;Fe.port1.onmessage=ve,rt=function(){K.postMessage(null)}}else rt=function(){S(ve,0)};function fe(V){M=V,O||(O=!0,rt())}function He(V,ee){D=S(function(){V(t.unstable_now())},ee)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_continueExecution=function(){C||y||(C=!0,fe(A))},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Z=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(V){switch(v){case 1:case 2:case 3:var ee=3;break;default:ee=v}var B=v;v=ee;try{return V()}finally{v=B}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(V,ee){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var B=v;v=V;try{return ee()}finally{v=B}},t.unstable_scheduleCallback=function(V,ee,B){var ie=t.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?ie+B:ie):B=ie,V){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=B+te,V={id:p++,callback:ee,priorityLevel:V,startTime:B,expirationTime:te,sortIndex:-1},B>ie?(V.sortIndex=B,e(d,V),n(u)===null&&V===n(d)&&(T?(w(D),D=-1):T=!0,He(x,B-ie))):(V.sortIndex=te,e(u,V),C||y||(C=!0,fe(A))),V},t.unstable_shouldYield=le,t.unstable_wrapCallback=function(V){var ee=v;return function(){var B=v;v=ee;try{return V.apply(this,arguments)}finally{v=B}}}})(aT);oT.exports=aT;var JA=oT.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lT=R,vn=JA;function $(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var uT=new Set,cl={};function Ps(t,e){yo(t,e),yo(t+"Capture",e)}function yo(t,e){for(cl[t]=e,t=0;t<e.length;t++)uT.add(e[t])}var Nr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Am=Object.prototype.hasOwnProperty,e4=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_0={},y0={};function t4(t){return Am.call(y0,t)?!0:Am.call(_0,t)?!1:e4.test(t)?y0[t]=!0:(_0[t]=!0,!1)}function n4(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function r4(t,e,n,r){if(e===null||typeof e>"u"||n4(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Jt(t,e,n,r,i,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var Nt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Nt[t]=new Jt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Nt[e]=new Jt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Nt[t]=new Jt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Nt[t]=new Jt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Nt[t]=new Jt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Nt[t]=new Jt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Nt[t]=new Jt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Nt[t]=new Jt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Nt[t]=new Jt(t,5,!1,t.toLowerCase(),null,!1,!1)});var bv=/[\-:]([a-z])/g;function Rv(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(bv,Rv);Nt[e]=new Jt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(bv,Rv);Nt[e]=new Jt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(bv,Rv);Nt[e]=new Jt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Nt[t]=new Jt(t,1,!1,t.toLowerCase(),null,!1,!1)});Nt.xlinkHref=new Jt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Nt[t]=new Jt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Av(t,e,n,r){var i=Nt.hasOwnProperty(e)?Nt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(r4(e,n,i,r)&&(n=null),r||i===null?t4(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Hr=lT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ec=Symbol.for("react.element"),qs=Symbol.for("react.portal"),Gs=Symbol.for("react.fragment"),kv=Symbol.for("react.strict_mode"),km=Symbol.for("react.profiler"),cT=Symbol.for("react.provider"),hT=Symbol.for("react.context"),Ov=Symbol.for("react.forward_ref"),Om=Symbol.for("react.suspense"),Lm=Symbol.for("react.suspense_list"),Lv=Symbol.for("react.memo"),ni=Symbol.for("react.lazy"),dT=Symbol.for("react.offscreen"),w0=Symbol.iterator;function ga(t){return t===null||typeof t!="object"?null:(t=w0&&t[w0]||t["@@iterator"],typeof t=="function"?t:null)}var Qe=Object.assign,Pp;function Ra(t){if(Pp===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Pp=e&&e[1]||""}return`
`+Pp+t}var Cp=!1;function xp(t,e){if(!t||Cp)return"";Cp=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var r=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){r=d}t.call(e.prototype)}else{try{throw Error()}catch(d){r=d}t()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var i=d.stack.split(`
`),s=r.stack.split(`
`),a=i.length-1,c=s.length-1;1<=a&&0<=c&&i[a]!==s[c];)c--;for(;1<=a&&0<=c;a--,c--)if(i[a]!==s[c]){if(a!==1||c!==1)do if(a--,c--,0>c||i[a]!==s[c]){var u=`
`+i[a].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=a&&0<=c);break}}}finally{Cp=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ra(t):""}function i4(t){switch(t.tag){case 5:return Ra(t.type);case 16:return Ra("Lazy");case 13:return Ra("Suspense");case 19:return Ra("SuspenseList");case 0:case 2:case 15:return t=xp(t.type,!1),t;case 11:return t=xp(t.type.render,!1),t;case 1:return t=xp(t.type,!0),t;default:return""}}function Mm(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Gs:return"Fragment";case qs:return"Portal";case km:return"Profiler";case kv:return"StrictMode";case Om:return"Suspense";case Lm:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case hT:return(t.displayName||"Context")+".Consumer";case cT:return(t._context.displayName||"Context")+".Provider";case Ov:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Lv:return e=t.displayName||null,e!==null?e:Mm(t.type)||"Memo";case ni:e=t._payload,t=t._init;try{return Mm(t(e))}catch{}}return null}function s4(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Mm(e);case 8:return e===kv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function xi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function fT(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function o4(t){var e=fT(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function tc(t){t._valueTracker||(t._valueTracker=o4(t))}function pT(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=fT(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function ch(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Nm(t,e){var n=e.checked;return Qe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function E0(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=xi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function mT(t,e){e=e.checked,e!=null&&Av(t,"checked",e,!1)}function Dm(t,e){mT(t,e);var n=xi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Vm(t,e.type,n):e.hasOwnProperty("defaultValue")&&Vm(t,e.type,xi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function T0(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Vm(t,e,n){(e!=="number"||ch(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Aa=Array.isArray;function oo(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+xi(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Fm(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error($(91));return Qe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function S0(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error($(92));if(Aa(n)){if(1<n.length)throw Error($(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:xi(n)}}function gT(t,e){var n=xi(e.value),r=xi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function I0(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function vT(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function zm(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?vT(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var nc,_T=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(nc=nc||document.createElement("div"),nc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=nc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function hl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ua={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},a4=["Webkit","ms","Moz","O"];Object.keys(Ua).forEach(function(t){a4.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ua[e]=Ua[t]})});function yT(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ua.hasOwnProperty(t)&&Ua[t]?(""+e).trim():e+"px"}function wT(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=yT(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var l4=Qe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function jm(t,e){if(e){if(l4[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error($(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error($(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error($(61))}if(e.style!=null&&typeof e.style!="object")throw Error($(62))}}function $m(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bm=null;function Mv(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Um=null,ao=null,lo=null;function P0(t){if(t=nu(t)){if(typeof Um!="function")throw Error($(280));var e=t.stateNode;e&&(e=Cd(e),Um(t.stateNode,t.type,e))}}function ET(t){ao?lo?lo.push(t):lo=[t]:ao=t}function TT(){if(ao){var t=ao,e=lo;if(lo=ao=null,P0(t),e)for(t=0;t<e.length;t++)P0(e[t])}}function ST(t,e){return t(e)}function IT(){}var bp=!1;function PT(t,e,n){if(bp)return t(e,n);bp=!0;try{return ST(t,e,n)}finally{bp=!1,(ao!==null||lo!==null)&&(IT(),TT())}}function dl(t,e){var n=t.stateNode;if(n===null)return null;var r=Cd(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error($(231,e,typeof n));return n}var Hm=!1;if(Nr)try{var va={};Object.defineProperty(va,"passive",{get:function(){Hm=!0}}),window.addEventListener("test",va,va),window.removeEventListener("test",va,va)}catch{Hm=!1}function u4(t,e,n,r,i,s,a,c,u){var d=Array.prototype.slice.call(arguments,3);try{e.apply(n,d)}catch(p){this.onError(p)}}var Ha=!1,hh=null,dh=!1,Wm=null,c4={onError:function(t){Ha=!0,hh=t}};function h4(t,e,n,r,i,s,a,c,u){Ha=!1,hh=null,u4.apply(c4,arguments)}function d4(t,e,n,r,i,s,a,c,u){if(h4.apply(this,arguments),Ha){if(Ha){var d=hh;Ha=!1,hh=null}else throw Error($(198));dh||(dh=!0,Wm=d)}}function Cs(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function CT(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function C0(t){if(Cs(t)!==t)throw Error($(188))}function f4(t){var e=t.alternate;if(!e){if(e=Cs(t),e===null)throw Error($(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return C0(i),t;if(s===r)return C0(i),e;s=s.sibling}throw Error($(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,c=i.child;c;){if(c===n){a=!0,n=i,r=s;break}if(c===r){a=!0,r=i,n=s;break}c=c.sibling}if(!a){for(c=s.child;c;){if(c===n){a=!0,n=s,r=i;break}if(c===r){a=!0,r=s,n=i;break}c=c.sibling}if(!a)throw Error($(189))}}if(n.alternate!==r)throw Error($(190))}if(n.tag!==3)throw Error($(188));return n.stateNode.current===n?t:e}function xT(t){return t=f4(t),t!==null?bT(t):null}function bT(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=bT(t);if(e!==null)return e;t=t.sibling}return null}var RT=vn.unstable_scheduleCallback,x0=vn.unstable_cancelCallback,p4=vn.unstable_shouldYield,m4=vn.unstable_requestPaint,nt=vn.unstable_now,g4=vn.unstable_getCurrentPriorityLevel,Nv=vn.unstable_ImmediatePriority,AT=vn.unstable_UserBlockingPriority,fh=vn.unstable_NormalPriority,v4=vn.unstable_LowPriority,kT=vn.unstable_IdlePriority,Td=null,ur=null;function _4(t){if(ur&&typeof ur.onCommitFiberRoot=="function")try{ur.onCommitFiberRoot(Td,t,void 0,(t.current.flags&128)===128)}catch{}}var Bn=Math.clz32?Math.clz32:E4,y4=Math.log,w4=Math.LN2;function E4(t){return t>>>=0,t===0?32:31-(y4(t)/w4|0)|0}var rc=64,ic=4194304;function ka(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ph(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,a=n&268435455;if(a!==0){var c=a&~i;c!==0?r=ka(c):(s&=a,s!==0&&(r=ka(s)))}else a=n&~i,a!==0?r=ka(a):s!==0&&(r=ka(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Bn(e),i=1<<n,r|=t[n],e&=~i;return r}function T4(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function S4(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var a=31-Bn(s),c=1<<a,u=i[a];u===-1?(!(c&n)||c&r)&&(i[a]=T4(c,e)):u<=e&&(t.expiredLanes|=c),s&=~c}}function qm(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function OT(){var t=rc;return rc<<=1,!(rc&4194240)&&(rc=64),t}function Rp(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function eu(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Bn(e),t[e]=n}function I4(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Bn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Dv(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Bn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var ke=0;function LT(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var MT,Vv,NT,DT,VT,Gm=!1,sc=[],pi=null,mi=null,gi=null,fl=new Map,pl=new Map,ii=[],P4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function b0(t,e){switch(t){case"focusin":case"focusout":pi=null;break;case"dragenter":case"dragleave":mi=null;break;case"mouseover":case"mouseout":gi=null;break;case"pointerover":case"pointerout":fl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":pl.delete(e.pointerId)}}function _a(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=nu(e),e!==null&&Vv(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function C4(t,e,n,r,i){switch(e){case"focusin":return pi=_a(pi,t,e,n,r,i),!0;case"dragenter":return mi=_a(mi,t,e,n,r,i),!0;case"mouseover":return gi=_a(gi,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return fl.set(s,_a(fl.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,pl.set(s,_a(pl.get(s)||null,t,e,n,r,i)),!0}return!1}function FT(t){var e=Ji(t.target);if(e!==null){var n=Cs(e);if(n!==null){if(e=n.tag,e===13){if(e=CT(n),e!==null){t.blockedOn=e,VT(t.priority,function(){NT(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Nc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Km(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Bm=r,n.target.dispatchEvent(r),Bm=null}else return e=nu(n),e!==null&&Vv(e),t.blockedOn=n,!1;e.shift()}return!0}function R0(t,e,n){Nc(t)&&n.delete(e)}function x4(){Gm=!1,pi!==null&&Nc(pi)&&(pi=null),mi!==null&&Nc(mi)&&(mi=null),gi!==null&&Nc(gi)&&(gi=null),fl.forEach(R0),pl.forEach(R0)}function ya(t,e){t.blockedOn===e&&(t.blockedOn=null,Gm||(Gm=!0,vn.unstable_scheduleCallback(vn.unstable_NormalPriority,x4)))}function ml(t){function e(i){return ya(i,t)}if(0<sc.length){ya(sc[0],t);for(var n=1;n<sc.length;n++){var r=sc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(pi!==null&&ya(pi,t),mi!==null&&ya(mi,t),gi!==null&&ya(gi,t),fl.forEach(e),pl.forEach(e),n=0;n<ii.length;n++)r=ii[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ii.length&&(n=ii[0],n.blockedOn===null);)FT(n),n.blockedOn===null&&ii.shift()}var uo=Hr.ReactCurrentBatchConfig,mh=!0;function b4(t,e,n,r){var i=ke,s=uo.transition;uo.transition=null;try{ke=1,Fv(t,e,n,r)}finally{ke=i,uo.transition=s}}function R4(t,e,n,r){var i=ke,s=uo.transition;uo.transition=null;try{ke=4,Fv(t,e,n,r)}finally{ke=i,uo.transition=s}}function Fv(t,e,n,r){if(mh){var i=Km(t,e,n,r);if(i===null)zp(t,e,r,gh,n),b0(t,r);else if(C4(i,t,e,n,r))r.stopPropagation();else if(b0(t,r),e&4&&-1<P4.indexOf(t)){for(;i!==null;){var s=nu(i);if(s!==null&&MT(s),s=Km(t,e,n,r),s===null&&zp(t,e,r,gh,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else zp(t,e,r,null,n)}}var gh=null;function Km(t,e,n,r){if(gh=null,t=Mv(r),t=Ji(t),t!==null)if(e=Cs(t),e===null)t=null;else if(n=e.tag,n===13){if(t=CT(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return gh=t,null}function zT(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(g4()){case Nv:return 1;case AT:return 4;case fh:case v4:return 16;case kT:return 536870912;default:return 16}default:return 16}}var ci=null,zv=null,Dc=null;function jT(){if(Dc)return Dc;var t,e=zv,n=e.length,r,i="value"in ci?ci.value:ci.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[s-r];r++);return Dc=i.slice(t,1<r?1-r:void 0)}function Vc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function oc(){return!0}function A0(){return!1}function Tn(t){function e(n,r,i,s,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var c in t)t.hasOwnProperty(c)&&(n=t[c],this[c]=n?n(s):s[c]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?oc:A0,this.isPropagationStopped=A0,this}return Qe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=oc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=oc)},persist:function(){},isPersistent:oc}),e}var jo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},jv=Tn(jo),tu=Qe({},jo,{view:0,detail:0}),A4=Tn(tu),Ap,kp,wa,Sd=Qe({},tu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$v,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==wa&&(wa&&t.type==="mousemove"?(Ap=t.screenX-wa.screenX,kp=t.screenY-wa.screenY):kp=Ap=0,wa=t),Ap)},movementY:function(t){return"movementY"in t?t.movementY:kp}}),k0=Tn(Sd),k4=Qe({},Sd,{dataTransfer:0}),O4=Tn(k4),L4=Qe({},tu,{relatedTarget:0}),Op=Tn(L4),M4=Qe({},jo,{animationName:0,elapsedTime:0,pseudoElement:0}),N4=Tn(M4),D4=Qe({},jo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),V4=Tn(D4),F4=Qe({},jo,{data:0}),O0=Tn(F4),z4={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},j4={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$4={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function B4(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=$4[t])?!!e[t]:!1}function $v(){return B4}var U4=Qe({},tu,{key:function(t){if(t.key){var e=z4[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Vc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?j4[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$v,charCode:function(t){return t.type==="keypress"?Vc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Vc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),H4=Tn(U4),W4=Qe({},Sd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),L0=Tn(W4),q4=Qe({},tu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$v}),G4=Tn(q4),K4=Qe({},jo,{propertyName:0,elapsedTime:0,pseudoElement:0}),Z4=Tn(K4),Q4=Qe({},Sd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Y4=Tn(Q4),X4=[9,13,27,32],Bv=Nr&&"CompositionEvent"in window,Wa=null;Nr&&"documentMode"in document&&(Wa=document.documentMode);var J4=Nr&&"TextEvent"in window&&!Wa,$T=Nr&&(!Bv||Wa&&8<Wa&&11>=Wa),M0=" ",N0=!1;function BT(t,e){switch(t){case"keyup":return X4.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function UT(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ks=!1;function ek(t,e){switch(t){case"compositionend":return UT(e);case"keypress":return e.which!==32?null:(N0=!0,M0);case"textInput":return t=e.data,t===M0&&N0?null:t;default:return null}}function tk(t,e){if(Ks)return t==="compositionend"||!Bv&&BT(t,e)?(t=jT(),Dc=zv=ci=null,Ks=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return $T&&e.locale!=="ko"?null:e.data;default:return null}}var nk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function D0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!nk[t.type]:e==="textarea"}function HT(t,e,n,r){ET(r),e=vh(e,"onChange"),0<e.length&&(n=new jv("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var qa=null,gl=null;function rk(t){tS(t,0)}function Id(t){var e=Ys(t);if(pT(e))return t}function ik(t,e){if(t==="change")return e}var WT=!1;if(Nr){var Lp;if(Nr){var Mp="oninput"in document;if(!Mp){var V0=document.createElement("div");V0.setAttribute("oninput","return;"),Mp=typeof V0.oninput=="function"}Lp=Mp}else Lp=!1;WT=Lp&&(!document.documentMode||9<document.documentMode)}function F0(){qa&&(qa.detachEvent("onpropertychange",qT),gl=qa=null)}function qT(t){if(t.propertyName==="value"&&Id(gl)){var e=[];HT(e,gl,t,Mv(t)),PT(rk,e)}}function sk(t,e,n){t==="focusin"?(F0(),qa=e,gl=n,qa.attachEvent("onpropertychange",qT)):t==="focusout"&&F0()}function ok(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Id(gl)}function ak(t,e){if(t==="click")return Id(e)}function lk(t,e){if(t==="input"||t==="change")return Id(e)}function uk(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Wn=typeof Object.is=="function"?Object.is:uk;function vl(t,e){if(Wn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Am.call(e,i)||!Wn(t[i],e[i]))return!1}return!0}function z0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function j0(t,e){var n=z0(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=z0(n)}}function GT(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?GT(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function KT(){for(var t=window,e=ch();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=ch(t.document)}return e}function Uv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function ck(t){var e=KT(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&GT(n.ownerDocument.documentElement,n)){if(r!==null&&Uv(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=j0(n,s);var a=j0(n,r);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var hk=Nr&&"documentMode"in document&&11>=document.documentMode,Zs=null,Zm=null,Ga=null,Qm=!1;function $0(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Qm||Zs==null||Zs!==ch(r)||(r=Zs,"selectionStart"in r&&Uv(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ga&&vl(Ga,r)||(Ga=r,r=vh(Zm,"onSelect"),0<r.length&&(e=new jv("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Zs)))}function ac(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Qs={animationend:ac("Animation","AnimationEnd"),animationiteration:ac("Animation","AnimationIteration"),animationstart:ac("Animation","AnimationStart"),transitionend:ac("Transition","TransitionEnd")},Np={},ZT={};Nr&&(ZT=document.createElement("div").style,"AnimationEvent"in window||(delete Qs.animationend.animation,delete Qs.animationiteration.animation,delete Qs.animationstart.animation),"TransitionEvent"in window||delete Qs.transitionend.transition);function Pd(t){if(Np[t])return Np[t];if(!Qs[t])return t;var e=Qs[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in ZT)return Np[t]=e[n];return t}var QT=Pd("animationend"),YT=Pd("animationiteration"),XT=Pd("animationstart"),JT=Pd("transitionend"),eS=new Map,B0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ni(t,e){eS.set(t,e),Ps(e,[t])}for(var Dp=0;Dp<B0.length;Dp++){var Vp=B0[Dp],dk=Vp.toLowerCase(),fk=Vp[0].toUpperCase()+Vp.slice(1);Ni(dk,"on"+fk)}Ni(QT,"onAnimationEnd");Ni(YT,"onAnimationIteration");Ni(XT,"onAnimationStart");Ni("dblclick","onDoubleClick");Ni("focusin","onFocus");Ni("focusout","onBlur");Ni(JT,"onTransitionEnd");yo("onMouseEnter",["mouseout","mouseover"]);yo("onMouseLeave",["mouseout","mouseover"]);yo("onPointerEnter",["pointerout","pointerover"]);yo("onPointerLeave",["pointerout","pointerover"]);Ps("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ps("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ps("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ps("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ps("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ps("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Oa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pk=new Set("cancel close invalid load scroll toggle".split(" ").concat(Oa));function U0(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,d4(r,e,void 0,t),t.currentTarget=null}function tS(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var a=r.length-1;0<=a;a--){var c=r[a],u=c.instance,d=c.currentTarget;if(c=c.listener,u!==s&&i.isPropagationStopped())break e;U0(i,c,d),s=u}else for(a=0;a<r.length;a++){if(c=r[a],u=c.instance,d=c.currentTarget,c=c.listener,u!==s&&i.isPropagationStopped())break e;U0(i,c,d),s=u}}}if(dh)throw t=Wm,dh=!1,Wm=null,t}function ze(t,e){var n=e[tg];n===void 0&&(n=e[tg]=new Set);var r=t+"__bubble";n.has(r)||(nS(e,t,2,!1),n.add(r))}function Fp(t,e,n){var r=0;e&&(r|=4),nS(n,t,r,e)}var lc="_reactListening"+Math.random().toString(36).slice(2);function _l(t){if(!t[lc]){t[lc]=!0,uT.forEach(function(n){n!=="selectionchange"&&(pk.has(n)||Fp(n,!1,t),Fp(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[lc]||(e[lc]=!0,Fp("selectionchange",!1,e))}}function nS(t,e,n,r){switch(zT(e)){case 1:var i=b4;break;case 4:i=R4;break;default:i=Fv}n=i.bind(null,e,n,t),i=void 0,!Hm||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function zp(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var c=r.stateNode.containerInfo;if(c===i||c.nodeType===8&&c.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var u=a.tag;if((u===3||u===4)&&(u=a.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;a=a.return}for(;c!==null;){if(a=Ji(c),a===null)return;if(u=a.tag,u===5||u===6){r=s=a;continue e}c=c.parentNode}}r=r.return}PT(function(){var d=s,p=Mv(n),m=[];e:{var v=eS.get(t);if(v!==void 0){var y=jv,C=t;switch(t){case"keypress":if(Vc(n)===0)break e;case"keydown":case"keyup":y=H4;break;case"focusin":C="focus",y=Op;break;case"focusout":C="blur",y=Op;break;case"beforeblur":case"afterblur":y=Op;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=k0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=O4;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=G4;break;case QT:case YT:case XT:y=N4;break;case JT:y=Z4;break;case"scroll":y=A4;break;case"wheel":y=Y4;break;case"copy":case"cut":case"paste":y=V4;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=L0}var T=(e&4)!==0,S=!T&&t==="scroll",w=T?v!==null?v+"Capture":null:v;T=[];for(var E=d,P;E!==null;){P=E;var x=P.stateNode;if(P.tag===5&&x!==null&&(P=x,w!==null&&(x=dl(E,w),x!=null&&T.push(yl(E,x,P)))),S)break;E=E.return}0<T.length&&(v=new y(v,C,null,n,p),m.push({event:v,listeners:T}))}}if(!(e&7)){e:{if(v=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",v&&n!==Bm&&(C=n.relatedTarget||n.fromElement)&&(Ji(C)||C[Dr]))break e;if((y||v)&&(v=p.window===p?p:(v=p.ownerDocument)?v.defaultView||v.parentWindow:window,y?(C=n.relatedTarget||n.toElement,y=d,C=C?Ji(C):null,C!==null&&(S=Cs(C),C!==S||C.tag!==5&&C.tag!==6)&&(C=null)):(y=null,C=d),y!==C)){if(T=k0,x="onMouseLeave",w="onMouseEnter",E="mouse",(t==="pointerout"||t==="pointerover")&&(T=L0,x="onPointerLeave",w="onPointerEnter",E="pointer"),S=y==null?v:Ys(y),P=C==null?v:Ys(C),v=new T(x,E+"leave",y,n,p),v.target=S,v.relatedTarget=P,x=null,Ji(p)===d&&(T=new T(w,E+"enter",C,n,p),T.target=P,T.relatedTarget=S,x=T),S=x,y&&C)t:{for(T=y,w=C,E=0,P=T;P;P=js(P))E++;for(P=0,x=w;x;x=js(x))P++;for(;0<E-P;)T=js(T),E--;for(;0<P-E;)w=js(w),P--;for(;E--;){if(T===w||w!==null&&T===w.alternate)break t;T=js(T),w=js(w)}T=null}else T=null;y!==null&&H0(m,v,y,T,!1),C!==null&&S!==null&&H0(m,S,C,T,!0)}}e:{if(v=d?Ys(d):window,y=v.nodeName&&v.nodeName.toLowerCase(),y==="select"||y==="input"&&v.type==="file")var A=ik;else if(D0(v))if(WT)A=lk;else{A=ok;var O=sk}else(y=v.nodeName)&&y.toLowerCase()==="input"&&(v.type==="checkbox"||v.type==="radio")&&(A=ak);if(A&&(A=A(t,d))){HT(m,A,n,p);break e}O&&O(t,v,d),t==="focusout"&&(O=v._wrapperState)&&O.controlled&&v.type==="number"&&Vm(v,"number",v.value)}switch(O=d?Ys(d):window,t){case"focusin":(D0(O)||O.contentEditable==="true")&&(Zs=O,Zm=d,Ga=null);break;case"focusout":Ga=Zm=Zs=null;break;case"mousedown":Qm=!0;break;case"contextmenu":case"mouseup":case"dragend":Qm=!1,$0(m,n,p);break;case"selectionchange":if(hk)break;case"keydown":case"keyup":$0(m,n,p)}var M;if(Bv)e:{switch(t){case"compositionstart":var D="onCompositionStart";break e;case"compositionend":D="onCompositionEnd";break e;case"compositionupdate":D="onCompositionUpdate";break e}D=void 0}else Ks?BT(t,n)&&(D="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(D="onCompositionStart");D&&($T&&n.locale!=="ko"&&(Ks||D!=="onCompositionStart"?D==="onCompositionEnd"&&Ks&&(M=jT()):(ci=p,zv="value"in ci?ci.value:ci.textContent,Ks=!0)),O=vh(d,D),0<O.length&&(D=new O0(D,t,null,n,p),m.push({event:D,listeners:O}),M?D.data=M:(M=UT(n),M!==null&&(D.data=M)))),(M=J4?ek(t,n):tk(t,n))&&(d=vh(d,"onBeforeInput"),0<d.length&&(p=new O0("onBeforeInput","beforeinput",null,n,p),m.push({event:p,listeners:d}),p.data=M))}tS(m,e)})}function yl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function vh(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=dl(t,n),s!=null&&r.unshift(yl(t,s,i)),s=dl(t,e),s!=null&&r.push(yl(t,s,i))),t=t.return}return r}function js(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function H0(t,e,n,r,i){for(var s=e._reactName,a=[];n!==null&&n!==r;){var c=n,u=c.alternate,d=c.stateNode;if(u!==null&&u===r)break;c.tag===5&&d!==null&&(c=d,i?(u=dl(n,s),u!=null&&a.unshift(yl(n,u,c))):i||(u=dl(n,s),u!=null&&a.push(yl(n,u,c)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var mk=/\r\n?/g,gk=/\u0000|\uFFFD/g;function W0(t){return(typeof t=="string"?t:""+t).replace(mk,`
`).replace(gk,"")}function uc(t,e,n){if(e=W0(e),W0(t)!==e&&n)throw Error($(425))}function _h(){}var Ym=null,Xm=null;function Jm(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var eg=typeof setTimeout=="function"?setTimeout:void 0,vk=typeof clearTimeout=="function"?clearTimeout:void 0,q0=typeof Promise=="function"?Promise:void 0,_k=typeof queueMicrotask=="function"?queueMicrotask:typeof q0<"u"?function(t){return q0.resolve(null).then(t).catch(yk)}:eg;function yk(t){setTimeout(function(){throw t})}function jp(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),ml(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);ml(e)}function vi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function G0(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var $o=Math.random().toString(36).slice(2),ir="__reactFiber$"+$o,wl="__reactProps$"+$o,Dr="__reactContainer$"+$o,tg="__reactEvents$"+$o,wk="__reactListeners$"+$o,Ek="__reactHandles$"+$o;function Ji(t){var e=t[ir];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Dr]||n[ir]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=G0(t);t!==null;){if(n=t[ir])return n;t=G0(t)}return e}t=n,n=t.parentNode}return null}function nu(t){return t=t[ir]||t[Dr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ys(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error($(33))}function Cd(t){return t[wl]||null}var ng=[],Xs=-1;function Di(t){return{current:t}}function Be(t){0>Xs||(t.current=ng[Xs],ng[Xs]=null,Xs--)}function De(t,e){Xs++,ng[Xs]=t.current,t.current=e}var bi={},qt=Di(bi),sn=Di(!1),cs=bi;function wo(t,e){var n=t.type.contextTypes;if(!n)return bi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function on(t){return t=t.childContextTypes,t!=null}function yh(){Be(sn),Be(qt)}function K0(t,e,n){if(qt.current!==bi)throw Error($(168));De(qt,e),De(sn,n)}function rS(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error($(108,s4(t)||"Unknown",i));return Qe({},n,r)}function wh(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||bi,cs=qt.current,De(qt,t),De(sn,sn.current),!0}function Z0(t,e,n){var r=t.stateNode;if(!r)throw Error($(169));n?(t=rS(t,e,cs),r.__reactInternalMemoizedMergedChildContext=t,Be(sn),Be(qt),De(qt,t)):Be(sn),De(sn,n)}var Pr=null,xd=!1,$p=!1;function iS(t){Pr===null?Pr=[t]:Pr.push(t)}function Tk(t){xd=!0,iS(t)}function Vi(){if(!$p&&Pr!==null){$p=!0;var t=0,e=ke;try{var n=Pr;for(ke=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Pr=null,xd=!1}catch(i){throw Pr!==null&&(Pr=Pr.slice(t+1)),RT(Nv,Vi),i}finally{ke=e,$p=!1}}return null}var Js=[],eo=0,Eh=null,Th=0,xn=[],bn=0,hs=null,Cr=1,xr="";function Ki(t,e){Js[eo++]=Th,Js[eo++]=Eh,Eh=t,Th=e}function sS(t,e,n){xn[bn++]=Cr,xn[bn++]=xr,xn[bn++]=hs,hs=t;var r=Cr;t=xr;var i=32-Bn(r)-1;r&=~(1<<i),n+=1;var s=32-Bn(e)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Cr=1<<32-Bn(e)+i|n<<i|r,xr=s+t}else Cr=1<<s|n<<i|r,xr=t}function Hv(t){t.return!==null&&(Ki(t,1),sS(t,1,0))}function Wv(t){for(;t===Eh;)Eh=Js[--eo],Js[eo]=null,Th=Js[--eo],Js[eo]=null;for(;t===hs;)hs=xn[--bn],xn[bn]=null,xr=xn[--bn],xn[bn]=null,Cr=xn[--bn],xn[bn]=null}var mn=null,dn=null,Ue=!1,jn=null;function oS(t,e){var n=An(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Q0(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,mn=t,dn=vi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,mn=t,dn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=hs!==null?{id:Cr,overflow:xr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=An(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,mn=t,dn=null,!0):!1;default:return!1}}function rg(t){return(t.mode&1)!==0&&(t.flags&128)===0}function ig(t){if(Ue){var e=dn;if(e){var n=e;if(!Q0(t,e)){if(rg(t))throw Error($(418));e=vi(n.nextSibling);var r=mn;e&&Q0(t,e)?oS(r,n):(t.flags=t.flags&-4097|2,Ue=!1,mn=t)}}else{if(rg(t))throw Error($(418));t.flags=t.flags&-4097|2,Ue=!1,mn=t}}}function Y0(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;mn=t}function cc(t){if(t!==mn)return!1;if(!Ue)return Y0(t),Ue=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Jm(t.type,t.memoizedProps)),e&&(e=dn)){if(rg(t))throw aS(),Error($(418));for(;e;)oS(t,e),e=vi(e.nextSibling)}if(Y0(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error($(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){dn=vi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}dn=null}}else dn=mn?vi(t.stateNode.nextSibling):null;return!0}function aS(){for(var t=dn;t;)t=vi(t.nextSibling)}function Eo(){dn=mn=null,Ue=!1}function qv(t){jn===null?jn=[t]:jn.push(t)}var Sk=Hr.ReactCurrentBatchConfig;function Fn(t,e){if(t&&t.defaultProps){e=Qe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Sh=Di(null),Ih=null,to=null,Gv=null;function Kv(){Gv=to=Ih=null}function Zv(t){var e=Sh.current;Be(Sh),t._currentValue=e}function sg(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function co(t,e){Ih=t,Gv=to=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(rn=!0),t.firstContext=null)}function On(t){var e=t._currentValue;if(Gv!==t)if(t={context:t,memoizedValue:e,next:null},to===null){if(Ih===null)throw Error($(308));to=t,Ih.dependencies={lanes:0,firstContext:t}}else to=to.next=t;return e}var es=null;function Qv(t){es===null?es=[t]:es.push(t)}function lS(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Qv(e)):(n.next=i.next,i.next=n),e.interleaved=n,Vr(t,r)}function Vr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ri=!1;function Yv(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function uS(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Or(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function _i(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ce&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Vr(t,n)}return i=r.interleaved,i===null?(e.next=e,Qv(r)):(e.next=i.next,i.next=e),r.interleaved=e,Vr(t,n)}function Fc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Dv(t,n)}}function X0(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Ph(t,e,n,r){var i=t.updateQueue;ri=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,c=i.shared.pending;if(c!==null){i.shared.pending=null;var u=c,d=u.next;u.next=null,a===null?s=d:a.next=d,a=u;var p=t.alternate;p!==null&&(p=p.updateQueue,c=p.lastBaseUpdate,c!==a&&(c===null?p.firstBaseUpdate=d:c.next=d,p.lastBaseUpdate=u))}if(s!==null){var m=i.baseState;a=0,p=d=u=null,c=s;do{var v=c.lane,y=c.eventTime;if((r&v)===v){p!==null&&(p=p.next={eventTime:y,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var C=t,T=c;switch(v=e,y=n,T.tag){case 1:if(C=T.payload,typeof C=="function"){m=C.call(y,m,v);break e}m=C;break e;case 3:C.flags=C.flags&-65537|128;case 0:if(C=T.payload,v=typeof C=="function"?C.call(y,m,v):C,v==null)break e;m=Qe({},m,v);break e;case 2:ri=!0}}c.callback!==null&&c.lane!==0&&(t.flags|=64,v=i.effects,v===null?i.effects=[c]:v.push(c))}else y={eventTime:y,lane:v,tag:c.tag,payload:c.payload,callback:c.callback,next:null},p===null?(d=p=y,u=m):p=p.next=y,a|=v;if(c=c.next,c===null){if(c=i.shared.pending,c===null)break;v=c,c=v.next,v.next=null,i.lastBaseUpdate=v,i.shared.pending=null}}while(!0);if(p===null&&(u=m),i.baseState=u,i.firstBaseUpdate=d,i.lastBaseUpdate=p,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);fs|=a,t.lanes=a,t.memoizedState=m}}function J0(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error($(191,i));i.call(r)}}}var cS=new lT.Component().refs;function og(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Qe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var bd={isMounted:function(t){return(t=t._reactInternals)?Cs(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Yt(),i=wi(t),s=Or(r,i);s.payload=e,n!=null&&(s.callback=n),e=_i(t,s,i),e!==null&&(Un(e,t,i,r),Fc(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Yt(),i=wi(t),s=Or(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=_i(t,s,i),e!==null&&(Un(e,t,i,r),Fc(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Yt(),r=wi(t),i=Or(n,r);i.tag=2,e!=null&&(i.callback=e),e=_i(t,i,r),e!==null&&(Un(e,t,r,n),Fc(e,t,r))}};function ew(t,e,n,r,i,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,a):e.prototype&&e.prototype.isPureReactComponent?!vl(n,r)||!vl(i,s):!0}function hS(t,e,n){var r=!1,i=bi,s=e.contextType;return typeof s=="object"&&s!==null?s=On(s):(i=on(e)?cs:qt.current,r=e.contextTypes,s=(r=r!=null)?wo(t,i):bi),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=bd,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function tw(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&bd.enqueueReplaceState(e,e.state,null)}function ag(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=cS,Yv(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=On(s):(s=on(e)?cs:qt.current,i.context=wo(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(og(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&bd.enqueueReplaceState(i,i.state,null),Ph(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Ea(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error($(309));var r=n.stateNode}if(!r)throw Error($(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var c=i.refs;c===cS&&(c=i.refs={}),a===null?delete c[s]:c[s]=a},e._stringRef=s,e)}if(typeof t!="string")throw Error($(284));if(!n._owner)throw Error($(290,t))}return t}function hc(t,e){throw t=Object.prototype.toString.call(e),Error($(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function nw(t){var e=t._init;return e(t._payload)}function dS(t){function e(w,E){if(t){var P=w.deletions;P===null?(w.deletions=[E],w.flags|=16):P.push(E)}}function n(w,E){if(!t)return null;for(;E!==null;)e(w,E),E=E.sibling;return null}function r(w,E){for(w=new Map;E!==null;)E.key!==null?w.set(E.key,E):w.set(E.index,E),E=E.sibling;return w}function i(w,E){return w=Ei(w,E),w.index=0,w.sibling=null,w}function s(w,E,P){return w.index=P,t?(P=w.alternate,P!==null?(P=P.index,P<E?(w.flags|=2,E):P):(w.flags|=2,E)):(w.flags|=1048576,E)}function a(w){return t&&w.alternate===null&&(w.flags|=2),w}function c(w,E,P,x){return E===null||E.tag!==6?(E=Kp(P,w.mode,x),E.return=w,E):(E=i(E,P),E.return=w,E)}function u(w,E,P,x){var A=P.type;return A===Gs?p(w,E,P.props.children,x,P.key):E!==null&&(E.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===ni&&nw(A)===E.type)?(x=i(E,P.props),x.ref=Ea(w,E,P),x.return=w,x):(x=Hc(P.type,P.key,P.props,null,w.mode,x),x.ref=Ea(w,E,P),x.return=w,x)}function d(w,E,P,x){return E===null||E.tag!==4||E.stateNode.containerInfo!==P.containerInfo||E.stateNode.implementation!==P.implementation?(E=Zp(P,w.mode,x),E.return=w,E):(E=i(E,P.children||[]),E.return=w,E)}function p(w,E,P,x,A){return E===null||E.tag!==7?(E=as(P,w.mode,x,A),E.return=w,E):(E=i(E,P),E.return=w,E)}function m(w,E,P){if(typeof E=="string"&&E!==""||typeof E=="number")return E=Kp(""+E,w.mode,P),E.return=w,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case ec:return P=Hc(E.type,E.key,E.props,null,w.mode,P),P.ref=Ea(w,null,E),P.return=w,P;case qs:return E=Zp(E,w.mode,P),E.return=w,E;case ni:var x=E._init;return m(w,x(E._payload),P)}if(Aa(E)||ga(E))return E=as(E,w.mode,P,null),E.return=w,E;hc(w,E)}return null}function v(w,E,P,x){var A=E!==null?E.key:null;if(typeof P=="string"&&P!==""||typeof P=="number")return A!==null?null:c(w,E,""+P,x);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case ec:return P.key===A?u(w,E,P,x):null;case qs:return P.key===A?d(w,E,P,x):null;case ni:return A=P._init,v(w,E,A(P._payload),x)}if(Aa(P)||ga(P))return A!==null?null:p(w,E,P,x,null);hc(w,P)}return null}function y(w,E,P,x,A){if(typeof x=="string"&&x!==""||typeof x=="number")return w=w.get(P)||null,c(E,w,""+x,A);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case ec:return w=w.get(x.key===null?P:x.key)||null,u(E,w,x,A);case qs:return w=w.get(x.key===null?P:x.key)||null,d(E,w,x,A);case ni:var O=x._init;return y(w,E,P,O(x._payload),A)}if(Aa(x)||ga(x))return w=w.get(P)||null,p(E,w,x,A,null);hc(E,x)}return null}function C(w,E,P,x){for(var A=null,O=null,M=E,D=E=0,Z=null;M!==null&&D<P.length;D++){M.index>D?(Z=M,M=null):Z=M.sibling;var G=v(w,M,P[D],x);if(G===null){M===null&&(M=Z);break}t&&M&&G.alternate===null&&e(w,M),E=s(G,E,D),O===null?A=G:O.sibling=G,O=G,M=Z}if(D===P.length)return n(w,M),Ue&&Ki(w,D),A;if(M===null){for(;D<P.length;D++)M=m(w,P[D],x),M!==null&&(E=s(M,E,D),O===null?A=M:O.sibling=M,O=M);return Ue&&Ki(w,D),A}for(M=r(w,M);D<P.length;D++)Z=y(M,w,D,P[D],x),Z!==null&&(t&&Z.alternate!==null&&M.delete(Z.key===null?D:Z.key),E=s(Z,E,D),O===null?A=Z:O.sibling=Z,O=Z);return t&&M.forEach(function(le){return e(w,le)}),Ue&&Ki(w,D),A}function T(w,E,P,x){var A=ga(P);if(typeof A!="function")throw Error($(150));if(P=A.call(P),P==null)throw Error($(151));for(var O=A=null,M=E,D=E=0,Z=null,G=P.next();M!==null&&!G.done;D++,G=P.next()){M.index>D?(Z=M,M=null):Z=M.sibling;var le=v(w,M,G.value,x);if(le===null){M===null&&(M=Z);break}t&&M&&le.alternate===null&&e(w,M),E=s(le,E,D),O===null?A=le:O.sibling=le,O=le,M=Z}if(G.done)return n(w,M),Ue&&Ki(w,D),A;if(M===null){for(;!G.done;D++,G=P.next())G=m(w,G.value,x),G!==null&&(E=s(G,E,D),O===null?A=G:O.sibling=G,O=G);return Ue&&Ki(w,D),A}for(M=r(w,M);!G.done;D++,G=P.next())G=y(M,w,D,G.value,x),G!==null&&(t&&G.alternate!==null&&M.delete(G.key===null?D:G.key),E=s(G,E,D),O===null?A=G:O.sibling=G,O=G);return t&&M.forEach(function(ve){return e(w,ve)}),Ue&&Ki(w,D),A}function S(w,E,P,x){if(typeof P=="object"&&P!==null&&P.type===Gs&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case ec:e:{for(var A=P.key,O=E;O!==null;){if(O.key===A){if(A=P.type,A===Gs){if(O.tag===7){n(w,O.sibling),E=i(O,P.props.children),E.return=w,w=E;break e}}else if(O.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===ni&&nw(A)===O.type){n(w,O.sibling),E=i(O,P.props),E.ref=Ea(w,O,P),E.return=w,w=E;break e}n(w,O);break}else e(w,O);O=O.sibling}P.type===Gs?(E=as(P.props.children,w.mode,x,P.key),E.return=w,w=E):(x=Hc(P.type,P.key,P.props,null,w.mode,x),x.ref=Ea(w,E,P),x.return=w,w=x)}return a(w);case qs:e:{for(O=P.key;E!==null;){if(E.key===O)if(E.tag===4&&E.stateNode.containerInfo===P.containerInfo&&E.stateNode.implementation===P.implementation){n(w,E.sibling),E=i(E,P.children||[]),E.return=w,w=E;break e}else{n(w,E);break}else e(w,E);E=E.sibling}E=Zp(P,w.mode,x),E.return=w,w=E}return a(w);case ni:return O=P._init,S(w,E,O(P._payload),x)}if(Aa(P))return C(w,E,P,x);if(ga(P))return T(w,E,P,x);hc(w,P)}return typeof P=="string"&&P!==""||typeof P=="number"?(P=""+P,E!==null&&E.tag===6?(n(w,E.sibling),E=i(E,P),E.return=w,w=E):(n(w,E),E=Kp(P,w.mode,x),E.return=w,w=E),a(w)):n(w,E)}return S}var To=dS(!0),fS=dS(!1),ru={},cr=Di(ru),El=Di(ru),Tl=Di(ru);function ts(t){if(t===ru)throw Error($(174));return t}function Xv(t,e){switch(De(Tl,e),De(El,t),De(cr,ru),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:zm(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=zm(e,t)}Be(cr),De(cr,e)}function So(){Be(cr),Be(El),Be(Tl)}function pS(t){ts(Tl.current);var e=ts(cr.current),n=zm(e,t.type);e!==n&&(De(El,t),De(cr,n))}function Jv(t){El.current===t&&(Be(cr),Be(El))}var Ge=Di(0);function Ch(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Bp=[];function e_(){for(var t=0;t<Bp.length;t++)Bp[t]._workInProgressVersionPrimary=null;Bp.length=0}var zc=Hr.ReactCurrentDispatcher,Up=Hr.ReactCurrentBatchConfig,ds=0,Ke=null,ft=null,wt=null,xh=!1,Ka=!1,Sl=0,Ik=0;function Dt(){throw Error($(321))}function t_(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Wn(t[n],e[n]))return!1;return!0}function n_(t,e,n,r,i,s){if(ds=s,Ke=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,zc.current=t===null||t.memoizedState===null?bk:Rk,t=n(r,i),Ka){s=0;do{if(Ka=!1,Sl=0,25<=s)throw Error($(301));s+=1,wt=ft=null,e.updateQueue=null,zc.current=Ak,t=n(r,i)}while(Ka)}if(zc.current=bh,e=ft!==null&&ft.next!==null,ds=0,wt=ft=Ke=null,xh=!1,e)throw Error($(300));return t}function r_(){var t=Sl!==0;return Sl=0,t}function tr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wt===null?Ke.memoizedState=wt=t:wt=wt.next=t,wt}function Ln(){if(ft===null){var t=Ke.alternate;t=t!==null?t.memoizedState:null}else t=ft.next;var e=wt===null?Ke.memoizedState:wt.next;if(e!==null)wt=e,ft=t;else{if(t===null)throw Error($(310));ft=t,t={memoizedState:ft.memoizedState,baseState:ft.baseState,baseQueue:ft.baseQueue,queue:ft.queue,next:null},wt===null?Ke.memoizedState=wt=t:wt=wt.next=t}return wt}function Il(t,e){return typeof e=="function"?e(t):e}function Hp(t){var e=Ln(),n=e.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=t;var r=ft,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var c=a=null,u=null,d=s;do{var p=d.lane;if((ds&p)===p)u!==null&&(u=u.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:t(r,d.action);else{var m={lane:p,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};u===null?(c=u=m,a=r):u=u.next=m,Ke.lanes|=p,fs|=p}d=d.next}while(d!==null&&d!==s);u===null?a=r:u.next=c,Wn(r,e.memoizedState)||(rn=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Ke.lanes|=s,fs|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Wp(t){var e=Ln(),n=e.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do s=t(s,a.action),a=a.next;while(a!==i);Wn(s,e.memoizedState)||(rn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function mS(){}function gS(t,e){var n=Ke,r=Ln(),i=e(),s=!Wn(r.memoizedState,i);if(s&&(r.memoizedState=i,rn=!0),r=r.queue,i_(yS.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||wt!==null&&wt.memoizedState.tag&1){if(n.flags|=2048,Pl(9,_S.bind(null,n,r,i,e),void 0,null),Et===null)throw Error($(349));ds&30||vS(n,e,i)}return i}function vS(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ke.updateQueue,e===null?(e={lastEffect:null,stores:null},Ke.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function _S(t,e,n,r){e.value=n,e.getSnapshot=r,wS(e)&&ES(t)}function yS(t,e,n){return n(function(){wS(e)&&ES(t)})}function wS(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Wn(t,n)}catch{return!0}}function ES(t){var e=Vr(t,1);e!==null&&Un(e,t,1,-1)}function rw(t){var e=tr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Il,lastRenderedState:t},e.queue=t,t=t.dispatch=xk.bind(null,Ke,t),[e.memoizedState,t]}function Pl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ke.updateQueue,e===null?(e={lastEffect:null,stores:null},Ke.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function TS(){return Ln().memoizedState}function jc(t,e,n,r){var i=tr();Ke.flags|=t,i.memoizedState=Pl(1|e,n,void 0,r===void 0?null:r)}function Rd(t,e,n,r){var i=Ln();r=r===void 0?null:r;var s=void 0;if(ft!==null){var a=ft.memoizedState;if(s=a.destroy,r!==null&&t_(r,a.deps)){i.memoizedState=Pl(e,n,s,r);return}}Ke.flags|=t,i.memoizedState=Pl(1|e,n,s,r)}function iw(t,e){return jc(8390656,8,t,e)}function i_(t,e){return Rd(2048,8,t,e)}function SS(t,e){return Rd(4,2,t,e)}function IS(t,e){return Rd(4,4,t,e)}function PS(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function CS(t,e,n){return n=n!=null?n.concat([t]):null,Rd(4,4,PS.bind(null,e,t),n)}function s_(){}function xS(t,e){var n=Ln();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&t_(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function bS(t,e){var n=Ln();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&t_(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function RS(t,e,n){return ds&21?(Wn(n,e)||(n=OT(),Ke.lanes|=n,fs|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,rn=!0),t.memoizedState=n)}function Pk(t,e){var n=ke;ke=n!==0&&4>n?n:4,t(!0);var r=Up.transition;Up.transition={};try{t(!1),e()}finally{ke=n,Up.transition=r}}function AS(){return Ln().memoizedState}function Ck(t,e,n){var r=wi(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},kS(t))OS(e,n);else if(n=lS(t,e,n,r),n!==null){var i=Yt();Un(n,t,r,i),LS(n,e,r)}}function xk(t,e,n){var r=wi(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(kS(t))OS(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,c=s(a,n);if(i.hasEagerState=!0,i.eagerState=c,Wn(c,a)){var u=e.interleaved;u===null?(i.next=i,Qv(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}n=lS(t,e,i,r),n!==null&&(i=Yt(),Un(n,t,r,i),LS(n,e,r))}}function kS(t){var e=t.alternate;return t===Ke||e!==null&&e===Ke}function OS(t,e){Ka=xh=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function LS(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Dv(t,n)}}var bh={readContext:On,useCallback:Dt,useContext:Dt,useEffect:Dt,useImperativeHandle:Dt,useInsertionEffect:Dt,useLayoutEffect:Dt,useMemo:Dt,useReducer:Dt,useRef:Dt,useState:Dt,useDebugValue:Dt,useDeferredValue:Dt,useTransition:Dt,useMutableSource:Dt,useSyncExternalStore:Dt,useId:Dt,unstable_isNewReconciler:!1},bk={readContext:On,useCallback:function(t,e){return tr().memoizedState=[t,e===void 0?null:e],t},useContext:On,useEffect:iw,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,jc(4194308,4,PS.bind(null,e,t),n)},useLayoutEffect:function(t,e){return jc(4194308,4,t,e)},useInsertionEffect:function(t,e){return jc(4,2,t,e)},useMemo:function(t,e){var n=tr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=tr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Ck.bind(null,Ke,t),[r.memoizedState,t]},useRef:function(t){var e=tr();return t={current:t},e.memoizedState=t},useState:rw,useDebugValue:s_,useDeferredValue:function(t){return tr().memoizedState=t},useTransition:function(){var t=rw(!1),e=t[0];return t=Pk.bind(null,t[1]),tr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ke,i=tr();if(Ue){if(n===void 0)throw Error($(407));n=n()}else{if(n=e(),Et===null)throw Error($(349));ds&30||vS(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,iw(yS.bind(null,r,s,t),[t]),r.flags|=2048,Pl(9,_S.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=tr(),e=Et.identifierPrefix;if(Ue){var n=xr,r=Cr;n=(r&~(1<<32-Bn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Sl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Ik++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Rk={readContext:On,useCallback:xS,useContext:On,useEffect:i_,useImperativeHandle:CS,useInsertionEffect:SS,useLayoutEffect:IS,useMemo:bS,useReducer:Hp,useRef:TS,useState:function(){return Hp(Il)},useDebugValue:s_,useDeferredValue:function(t){var e=Ln();return RS(e,ft.memoizedState,t)},useTransition:function(){var t=Hp(Il)[0],e=Ln().memoizedState;return[t,e]},useMutableSource:mS,useSyncExternalStore:gS,useId:AS,unstable_isNewReconciler:!1},Ak={readContext:On,useCallback:xS,useContext:On,useEffect:i_,useImperativeHandle:CS,useInsertionEffect:SS,useLayoutEffect:IS,useMemo:bS,useReducer:Wp,useRef:TS,useState:function(){return Wp(Il)},useDebugValue:s_,useDeferredValue:function(t){var e=Ln();return ft===null?e.memoizedState=t:RS(e,ft.memoizedState,t)},useTransition:function(){var t=Wp(Il)[0],e=Ln().memoizedState;return[t,e]},useMutableSource:mS,useSyncExternalStore:gS,useId:AS,unstable_isNewReconciler:!1};function Io(t,e){try{var n="",r=e;do n+=i4(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function qp(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function lg(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var kk=typeof WeakMap=="function"?WeakMap:Map;function MS(t,e,n){n=Or(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Ah||(Ah=!0,_g=r),lg(t,e)},n}function NS(t,e,n){n=Or(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){lg(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){lg(t,e),typeof r!="function"&&(yi===null?yi=new Set([this]):yi.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function sw(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new kk;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=Wk.bind(null,t,e,n),e.then(t,t))}function ow(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function aw(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Or(-1,1),e.tag=2,_i(n,e,1))),n.lanes|=1),t)}var Ok=Hr.ReactCurrentOwner,rn=!1;function Zt(t,e,n,r){e.child=t===null?fS(e,null,n,r):To(e,t.child,n,r)}function lw(t,e,n,r,i){n=n.render;var s=e.ref;return co(e,i),r=n_(t,e,n,r,s,i),n=r_(),t!==null&&!rn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Fr(t,e,i)):(Ue&&n&&Hv(e),e.flags|=1,Zt(t,e,r,i),e.child)}function uw(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!f_(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,DS(t,e,s,r,i)):(t=Hc(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:vl,n(a,r)&&t.ref===e.ref)return Fr(t,e,i)}return e.flags|=1,t=Ei(s,r),t.ref=e.ref,t.return=e,e.child=t}function DS(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(vl(s,r)&&t.ref===e.ref)if(rn=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(rn=!0);else return e.lanes=t.lanes,Fr(t,e,i)}return ug(t,e,n,r,i)}function VS(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},De(ro,hn),hn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,De(ro,hn),hn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,De(ro,hn),hn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,De(ro,hn),hn|=r;return Zt(t,e,i,n),e.child}function FS(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function ug(t,e,n,r,i){var s=on(n)?cs:qt.current;return s=wo(e,s),co(e,i),n=n_(t,e,n,r,s,i),r=r_(),t!==null&&!rn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Fr(t,e,i)):(Ue&&r&&Hv(e),e.flags|=1,Zt(t,e,n,i),e.child)}function cw(t,e,n,r,i){if(on(n)){var s=!0;wh(e)}else s=!1;if(co(e,i),e.stateNode===null)$c(t,e),hS(e,n,r),ag(e,n,r,i),r=!0;else if(t===null){var a=e.stateNode,c=e.memoizedProps;a.props=c;var u=a.context,d=n.contextType;typeof d=="object"&&d!==null?d=On(d):(d=on(n)?cs:qt.current,d=wo(e,d));var p=n.getDerivedStateFromProps,m=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function";m||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(c!==r||u!==d)&&tw(e,a,r,d),ri=!1;var v=e.memoizedState;a.state=v,Ph(e,r,a,i),u=e.memoizedState,c!==r||v!==u||sn.current||ri?(typeof p=="function"&&(og(e,n,p,r),u=e.memoizedState),(c=ri||ew(e,n,c,r,v,u,d))?(m||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),a.props=r,a.state=u,a.context=d,r=c):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,uS(t,e),c=e.memoizedProps,d=e.type===e.elementType?c:Fn(e.type,c),a.props=d,m=e.pendingProps,v=a.context,u=n.contextType,typeof u=="object"&&u!==null?u=On(u):(u=on(n)?cs:qt.current,u=wo(e,u));var y=n.getDerivedStateFromProps;(p=typeof y=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(c!==m||v!==u)&&tw(e,a,r,u),ri=!1,v=e.memoizedState,a.state=v,Ph(e,r,a,i);var C=e.memoizedState;c!==m||v!==C||sn.current||ri?(typeof y=="function"&&(og(e,n,y,r),C=e.memoizedState),(d=ri||ew(e,n,d,r,v,C,u)||!1)?(p||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,C,u),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,C,u)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||c===t.memoizedProps&&v===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||c===t.memoizedProps&&v===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=C),a.props=r,a.state=C,a.context=u,r=d):(typeof a.componentDidUpdate!="function"||c===t.memoizedProps&&v===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||c===t.memoizedProps&&v===t.memoizedState||(e.flags|=1024),r=!1)}return cg(t,e,n,r,s,i)}function cg(t,e,n,r,i,s){FS(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return i&&Z0(e,n,!1),Fr(t,e,s);r=e.stateNode,Ok.current=e;var c=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=To(e,t.child,null,s),e.child=To(e,null,c,s)):Zt(t,e,c,s),e.memoizedState=r.state,i&&Z0(e,n,!0),e.child}function zS(t){var e=t.stateNode;e.pendingContext?K0(t,e.pendingContext,e.pendingContext!==e.context):e.context&&K0(t,e.context,!1),Xv(t,e.containerInfo)}function hw(t,e,n,r,i){return Eo(),qv(i),e.flags|=256,Zt(t,e,n,r),e.child}var hg={dehydrated:null,treeContext:null,retryLane:0};function dg(t){return{baseLanes:t,cachePool:null,transitions:null}}function jS(t,e,n){var r=e.pendingProps,i=Ge.current,s=!1,a=(e.flags&128)!==0,c;if((c=a)||(c=t!==null&&t.memoizedState===null?!1:(i&2)!==0),c?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),De(Ge,i&1),t===null)return ig(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,s?(r=e.mode,s=e.child,a={mode:"hidden",children:a},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=Od(a,r,0,null),t=as(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=dg(n),e.memoizedState=hg,t):o_(e,a));if(i=t.memoizedState,i!==null&&(c=i.dehydrated,c!==null))return Lk(t,e,a,r,c,i,n);if(s){s=r.fallback,a=e.mode,i=t.child,c=i.sibling;var u={mode:"hidden",children:r.children};return!(a&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=Ei(i,u),r.subtreeFlags=i.subtreeFlags&14680064),c!==null?s=Ei(c,s):(s=as(s,a,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,a=t.child.memoizedState,a=a===null?dg(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=t.childLanes&~n,e.memoizedState=hg,r}return s=t.child,t=s.sibling,r=Ei(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function o_(t,e){return e=Od({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function dc(t,e,n,r){return r!==null&&qv(r),To(e,t.child,null,n),t=o_(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Lk(t,e,n,r,i,s,a){if(n)return e.flags&256?(e.flags&=-257,r=qp(Error($(422))),dc(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Od({mode:"visible",children:r.children},i,0,null),s=as(s,i,a,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&To(e,t.child,null,a),e.child.memoizedState=dg(a),e.memoizedState=hg,s);if(!(e.mode&1))return dc(t,e,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var c=r.dgst;return r=c,s=Error($(419)),r=qp(s,r,void 0),dc(t,e,a,r)}if(c=(a&t.childLanes)!==0,rn||c){if(r=Et,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Vr(t,i),Un(r,t,i,-1))}return d_(),r=qp(Error($(421))),dc(t,e,a,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=qk.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,dn=vi(i.nextSibling),mn=e,Ue=!0,jn=null,t!==null&&(xn[bn++]=Cr,xn[bn++]=xr,xn[bn++]=hs,Cr=t.id,xr=t.overflow,hs=e),e=o_(e,r.children),e.flags|=4096,e)}function dw(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),sg(t.return,e,n)}function Gp(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function $S(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Zt(t,e,r.children,n),r=Ge.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&dw(t,n,e);else if(t.tag===19)dw(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(De(Ge,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Ch(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Gp(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Ch(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Gp(e,!0,n,null,s);break;case"together":Gp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function $c(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Fr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),fs|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error($(153));if(e.child!==null){for(t=e.child,n=Ei(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ei(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Mk(t,e,n){switch(e.tag){case 3:zS(e),Eo();break;case 5:pS(e);break;case 1:on(e.type)&&wh(e);break;case 4:Xv(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;De(Sh,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(De(Ge,Ge.current&1),e.flags|=128,null):n&e.child.childLanes?jS(t,e,n):(De(Ge,Ge.current&1),t=Fr(t,e,n),t!==null?t.sibling:null);De(Ge,Ge.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return $S(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),De(Ge,Ge.current),r)break;return null;case 22:case 23:return e.lanes=0,VS(t,e,n)}return Fr(t,e,n)}var BS,fg,US,HS;BS=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};fg=function(){};US=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,ts(cr.current);var s=null;switch(n){case"input":i=Nm(t,i),r=Nm(t,r),s=[];break;case"select":i=Qe({},i,{value:void 0}),r=Qe({},r,{value:void 0}),s=[];break;case"textarea":i=Fm(t,i),r=Fm(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=_h)}jm(n,r);var a;n=null;for(d in i)if(!r.hasOwnProperty(d)&&i.hasOwnProperty(d)&&i[d]!=null)if(d==="style"){var c=i[d];for(a in c)c.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(cl.hasOwnProperty(d)?s||(s=[]):(s=s||[]).push(d,null));for(d in r){var u=r[d];if(c=i!=null?i[d]:void 0,r.hasOwnProperty(d)&&u!==c&&(u!=null||c!=null))if(d==="style")if(c){for(a in c)!c.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in u)u.hasOwnProperty(a)&&c[a]!==u[a]&&(n||(n={}),n[a]=u[a])}else n||(s||(s=[]),s.push(d,n)),n=u;else d==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,c=c?c.__html:void 0,u!=null&&c!==u&&(s=s||[]).push(d,u)):d==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(d,""+u):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(cl.hasOwnProperty(d)?(u!=null&&d==="onScroll"&&ze("scroll",t),s||c===u||(s=[])):(s=s||[]).push(d,u))}n&&(s=s||[]).push("style",n);var d=s;(e.updateQueue=d)&&(e.flags|=4)}};HS=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ta(t,e){if(!Ue)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Vt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Nk(t,e,n){var r=e.pendingProps;switch(Wv(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vt(e),null;case 1:return on(e.type)&&yh(),Vt(e),null;case 3:return r=e.stateNode,So(),Be(sn),Be(qt),e_(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(cc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,jn!==null&&(Eg(jn),jn=null))),fg(t,e),Vt(e),null;case 5:Jv(e);var i=ts(Tl.current);if(n=e.type,t!==null&&e.stateNode!=null)US(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error($(166));return Vt(e),null}if(t=ts(cr.current),cc(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[ir]=e,r[wl]=s,t=(e.mode&1)!==0,n){case"dialog":ze("cancel",r),ze("close",r);break;case"iframe":case"object":case"embed":ze("load",r);break;case"video":case"audio":for(i=0;i<Oa.length;i++)ze(Oa[i],r);break;case"source":ze("error",r);break;case"img":case"image":case"link":ze("error",r),ze("load",r);break;case"details":ze("toggle",r);break;case"input":E0(r,s),ze("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},ze("invalid",r);break;case"textarea":S0(r,s),ze("invalid",r)}jm(n,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var c=s[a];a==="children"?typeof c=="string"?r.textContent!==c&&(s.suppressHydrationWarning!==!0&&uc(r.textContent,c,t),i=["children",c]):typeof c=="number"&&r.textContent!==""+c&&(s.suppressHydrationWarning!==!0&&uc(r.textContent,c,t),i=["children",""+c]):cl.hasOwnProperty(a)&&c!=null&&a==="onScroll"&&ze("scroll",r)}switch(n){case"input":tc(r),T0(r,s,!0);break;case"textarea":tc(r),I0(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=_h)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=vT(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[ir]=e,t[wl]=r,BS(t,e,!1,!1),e.stateNode=t;e:{switch(a=$m(n,r),n){case"dialog":ze("cancel",t),ze("close",t),i=r;break;case"iframe":case"object":case"embed":ze("load",t),i=r;break;case"video":case"audio":for(i=0;i<Oa.length;i++)ze(Oa[i],t);i=r;break;case"source":ze("error",t),i=r;break;case"img":case"image":case"link":ze("error",t),ze("load",t),i=r;break;case"details":ze("toggle",t),i=r;break;case"input":E0(t,r),i=Nm(t,r),ze("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Qe({},r,{value:void 0}),ze("invalid",t);break;case"textarea":S0(t,r),i=Fm(t,r),ze("invalid",t);break;default:i=r}jm(n,i),c=i;for(s in c)if(c.hasOwnProperty(s)){var u=c[s];s==="style"?wT(t,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&_T(t,u)):s==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&hl(t,u):typeof u=="number"&&hl(t,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(cl.hasOwnProperty(s)?u!=null&&s==="onScroll"&&ze("scroll",t):u!=null&&Av(t,s,u,a))}switch(n){case"input":tc(t),T0(t,r,!1);break;case"textarea":tc(t),I0(t);break;case"option":r.value!=null&&t.setAttribute("value",""+xi(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?oo(t,!!r.multiple,s,!1):r.defaultValue!=null&&oo(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=_h)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Vt(e),null;case 6:if(t&&e.stateNode!=null)HS(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error($(166));if(n=ts(Tl.current),ts(cr.current),cc(e)){if(r=e.stateNode,n=e.memoizedProps,r[ir]=e,(s=r.nodeValue!==n)&&(t=mn,t!==null))switch(t.tag){case 3:uc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&uc(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ir]=e,e.stateNode=r}return Vt(e),null;case 13:if(Be(Ge),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ue&&dn!==null&&e.mode&1&&!(e.flags&128))aS(),Eo(),e.flags|=98560,s=!1;else if(s=cc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error($(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error($(317));s[ir]=e}else Eo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Vt(e),s=!1}else jn!==null&&(Eg(jn),jn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ge.current&1?pt===0&&(pt=3):d_())),e.updateQueue!==null&&(e.flags|=4),Vt(e),null);case 4:return So(),fg(t,e),t===null&&_l(e.stateNode.containerInfo),Vt(e),null;case 10:return Zv(e.type._context),Vt(e),null;case 17:return on(e.type)&&yh(),Vt(e),null;case 19:if(Be(Ge),s=e.memoizedState,s===null)return Vt(e),null;if(r=(e.flags&128)!==0,a=s.rendering,a===null)if(r)Ta(s,!1);else{if(pt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Ch(t),a!==null){for(e.flags|=128,Ta(s,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,t=a.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return De(Ge,Ge.current&1|2),e.child}t=t.sibling}s.tail!==null&&nt()>Po&&(e.flags|=128,r=!0,Ta(s,!1),e.lanes=4194304)}else{if(!r)if(t=Ch(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ta(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!Ue)return Vt(e),null}else 2*nt()-s.renderingStartTime>Po&&n!==1073741824&&(e.flags|=128,r=!0,Ta(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(n=s.last,n!==null?n.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=nt(),e.sibling=null,n=Ge.current,De(Ge,r?n&1|2:n&1),e):(Vt(e),null);case 22:case 23:return h_(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?hn&1073741824&&(Vt(e),e.subtreeFlags&6&&(e.flags|=8192)):Vt(e),null;case 24:return null;case 25:return null}throw Error($(156,e.tag))}function Dk(t,e){switch(Wv(e),e.tag){case 1:return on(e.type)&&yh(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return So(),Be(sn),Be(qt),e_(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Jv(e),null;case 13:if(Be(Ge),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error($(340));Eo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Be(Ge),null;case 4:return So(),null;case 10:return Zv(e.type._context),null;case 22:case 23:return h_(),null;case 24:return null;default:return null}}var fc=!1,$t=!1,Vk=typeof WeakSet=="function"?WeakSet:Set,Q=null;function no(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Xe(t,e,r)}else n.current=null}function pg(t,e,n){try{n()}catch(r){Xe(t,e,r)}}var fw=!1;function Fk(t,e){if(Ym=mh,t=KT(),Uv(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,c=-1,u=-1,d=0,p=0,m=t,v=null;t:for(;;){for(var y;m!==n||i!==0&&m.nodeType!==3||(c=a+i),m!==s||r!==0&&m.nodeType!==3||(u=a+r),m.nodeType===3&&(a+=m.nodeValue.length),(y=m.firstChild)!==null;)v=m,m=y;for(;;){if(m===t)break t;if(v===n&&++d===i&&(c=a),v===s&&++p===r&&(u=a),(y=m.nextSibling)!==null)break;m=v,v=m.parentNode}m=y}n=c===-1||u===-1?null:{start:c,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Xm={focusedElem:t,selectionRange:n},mh=!1,Q=e;Q!==null;)if(e=Q,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Q=t;else for(;Q!==null;){e=Q;try{var C=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(C!==null){var T=C.memoizedProps,S=C.memoizedState,w=e.stateNode,E=w.getSnapshotBeforeUpdate(e.elementType===e.type?T:Fn(e.type,T),S);w.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var P=e.stateNode.containerInfo;P.nodeType===1?P.textContent="":P.nodeType===9&&P.documentElement&&P.removeChild(P.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error($(163))}}catch(x){Xe(e,e.return,x)}if(t=e.sibling,t!==null){t.return=e.return,Q=t;break}Q=e.return}return C=fw,fw=!1,C}function Za(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&pg(e,n,s)}i=i.next}while(i!==r)}}function Ad(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function mg(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function WS(t){var e=t.alternate;e!==null&&(t.alternate=null,WS(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ir],delete e[wl],delete e[tg],delete e[wk],delete e[Ek])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function qS(t){return t.tag===5||t.tag===3||t.tag===4}function pw(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||qS(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function gg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=_h));else if(r!==4&&(t=t.child,t!==null))for(gg(t,e,n),t=t.sibling;t!==null;)gg(t,e,n),t=t.sibling}function vg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(vg(t,e,n),t=t.sibling;t!==null;)vg(t,e,n),t=t.sibling}var xt=null,zn=!1;function ei(t,e,n){for(n=n.child;n!==null;)GS(t,e,n),n=n.sibling}function GS(t,e,n){if(ur&&typeof ur.onCommitFiberUnmount=="function")try{ur.onCommitFiberUnmount(Td,n)}catch{}switch(n.tag){case 5:$t||no(n,e);case 6:var r=xt,i=zn;xt=null,ei(t,e,n),xt=r,zn=i,xt!==null&&(zn?(t=xt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):xt.removeChild(n.stateNode));break;case 18:xt!==null&&(zn?(t=xt,n=n.stateNode,t.nodeType===8?jp(t.parentNode,n):t.nodeType===1&&jp(t,n),ml(t)):jp(xt,n.stateNode));break;case 4:r=xt,i=zn,xt=n.stateNode.containerInfo,zn=!0,ei(t,e,n),xt=r,zn=i;break;case 0:case 11:case 14:case 15:if(!$t&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&pg(n,e,a),i=i.next}while(i!==r)}ei(t,e,n);break;case 1:if(!$t&&(no(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(c){Xe(n,e,c)}ei(t,e,n);break;case 21:ei(t,e,n);break;case 22:n.mode&1?($t=(r=$t)||n.memoizedState!==null,ei(t,e,n),$t=r):ei(t,e,n);break;default:ei(t,e,n)}}function mw(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Vk),e.forEach(function(r){var i=Gk.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Vn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,a=e,c=a;e:for(;c!==null;){switch(c.tag){case 5:xt=c.stateNode,zn=!1;break e;case 3:xt=c.stateNode.containerInfo,zn=!0;break e;case 4:xt=c.stateNode.containerInfo,zn=!0;break e}c=c.return}if(xt===null)throw Error($(160));GS(s,a,i),xt=null,zn=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(d){Xe(i,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)KS(e,t),e=e.sibling}function KS(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Vn(e,t),er(t),r&4){try{Za(3,t,t.return),Ad(3,t)}catch(T){Xe(t,t.return,T)}try{Za(5,t,t.return)}catch(T){Xe(t,t.return,T)}}break;case 1:Vn(e,t),er(t),r&512&&n!==null&&no(n,n.return);break;case 5:if(Vn(e,t),er(t),r&512&&n!==null&&no(n,n.return),t.flags&32){var i=t.stateNode;try{hl(i,"")}catch(T){Xe(t,t.return,T)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,a=n!==null?n.memoizedProps:s,c=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{c==="input"&&s.type==="radio"&&s.name!=null&&mT(i,s),$m(c,a);var d=$m(c,s);for(a=0;a<u.length;a+=2){var p=u[a],m=u[a+1];p==="style"?wT(i,m):p==="dangerouslySetInnerHTML"?_T(i,m):p==="children"?hl(i,m):Av(i,p,m,d)}switch(c){case"input":Dm(i,s);break;case"textarea":gT(i,s);break;case"select":var v=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var y=s.value;y!=null?oo(i,!!s.multiple,y,!1):v!==!!s.multiple&&(s.defaultValue!=null?oo(i,!!s.multiple,s.defaultValue,!0):oo(i,!!s.multiple,s.multiple?[]:"",!1))}i[wl]=s}catch(T){Xe(t,t.return,T)}}break;case 6:if(Vn(e,t),er(t),r&4){if(t.stateNode===null)throw Error($(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(T){Xe(t,t.return,T)}}break;case 3:if(Vn(e,t),er(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ml(e.containerInfo)}catch(T){Xe(t,t.return,T)}break;case 4:Vn(e,t),er(t);break;case 13:Vn(e,t),er(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(u_=nt())),r&4&&mw(t);break;case 22:if(p=n!==null&&n.memoizedState!==null,t.mode&1?($t=(d=$t)||p,Vn(e,t),$t=d):Vn(e,t),er(t),r&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!p&&t.mode&1)for(Q=t,p=t.child;p!==null;){for(m=Q=p;Q!==null;){switch(v=Q,y=v.child,v.tag){case 0:case 11:case 14:case 15:Za(4,v,v.return);break;case 1:no(v,v.return);var C=v.stateNode;if(typeof C.componentWillUnmount=="function"){r=v,n=v.return;try{e=r,C.props=e.memoizedProps,C.state=e.memoizedState,C.componentWillUnmount()}catch(T){Xe(r,n,T)}}break;case 5:no(v,v.return);break;case 22:if(v.memoizedState!==null){vw(m);continue}}y!==null?(y.return=v,Q=y):vw(m)}p=p.sibling}e:for(p=null,m=t;;){if(m.tag===5){if(p===null){p=m;try{i=m.stateNode,d?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(c=m.stateNode,u=m.memoizedProps.style,a=u!=null&&u.hasOwnProperty("display")?u.display:null,c.style.display=yT("display",a))}catch(T){Xe(t,t.return,T)}}}else if(m.tag===6){if(p===null)try{m.stateNode.nodeValue=d?"":m.memoizedProps}catch(T){Xe(t,t.return,T)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===t)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;p===m&&(p=null),m=m.return}p===m&&(p=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:Vn(e,t),er(t),r&4&&mw(t);break;case 21:break;default:Vn(e,t),er(t)}}function er(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(qS(n)){var r=n;break e}n=n.return}throw Error($(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(hl(i,""),r.flags&=-33);var s=pw(t);vg(t,s,i);break;case 3:case 4:var a=r.stateNode.containerInfo,c=pw(t);gg(t,c,a);break;default:throw Error($(161))}}catch(u){Xe(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function zk(t,e,n){Q=t,ZS(t)}function ZS(t,e,n){for(var r=(t.mode&1)!==0;Q!==null;){var i=Q,s=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||fc;if(!a){var c=i.alternate,u=c!==null&&c.memoizedState!==null||$t;c=fc;var d=$t;if(fc=a,($t=u)&&!d)for(Q=i;Q!==null;)a=Q,u=a.child,a.tag===22&&a.memoizedState!==null?_w(i):u!==null?(u.return=a,Q=u):_w(i);for(;s!==null;)Q=s,ZS(s),s=s.sibling;Q=i,fc=c,$t=d}gw(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Q=s):gw(t)}}function gw(t){for(;Q!==null;){var e=Q;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:$t||Ad(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!$t)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Fn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&J0(e,s,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}J0(e,a,n)}break;case 5:var c=e.stateNode;if(n===null&&e.flags&4){n=c;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var p=d.memoizedState;if(p!==null){var m=p.dehydrated;m!==null&&ml(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error($(163))}$t||e.flags&512&&mg(e)}catch(v){Xe(e,e.return,v)}}if(e===t){Q=null;break}if(n=e.sibling,n!==null){n.return=e.return,Q=n;break}Q=e.return}}function vw(t){for(;Q!==null;){var e=Q;if(e===t){Q=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Q=n;break}Q=e.return}}function _w(t){for(;Q!==null;){var e=Q;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Ad(4,e)}catch(u){Xe(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(u){Xe(e,i,u)}}var s=e.return;try{mg(e)}catch(u){Xe(e,s,u)}break;case 5:var a=e.return;try{mg(e)}catch(u){Xe(e,a,u)}}}catch(u){Xe(e,e.return,u)}if(e===t){Q=null;break}var c=e.sibling;if(c!==null){c.return=e.return,Q=c;break}Q=e.return}}var jk=Math.ceil,Rh=Hr.ReactCurrentDispatcher,a_=Hr.ReactCurrentOwner,kn=Hr.ReactCurrentBatchConfig,Ce=0,Et=null,ut=null,Ot=0,hn=0,ro=Di(0),pt=0,Cl=null,fs=0,kd=0,l_=0,Qa=null,tn=null,u_=0,Po=1/0,Ir=null,Ah=!1,_g=null,yi=null,pc=!1,hi=null,kh=0,Ya=0,yg=null,Bc=-1,Uc=0;function Yt(){return Ce&6?nt():Bc!==-1?Bc:Bc=nt()}function wi(t){return t.mode&1?Ce&2&&Ot!==0?Ot&-Ot:Sk.transition!==null?(Uc===0&&(Uc=OT()),Uc):(t=ke,t!==0||(t=window.event,t=t===void 0?16:zT(t.type)),t):1}function Un(t,e,n,r){if(50<Ya)throw Ya=0,yg=null,Error($(185));eu(t,n,r),(!(Ce&2)||t!==Et)&&(t===Et&&(!(Ce&2)&&(kd|=n),pt===4&&si(t,Ot)),an(t,r),n===1&&Ce===0&&!(e.mode&1)&&(Po=nt()+500,xd&&Vi()))}function an(t,e){var n=t.callbackNode;S4(t,e);var r=ph(t,t===Et?Ot:0);if(r===0)n!==null&&x0(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&x0(n),e===1)t.tag===0?Tk(yw.bind(null,t)):iS(yw.bind(null,t)),_k(function(){!(Ce&6)&&Vi()}),n=null;else{switch(LT(r)){case 1:n=Nv;break;case 4:n=AT;break;case 16:n=fh;break;case 536870912:n=kT;break;default:n=fh}n=rI(n,QS.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function QS(t,e){if(Bc=-1,Uc=0,Ce&6)throw Error($(327));var n=t.callbackNode;if(ho()&&t.callbackNode!==n)return null;var r=ph(t,t===Et?Ot:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Oh(t,r);else{e=r;var i=Ce;Ce|=2;var s=XS();(Et!==t||Ot!==e)&&(Ir=null,Po=nt()+500,os(t,e));do try{Uk();break}catch(c){YS(t,c)}while(!0);Kv(),Rh.current=s,Ce=i,ut!==null?e=0:(Et=null,Ot=0,e=pt)}if(e!==0){if(e===2&&(i=qm(t),i!==0&&(r=i,e=wg(t,i))),e===1)throw n=Cl,os(t,0),si(t,r),an(t,nt()),n;if(e===6)si(t,r);else{if(i=t.current.alternate,!(r&30)&&!$k(i)&&(e=Oh(t,r),e===2&&(s=qm(t),s!==0&&(r=s,e=wg(t,s))),e===1))throw n=Cl,os(t,0),si(t,r),an(t,nt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error($(345));case 2:Zi(t,tn,Ir);break;case 3:if(si(t,r),(r&130023424)===r&&(e=u_+500-nt(),10<e)){if(ph(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Yt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=eg(Zi.bind(null,t,tn,Ir),e);break}Zi(t,tn,Ir);break;case 4:if(si(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var a=31-Bn(r);s=1<<a,a=e[a],a>i&&(i=a),r&=~s}if(r=i,r=nt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*jk(r/1960))-r,10<r){t.timeoutHandle=eg(Zi.bind(null,t,tn,Ir),r);break}Zi(t,tn,Ir);break;case 5:Zi(t,tn,Ir);break;default:throw Error($(329))}}}return an(t,nt()),t.callbackNode===n?QS.bind(null,t):null}function wg(t,e){var n=Qa;return t.current.memoizedState.isDehydrated&&(os(t,e).flags|=256),t=Oh(t,e),t!==2&&(e=tn,tn=n,e!==null&&Eg(e)),t}function Eg(t){tn===null?tn=t:tn.push.apply(tn,t)}function $k(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Wn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function si(t,e){for(e&=~l_,e&=~kd,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Bn(e),r=1<<n;t[n]=-1,e&=~r}}function yw(t){if(Ce&6)throw Error($(327));ho();var e=ph(t,0);if(!(e&1))return an(t,nt()),null;var n=Oh(t,e);if(t.tag!==0&&n===2){var r=qm(t);r!==0&&(e=r,n=wg(t,r))}if(n===1)throw n=Cl,os(t,0),si(t,e),an(t,nt()),n;if(n===6)throw Error($(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Zi(t,tn,Ir),an(t,nt()),null}function c_(t,e){var n=Ce;Ce|=1;try{return t(e)}finally{Ce=n,Ce===0&&(Po=nt()+500,xd&&Vi())}}function ps(t){hi!==null&&hi.tag===0&&!(Ce&6)&&ho();var e=Ce;Ce|=1;var n=kn.transition,r=ke;try{if(kn.transition=null,ke=1,t)return t()}finally{ke=r,kn.transition=n,Ce=e,!(Ce&6)&&Vi()}}function h_(){hn=ro.current,Be(ro)}function os(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,vk(n)),ut!==null)for(n=ut.return;n!==null;){var r=n;switch(Wv(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&yh();break;case 3:So(),Be(sn),Be(qt),e_();break;case 5:Jv(r);break;case 4:So();break;case 13:Be(Ge);break;case 19:Be(Ge);break;case 10:Zv(r.type._context);break;case 22:case 23:h_()}n=n.return}if(Et=t,ut=t=Ei(t.current,null),Ot=hn=e,pt=0,Cl=null,l_=kd=fs=0,tn=Qa=null,es!==null){for(e=0;e<es.length;e++)if(n=es[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var a=s.next;s.next=i,r.next=a}n.pending=r}es=null}return t}function YS(t,e){do{var n=ut;try{if(Kv(),zc.current=bh,xh){for(var r=Ke.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}xh=!1}if(ds=0,wt=ft=Ke=null,Ka=!1,Sl=0,a_.current=null,n===null||n.return===null){pt=1,Cl=e,ut=null;break}e:{var s=t,a=n.return,c=n,u=e;if(e=Ot,c.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var d=u,p=c,m=p.tag;if(!(p.mode&1)&&(m===0||m===11||m===15)){var v=p.alternate;v?(p.updateQueue=v.updateQueue,p.memoizedState=v.memoizedState,p.lanes=v.lanes):(p.updateQueue=null,p.memoizedState=null)}var y=ow(a);if(y!==null){y.flags&=-257,aw(y,a,c,s,e),y.mode&1&&sw(s,d,e),e=y,u=d;var C=e.updateQueue;if(C===null){var T=new Set;T.add(u),e.updateQueue=T}else C.add(u);break e}else{if(!(e&1)){sw(s,d,e),d_();break e}u=Error($(426))}}else if(Ue&&c.mode&1){var S=ow(a);if(S!==null){!(S.flags&65536)&&(S.flags|=256),aw(S,a,c,s,e),qv(Io(u,c));break e}}s=u=Io(u,c),pt!==4&&(pt=2),Qa===null?Qa=[s]:Qa.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var w=MS(s,u,e);X0(s,w);break e;case 1:c=u;var E=s.type,P=s.stateNode;if(!(s.flags&128)&&(typeof E.getDerivedStateFromError=="function"||P!==null&&typeof P.componentDidCatch=="function"&&(yi===null||!yi.has(P)))){s.flags|=65536,e&=-e,s.lanes|=e;var x=NS(s,c,e);X0(s,x);break e}}s=s.return}while(s!==null)}eI(n)}catch(A){e=A,ut===n&&n!==null&&(ut=n=n.return);continue}break}while(!0)}function XS(){var t=Rh.current;return Rh.current=bh,t===null?bh:t}function d_(){(pt===0||pt===3||pt===2)&&(pt=4),Et===null||!(fs&268435455)&&!(kd&268435455)||si(Et,Ot)}function Oh(t,e){var n=Ce;Ce|=2;var r=XS();(Et!==t||Ot!==e)&&(Ir=null,os(t,e));do try{Bk();break}catch(i){YS(t,i)}while(!0);if(Kv(),Ce=n,Rh.current=r,ut!==null)throw Error($(261));return Et=null,Ot=0,pt}function Bk(){for(;ut!==null;)JS(ut)}function Uk(){for(;ut!==null&&!p4();)JS(ut)}function JS(t){var e=nI(t.alternate,t,hn);t.memoizedProps=t.pendingProps,e===null?eI(t):ut=e,a_.current=null}function eI(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Dk(n,e),n!==null){n.flags&=32767,ut=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{pt=6,ut=null;return}}else if(n=Nk(n,e,hn),n!==null){ut=n;return}if(e=e.sibling,e!==null){ut=e;return}ut=e=t}while(e!==null);pt===0&&(pt=5)}function Zi(t,e,n){var r=ke,i=kn.transition;try{kn.transition=null,ke=1,Hk(t,e,n,r)}finally{kn.transition=i,ke=r}return null}function Hk(t,e,n,r){do ho();while(hi!==null);if(Ce&6)throw Error($(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error($(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(I4(t,s),t===Et&&(ut=Et=null,Ot=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||pc||(pc=!0,rI(fh,function(){return ho(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=kn.transition,kn.transition=null;var a=ke;ke=1;var c=Ce;Ce|=4,a_.current=null,Fk(t,n),KS(n,t),ck(Xm),mh=!!Ym,Xm=Ym=null,t.current=n,zk(n),m4(),Ce=c,ke=a,kn.transition=s}else t.current=n;if(pc&&(pc=!1,hi=t,kh=i),s=t.pendingLanes,s===0&&(yi=null),_4(n.stateNode),an(t,nt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ah)throw Ah=!1,t=_g,_g=null,t;return kh&1&&t.tag!==0&&ho(),s=t.pendingLanes,s&1?t===yg?Ya++:(Ya=0,yg=t):Ya=0,Vi(),null}function ho(){if(hi!==null){var t=LT(kh),e=kn.transition,n=ke;try{if(kn.transition=null,ke=16>t?16:t,hi===null)var r=!1;else{if(t=hi,hi=null,kh=0,Ce&6)throw Error($(331));var i=Ce;for(Ce|=4,Q=t.current;Q!==null;){var s=Q,a=s.child;if(Q.flags&16){var c=s.deletions;if(c!==null){for(var u=0;u<c.length;u++){var d=c[u];for(Q=d;Q!==null;){var p=Q;switch(p.tag){case 0:case 11:case 15:Za(8,p,s)}var m=p.child;if(m!==null)m.return=p,Q=m;else for(;Q!==null;){p=Q;var v=p.sibling,y=p.return;if(WS(p),p===d){Q=null;break}if(v!==null){v.return=y,Q=v;break}Q=y}}}var C=s.alternate;if(C!==null){var T=C.child;if(T!==null){C.child=null;do{var S=T.sibling;T.sibling=null,T=S}while(T!==null)}}Q=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,Q=a;else e:for(;Q!==null;){if(s=Q,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Za(9,s,s.return)}var w=s.sibling;if(w!==null){w.return=s.return,Q=w;break e}Q=s.return}}var E=t.current;for(Q=E;Q!==null;){a=Q;var P=a.child;if(a.subtreeFlags&2064&&P!==null)P.return=a,Q=P;else e:for(a=E;Q!==null;){if(c=Q,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:Ad(9,c)}}catch(A){Xe(c,c.return,A)}if(c===a){Q=null;break e}var x=c.sibling;if(x!==null){x.return=c.return,Q=x;break e}Q=c.return}}if(Ce=i,Vi(),ur&&typeof ur.onPostCommitFiberRoot=="function")try{ur.onPostCommitFiberRoot(Td,t)}catch{}r=!0}return r}finally{ke=n,kn.transition=e}}return!1}function ww(t,e,n){e=Io(n,e),e=MS(t,e,1),t=_i(t,e,1),e=Yt(),t!==null&&(eu(t,1,e),an(t,e))}function Xe(t,e,n){if(t.tag===3)ww(t,t,n);else for(;e!==null;){if(e.tag===3){ww(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(yi===null||!yi.has(r))){t=Io(n,t),t=NS(e,t,1),e=_i(e,t,1),t=Yt(),e!==null&&(eu(e,1,t),an(e,t));break}}e=e.return}}function Wk(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Yt(),t.pingedLanes|=t.suspendedLanes&n,Et===t&&(Ot&n)===n&&(pt===4||pt===3&&(Ot&130023424)===Ot&&500>nt()-u_?os(t,0):l_|=n),an(t,e)}function tI(t,e){e===0&&(t.mode&1?(e=ic,ic<<=1,!(ic&130023424)&&(ic=4194304)):e=1);var n=Yt();t=Vr(t,e),t!==null&&(eu(t,e,n),an(t,n))}function qk(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),tI(t,n)}function Gk(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error($(314))}r!==null&&r.delete(e),tI(t,n)}var nI;nI=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||sn.current)rn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return rn=!1,Mk(t,e,n);rn=!!(t.flags&131072)}else rn=!1,Ue&&e.flags&1048576&&sS(e,Th,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;$c(t,e),t=e.pendingProps;var i=wo(e,qt.current);co(e,n),i=n_(null,e,r,t,i,n);var s=r_();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,on(r)?(s=!0,wh(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Yv(e),i.updater=bd,e.stateNode=i,i._reactInternals=e,ag(e,r,t,n),e=cg(null,e,r,!0,s,n)):(e.tag=0,Ue&&s&&Hv(e),Zt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch($c(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=Zk(r),t=Fn(r,t),i){case 0:e=ug(null,e,r,t,n);break e;case 1:e=cw(null,e,r,t,n);break e;case 11:e=lw(null,e,r,t,n);break e;case 14:e=uw(null,e,r,Fn(r.type,t),n);break e}throw Error($(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Fn(r,i),ug(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Fn(r,i),cw(t,e,r,i,n);case 3:e:{if(zS(e),t===null)throw Error($(387));r=e.pendingProps,s=e.memoizedState,i=s.element,uS(t,e),Ph(e,r,null,n);var a=e.memoizedState;if(r=a.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Io(Error($(423)),e),e=hw(t,e,r,n,i);break e}else if(r!==i){i=Io(Error($(424)),e),e=hw(t,e,r,n,i);break e}else for(dn=vi(e.stateNode.containerInfo.firstChild),mn=e,Ue=!0,jn=null,n=fS(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Eo(),r===i){e=Fr(t,e,n);break e}Zt(t,e,r,n)}e=e.child}return e;case 5:return pS(e),t===null&&ig(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,a=i.children,Jm(r,i)?a=null:s!==null&&Jm(r,s)&&(e.flags|=32),FS(t,e),Zt(t,e,a,n),e.child;case 6:return t===null&&ig(e),null;case 13:return jS(t,e,n);case 4:return Xv(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=To(e,null,r,n):Zt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Fn(r,i),lw(t,e,r,i,n);case 7:return Zt(t,e,e.pendingProps,n),e.child;case 8:return Zt(t,e,e.pendingProps.children,n),e.child;case 12:return Zt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,a=i.value,De(Sh,r._currentValue),r._currentValue=a,s!==null)if(Wn(s.value,a)){if(s.children===i.children&&!sn.current){e=Fr(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var c=s.dependencies;if(c!==null){a=s.child;for(var u=c.firstContext;u!==null;){if(u.context===r){if(s.tag===1){u=Or(-1,n&-n),u.tag=2;var d=s.updateQueue;if(d!==null){d=d.shared;var p=d.pending;p===null?u.next=u:(u.next=p.next,p.next=u),d.pending=u}}s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),sg(s.return,n,e),c.lanes|=n;break}u=u.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error($(341));a.lanes|=n,c=a.alternate,c!==null&&(c.lanes|=n),sg(a,n,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}Zt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,co(e,n),i=On(i),r=r(i),e.flags|=1,Zt(t,e,r,n),e.child;case 14:return r=e.type,i=Fn(r,e.pendingProps),i=Fn(r.type,i),uw(t,e,r,i,n);case 15:return DS(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Fn(r,i),$c(t,e),e.tag=1,on(r)?(t=!0,wh(e)):t=!1,co(e,n),hS(e,r,i),ag(e,r,i,n),cg(null,e,r,!0,t,n);case 19:return $S(t,e,n);case 22:return VS(t,e,n)}throw Error($(156,e.tag))};function rI(t,e){return RT(t,e)}function Kk(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function An(t,e,n,r){return new Kk(t,e,n,r)}function f_(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Zk(t){if(typeof t=="function")return f_(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Ov)return 11;if(t===Lv)return 14}return 2}function Ei(t,e){var n=t.alternate;return n===null?(n=An(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Hc(t,e,n,r,i,s){var a=2;if(r=t,typeof t=="function")f_(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Gs:return as(n.children,i,s,e);case kv:a=8,i|=8;break;case km:return t=An(12,n,e,i|2),t.elementType=km,t.lanes=s,t;case Om:return t=An(13,n,e,i),t.elementType=Om,t.lanes=s,t;case Lm:return t=An(19,n,e,i),t.elementType=Lm,t.lanes=s,t;case dT:return Od(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case cT:a=10;break e;case hT:a=9;break e;case Ov:a=11;break e;case Lv:a=14;break e;case ni:a=16,r=null;break e}throw Error($(130,t==null?t:typeof t,""))}return e=An(a,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function as(t,e,n,r){return t=An(7,t,r,e),t.lanes=n,t}function Od(t,e,n,r){return t=An(22,t,r,e),t.elementType=dT,t.lanes=n,t.stateNode={isHidden:!1},t}function Kp(t,e,n){return t=An(6,t,null,e),t.lanes=n,t}function Zp(t,e,n){return e=An(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Qk(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Rp(0),this.expirationTimes=Rp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Rp(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function p_(t,e,n,r,i,s,a,c,u){return t=new Qk(t,e,n,c,u),e===1?(e=1,s===!0&&(e|=8)):e=0,s=An(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Yv(s),t}function Yk(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:qs,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function iI(t){if(!t)return bi;t=t._reactInternals;e:{if(Cs(t)!==t||t.tag!==1)throw Error($(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(on(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error($(171))}if(t.tag===1){var n=t.type;if(on(n))return rS(t,n,e)}return e}function sI(t,e,n,r,i,s,a,c,u){return t=p_(n,r,!0,t,i,s,a,c,u),t.context=iI(null),n=t.current,r=Yt(),i=wi(n),s=Or(r,i),s.callback=e??null,_i(n,s,i),t.current.lanes=i,eu(t,i,r),an(t,r),t}function Ld(t,e,n,r){var i=e.current,s=Yt(),a=wi(i);return n=iI(n),e.context===null?e.context=n:e.pendingContext=n,e=Or(s,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=_i(i,e,a),t!==null&&(Un(t,i,a,s),Fc(t,i,a)),a}function Lh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Ew(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function m_(t,e){Ew(t,e),(t=t.alternate)&&Ew(t,e)}function Xk(){return null}var oI=typeof reportError=="function"?reportError:function(t){console.error(t)};function g_(t){this._internalRoot=t}Md.prototype.render=g_.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error($(409));Ld(t,e,null,null)};Md.prototype.unmount=g_.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ps(function(){Ld(null,t,null,null)}),e[Dr]=null}};function Md(t){this._internalRoot=t}Md.prototype.unstable_scheduleHydration=function(t){if(t){var e=DT();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ii.length&&e!==0&&e<ii[n].priority;n++);ii.splice(n,0,t),n===0&&FT(t)}};function v_(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Nd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Tw(){}function Jk(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var d=Lh(a);s.call(d)}}var a=sI(e,r,t,0,null,!1,!1,"",Tw);return t._reactRootContainer=a,t[Dr]=a.current,_l(t.nodeType===8?t.parentNode:t),ps(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var c=r;r=function(){var d=Lh(u);c.call(d)}}var u=p_(t,0,!1,null,null,!1,!1,"",Tw);return t._reactRootContainer=u,t[Dr]=u.current,_l(t.nodeType===8?t.parentNode:t),ps(function(){Ld(e,u,n,r)}),u}function Dd(t,e,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var c=i;i=function(){var u=Lh(a);c.call(u)}}Ld(e,a,t,i)}else a=Jk(n,e,t,i,r);return Lh(a)}MT=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ka(e.pendingLanes);n!==0&&(Dv(e,n|1),an(e,nt()),!(Ce&6)&&(Po=nt()+500,Vi()))}break;case 13:ps(function(){var r=Vr(t,1);if(r!==null){var i=Yt();Un(r,t,1,i)}}),m_(t,1)}};Vv=function(t){if(t.tag===13){var e=Vr(t,134217728);if(e!==null){var n=Yt();Un(e,t,134217728,n)}m_(t,134217728)}};NT=function(t){if(t.tag===13){var e=wi(t),n=Vr(t,e);if(n!==null){var r=Yt();Un(n,t,e,r)}m_(t,e)}};DT=function(){return ke};VT=function(t,e){var n=ke;try{return ke=t,e()}finally{ke=n}};Um=function(t,e,n){switch(e){case"input":if(Dm(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Cd(r);if(!i)throw Error($(90));pT(r),Dm(r,i)}}}break;case"textarea":gT(t,n);break;case"select":e=n.value,e!=null&&oo(t,!!n.multiple,e,!1)}};ST=c_;IT=ps;var eO={usingClientEntryPoint:!1,Events:[nu,Ys,Cd,ET,TT,c_]},Sa={findFiberByHostInstance:Ji,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},tO={bundleType:Sa.bundleType,version:Sa.version,rendererPackageName:Sa.rendererPackageName,rendererConfig:Sa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Hr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=xT(t),t===null?null:t.stateNode},findFiberByHostInstance:Sa.findFiberByHostInstance||Xk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var mc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mc.isDisabled&&mc.supportsFiber)try{Td=mc.inject(tO),ur=mc}catch{}}En.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eO;En.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v_(e))throw Error($(200));return Yk(t,e,null,n)};En.createRoot=function(t,e){if(!v_(t))throw Error($(299));var n=!1,r="",i=oI;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=p_(t,1,!1,null,null,n,!1,r,i),t[Dr]=e.current,_l(t.nodeType===8?t.parentNode:t),new g_(e)};En.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error($(188)):(t=Object.keys(t).join(","),Error($(268,t)));return t=xT(e),t=t===null?null:t.stateNode,t};En.flushSync=function(t){return ps(t)};En.hydrate=function(t,e,n){if(!Nd(e))throw Error($(200));return Dd(null,t,e,!0,n)};En.hydrateRoot=function(t,e,n){if(!v_(t))throw Error($(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",a=oI;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=sI(e,null,t,1,n??null,i,!1,s,a),t[Dr]=e.current,_l(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Md(e)};En.render=function(t,e,n){if(!Nd(e))throw Error($(200));return Dd(null,t,e,!1,n)};En.unmountComponentAtNode=function(t){if(!Nd(t))throw Error($(40));return t._reactRootContainer?(ps(function(){Dd(null,null,t,!1,function(){t._reactRootContainer=null,t[Dr]=null})}),!0):!1};En.unstable_batchedUpdates=c_;En.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Nd(n))throw Error($(200));if(t==null||t._reactInternals===void 0)throw Error($(38));return Dd(t,e,n,!1,r)};En.version="18.2.0-next-9e3b772b8-20220608";function aI(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(aI)}catch(t){console.error(t)}}aI(),sT.exports=En;var lI=sT.exports,Sw=lI;Rm.createRoot=Sw.createRoot,Rm.hydrateRoot=Sw.hydrateRoot;/**
 * @remix-run/router v1.15.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function xl(){return xl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xl.apply(this,arguments)}var di;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(di||(di={}));const Iw="popstate";function nO(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:a,hash:c}=r.location;return Tg("",{pathname:s,search:a,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Mh(i)}return iO(e,n,null,t)}function Ze(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function uI(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function rO(){return Math.random().toString(36).substr(2,8)}function Pw(t,e){return{usr:t.state,key:t.key,idx:e}}function Tg(t,e,n,r){return n===void 0&&(n=null),xl({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Bo(e):e,{state:n,key:e&&e.key||r||rO()})}function Mh(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Bo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function iO(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,c=di.Pop,u=null,d=p();d==null&&(d=0,a.replaceState(xl({},a.state,{idx:d}),""));function p(){return(a.state||{idx:null}).idx}function m(){c=di.Pop;let S=p(),w=S==null?null:S-d;d=S,u&&u({action:c,location:T.location,delta:w})}function v(S,w){c=di.Push;let E=Tg(T.location,S,w);n&&n(E,S),d=p()+1;let P=Pw(E,d),x=T.createHref(E);try{a.pushState(P,"",x)}catch(A){if(A instanceof DOMException&&A.name==="DataCloneError")throw A;i.location.assign(x)}s&&u&&u({action:c,location:T.location,delta:1})}function y(S,w){c=di.Replace;let E=Tg(T.location,S,w);n&&n(E,S),d=p();let P=Pw(E,d),x=T.createHref(E);a.replaceState(P,"",x),s&&u&&u({action:c,location:T.location,delta:0})}function C(S){let w=i.location.origin!=="null"?i.location.origin:i.location.href,E=typeof S=="string"?S:Mh(S);return E=E.replace(/ $/,"%20"),Ze(w,"No window.location.(origin|href) available to create URL for href: "+E),new URL(E,w)}let T={get action(){return c},get location(){return t(i,a)},listen(S){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(Iw,m),u=S,()=>{i.removeEventListener(Iw,m),u=null}},createHref(S){return e(i,S)},createURL:C,encodeLocation(S){let w=C(S);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:v,replace:y,go(S){return a.go(S)}};return T}var Cw;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Cw||(Cw={}));function sO(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?Bo(e):e,i=Co(r.pathname||"/",n);if(i==null)return null;let s=cI(t);oO(s);let a=null;for(let c=0;a==null&&c<s.length;++c){let u=vO(i);a=mO(s[c],u)}return a}function cI(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,a,c)=>{let u={relativePath:c===void 0?s.path||"":c,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};u.relativePath.startsWith("/")&&(Ze(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let d=Ti([r,u.relativePath]),p=n.concat(u);s.children&&s.children.length>0&&(Ze(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),cI(s.children,e,p,d)),!(s.path==null&&!s.index)&&e.push({path:d,score:fO(d,s.index),routesMeta:p})};return t.forEach((s,a)=>{var c;if(s.path===""||!((c=s.path)!=null&&c.includes("?")))i(s,a);else for(let u of hI(s.path))i(s,a,u)}),e}function hI(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let a=hI(r.join("/")),c=[];return c.push(...a.map(u=>u===""?s:[s,u].join("/"))),i&&c.push(...a),c.map(u=>t.startsWith("/")&&u===""?"/":u)}function oO(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:pO(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const aO=/^:[\w-]+$/,lO=3,uO=2,cO=1,hO=10,dO=-2,xw=t=>t==="*";function fO(t,e){let n=t.split("/"),r=n.length;return n.some(xw)&&(r+=dO),e&&(r+=uO),n.filter(i=>!xw(i)).reduce((i,s)=>i+(aO.test(s)?lO:s===""?cO:hO),r)}function pO(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function mO(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let a=0;a<n.length;++a){let c=n[a],u=a===n.length-1,d=i==="/"?e:e.slice(i.length)||"/",p=Sg({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d);if(!p)return null;Object.assign(r,p.params);let m=c.route;s.push({params:r,pathname:Ti([i,p.pathname]),pathnameBase:EO(Ti([i,p.pathnameBase])),route:m}),p.pathnameBase!=="/"&&(i=Ti([i,p.pathnameBase]))}return s}function Sg(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=gO(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:r.reduce((d,p,m)=>{let{paramName:v,isOptional:y}=p;if(v==="*"){let T=c[m]||"";a=s.slice(0,s.length-T.length).replace(/(.)\/+$/,"$1")}const C=c[m];return y&&!C?d[v]=void 0:d[v]=(C||"").replace(/%2F/g,"/"),d},{}),pathname:s,pathnameBase:a,pattern:t}}function gO(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),uI(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,c,u)=>(r.push({paramName:c,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function vO(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return uI(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Co(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function _O(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Bo(t):t;return{pathname:n?n.startsWith("/")?n:yO(n,e):e,search:TO(r),hash:SO(i)}}function yO(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Qp(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function wO(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function __(t,e){let n=wO(t);return e?n.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function y_(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Bo(t):(i=xl({},t),Ze(!i.pathname||!i.pathname.includes("?"),Qp("?","pathname","search",i)),Ze(!i.pathname||!i.pathname.includes("#"),Qp("#","pathname","hash",i)),Ze(!i.search||!i.search.includes("#"),Qp("#","search","hash",i)));let s=t===""||i.pathname==="",a=s?"/":i.pathname,c;if(a==null)c=n;else{let m=e.length-1;if(!r&&a.startsWith("..")){let v=a.split("/");for(;v[0]==="..";)v.shift(),m-=1;i.pathname=v.join("/")}c=m>=0?e[m]:"/"}let u=_O(i,c),d=a&&a!=="/"&&a.endsWith("/"),p=(s||a===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(d||p)&&(u.pathname+="/"),u}const Ti=t=>t.join("/").replace(/\/\/+/g,"/"),EO=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),TO=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,SO=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function IO(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const dI=["post","put","patch","delete"];new Set(dI);const PO=["get",...dI];new Set(PO);/**
 * React Router v6.22.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function bl(){return bl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bl.apply(this,arguments)}const Vd=R.createContext(null),fI=R.createContext(null),Wr=R.createContext(null),Fd=R.createContext(null),qr=R.createContext({outlet:null,matches:[],isDataRoute:!1}),pI=R.createContext(null);function CO(t,e){let{relative:n}=e===void 0?{}:e;Uo()||Ze(!1);let{basename:r,navigator:i}=R.useContext(Wr),{hash:s,pathname:a,search:c}=zd(t,{relative:n}),u=a;return r!=="/"&&(u=a==="/"?r:Ti([r,a])),i.createHref({pathname:u,search:c,hash:s})}function Uo(){return R.useContext(Fd)!=null}function Ho(){return Uo()||Ze(!1),R.useContext(Fd).location}function mI(t){R.useContext(Wr).static||R.useLayoutEffect(t)}function Wo(){let{isDataRoute:t}=R.useContext(qr);return t?jO():xO()}function xO(){Uo()||Ze(!1);let t=R.useContext(Vd),{basename:e,future:n,navigator:r}=R.useContext(Wr),{matches:i}=R.useContext(qr),{pathname:s}=Ho(),a=JSON.stringify(__(i,n.v7_relativeSplatPath)),c=R.useRef(!1);return mI(()=>{c.current=!0}),R.useCallback(function(d,p){if(p===void 0&&(p={}),!c.current)return;if(typeof d=="number"){r.go(d);return}let m=y_(d,JSON.parse(a),s,p.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:Ti([e,m.pathname])),(p.replace?r.replace:r.push)(m,p.state,p)},[e,r,a,s,t])}function bO(){let{matches:t}=R.useContext(qr),e=t[t.length-1];return e?e.params:{}}function zd(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=R.useContext(Wr),{matches:i}=R.useContext(qr),{pathname:s}=Ho(),a=JSON.stringify(__(i,r.v7_relativeSplatPath));return R.useMemo(()=>y_(t,JSON.parse(a),s,n==="path"),[t,a,s,n])}function RO(t,e){return AO(t,e)}function AO(t,e,n,r){Uo()||Ze(!1);let{navigator:i}=R.useContext(Wr),{matches:s}=R.useContext(qr),a=s[s.length-1],c=a?a.params:{};a&&a.pathname;let u=a?a.pathnameBase:"/";a&&a.route;let d=Ho(),p;if(e){var m;let S=typeof e=="string"?Bo(e):e;u==="/"||(m=S.pathname)!=null&&m.startsWith(u)||Ze(!1),p=S}else p=d;let v=p.pathname||"/",y=v;if(u!=="/"){let S=u.replace(/^\//,"").split("/");y="/"+v.replace(/^\//,"").split("/").slice(S.length).join("/")}let C=sO(t,{pathname:y}),T=NO(C&&C.map(S=>Object.assign({},S,{params:Object.assign({},c,S.params),pathname:Ti([u,i.encodeLocation?i.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?u:Ti([u,i.encodeLocation?i.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),s,n,r);return e&&T?R.createElement(Fd.Provider,{value:{location:bl({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:di.Pop}},T):T}function kO(){let t=zO(),e=IO(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return R.createElement(R.Fragment,null,R.createElement("h2",null,"Unexpected Application Error!"),R.createElement("h3",{style:{fontStyle:"italic"}},e),n?R.createElement("pre",{style:i},n):null,null)}const OO=R.createElement(kO,null);class LO extends R.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?R.createElement(qr.Provider,{value:this.props.routeContext},R.createElement(pI.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function MO(t){let{routeContext:e,match:n,children:r}=t,i=R.useContext(Vd);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),R.createElement(qr.Provider,{value:e},r)}function NO(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if((s=n)!=null&&s.errors)t=n.matches;else return null}let a=t,c=(i=n)==null?void 0:i.errors;if(c!=null){let p=a.findIndex(m=>m.route.id&&(c==null?void 0:c[m.route.id]));p>=0||Ze(!1),a=a.slice(0,Math.min(a.length,p+1))}let u=!1,d=-1;if(n&&r&&r.v7_partialHydration)for(let p=0;p<a.length;p++){let m=a[p];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(d=p),m.route.id){let{loaderData:v,errors:y}=n,C=m.route.loader&&v[m.route.id]===void 0&&(!y||y[m.route.id]===void 0);if(m.route.lazy||C){u=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((p,m,v)=>{let y,C=!1,T=null,S=null;n&&(y=c&&m.route.id?c[m.route.id]:void 0,T=m.route.errorElement||OO,u&&(d<0&&v===0?($O("route-fallback",!1),C=!0,S=null):d===v&&(C=!0,S=m.route.hydrateFallbackElement||null)));let w=e.concat(a.slice(0,v+1)),E=()=>{let P;return y?P=T:C?P=S:m.route.Component?P=R.createElement(m.route.Component,null):m.route.element?P=m.route.element:P=p,R.createElement(MO,{match:m,routeContext:{outlet:p,matches:w,isDataRoute:n!=null},children:P})};return n&&(m.route.ErrorBoundary||m.route.errorElement||v===0)?R.createElement(LO,{location:n.location,revalidation:n.revalidation,component:T,error:y,children:E(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):E()},null)}var gI=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(gI||{}),Nh=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Nh||{});function DO(t){let e=R.useContext(Vd);return e||Ze(!1),e}function VO(t){let e=R.useContext(fI);return e||Ze(!1),e}function FO(t){let e=R.useContext(qr);return e||Ze(!1),e}function vI(t){let e=FO(),n=e.matches[e.matches.length-1];return n.route.id||Ze(!1),n.route.id}function zO(){var t;let e=R.useContext(pI),n=VO(Nh.UseRouteError),r=vI(Nh.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function jO(){let{router:t}=DO(gI.UseNavigateStable),e=vI(Nh.UseNavigateStable),n=R.useRef(!1);return mI(()=>{n.current=!0}),R.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,bl({fromRouteId:e},s)))},[t,e])}const bw={};function $O(t,e,n){!e&&!bw[t]&&(bw[t]=!0)}function BO(t){let{to:e,replace:n,state:r,relative:i}=t;Uo()||Ze(!1);let{future:s,static:a}=R.useContext(Wr),{matches:c}=R.useContext(qr),{pathname:u}=Ho(),d=Wo(),p=y_(e,__(c,s.v7_relativeSplatPath),u,i==="path"),m=JSON.stringify(p);return R.useEffect(()=>d(JSON.parse(m),{replace:n,state:r,relative:i}),[d,m,i,n,r]),null}function La(t){Ze(!1)}function UO(t){let{basename:e="/",children:n=null,location:r,navigationType:i=di.Pop,navigator:s,static:a=!1,future:c}=t;Uo()&&Ze(!1);let u=e.replace(/^\/*/,"/"),d=R.useMemo(()=>({basename:u,navigator:s,static:a,future:bl({v7_relativeSplatPath:!1},c)}),[u,c,s,a]);typeof r=="string"&&(r=Bo(r));let{pathname:p="/",search:m="",hash:v="",state:y=null,key:C="default"}=r,T=R.useMemo(()=>{let S=Co(p,u);return S==null?null:{location:{pathname:S,search:m,hash:v,state:y,key:C},navigationType:i}},[u,p,m,v,y,C,i]);return T==null?null:R.createElement(Wr.Provider,{value:d},R.createElement(Fd.Provider,{children:n,value:T}))}function HO(t){let{children:e,location:n}=t;return RO(Ig(e),n)}new Promise(()=>{});function Ig(t,e){e===void 0&&(e=[]);let n=[];return R.Children.forEach(t,(r,i)=>{if(!R.isValidElement(r))return;let s=[...e,i];if(r.type===R.Fragment){n.push.apply(n,Ig(r.props.children,s));return}r.type!==La&&Ze(!1),!r.props.index||!r.props.children||Ze(!1);let a={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=Ig(r.props.children,s)),n.push(a)}),n}/**
 * React Router DOM v6.22.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Dh(){return Dh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Dh.apply(this,arguments)}function _I(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function WO(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function qO(t,e){return t.button===0&&(!e||e==="_self")&&!WO(t)}const GO=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],KO=["aria-current","caseSensitive","className","end","style","to","unstable_viewTransition","children"],ZO="6";try{window.__reactRouterVersion=ZO}catch{}const QO=R.createContext({isTransitioning:!1}),YO="startTransition",Rw=ul[YO];function XO(t){let{basename:e,children:n,future:r,window:i}=t,s=R.useRef();s.current==null&&(s.current=nO({window:i,v5Compat:!0}));let a=s.current,[c,u]=R.useState({action:a.action,location:a.location}),{v7_startTransition:d}=r||{},p=R.useCallback(m=>{d&&Rw?Rw(()=>u(m)):u(m)},[u,d]);return R.useLayoutEffect(()=>a.listen(p),[a,p]),R.createElement(UO,{basename:e,children:n,location:c.location,navigationType:c.action,navigator:a,future:r})}const JO=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",e3=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,iu=R.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:a,state:c,target:u,to:d,preventScrollReset:p,unstable_viewTransition:m}=e,v=_I(e,GO),{basename:y}=R.useContext(Wr),C,T=!1;if(typeof d=="string"&&e3.test(d)&&(C=d,JO))try{let P=new URL(window.location.href),x=d.startsWith("//")?new URL(P.protocol+d):new URL(d),A=Co(x.pathname,y);x.origin===P.origin&&A!=null?d=A+x.search+x.hash:T=!0}catch{}let S=CO(d,{relative:i}),w=n3(d,{replace:a,state:c,target:u,preventScrollReset:p,relative:i,unstable_viewTransition:m});function E(P){r&&r(P),P.defaultPrevented||w(P)}return R.createElement("a",Dh({},v,{href:C||S,onClick:T||s?r:E,ref:n,target:u}))}),Yp=R.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:a=!1,style:c,to:u,unstable_viewTransition:d,children:p}=e,m=_I(e,KO),v=zd(u,{relative:m.relative}),y=Ho(),C=R.useContext(fI),{navigator:T,basename:S}=R.useContext(Wr),w=C!=null&&r3(v)&&d===!0,E=T.encodeLocation?T.encodeLocation(v).pathname:v.pathname,P=y.pathname,x=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;i||(P=P.toLowerCase(),x=x?x.toLowerCase():null,E=E.toLowerCase()),x&&S&&(x=Co(x,S)||x);const A=E!=="/"&&E.endsWith("/")?E.length-1:E.length;let O=P===E||!a&&P.startsWith(E)&&P.charAt(A)==="/",M=x!=null&&(x===E||!a&&x.startsWith(E)&&x.charAt(E.length)==="/"),D={isActive:O,isPending:M,isTransitioning:w},Z=O?r:void 0,G;typeof s=="function"?G=s(D):G=[s,O?"active":null,M?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let le=typeof c=="function"?c(D):c;return R.createElement(iu,Dh({},m,{"aria-current":Z,className:G,ref:n,style:le,to:u,unstable_viewTransition:d}),typeof p=="function"?p(D):p)});var Pg;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Pg||(Pg={}));var Aw;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Aw||(Aw={}));function t3(t){let e=R.useContext(Vd);return e||Ze(!1),e}function n3(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:a,unstable_viewTransition:c}=e===void 0?{}:e,u=Wo(),d=Ho(),p=zd(t,{relative:a});return R.useCallback(m=>{if(qO(m,n)){m.preventDefault();let v=r!==void 0?r:Mh(d)===Mh(p);u(t,{replace:v,state:i,preventScrollReset:s,relative:a,unstable_viewTransition:c})}},[d,u,p,r,i,n,t,s,a,c])}function r3(t,e){e===void 0&&(e={});let n=R.useContext(QO);n==null&&Ze(!1);let{basename:r}=t3(Pg.useViewTransitionState),i=zd(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=Co(n.currentLocation.pathname,r)||n.currentLocation.pathname,a=Co(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Sg(i.pathname,a)!=null||Sg(i.pathname,s)!=null}var yI={exports:{}},wI={};/**
 * @license React
 * use-sync-external-store-with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var su=R;function i3(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var s3=typeof Object.is=="function"?Object.is:i3,o3=su.useSyncExternalStore,a3=su.useRef,l3=su.useEffect,u3=su.useMemo,c3=su.useDebugValue;wI.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=a3(null);if(s.current===null){var a={hasValue:!1,value:null};s.current=a}else a=s.current;s=u3(function(){function u(y){if(!d){if(d=!0,p=y,y=r(y),i!==void 0&&a.hasValue){var C=a.value;if(i(C,y))return m=C}return m=y}if(C=m,s3(p,y))return C;var T=r(y);return i!==void 0&&i(C,T)?C:(p=y,m=T)}var d=!1,p,m,v=n===void 0?null:n;return[function(){return u(e())},v===null?void 0:function(){return u(v())}]},[e,n,r,i]);var c=o3(t,s[0],s[1]);return l3(function(){a.hasValue=!0,a.value=c},[c]),c3(c),c};yI.exports=wI;var h3=yI.exports,fn="default"in ul?lr:ul,kw=Symbol.for("react-redux-context"),Ow=typeof globalThis<"u"?globalThis:{};function d3(){if(!fn.createContext)return{};const t=Ow[kw]??(Ow[kw]=new Map);let e=t.get(fn.createContext);return e||(e=fn.createContext(null),t.set(fn.createContext,e)),e}var Ri=d3(),f3=()=>{throw new Error("uSES not initialized!")};function w_(t=Ri){return function(){return fn.useContext(t)}}var EI=w_(),TI=f3,p3=t=>{TI=t},m3=(t,e)=>t===e;function g3(t=Ri){const e=t===Ri?EI:w_(t),n=(r,i={})=>{const{equalityFn:s=m3,devModeChecks:a={}}=typeof i=="function"?{equalityFn:i}:i,{store:c,subscription:u,getServerState:d,stabilityCheck:p,identityFunctionCheck:m}=e();fn.useRef(!0);const v=fn.useCallback({[r.name](C){return r(C)}}[r.name],[r,p,a.stabilityCheck]),y=TI(u.addNestedSub,c.getState,d||c.getState,v,s);return fn.useDebugValue(y),y};return Object.assign(n,{withTypes:()=>n}),n}var ct=g3();function v3(t){t()}function _3(){let t=null,e=null;return{clear(){t=null,e=null},notify(){v3(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var Lw={notify(){},get:()=>[]};function y3(t,e){let n,r=Lw,i=0,s=!1;function a(T){p();const S=r.subscribe(T);let w=!1;return()=>{w||(w=!0,S(),m())}}function c(){r.notify()}function u(){C.onStateChange&&C.onStateChange()}function d(){return s}function p(){i++,n||(n=e?e.addNestedSub(u):t.subscribe(u),r=_3())}function m(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=Lw)}function v(){s||(s=!0,p())}function y(){s&&(s=!1,m())}const C={addNestedSub:a,notifyNestedSubs:c,handleChangeWrapper:u,isSubscribed:d,trySubscribe:v,tryUnsubscribe:y,getListeners:()=>r};return C}var w3=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",E3=w3?fn.useLayoutEffect:fn.useEffect;function T3({store:t,context:e,children:n,serverState:r,stabilityCheck:i="once",identityFunctionCheck:s="once"}){const a=fn.useMemo(()=>{const d=y3(t);return{store:t,subscription:d,getServerState:r?()=>r:void 0,stabilityCheck:i,identityFunctionCheck:s}},[t,r,i,s]),c=fn.useMemo(()=>t.getState(),[t]);E3(()=>{const{subscription:d}=a;return d.onStateChange=d.notifyNestedSubs,d.trySubscribe(),c!==t.getState()&&d.notifyNestedSubs(),()=>{d.tryUnsubscribe(),d.onStateChange=void 0}},[a,c]);const u=e||Ri;return fn.createElement(u.Provider,{value:a},n)}var S3=T3;function SI(t=Ri){const e=t===Ri?EI:w_(t),n=()=>{const{store:r}=e();return r};return Object.assign(n,{withTypes:()=>n}),n}var I3=SI();function P3(t=Ri){const e=t===Ri?I3:SI(t),n=()=>e().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var Zn=P3();p3(h3.useSyncExternalStoreWithSelector);var II={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Mw=lr.createContext&&lr.createContext(II),C3=["attr","size","title"];function x3(t,e){if(t==null)return{};var n=b3(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function b3(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Vh(){return Vh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vh.apply(this,arguments)}function Nw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Nw(Object(n),!0).forEach(function(r){R3(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Nw(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function R3(t,e,n){return e=A3(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function A3(t){var e=k3(t,"string");return typeof e=="symbol"?e:String(e)}function k3(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function PI(t){return t&&t.map((e,n)=>lr.createElement(e.tag,Fh({key:n},e.attr),PI(e.child)))}function Le(t){return e=>lr.createElement(O3,Vh({attr:Fh({},t.attr)},e),PI(t.child))}function O3(t){var e=n=>{var{attr:r,size:i,title:s}=t,a=x3(t,C3),c=i||n.size||"1em",u;return n.className&&(u=n.className),t.className&&(u=(u?u+" ":"")+t.className),lr.createElement("svg",Vh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,a,{className:u,style:Fh(Fh({color:t.color||n.color},n.style),t.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),s&&lr.createElement("title",null,s),t.children)};return Mw!==void 0?lr.createElement(Mw.Consumer,null,n=>e(n)):e(II)}function L3(t){return Le({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m17 7-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.58L17 17l5-5zM4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4V5z"},child:[]}]})(t)}function M3(t){return Le({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4-8 5-8-5V6l8 5 8-5v2z"},child:[]}]})(t)}function N3(t){return Le({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6z"},child:[]}]})(t)}function D3(t){return Le({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M2 19h20l-2 2H4l-2-2zM5 6h1v1H5V6zm0-2h1v1H5V4zm4 0v1H7V4h2zm0 3H7V6h2v1zm-3 8.23c-.36.11-.69.28-1 .47V8h1v7.23zm-2 1.29c-.38.44-.68.93-.84 1.48h16.82c.01-.16.03-.33.03-.5a5.497 5.497 0 0 0-10.58-2.1c-.59-.25-1.24-.4-1.93-.4-.17 0-.33.02-.5.04V8h2c1.03.06 1.9-.96 2-2h10V5H11c-.1-1.05-.97-1.97-2-2H3v1h1v1H3v1h1v1H3v1h1v8.52z"},child:[]}]})(t)}function CI(t){return Le({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"},child:[]}]})(t)}function V3(t){return Le({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M16 6v8h3v8h2V2c-2.76 0-5 2.24-5 4zm-5 3H9V2H7v7H5V2H3v7c0 2.21 1.79 4 4 4v9h2v-9c2.21 0 4-1.79 4-4V2h-2v7z"},child:[]}]})(t)}function F3(t){return Le({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m12 5.5 6 4.5v9H6v-9l6-4.5M12 3 4 9v12h16V9l-8-6zm-.5 6.5v3H11v-3h-1v3h-.5v-3h-1v3c0 .83.67 1.5 1.5 1.5v4h1v-4c.83 0 1.5-.67 1.5-1.5v-3h-1zm1.5 2v3h1V18h1V9.5c-1.1 0-2 .9-2 2z"},child:[]}]})(t)}function Ct(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var z3=typeof Symbol=="function"&&Symbol.observable||"@@observable",Dw=z3,Xp=()=>Math.random().toString(36).substring(7).split("").join("."),j3={INIT:`@@redux/INIT${Xp()}`,REPLACE:`@@redux/REPLACE${Xp()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Xp()}`},zh=j3;function E_(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function xI(t,e,n){if(typeof t!="function")throw new Error(Ct(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Ct(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Ct(1));return n(xI)(t,e)}let r=t,i=e,s=new Map,a=s,c=0,u=!1;function d(){a===s&&(a=new Map,s.forEach((S,w)=>{a.set(w,S)}))}function p(){if(u)throw new Error(Ct(3));return i}function m(S){if(typeof S!="function")throw new Error(Ct(4));if(u)throw new Error(Ct(5));let w=!0;d();const E=c++;return a.set(E,S),function(){if(w){if(u)throw new Error(Ct(6));w=!1,d(),a.delete(E),s=null}}}function v(S){if(!E_(S))throw new Error(Ct(7));if(typeof S.type>"u")throw new Error(Ct(8));if(typeof S.type!="string")throw new Error(Ct(17));if(u)throw new Error(Ct(9));try{u=!0,i=r(i,S)}finally{u=!1}return(s=a).forEach(E=>{E()}),S}function y(S){if(typeof S!="function")throw new Error(Ct(10));r=S,v({type:zh.REPLACE})}function C(){const S=m;return{subscribe(w){if(typeof w!="object"||w===null)throw new Error(Ct(11));function E(){const x=w;x.next&&x.next(p())}return E(),{unsubscribe:S(E)}},[Dw](){return this}}}return v({type:zh.INIT}),{dispatch:v,subscribe:m,getState:p,replaceReducer:y,[Dw]:C}}function $3(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:zh.INIT})>"u")throw new Error(Ct(12));if(typeof n(void 0,{type:zh.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Ct(13))})}function B3(t){const e=Object.keys(t),n={};for(let s=0;s<e.length;s++){const a=e[s];typeof t[a]=="function"&&(n[a]=t[a])}const r=Object.keys(n);let i;try{$3(n)}catch(s){i=s}return function(a={},c){if(i)throw i;let u=!1;const d={};for(let p=0;p<r.length;p++){const m=r[p],v=n[m],y=a[m],C=v(y,c);if(typeof C>"u")throw c&&c.type,new Error(Ct(14));d[m]=C,u=u||C!==y}return u=u||r.length!==Object.keys(a).length,u?d:a}}function jh(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function U3(...t){return e=>(n,r)=>{const i=e(n,r);let s=()=>{throw new Error(Ct(15))};const a={getState:i.getState,dispatch:(u,...d)=>s(u,...d)},c=t.map(u=>u(a));return s=jh(...c)(i.dispatch),{...i,dispatch:s}}}function H3(t){return E_(t)&&"type"in t&&typeof t.type=="string"}var bI=Symbol.for("immer-nothing"),Vw=Symbol.for("immer-draftable"),_n=Symbol.for("immer-state");function $n(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var xo=Object.getPrototypeOf;function Ai(t){return!!t&&!!t[_n]}function zr(t){var e;return t?RI(t)||Array.isArray(t)||!!t[Vw]||!!((e=t.constructor)!=null&&e[Vw])||$d(t)||Bd(t):!1}var W3=Object.prototype.constructor.toString();function RI(t){if(!t||typeof t!="object")return!1;const e=xo(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===W3}function $h(t,e){jd(t)===0?Reflect.ownKeys(t).forEach(n=>{e(n,t[n],t)}):t.forEach((n,r)=>e(r,n,t))}function jd(t){const e=t[_n];return e?e.type_:Array.isArray(t)?1:$d(t)?2:Bd(t)?3:0}function Cg(t,e){return jd(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function AI(t,e,n){const r=jd(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function q3(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function $d(t){return t instanceof Map}function Bd(t){return t instanceof Set}function Qi(t){return t.copy_||t.base_}function xg(t,e){if($d(t))return new Map(t);if(Bd(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);if(!e&&RI(t))return xo(t)?{...t}:Object.assign(Object.create(null),t);const n=Object.getOwnPropertyDescriptors(t);delete n[_n];let r=Reflect.ownKeys(n);for(let i=0;i<r.length;i++){const s=r[i],a=n[s];a.writable===!1&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(n[s]={configurable:!0,writable:!0,enumerable:a.enumerable,value:t[s]})}return Object.create(xo(t),n)}function T_(t,e=!1){return Ud(t)||Ai(t)||!zr(t)||(jd(t)>1&&(t.set=t.add=t.clear=t.delete=G3),Object.freeze(t),e&&Object.entries(t).forEach(([n,r])=>T_(r,!0))),t}function G3(){$n(2)}function Ud(t){return Object.isFrozen(t)}var K3={};function ms(t){const e=K3[t];return e||$n(0,t),e}var Rl;function kI(){return Rl}function Z3(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Fw(t,e){e&&(ms("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function bg(t){Rg(t),t.drafts_.forEach(Q3),t.drafts_=null}function Rg(t){t===Rl&&(Rl=t.parent_)}function zw(t){return Rl=Z3(Rl,t)}function Q3(t){const e=t[_n];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function jw(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[_n].modified_&&(bg(e),$n(4)),zr(t)&&(t=Bh(e,t),e.parent_||Uh(e,t)),e.patches_&&ms("Patches").generateReplacementPatches_(n[_n].base_,t,e.patches_,e.inversePatches_)):t=Bh(e,n,[]),bg(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==bI?t:void 0}function Bh(t,e,n){if(Ud(e))return e;const r=e[_n];if(!r)return $h(e,(i,s)=>$w(t,r,e,i,s,n)),e;if(r.scope_!==t)return e;if(!r.modified_)return Uh(t,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let s=i,a=!1;r.type_===3&&(s=new Set(i),i.clear(),a=!0),$h(s,(c,u)=>$w(t,r,i,c,u,n,a)),Uh(t,i,!1),n&&t.patches_&&ms("Patches").generatePatches_(r,n,t.patches_,t.inversePatches_)}return r.copy_}function $w(t,e,n,r,i,s,a){if(Ai(i)){const c=s&&e&&e.type_!==3&&!Cg(e.assigned_,r)?s.concat(r):void 0,u=Bh(t,i,c);if(AI(n,r,u),Ai(u))t.canAutoFreeze_=!1;else return}else a&&n.add(i);if(zr(i)&&!Ud(i)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;Bh(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,r)&&Uh(t,i)}}function Uh(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&T_(e,n)}function Y3(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:kI(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=S_;n&&(i=[r],s=Al);const{revoke:a,proxy:c}=Proxy.revocable(i,s);return r.draft_=c,r.revoke_=a,c}var S_={get(t,e){if(e===_n)return t;const n=Qi(t);if(!Cg(n,e))return X3(t,n,e);const r=n[e];return t.finalized_||!zr(r)?r:r===Jp(t.base_,e)?(em(t),t.copy_[e]=kg(r,t)):r},has(t,e){return e in Qi(t)},ownKeys(t){return Reflect.ownKeys(Qi(t))},set(t,e,n){const r=OI(Qi(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=Jp(Qi(t),e),s=i==null?void 0:i[_n];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(q3(n,i)&&(n!==void 0||Cg(t.base_,e)))return!0;em(t),Ag(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return Jp(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,em(t),Ag(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Qi(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){$n(11)},getPrototypeOf(t){return xo(t.base_)},setPrototypeOf(){$n(12)}},Al={};$h(S_,(t,e)=>{Al[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Al.deleteProperty=function(t,e){return Al.set.call(this,t,e,void 0)};Al.set=function(t,e,n){return S_.set.call(this,t[0],e,n,t[0])};function Jp(t,e){const n=t[_n];return(n?Qi(n):t)[e]}function X3(t,e,n){var i;const r=OI(e,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function OI(t,e){if(!(e in t))return;let n=xo(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=xo(n)}}function Ag(t){t.modified_||(t.modified_=!0,t.parent_&&Ag(t.parent_))}function em(t){t.copy_||(t.copy_=xg(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var J3=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const s=n;n=e;const a=this;return function(u=s,...d){return a.produce(u,p=>n.call(this,p,...d))}}typeof n!="function"&&$n(6),r!==void 0&&typeof r!="function"&&$n(7);let i;if(zr(e)){const s=zw(this),a=kg(e,void 0);let c=!0;try{i=n(a),c=!1}finally{c?bg(s):Rg(s)}return Fw(s,r),jw(i,s)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===bI&&(i=void 0),this.autoFreeze_&&T_(i,!0),r){const s=[],a=[];ms("Patches").generateReplacementPatches_(e,i,s,a),r(s,a)}return i}else $n(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(a,...c)=>this.produceWithPatches(a,u=>e(u,...c));let r,i;return[this.produce(e,n,(a,c)=>{r=a,i=c}),r,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){zr(t)||$n(8),Ai(t)&&(t=LI(t));const e=zw(this),n=kg(t,void 0);return n[_n].isManual_=!0,Rg(e),n}finishDraft(t,e){const n=t&&t[_n];(!n||!n.isManual_)&&$n(9);const{scope_:r}=n;return Fw(r,e),jw(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=ms("Patches").applyPatches_;return Ai(t)?r(t,e):this.produce(t,i=>r(i,e))}};function kg(t,e){const n=$d(t)?ms("MapSet").proxyMap_(t,e):Bd(t)?ms("MapSet").proxySet_(t,e):Y3(t,e);return(e?e.scope_:kI()).drafts_.push(n),n}function LI(t){return Ai(t)||$n(10,t),MI(t)}function MI(t){if(!zr(t)||Ud(t))return t;const e=t[_n];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=xg(t,e.scope_.immer_.useStrictShallowCopy_)}else n=xg(t,!0);return $h(n,(r,i)=>{AI(n,r,MI(i))}),e&&(e.finalized_=!1),n}var yn=new J3,NI=yn.produce;yn.produceWithPatches.bind(yn);yn.setAutoFreeze.bind(yn);yn.setUseStrictShallowCopy.bind(yn);yn.applyPatches.bind(yn);yn.createDraft.bind(yn);yn.finishDraft.bind(yn);function eL(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function tL(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function nL(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var Bw=t=>Array.isArray(t)?t:[t];function rL(t){const e=Array.isArray(t[0])?t[0]:t;return nL(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function iL(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var sL=class{constructor(t){this.value=t}deref(){return this.value}},oL=typeof WeakRef<"u"?WeakRef:sL,aL=0,Uw=1;function gc(){return{s:aL,v:void 0,o:null,p:null}}function I_(t,e={}){let n=gc();const{resultEqualityCheck:r}=e;let i,s=0;function a(){var m;let c=n;const{length:u}=arguments;for(let v=0,y=u;v<y;v++){const C=arguments[v];if(typeof C=="function"||typeof C=="object"&&C!==null){let T=c.o;T===null&&(c.o=T=new WeakMap);const S=T.get(C);S===void 0?(c=gc(),T.set(C,c)):c=S}else{let T=c.p;T===null&&(c.p=T=new Map);const S=T.get(C);S===void 0?(c=gc(),T.set(C,c)):c=S}}const d=c;let p;if(c.s===Uw?p=c.v:(p=t.apply(null,arguments),s++),d.s=Uw,r){const v=((m=i==null?void 0:i.deref)==null?void 0:m.call(i))??i;v!=null&&r(v,p)&&(p=v,s!==0&&s--),i=typeof p=="object"&&p!==null||typeof p=="function"?new oL(p):p}return d.v=p,p}return a.clearCache=()=>{n=gc(),a.resetResultsCount()},a.resultsCount=()=>s,a.resetResultsCount=()=>{s=0},a}function DI(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let s=0,a=0,c,u={},d=i.pop();typeof d=="object"&&(u=d,d=i.pop()),eL(d,`createSelector expects an output function after the inputs, but received: [${typeof d}]`);const p={...n,...u},{memoize:m,memoizeOptions:v=[],argsMemoize:y=I_,argsMemoizeOptions:C=[],devModeChecks:T={}}=p,S=Bw(v),w=Bw(C),E=rL(i),P=m(function(){return s++,d.apply(null,arguments)},...S),x=y(function(){a++;const O=iL(E,arguments);return c=P.apply(null,O),c},...w);return Object.assign(x,{resultFunc:d,memoizedResultFunc:P,dependencies:E,dependencyRecomputations:()=>a,resetDependencyRecomputations:()=>{a=0},lastResult:()=>c,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:m,argsMemoize:y})};return Object.assign(r,{withTypes:()=>r}),r}var lL=DI(I_),uL=Object.assign((t,e=lL)=>{tL(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(s=>t[s]);return e(r,(...s)=>s.reduce((a,c,u)=>(a[n[u]]=c,a),{}))},{withTypes:()=>uL});function VI(t){return({dispatch:n,getState:r})=>i=>s=>typeof s=="function"?s(n,r,t):i(s)}var cL=VI(),hL=VI,dL=(...t)=>{const e=DI(...t),n=Object.assign((...r)=>{const i=e(...r),s=(a,...c)=>i(Ai(a)?LI(a):a,...c);return Object.assign(s,i),s},{withTypes:()=>n});return n};dL(I_);var fL=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?jh:jh.apply(null,arguments)},pL=t=>t&&typeof t.match=="function";function Lr(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(ln(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>H3(r)&&r.type===t,n}var FI=class Ma extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Ma.prototype)}static get[Symbol.species](){return Ma}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Ma(...e[0].concat(this)):new Ma(...e.concat(this))}};function Hw(t){return zr(t)?NI(t,()=>{}):t}function Ww(t,e,n){if(t.has(e)){let i=t.get(e);return n.update&&(i=n.update(i,e,t),t.set(e,i)),i}if(!n.insert)throw new Error(ln(10));const r=n.insert(e,t);return t.set(e,r),r}function mL(t){return typeof t=="boolean"}var gL=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=e??{};let a=new FI;return n&&(mL(n)?a.push(cL):a.push(hL(n.extraArgument))),a},vL="RTK_autoBatch",zI=t=>e=>{setTimeout(e,t)},_L=typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:zI(10),yL=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,s=!1,a=!1;const c=new Set,u=t.type==="tick"?queueMicrotask:t.type==="raf"?_L:t.type==="callback"?t.queueNotification:zI(t.timeout),d=()=>{a=!1,s&&(s=!1,c.forEach(p=>p()))};return Object.assign({},r,{subscribe(p){const m=()=>i&&p(),v=r.subscribe(m);return c.add(p),()=>{v(),c.delete(p)}},dispatch(p){var m;try{return i=!((m=p==null?void 0:p.meta)!=null&&m[vL]),s=!i,s&&(a||(a=!0,u(d))),r.dispatch(p)}finally{i=!0}}})},wL=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new FI(t);return r&&i.push(yL(typeof r=="object"?r:void 0)),i},EL=!0;function TL(t){const e=gL(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:s=void 0,enhancers:a=void 0}=t||{};let c;if(typeof n=="function")c=n;else if(E_(n))c=B3(n);else throw new Error(ln(1));let u;typeof r=="function"?u=r(e):u=e();let d=jh;i&&(d=fL({trace:!EL,...typeof i=="object"&&i}));const p=U3(...u),m=wL(p);let v=typeof a=="function"?a(m):m();const y=d(...v);return xI(c,s,y)}function jI(t){const e={},n=[];let r;const i={addCase(s,a){const c=typeof s=="string"?s:s.type;if(!c)throw new Error(ln(28));if(c in e)throw new Error(ln(29));return e[c]=a,i},addMatcher(s,a){return n.push({matcher:s,reducer:a}),i},addDefaultCase(s){return r=s,i}};return t(i),[e,n,r]}function SL(t){return typeof t=="function"}function IL(t,e){let[n,r,i]=jI(e),s;if(SL(t))s=()=>Hw(t());else{const c=Hw(t);s=()=>c}function a(c=s(),u){let d=[n[u.type],...r.filter(({matcher:p})=>p(u)).map(({reducer:p})=>p)];return d.filter(p=>!!p).length===0&&(d=[i]),d.reduce((p,m)=>{if(m)if(Ai(p)){const y=m(p,u);return y===void 0?p:y}else{if(zr(p))return NI(p,v=>m(v,u));{const v=m(p,u);if(v===void 0){if(p===null)return p;throw new Error(ln(9))}return v}}return p},c)}return a.getInitialState=s,a}var PL="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",$I=(t=21)=>{let e="",n=t;for(;n--;)e+=PL[Math.random()*64|0];return e},CL=(t,e)=>pL(t)?t.match(e):t(e);function xL(...t){return e=>t.some(n=>CL(n,e))}var bL=["name","message","stack","code"],tm=class{constructor(t,e){Sp(this,"_type");this.payload=t,this.meta=e}},qw=class{constructor(t,e){Sp(this,"_type");this.payload=t,this.meta=e}},RL=t=>{if(typeof t=="object"&&t!==null){const e={};for(const n of bL)typeof t[n]=="string"&&(e[n]=t[n]);return e}return{message:String(t)}},Mn=(()=>{function t(e,n,r){const i=Lr(e+"/fulfilled",(u,d,p,m)=>({payload:u,meta:{...m||{},arg:p,requestId:d,requestStatus:"fulfilled"}})),s=Lr(e+"/pending",(u,d,p)=>({payload:void 0,meta:{...p||{},arg:d,requestId:u,requestStatus:"pending"}})),a=Lr(e+"/rejected",(u,d,p,m,v)=>({payload:m,error:(r&&r.serializeError||RL)(u||"Rejected"),meta:{...v||{},arg:p,requestId:d,rejectedWithValue:!!m,requestStatus:"rejected",aborted:(u==null?void 0:u.name)==="AbortError",condition:(u==null?void 0:u.name)==="ConditionError"}}));function c(u){return(d,p,m)=>{const v=r!=null&&r.idGenerator?r.idGenerator(u):$I(),y=new AbortController;let C,T;function S(E){T=E,y.abort()}const w=async function(){var x,A;let E;try{let O=(x=r==null?void 0:r.condition)==null?void 0:x.call(r,u,{getState:p,extra:m});if(kL(O)&&(O=await O),O===!1||y.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const M=new Promise((D,Z)=>{C=()=>{Z({name:"AbortError",message:T||"Aborted"})},y.signal.addEventListener("abort",C)});d(s(v,u,(A=r==null?void 0:r.getPendingMeta)==null?void 0:A.call(r,{requestId:v,arg:u},{getState:p,extra:m}))),E=await Promise.race([M,Promise.resolve(n(u,{dispatch:d,getState:p,extra:m,requestId:v,signal:y.signal,abort:S,rejectWithValue:(D,Z)=>new tm(D,Z),fulfillWithValue:(D,Z)=>new qw(D,Z)})).then(D=>{if(D instanceof tm)throw D;return D instanceof qw?i(D.payload,v,u,D.meta):i(D,v,u)})])}catch(O){E=O instanceof tm?a(null,v,u,O.payload,O.meta):a(O,v,u)}finally{C&&y.signal.removeEventListener("abort",C)}return r&&!r.dispatchConditionRejection&&a.match(E)&&E.meta.condition||d(E),E}();return Object.assign(w,{abort:S,requestId:v,arg:u,unwrap(){return w.then(AL)}})}}return Object.assign(c,{pending:s,rejected:a,fulfilled:i,settled:xL(a,i),typePrefix:e})}return t.withTypes=()=>t,t})();function AL(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}function kL(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}var OL=Symbol.for("rtk-slice-createasyncthunk");function LL(t,e){return`${t}/${e}`}function ML({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[OL];return function(i){const{name:s,reducerPath:a=s}=i;if(!s)throw new Error(ln(11));typeof process<"u";const c=(typeof i.reducers=="function"?i.reducers(DL()):i.reducers)||{},u=Object.keys(c),d={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},p={addCase(P,x){const A=typeof P=="string"?P:P.type;if(!A)throw new Error(ln(12));if(A in d.sliceCaseReducersByType)throw new Error(ln(13));return d.sliceCaseReducersByType[A]=x,p},addMatcher(P,x){return d.sliceMatchers.push({matcher:P,reducer:x}),p},exposeAction(P,x){return d.actionCreators[P]=x,p},exposeCaseReducer(P,x){return d.sliceCaseReducersByName[P]=x,p}};u.forEach(P=>{const x=c[P],A={reducerName:P,type:LL(s,P),createNotation:typeof i.reducers=="function"};FL(x)?jL(A,x,p,e):VL(A,x,p)});function m(){const[P={},x=[],A=void 0]=typeof i.extraReducers=="function"?jI(i.extraReducers):[i.extraReducers],O={...P,...d.sliceCaseReducersByType};return IL(i.initialState,M=>{for(let D in O)M.addCase(D,O[D]);for(let D of d.sliceMatchers)M.addMatcher(D.matcher,D.reducer);for(let D of x)M.addMatcher(D.matcher,D.reducer);A&&M.addDefaultCase(A)})}const v=P=>P,y=new Map;let C;function T(P,x){return C||(C=m()),C(P,x)}function S(){return C||(C=m()),C.getInitialState()}function w(P,x=!1){function A(M){let D=M[P];return typeof D>"u"&&x&&(D=S()),D}function O(M=v){const D=Ww(y,x,{insert:()=>new WeakMap});return Ww(D,M,{insert:()=>{const Z={};for(const[G,le]of Object.entries(i.selectors??{}))Z[G]=NL(le,M,S,x);return Z}})}return{reducerPath:P,getSelectors:O,get selectors(){return O(A)},selectSlice:A}}const E={name:s,reducer:T,actions:d.actionCreators,caseReducers:d.sliceCaseReducersByName,getInitialState:S,...w(a),injectInto(P,{reducerPath:x,...A}={}){const O=x??a;return P.inject({reducerPath:O,reducer:T},A),{...E,...w(O,!0)}}};return E}}function NL(t,e,n,r){function i(s,...a){let c=e(s);return typeof c>"u"&&r&&(c=n()),t(c,...a)}return i.unwrapped=t,i}var Hd=ML();function DL(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function VL({type:t,reducerName:e,createNotation:n},r,i){let s,a;if("reducer"in r){if(n&&!zL(r))throw new Error(ln(17));s=r.reducer,a=r.prepare}else s=r;i.addCase(t,s).exposeCaseReducer(e,s).exposeAction(e,a?Lr(t,a):Lr(t))}function FL(t){return t._reducerDefinitionType==="asyncThunk"}function zL(t){return t._reducerDefinitionType==="reducerWithPrepare"}function jL({type:t,reducerName:e},n,r,i){if(!i)throw new Error(ln(18));const{payloadCreator:s,fulfilled:a,pending:c,rejected:u,settled:d,options:p}=n,m=i(t,s,p);r.exposeAction(e,m),a&&r.addCase(m.fulfilled,a),c&&r.addCase(m.pending,c),u&&r.addCase(m.rejected,u),d&&r.addMatcher(m.settled,d),r.exposeCaseReducer(e,{fulfilled:a||vc,pending:c||vc,rejected:u||vc,settled:d||vc})}function vc(){}var $L=(t,e)=>{if(typeof t!="function")throw new Error(ln(32))},P_="listenerMiddleware",BL=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:s}=t;if(e)i=Lr(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(ln(21));return $L(s),{predicate:i,type:e,effect:s}},UL=Object.assign(t=>{const{type:e,predicate:n,effect:r}=BL(t);return{id:$I(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(ln(22))}}},{withTypes:()=>UL}),HL=Object.assign(Lr(`${P_}/add`),{withTypes:()=>HL});Lr(`${P_}/removeAll`);var WL=Object.assign(Lr(`${P_}/remove`),{withTypes:()=>WL});function ln(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var Gw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BI=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},qL=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],a=t[n++],c=t[n++],u=((i&7)<<18|(s&63)<<12|(a&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const s=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return e.join("")},UI={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],a=i+1<t.length,c=a?t[i+1]:0,u=i+2<t.length,d=u?t[i+2]:0,p=s>>2,m=(s&3)<<4|c>>4;let v=(c&15)<<2|d>>6,y=d&63;u||(y=64,a||(v=64)),r.push(n[p],n[m],n[v],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(BI(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):qL(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;const d=i<t.length?n[t.charAt(i)]:64;++i;const m=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||c==null||d==null||m==null)throw new GL;const v=s<<2|c>>4;if(r.push(v),d!==64){const y=c<<4&240|d>>2;if(r.push(y),m!==64){const C=d<<6&192|m;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class GL extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const KL=function(t){const e=BI(t);return UI.encodeByteArray(e,!0)},Hh=function(t){return KL(t).replace(/\./g,"")},HI=function(t){try{return UI.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZL(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QL=()=>ZL().__FIREBASE_DEFAULTS__,YL=()=>{if(typeof process>"u"||typeof Gw>"u")return;const t=Gw.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},XL=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&HI(t[1]);return e&&JSON.parse(e)},Wd=()=>{try{return QL()||YL()||XL()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},WI=t=>{var e,n;return(n=(e=Wd())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},JL=t=>{const e=WI(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},qI=()=>{var t;return(t=Wd())===null||t===void 0?void 0:t.config},GI=t=>{var e;return(e=Wd())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eM{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tM(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Hh(JSON.stringify(n)),Hh(JSON.stringify(a)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function nM(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(dt())}function rM(){var t;const e=(t=Wd())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function iM(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function sM(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function oM(){const t=dt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function aM(){return!rM()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function KI(){try{return typeof indexedDB=="object"}catch{return!1}}function lM(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uM="FirebaseError";class Gr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=uM,Object.setPrototypeOf(this,Gr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ou.prototype.create)}}class ou{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],a=s?cM(s,r):"Error",c=`${this.serviceName}: ${a} (${i}).`;return new Gr(i,c,r)}}function cM(t,e){return t.replace(hM,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const hM=/\{\$([^}]+)}/g;function dM(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Wh(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],a=e[i];if(Kw(s)&&Kw(a)){if(!Wh(s,a))return!1}else if(s!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Kw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function au(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Na(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Da(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function fM(t,e){const n=new pM(t,e);return n.subscribe.bind(n)}class pM{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");mM(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=nm),i.error===void 0&&(i.error=nm),i.complete===void 0&&(i.complete=nm);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function mM(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function nm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gt(t){return t&&t._delegate?t._delegate:t}class gs{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gM{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new eM;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(_M(e))try{this.getOrInitializeService({instanceIdentifier:Yi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Yi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Yi){return this.instances.has(e)}getOptions(e=Yi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,a]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(s);r===c&&a.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const a=this.instances.get(i);return a&&e(a,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:vM(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Yi){return this.component?this.component.multipleInstances?e:Yi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function vM(t){return t===Yi?void 0:t}function _M(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yM{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new gM(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Te;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Te||(Te={}));const wM={debug:Te.DEBUG,verbose:Te.VERBOSE,info:Te.INFO,warn:Te.WARN,error:Te.ERROR,silent:Te.SILENT},EM=Te.INFO,TM={[Te.DEBUG]:"log",[Te.VERBOSE]:"log",[Te.INFO]:"info",[Te.WARN]:"warn",[Te.ERROR]:"error"},SM=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=TM[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class C_{constructor(e){this.name=e,this._logLevel=EM,this._logHandler=SM,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Te))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?wM[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Te.DEBUG,...e),this._logHandler(this,Te.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Te.VERBOSE,...e),this._logHandler(this,Te.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Te.INFO,...e),this._logHandler(this,Te.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Te.WARN,...e),this._logHandler(this,Te.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Te.ERROR,...e),this._logHandler(this,Te.ERROR,...e)}}const IM=(t,e)=>e.some(n=>t instanceof n);let Zw,Qw;function PM(){return Zw||(Zw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function CM(){return Qw||(Qw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ZI=new WeakMap,Og=new WeakMap,QI=new WeakMap,rm=new WeakMap,x_=new WeakMap;function xM(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{n(Si(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&ZI.set(n,t)}).catch(()=>{}),x_.set(e,t),e}function bM(t){if(Og.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});Og.set(t,e)}let Lg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Og.get(t);if(e==="objectStoreNames")return t.objectStoreNames||QI.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Si(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function RM(t){Lg=t(Lg)}function AM(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(im(this),e,...n);return QI.set(r,e.sort?e.sort():[e]),Si(r)}:CM().includes(t)?function(...e){return t.apply(im(this),e),Si(ZI.get(this))}:function(...e){return Si(t.apply(im(this),e))}}function kM(t){return typeof t=="function"?AM(t):(t instanceof IDBTransaction&&bM(t),IM(t,PM())?new Proxy(t,Lg):t)}function Si(t){if(t instanceof IDBRequest)return xM(t);if(rm.has(t))return rm.get(t);const e=kM(t);return e!==t&&(rm.set(t,e),x_.set(e,t)),e}const im=t=>x_.get(t);function OM(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const a=indexedDB.open(t,e),c=Si(a);return r&&a.addEventListener("upgradeneeded",u=>{r(Si(a.result),u.oldVersion,u.newVersion,Si(a.transaction),u)}),n&&a.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),c.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),c}const LM=["get","getKey","getAll","getAllKeys","count"],MM=["put","add","delete","clear"],sm=new Map;function Yw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(sm.get(e))return sm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=MM.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||LM.includes(n)))return;const s=async function(a,...c){const u=this.transaction(a,i?"readwrite":"readonly");let d=u.store;return r&&(d=d.index(c.shift())),(await Promise.all([d[n](...c),i&&u.done]))[0]};return sm.set(e,s),s}RM(t=>({...t,get:(e,n,r)=>Yw(e,n)||t.get(e,n,r),has:(e,n)=>!!Yw(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NM{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(DM(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function DM(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Mg="@firebase/app",Xw="0.9.29";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vs=new C_("@firebase/app"),VM="@firebase/app-compat",FM="@firebase/analytics-compat",zM="@firebase/analytics",jM="@firebase/app-check-compat",$M="@firebase/app-check",BM="@firebase/auth",UM="@firebase/auth-compat",HM="@firebase/database",WM="@firebase/database-compat",qM="@firebase/functions",GM="@firebase/functions-compat",KM="@firebase/installations",ZM="@firebase/installations-compat",QM="@firebase/messaging",YM="@firebase/messaging-compat",XM="@firebase/performance",JM="@firebase/performance-compat",eN="@firebase/remote-config",tN="@firebase/remote-config-compat",nN="@firebase/storage",rN="@firebase/storage-compat",iN="@firebase/firestore",sN="@firebase/firestore-compat",oN="firebase",aN="10.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ng="[DEFAULT]",lN={[Mg]:"fire-core",[VM]:"fire-core-compat",[zM]:"fire-analytics",[FM]:"fire-analytics-compat",[$M]:"fire-app-check",[jM]:"fire-app-check-compat",[BM]:"fire-auth",[UM]:"fire-auth-compat",[HM]:"fire-rtdb",[WM]:"fire-rtdb-compat",[qM]:"fire-fn",[GM]:"fire-fn-compat",[KM]:"fire-iid",[ZM]:"fire-iid-compat",[QM]:"fire-fcm",[YM]:"fire-fcm-compat",[XM]:"fire-perf",[JM]:"fire-perf-compat",[eN]:"fire-rc",[tN]:"fire-rc-compat",[nN]:"fire-gcs",[rN]:"fire-gcs-compat",[iN]:"fire-fst",[sN]:"fire-fst-compat","fire-js":"fire-js",[oN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qh=new Map,Dg=new Map;function uN(t,e){try{t.container.addComponent(e)}catch(n){vs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function bo(t){const e=t.name;if(Dg.has(e))return vs.debug(`There were multiple attempts to register component ${e}.`),!1;Dg.set(e,t);for(const n of qh.values())uN(n,t);return!0}function b_(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Ii=new ou("app","Firebase",cN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hN{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new gs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ii.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qo=aN;function YI(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Ng,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Ii.create("bad-app-name",{appName:String(i)});if(n||(n=qI()),!n)throw Ii.create("no-options");const s=qh.get(i);if(s){if(Wh(n,s.options)&&Wh(r,s.config))return s;throw Ii.create("duplicate-app",{appName:i})}const a=new yM(i);for(const u of Dg.values())a.addComponent(u);const c=new hN(n,r,a);return qh.set(i,c),c}function XI(t=Ng){const e=qh.get(t);if(!e&&t===Ng&&qI())return YI();if(!e)throw Ii.create("no-app",{appName:t});return e}function Pi(t,e,n){var r;let i=(r=lN[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const c=[`Unable to register library "${i}" with version "${e}":`];s&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&c.push("and"),a&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),vs.warn(c.join(" "));return}bo(new gs(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dN="firebase-heartbeat-database",fN=1,kl="firebase-heartbeat-store";let om=null;function JI(){return om||(om=OM(dN,fN,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(kl)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ii.create("idb-open",{originalErrorMessage:t.message})})),om}async function pN(t){try{const n=(await JI()).transaction(kl),r=await n.objectStore(kl).get(eP(t));return await n.done,r}catch(e){if(e instanceof Gr)vs.warn(e.message);else{const n=Ii.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});vs.warn(n.message)}}}async function Jw(t,e){try{const r=(await JI()).transaction(kl,"readwrite");await r.objectStore(kl).put(e,eP(t)),await r.done}catch(n){if(n instanceof Gr)vs.warn(n.message);else{const r=Ii.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});vs.warn(r.message)}}}function eP(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mN=1024,gN=30*24*60*60*1e3;class vN{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new yN(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=eE();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const c=new Date(a.date).valueOf();return Date.now()-c<=gN}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=eE(),{heartbeatsToSend:r,unsentEntries:i}=_N(this._heartbeatsCache.heartbeats),s=Hh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function eE(){return new Date().toISOString().substring(0,10)}function _N(t,e=mN){const n=[];let r=t.slice();for(const i of t){const s=n.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),tE(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),tE(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class yN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return KI()?lM().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await pN(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Jw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Jw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function tE(t){return Hh(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wN(t){bo(new gs("platform-logger",e=>new NM(e),"PRIVATE")),bo(new gs("heartbeat",e=>new vN(e),"PRIVATE")),Pi(Mg,Xw,t),Pi(Mg,Xw,"esm2017"),Pi("fire-js","")}wN("");function R_(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function tP(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const EN=tP,nP=new ou("auth","Firebase",tP());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gh=new C_("@firebase/auth");function TN(t,...e){Gh.logLevel<=Te.WARN&&Gh.warn(`Auth (${qo}): ${t}`,...e)}function Wc(t,...e){Gh.logLevel<=Te.ERROR&&Gh.error(`Auth (${qo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qn(t,...e){throw A_(t,...e)}function hr(t,...e){return A_(t,...e)}function SN(t,e,n){const r=Object.assign(Object.assign({},EN()),{[e]:n});return new ou("auth","Firebase",r).create(e,{appName:t.name})}function A_(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return nP.create(t,...e)}function oe(t,e,...n){if(!t)throw A_(e,...n)}function br(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Wc(e),new Error(e)}function jr(t,e){t||br(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vg(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function IN(){return nE()==="http:"||nE()==="https:"}function nE(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(IN()||iM()||"connection"in navigator)?navigator.onLine:!0}function CN(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu{constructor(e,n){this.shortDelay=e,this.longDelay=n,jr(n>e,"Short delay should be less than long delay!"),this.isMobile=nM()||sM()}get(){return PN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k_(t,e){jr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rP{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;br("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;br("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;br("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bN=new lu(3e4,6e4);function Kr(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Zr(t,e,n,r,i={}){return iP(t,i,async()=>{let s={},a={};r&&(e==="GET"?a=r:s={body:JSON.stringify(r)});const c=au(Object.assign({key:t.config.apiKey},a)).slice(1),u=await t._getAdditionalHeaders();return u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),rP.fetch()(sP(t,t.config.apiHost,n,c),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},s))})}async function iP(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},xN),e);try{const i=new AN(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw _c(t,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const c=s.ok?a.errorMessage:a.error.message,[u,d]=c.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw _c(t,"credential-already-in-use",a);if(u==="EMAIL_EXISTS")throw _c(t,"email-already-in-use",a);if(u==="USER_DISABLED")throw _c(t,"user-disabled",a);const p=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw SN(t,p,d);qn(t,p)}}catch(i){if(i instanceof Gr)throw i;qn(t,"network-request-failed",{message:String(i)})}}async function uu(t,e,n,r,i={}){const s=await Zr(t,e,n,r,i);return"mfaPendingCredential"in s&&qn(t,"multi-factor-auth-required",{_serverResponse:s}),s}function sP(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?k_(t.config,i):`${t.config.apiScheme}://${i}`}function RN(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class AN{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(hr(this.auth,"network-request-failed")),bN.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function _c(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=hr(t,e,r);return i.customData._tokenResponse=n,i}function rE(t){return t!==void 0&&t.enterprise!==void 0}class kN{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return RN(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function ON(t,e){return Zr(t,"GET","/v2/recaptchaConfig",Kr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LN(t,e){return Zr(t,"POST","/v1/accounts:delete",e)}async function MN(t,e){return Zr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xa(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function NN(t,e=!1){const n=gt(t),r=await n.getIdToken(e),i=O_(r);oe(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,a=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Xa(am(i.auth_time)),issuedAtTime:Xa(am(i.iat)),expirationTime:Xa(am(i.exp)),signInProvider:a||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function am(t){return Number(t)*1e3}function O_(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Wc("JWT malformed, contained fewer than 3 sections"),null;try{const i=HI(n);return i?JSON.parse(i):(Wc("Failed to decode base64 JWT payload"),null)}catch(i){return Wc("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function DN(t){const e=O_(t);return oe(e,"internal-error"),oe(typeof e.exp<"u","internal-error"),oe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ol(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Gr&&VN(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function VN({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oP{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Xa(this.lastLoginAt),this.creationTime=Xa(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kh(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Ol(t,MN(n,{idToken:r}));oe(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const a=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?$N(s.providerUserInfo):[],c=jN(t.providerData,a),u=t.isAnonymous,d=!(t.email&&s.passwordHash)&&!(c!=null&&c.length),p=u?d:!1,m={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:c,metadata:new oP(s.createdAt,s.lastLoginAt),isAnonymous:p};Object.assign(t,m)}async function zN(t){const e=gt(t);await Kh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function jN(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function $N(t){return t.map(e=>{var{providerId:n}=e,r=R_(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BN(t,e){const n=await iP(t,{},async()=>{const r=au({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,a=sP(t,i,"/v1/token",`key=${s}`),c=await t._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",rP.fetch()(a,{method:"POST",headers:c,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function UN(t,e){return Zr(t,"POST","/v2/accounts:revokeToken",Kr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){oe(e.idToken,"internal-error"),oe(typeof e.idToken<"u","internal-error"),oe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):DN(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return oe(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await BN(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,a=new Ll;return r&&(oe(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),i&&(oe(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),s&&(oe(typeof s=="number","internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ll,this.toJSON())}_performRefresh(){return br("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ti(t,e){oe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ls{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=R_(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new FN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new oP(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Ol(this,this.stsTokenManager.getToken(this.auth,e));return oe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return NN(this,e)}reload(){return zN(this)}_assign(e){this!==e&&(oe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ls(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Kh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Ol(this,LN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,a,c,u,d,p;const m=(r=n.displayName)!==null&&r!==void 0?r:void 0,v=(i=n.email)!==null&&i!==void 0?i:void 0,y=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,C=(a=n.photoURL)!==null&&a!==void 0?a:void 0,T=(c=n.tenantId)!==null&&c!==void 0?c:void 0,S=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,w=(d=n.createdAt)!==null&&d!==void 0?d:void 0,E=(p=n.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:P,emailVerified:x,isAnonymous:A,providerData:O,stsTokenManager:M}=n;oe(P&&M,e,"internal-error");const D=Ll.fromJSON(this.name,M);oe(typeof P=="string",e,"internal-error"),ti(m,e.name),ti(v,e.name),oe(typeof x=="boolean",e,"internal-error"),oe(typeof A=="boolean",e,"internal-error"),ti(y,e.name),ti(C,e.name),ti(T,e.name),ti(S,e.name),ti(w,e.name),ti(E,e.name);const Z=new ls({uid:P,auth:e,email:v,emailVerified:x,displayName:m,isAnonymous:A,photoURL:C,phoneNumber:y,tenantId:T,stsTokenManager:D,createdAt:w,lastLoginAt:E});return O&&Array.isArray(O)&&(Z.providerData=O.map(G=>Object.assign({},G))),S&&(Z._redirectEventId=S),Z}static async _fromIdTokenResponse(e,n,r=!1){const i=new Ll;i.updateFromServerResponse(n);const s=new ls({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Kh(s),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iE=new Map;function Rr(t){jr(t instanceof Function,"Expected a class definition");let e=iE.get(t);return e?(jr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,iE.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aP{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}aP.type="NONE";const sE=aP;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qc(t,e,n){return`firebase:${t}:${e}:${n}`}class fo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=qc(this.userKey,i.apiKey,s),this.fullPersistenceKey=qc("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ls._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new fo(Rr(sE),e,r);const i=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let s=i[0]||Rr(sE);const a=qc(r,e.config.apiKey,e.name);let c=null;for(const d of n)try{const p=await d._get(a);if(p){const m=ls._fromJSON(e,p);d!==s&&(c=m),s=d;break}}catch{}const u=i.filter(d=>d._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new fo(s,e,r):(s=u[0],c&&await s._set(a,c.toJSON()),await Promise.all(n.map(async d=>{if(d!==s)try{await d._remove(a)}catch{}})),new fo(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(cP(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(lP(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(dP(e))return"Blackberry";if(fP(e))return"Webos";if(L_(e))return"Safari";if((e.includes("chrome/")||uP(e))&&!e.includes("edge/"))return"Chrome";if(hP(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function lP(t=dt()){return/firefox\//i.test(t)}function L_(t=dt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function uP(t=dt()){return/crios\//i.test(t)}function cP(t=dt()){return/iemobile/i.test(t)}function hP(t=dt()){return/android/i.test(t)}function dP(t=dt()){return/blackberry/i.test(t)}function fP(t=dt()){return/webos/i.test(t)}function qd(t=dt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function HN(t=dt()){var e;return qd(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function WN(){return oM()&&document.documentMode===10}function pP(t=dt()){return qd(t)||hP(t)||fP(t)||dP(t)||/windows phone/i.test(t)||cP(t)}function qN(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mP(t,e=[]){let n;switch(t){case"Browser":n=oE(dt());break;case"Worker":n=`${oE(dt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${qo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((a,c)=>{try{const u=e(s);a(u)}catch(u){c(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KN(t,e={}){return Zr(t,"GET","/v2/passwordPolicy",Kr(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZN=6;class QN{constructor(e){var n,r,i,s;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:ZN,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,a,c;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNumericCharacter)!==null&&a!==void 0?a:!0),u.isValid&&(u.isValid=(c=u.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),u}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YN{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new aE(this),this.idTokenSubscription=new aE(this),this.beforeStateQueue=new GN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=nP,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Rr(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await fo.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=i==null?void 0:i._redirectEventId,u=await this.tryRedirectSignIn(e);(!a||a===c)&&(u!=null&&u.user)&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return oe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Kh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=CN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?gt(e):null;return n&&oe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&oe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Rr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await KN(this),n=new QN(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ou("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await UN(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Rr(e)||this._popupRedirectResolver;oe(n,this,"argument-error"),this.redirectPersistenceManager=await fo.create(this,[Rr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let a=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(oe(c,this,"internal-error"),c.then(()=>{a||s(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,r,i);return()=>{a=!0,u()}}else{const u=e.addObserver(n);return()=>{a=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=mP(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&TN(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Fi(t){return gt(t)}class aE{constructor(e){this.auth=e,this.observer=null,this.addObserver=fM(n=>this.observer=n)}get next(){return oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function XN(t){Gd=t}function gP(t){return Gd.loadJS(t)}function JN(){return Gd.recaptchaEnterpriseScript}function e6(){return Gd.gapiScript}function t6(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const n6="recaptcha-enterprise",r6="NO_RECAPTCHA";class i6{constructor(e){this.type=n6,this.auth=Fi(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(a,c)=>{ON(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const d=new kN(u);return s.tenantId==null?s._agentRecaptchaConfig=d:s._tenantRecaptchaConfigs[s.tenantId]=d,a(d.siteKey)}}).catch(u=>{c(u)})})}function i(s,a,c){const u=window.grecaptcha;rE(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:e}).then(d=>{a(d)}).catch(()=>{a(r6)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,a)=>{r(this.auth).then(c=>{if(!n&&rE(window.grecaptcha))i(c,s,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let u=JN();u.length!==0&&(u+=c),gP(u).then(()=>{i(c,s,a)}).catch(d=>{a(d)})}}).catch(c=>{a(c)})})}}async function lE(t,e,n,r=!1){const i=new i6(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const a=Object.assign({},e);return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Zh(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await lE(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await lE(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s6(t,e){const n=b_(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Wh(s,e??{}))return i;qn(i,"already-initialized")}return n.initialize({options:e})}function o6(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Rr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function a6(t,e,n){const r=Fi(t);oe(r._canInitEmulator,r,"emulator-config-failed"),oe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=vP(e),{host:a,port:c}=l6(e),u=c===null?"":`:${c}`;r.config.emulator={url:`${s}//${a}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:c,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||u6()}function vP(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function l6(t){const e=vP(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:uE(r.substr(s.length+1))}}else{const[s,a]=r.split(":");return{host:s,port:uE(a)}}}function uE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function u6(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M_{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return br("not implemented")}_getIdTokenResponse(e){return br("not implemented")}_linkToIdToken(e,n){return br("not implemented")}_getReauthenticationResolver(e){return br("not implemented")}}async function c6(t,e){return Zr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h6(t,e){return uu(t,"POST","/v1/accounts:signInWithPassword",Kr(t,e))}async function _P(t,e){return Zr(t,"POST","/v1/accounts:sendOobCode",Kr(t,e))}async function d6(t,e){return _P(t,e)}async function f6(t,e){return _P(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p6(t,e){return uu(t,"POST","/v1/accounts:signInWithEmailLink",Kr(t,e))}async function m6(t,e){return uu(t,"POST","/v1/accounts:signInWithEmailLink",Kr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml extends M_{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Ml(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Ml(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Zh(e,n,"signInWithPassword",h6);case"emailLink":return p6(e,{email:this._email,oobCode:this._password});default:qn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Zh(e,r,"signUpPassword",c6);case"emailLink":return m6(e,{idToken:n,email:this._email,oobCode:this._password});default:qn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function po(t,e){return uu(t,"POST","/v1/accounts:signInWithIdp",Kr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g6="http://localhost";class _s extends M_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new _s(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):qn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=R_(n,["providerId","signInMethod"]);if(!r||!i)return null;const a=new _s(r,i);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return po(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,po(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,po(e,n)}buildRequest(){const e={requestUri:g6,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=au(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v6(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function _6(t){const e=Na(Da(t)).link,n=e?Na(Da(e)).deep_link_id:null,r=Na(Da(t)).deep_link_id;return(r?Na(Da(r)).link:null)||r||n||e||t}class N_{constructor(e){var n,r,i,s,a,c;const u=Na(Da(e)),d=(n=u.apiKey)!==null&&n!==void 0?n:null,p=(r=u.oobCode)!==null&&r!==void 0?r:null,m=v6((i=u.mode)!==null&&i!==void 0?i:null);oe(d&&p&&m,"argument-error"),this.apiKey=d,this.operation=m,this.code=p,this.continueUrl=(s=u.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(a=u.languageCode)!==null&&a!==void 0?a:null,this.tenantId=(c=u.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){const n=_6(e);try{return new N_(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(){this.providerId=Go.PROVIDER_ID}static credential(e,n){return Ml._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=N_.parseLink(n);return oe(r,"argument-error"),Ml._fromEmailAndCode(e,r.code,r.tenantId)}}Go.PROVIDER_ID="password";Go.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Go.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yP{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu extends yP{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi extends cu{constructor(){super("facebook.com")}static credential(e){return _s._fromParams({providerId:oi.PROVIDER_ID,signInMethod:oi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return oi.credentialFromTaggedObject(e)}static credentialFromError(e){return oi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return oi.credential(e.oauthAccessToken)}catch{return null}}}oi.FACEBOOK_SIGN_IN_METHOD="facebook.com";oi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai extends cu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return _s._fromParams({providerId:ai.PROVIDER_ID,signInMethod:ai.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ai.credentialFromTaggedObject(e)}static credentialFromError(e){return ai.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ai.credential(n,r)}catch{return null}}}ai.GOOGLE_SIGN_IN_METHOD="google.com";ai.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li extends cu{constructor(){super("github.com")}static credential(e){return _s._fromParams({providerId:li.PROVIDER_ID,signInMethod:li.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return li.credentialFromTaggedObject(e)}static credentialFromError(e){return li.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return li.credential(e.oauthAccessToken)}catch{return null}}}li.GITHUB_SIGN_IN_METHOD="github.com";li.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui extends cu{constructor(){super("twitter.com")}static credential(e,n){return _s._fromParams({providerId:ui.PROVIDER_ID,signInMethod:ui.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ui.credentialFromTaggedObject(e)}static credentialFromError(e){return ui.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ui.credential(n,r)}catch{return null}}}ui.TWITTER_SIGN_IN_METHOD="twitter.com";ui.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y6(t,e){return uu(t,"POST","/v1/accounts:signUp",Kr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await ls._fromIdTokenResponse(e,r,i),a=cE(r);return new ys({user:s,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=cE(r);return new ys({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function cE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh extends Gr{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Qh.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Qh(e,n,r,i)}}function wP(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Qh._fromErrorAndOperation(t,s,e,r):s})}async function w6(t,e,n=!1){const r=await Ol(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ys._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E6(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await Ol(t,wP(r,i,e,t),n);oe(s.idToken,r,"internal-error");const a=O_(s.idToken);oe(a,r,"internal-error");const{sub:c}=a;return oe(t.uid===c,r,"user-mismatch"),ys._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&qn(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EP(t,e,n=!1){const r="signIn",i=await wP(t,r,e),s=await ys._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function T6(t,e){return EP(Fi(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TP(t,e,n){var r;oe(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),oe(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(oe(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(oe(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SP(t){const e=Fi(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function S6(t,e,n){const r=Fi(t),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&TP(r,i,n),await Zh(r,i,"getOobCode",f6)}async function I6(t,e,n){const r=Fi(t),a=await Zh(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",y6).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&SP(t),u}),c=await ys._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(c.user),c}function P6(t,e,n){return T6(gt(t),Go.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&SP(t),r})}async function C6(t,e){const n=gt(t),i={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()};e&&TP(n.auth,i,e);const{email:s}=await d6(n.auth,i);s!==t.email&&await t.reload()}function x6(t,e,n,r){return gt(t).onIdTokenChanged(e,n,r)}function b6(t,e,n){return gt(t).beforeAuthStateChanged(e,n)}function R6(t,e,n,r){return gt(t).onAuthStateChanged(e,n,r)}function A6(t){return gt(t).signOut()}const Yh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IP{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Yh,"1"),this.storage.removeItem(Yh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k6(){const t=dt();return L_(t)||qd(t)}const O6=1e3,L6=10;class PP extends IP{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=k6()&&qN(),this.fallbackToPolling=pP(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,c,u)=>{this.notifyListeners(a,u)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(r);if(e.newValue!==a)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},s=this.storage.getItem(r);WN()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,L6):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},O6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}PP.type="LOCAL";const M6=PP;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CP extends IP{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}CP.type="SESSION";const xP=CP;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N6(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Kd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const c=Array.from(a).map(async d=>d(n.origin,s)),u=await N6(c);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Kd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D_(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D6{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,a;return new Promise((c,u)=>{const d=D_("",20);i.port1.start();const p=setTimeout(()=>{u(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(m){const v=m;if(v.data.eventId===d)switch(v.data.status){case"ack":clearTimeout(p),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),c(v.data.response);break;default:clearTimeout(p),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dr(){return window}function V6(t){dr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bP(){return typeof dr().WorkerGlobalScope<"u"&&typeof dr().importScripts=="function"}async function F6(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function z6(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function j6(){return bP()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RP="firebaseLocalStorageDb",$6=1,Xh="firebaseLocalStorage",AP="fbase_key";class hu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Zd(t,e){return t.transaction([Xh],e?"readwrite":"readonly").objectStore(Xh)}function B6(){const t=indexedDB.deleteDatabase(RP);return new hu(t).toPromise()}function Fg(){const t=indexedDB.open(RP,$6);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Xh,{keyPath:AP})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Xh)?e(r):(r.close(),await B6(),e(await Fg()))})})}async function hE(t,e,n){const r=Zd(t,!0).put({[AP]:e,value:n});return new hu(r).toPromise()}async function U6(t,e){const n=Zd(t,!1).get(e),r=await new hu(n).toPromise();return r===void 0?null:r.value}function dE(t,e){const n=Zd(t,!0).delete(e);return new hu(n).toPromise()}const H6=800,W6=3;class kP{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Fg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>W6)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return bP()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Kd._getInstance(j6()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await F6(),!this.activeServiceWorker)return;this.sender=new D6(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||z6()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Fg();return await hE(e,Yh,"1"),await dE(e,Yh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>hE(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>U6(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>dE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Zd(i,!1).getAll();return new hu(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),H6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}kP.type="LOCAL";const q6=kP;new lu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G6(t,e){return e?Rr(e):(oe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V_ extends M_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return po(e,this._buildIdpRequest())}_linkToIdToken(e,n){return po(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return po(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function K6(t){return EP(t.auth,new V_(t),t.bypassAuthState)}function Z6(t){const{auth:e,user:n}=t;return oe(n,e,"internal-error"),E6(n,new V_(t),t.bypassAuthState)}async function Q6(t){const{auth:e,user:n}=t;return oe(n,e,"internal-error"),w6(n,new V_(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OP{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:a,type:c}=e;if(a){this.reject(a);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(u))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return K6;case"linkViaPopup":case"linkViaRedirect":return Q6;case"reauthViaPopup":case"reauthViaRedirect":return Z6;default:qn(this.auth,"internal-error")}}resolve(e){jr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){jr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y6=new lu(2e3,1e4);class io extends OP{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,io.currentPopupAction&&io.currentPopupAction.cancel(),io.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return oe(e,this.auth,"internal-error"),e}async onExecution(){jr(this.filter.length===1,"Popup operations only handle one event");const e=D_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(hr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(hr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,io.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(hr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Y6.get())};e()}}io.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X6="pendingRedirect",Gc=new Map;class J6 extends OP{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Gc.get(this.auth._key());if(!e){try{const r=await e5(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Gc.set(this.auth._key(),e)}return this.bypassAuthState||Gc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function e5(t,e){const n=r5(e),r=n5(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function t5(t,e){Gc.set(t._key(),e)}function n5(t){return Rr(t._redirectPersistence)}function r5(t){return qc(X6,t.config.apiKey,t.name)}async function i5(t,e,n=!1){const r=Fi(t),i=G6(r,e),a=await new J6(r,i,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s5=10*60*1e3;class o5{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!a5(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!LP(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(hr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=s5&&this.cachedEventUids.clear(),this.cachedEventUids.has(fE(e))}saveEventToCache(e){this.cachedEventUids.add(fE(e)),this.lastProcessedEventTime=Date.now()}}function fE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function LP({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function a5(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return LP(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l5(t,e={}){return Zr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u5=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,c5=/^https?/;async function h5(t){if(t.config.emulator)return;const{authorizedDomains:e}=await l5(t);for(const n of e)try{if(d5(n))return}catch{}qn(t,"unauthorized-domain")}function d5(t){const e=Vg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!c5.test(n))return!1;if(u5.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f5=new lu(3e4,6e4);function pE(){const t=dr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function p5(t){return new Promise((e,n)=>{var r,i,s;function a(){pE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{pE(),n(hr(t,"network-request-failed"))},timeout:f5.get()})}if(!((i=(r=dr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=dr().gapi)===null||s===void 0)&&s.load)a();else{const c=t6("iframefcb");return dr()[c]=()=>{gapi.load?a():n(hr(t,"network-request-failed"))},gP(`${e6()}?onload=${c}`).catch(u=>n(u))}}).catch(e=>{throw Kc=null,e})}let Kc=null;function m5(t){return Kc=Kc||p5(t),Kc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g5=new lu(5e3,15e3),v5="__/auth/iframe",_5="emulator/auth/iframe",y5={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},w5=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function E5(t){const e=t.config;oe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?k_(e,_5):`https://${t.config.authDomain}/${v5}`,r={apiKey:e.apiKey,appName:t.name,v:qo},i=w5.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${au(r).slice(1)}`}async function T5(t){const e=await m5(t),n=dr().gapi;return oe(n,t,"internal-error"),e.open({where:document.body,url:E5(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:y5,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const a=hr(t,"network-request-failed"),c=dr().setTimeout(()=>{s(a)},g5.get());function u(){dr().clearTimeout(c),i(r)}r.ping(u).then(u,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S5={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},I5=500,P5=600,C5="_blank",x5="http://localhost";class mE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function b5(t,e,n,r=I5,i=P5){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const u=Object.assign(Object.assign({},S5),{width:r.toString(),height:i.toString(),top:s,left:a}),d=dt().toLowerCase();n&&(c=uP(d)?C5:n),lP(d)&&(e=e||x5,u.scrollbars="yes");const p=Object.entries(u).reduce((v,[y,C])=>`${v}${y}=${C},`,"");if(HN(d)&&c!=="_self")return R5(e||"",c),new mE(null);const m=window.open(e||"",c,p);oe(m,t,"popup-blocked");try{m.focus()}catch{}return new mE(m)}function R5(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A5="__/auth/handler",k5="emulator/auth/handler",O5=encodeURIComponent("fac");async function gE(t,e,n,r,i,s){oe(t.config.authDomain,t,"auth-domain-config-required"),oe(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:qo,eventId:i};if(e instanceof yP){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",dM(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,m]of Object.entries(s||{}))a[p]=m}if(e instanceof cu){const p=e.getScopes().filter(m=>m!=="");p.length>0&&(a.scopes=p.join(","))}t.tenantId&&(a.tid=t.tenantId);const c=a;for(const p of Object.keys(c))c[p]===void 0&&delete c[p];const u=await t._getAppCheckToken(),d=u?`#${O5}=${encodeURIComponent(u)}`:"";return`${L5(t)}?${au(c).slice(1)}${d}`}function L5({config:t}){return t.emulator?k_(t,k5):`https://${t.authDomain}/${A5}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lm="webStorageSupport";class M5{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=xP,this._completeRedirectFn=i5,this._overrideRedirectResult=t5}async _openPopup(e,n,r,i){var s;jr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const a=await gE(e,n,r,Vg(),i);return b5(e,a,D_())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await gE(e,n,r,Vg(),i);return V6(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(jr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await T5(e),r=new o5(e);return n.register("authEvent",i=>(oe(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(lm,{type:lm},i=>{var s;const a=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[lm];a!==void 0&&n(!!a),qn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=h5(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return pP()||L_()||qd()}}const N5=M5;var vE="@firebase/auth",_E="1.6.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D5{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V5(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function F5(t){bo(new gs("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:c}=r.options;oe(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:a,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:mP(t)},d=new YN(r,i,s,u);return o6(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),bo(new gs("auth-internal",e=>{const n=Fi(e.getProvider("auth").getImmediate());return(r=>new D5(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Pi(vE,_E,V5(t)),Pi(vE,_E,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z5=5*60,j5=GI("authIdTokenMaxAge")||z5;let yE=null;const $5=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>j5)return;const i=n==null?void 0:n.token;yE!==i&&(yE=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function B5(t=XI()){const e=b_(t,"auth");if(e.isInitialized())return e.getImmediate();const n=s6(t,{popupRedirectResolver:N5,persistence:[q6,M6,xP]}),r=GI("authTokenSyncURL");if(r&&r.match(/^\/[^\/].*/)){const s=$5(r);b6(n,s,()=>s(n.currentUser)),x6(n,a=>s(a))}const i=WI("auth");return i&&a6(n,`http://${i}`),n}function U5(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}XN({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=hr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",U5().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});F5("Browser");var H5="firebase",W5="10.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Pi(H5,W5,"app");var q5=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},H,F_=F_||{},ce=q5||self;function Qd(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function du(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function G5(t){return Object.prototype.hasOwnProperty.call(t,um)&&t[um]||(t[um]=++K5)}var um="closure_uid_"+(1e9*Math.random()>>>0),K5=0;function Z5(t,e,n){return t.call.apply(t.bind,arguments)}function Q5(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Ht(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Ht=Z5:Ht=Q5,Ht.apply(null,arguments)}function yc(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function St(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var a=Array(arguments.length-2),c=2;c<arguments.length;c++)a[c-2]=arguments[c];return e.prototype[i].apply(r,a)}}function zi(){this.s=this.s,this.o=this.o}var Y5=0;zi.prototype.s=!1;zi.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),Y5!=0)&&G5(this)};zi.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const MP=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function z_(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function wE(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Qd(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let a=0;a<s;a++)t[i+a]=r[a]}else t.push(r)}}function Wt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Wt.prototype.h=function(){this.defaultPrevented=!0};var X5=function(){if(!ce.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const n=()=>{};ce.addEventListener("test",n,e),ce.removeEventListener("test",n,e)}catch{}return t}();function Nl(t){return/^[\s\xa0]*$/.test(t)}function Yd(){var t=ce.navigator;return t&&(t=t.userAgent)?t:""}function sr(t){return Yd().indexOf(t)!=-1}function j_(t){return j_[" "](t),t}j_[" "]=function(){};function J5(t,e){var n=WD;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var eD=sr("Opera"),Ro=sr("Trident")||sr("MSIE"),NP=sr("Edge"),zg=NP||Ro,DP=sr("Gecko")&&!(Yd().toLowerCase().indexOf("webkit")!=-1&&!sr("Edge"))&&!(sr("Trident")||sr("MSIE"))&&!sr("Edge"),tD=Yd().toLowerCase().indexOf("webkit")!=-1&&!sr("Edge");function VP(){var t=ce.document;return t?t.documentMode:void 0}var jg;e:{var cm="",hm=function(){var t=Yd();if(DP)return/rv:([^\);]+)(\)|;)/.exec(t);if(NP)return/Edge\/([\d\.]+)/.exec(t);if(Ro)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(tD)return/WebKit\/(\S+)/.exec(t);if(eD)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(hm&&(cm=hm?hm[1]:""),Ro){var dm=VP();if(dm!=null&&dm>parseFloat(cm)){jg=String(dm);break e}}jg=cm}var $g;if(ce.document&&Ro){var EE=VP();$g=EE||parseInt(jg,10)||void 0}else $g=void 0;var nD=$g;function Dl(t,e){if(Wt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(DP){e:{try{j_(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:rD[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Dl.$.h.call(this)}}St(Dl,Wt);var rD={2:"touch",3:"pen",4:"mouse"};Dl.prototype.h=function(){Dl.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var fu="closure_listenable_"+(1e6*Math.random()|0),iD=0;function sD(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++iD,this.fa=this.ia=!1}function Xd(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function $_(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function oD(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function FP(t){const e={};for(const n in t)e[n]=t[n];return e}const TE="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function zP(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<TE.length;s++)n=TE[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Jd(t){this.src=t,this.g={},this.h=0}Jd.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var a=Ug(t,e,r,i);return-1<a?(e=t[a],n||(e.ia=!1)):(e=new sD(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function Bg(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=MP(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Xd(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Ug(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var B_="closure_lm_"+(1e6*Math.random()|0),fm={};function jP(t,e,n,r,i){if(r&&r.once)return BP(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)jP(t,e[s],n,r,i);return null}return n=W_(n),t&&t[fu]?t.O(e,n,du(r)?!!r.capture:!!r,i):$P(t,e,n,!1,r,i)}function $P(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var a=du(i)?!!i.capture:!!i,c=H_(t);if(c||(t[B_]=c=new Jd(t)),n=c.add(e,n,r,a,s),n.proxy)return n;if(r=aD(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)X5||(i=a),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(HP(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function aD(){function t(n){return e.call(t.src,t.listener,n)}const e=lD;return t}function BP(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)BP(t,e[s],n,r,i);return null}return n=W_(n),t&&t[fu]?t.P(e,n,du(r)?!!r.capture:!!r,i):$P(t,e,n,!0,r,i)}function UP(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)UP(t,e[s],n,r,i);else r=du(r)?!!r.capture:!!r,n=W_(n),t&&t[fu]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=Ug(s,n,r,i),-1<n&&(Xd(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=H_(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Ug(e,n,r,i)),(n=-1<t?e[t]:null)&&U_(n))}function U_(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[fu])Bg(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(HP(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=H_(e))?(Bg(n,t),n.h==0&&(n.src=null,e[B_]=null)):Xd(t)}}}function HP(t){return t in fm?fm[t]:fm[t]="on"+t}function lD(t,e){if(t.fa)t=!0;else{e=new Dl(e,this);var n=t.listener,r=t.la||t.src;t.ia&&U_(t),t=n.call(r,e)}return t}function H_(t){return t=t[B_],t instanceof Jd?t:null}var pm="__closure_events_fn_"+(1e9*Math.random()>>>0);function W_(t){return typeof t=="function"?t:(t[pm]||(t[pm]=function(e){return t.handleEvent(e)}),t[pm])}function Tt(){zi.call(this),this.i=new Jd(this),this.S=this,this.J=null}St(Tt,zi);Tt.prototype[fu]=!0;Tt.prototype.removeEventListener=function(t,e,n,r){UP(this,t,e,n,r)};function Lt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new Wt(e,t);else if(e instanceof Wt)e.target=e.target||t;else{var i=e;e=new Wt(r,t),zP(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var a=e.g=n[s];i=wc(a,r,!0,e)&&i}if(a=e.g=t,i=wc(a,r,!0,e)&&i,i=wc(a,r,!1,e)&&i,n)for(s=0;s<n.length;s++)a=e.g=n[s],i=wc(a,r,!1,e)&&i}Tt.prototype.N=function(){if(Tt.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Xd(n[r]);delete t.g[e],t.h--}}this.J=null};Tt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};Tt.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function wc(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var a=e[s];if(a&&!a.fa&&a.capture==n){var c=a.listener,u=a.la||a.src;a.ia&&Bg(t.i,a),i=c.call(u,r)!==!1&&i}}return i&&!r.defaultPrevented}var q_=ce.JSON.stringify;class uD{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function cD(){var t=G_;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class hD{constructor(){this.h=this.g=null}add(e,n){const r=WP.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var WP=new uD(()=>new dD,t=>t.reset());class dD{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function fD(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function pD(t){ce.setTimeout(()=>{throw t},0)}let Vl,Fl=!1,G_=new hD,qP=()=>{const t=ce.Promise.resolve(void 0);Vl=()=>{t.then(mD)}};var mD=()=>{for(var t;t=cD();){try{t.h.call(t.g)}catch(n){pD(n)}var e=WP;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Fl=!1};function ef(t,e){Tt.call(this),this.h=t||1,this.g=e||ce,this.j=Ht(this.qb,this),this.l=Date.now()}St(ef,Tt);H=ef.prototype;H.ga=!1;H.T=null;H.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Lt(this,"tick"),this.ga&&(K_(this),this.start()))}};H.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function K_(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}H.N=function(){ef.$.N.call(this),K_(this),delete this.g};function Z_(t,e,n){if(typeof t=="function")n&&(t=Ht(t,n));else if(t&&typeof t.handleEvent=="function")t=Ht(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:ce.setTimeout(t,e||0)}function GP(t){t.g=Z_(()=>{t.g=null,t.i&&(t.i=!1,GP(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class gD extends zi{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:GP(this)}N(){super.N(),this.g&&(ce.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function zl(t){zi.call(this),this.h=t,this.g={}}St(zl,zi);var SE=[];function KP(t,e,n,r){Array.isArray(n)||(n&&(SE[0]=n.toString()),n=SE);for(var i=0;i<n.length;i++){var s=jP(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function ZP(t){$_(t.g,function(e,n){this.g.hasOwnProperty(n)&&U_(e)},t),t.g={}}zl.prototype.N=function(){zl.$.N.call(this),ZP(this)};zl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function tf(){this.g=!0}tf.prototype.Ea=function(){this.g=!1};function vD(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var a="",c=s.split("&"),u=0;u<c.length;u++){var d=c[u].split("=");if(1<d.length){var p=d[0];d=d[1];var m=p.split("_");a=2<=m.length&&m[1]=="type"?a+(p+"="+d+"&"):a+(p+"=redacted&")}}else a=null;else a=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+a})}function _D(t,e,n,r,i,s,a){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+a})}function so(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+wD(t,n)+(r?" "+r:"")})}function yD(t,e){t.info(function(){return"TIMEOUT: "+e})}tf.prototype.info=function(){};function wD(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var a=1;a<i.length;a++)i[a]=""}}}}return q_(n)}catch{return e}}var xs={},IE=null;function nf(){return IE=IE||new Tt}xs.Ta="serverreachability";function QP(t){Wt.call(this,xs.Ta,t)}St(QP,Wt);function jl(t){const e=nf();Lt(e,new QP(e))}xs.STAT_EVENT="statevent";function YP(t,e){Wt.call(this,xs.STAT_EVENT,t),this.stat=e}St(YP,Wt);function Qt(t){const e=nf();Lt(e,new YP(e,t))}xs.Ua="timingevent";function XP(t,e){Wt.call(this,xs.Ua,t),this.size=e}St(XP,Wt);function pu(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return ce.setTimeout(function(){t()},e)}var rf={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},JP={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Q_(){}Q_.prototype.h=null;function PE(t){return t.h||(t.h=t.i())}function eC(){}var mu={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Y_(){Wt.call(this,"d")}St(Y_,Wt);function X_(){Wt.call(this,"c")}St(X_,Wt);var Hg;function sf(){}St(sf,Q_);sf.prototype.g=function(){return new XMLHttpRequest};sf.prototype.i=function(){return{}};Hg=new sf;function gu(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new zl(this),this.P=ED,t=zg?125:void 0,this.V=new ef(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new tC}function tC(){this.i=null,this.g="",this.h=!1}var ED=45e3,nC={},Wg={};H=gu.prototype;H.setTimeout=function(t){this.P=t};function qg(t,e,n){t.L=1,t.A=af($r(e)),t.u=n,t.S=!0,rC(t,null)}function rC(t,e){t.G=Date.now(),vu(t),t.B=$r(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),hC(n.i,"t",r),t.o=0,n=t.l.J,t.h=new tC,t.g=OC(t.l,n?e:null,!t.u),0<t.O&&(t.M=new gD(Ht(t.Pa,t,t.g),t.O)),KP(t.U,t.g,"readystatechange",t.nb),e=t.I?FP(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),jl(),vD(t.j,t.v,t.B,t.m,t.W,t.u)}H.nb=function(t){t=t.target;const e=this.M;e&&or(t)==3?e.l():this.Pa(t)};H.Pa=function(t){try{if(t==this.g)e:{const p=or(this.g);var e=this.g.Ia();const m=this.g.da();if(!(3>p)&&(p!=3||zg||this.g&&(this.h.h||this.g.ja()||RE(this.g)))){this.J||p!=4||e==7||(e==8||0>=m?jl(3):jl(2)),of(this);var n=this.g.da();this.ca=n;t:if(iC(this)){var r=RE(this.g);t="";var i=r.length,s=or(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ns(this),Ja(this);var a="";break t}this.h.i=new ce.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.length=0,this.h.g+=t,this.o=0,a=this.h.g}else a=this.g.ja();if(this.i=n==200,_D(this.j,this.v,this.B,this.m,this.W,p,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var c,u=this.g;if((c=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Nl(c)){var d=c;break t}}d=null}if(n=d)so(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Gg(this,n);else{this.i=!1,this.s=3,Qt(12),ns(this),Ja(this);break e}}this.S?(sC(this,p,a),zg&&this.i&&p==3&&(KP(this.U,this.V,"tick",this.mb),this.V.start())):(so(this.j,this.m,a,null),Gg(this,a)),p==4&&ns(this),this.i&&!this.J&&(p==4?bC(this.l,this):(this.i=!1,vu(this)))}else BD(this.g),n==400&&0<a.indexOf("Unknown SID")?(this.s=3,Qt(12)):(this.s=0,Qt(13)),ns(this),Ja(this)}}}catch{}finally{}};function iC(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function sC(t,e,n){let r=!0,i;for(;!t.J&&t.o<n.length;)if(i=TD(t,n),i==Wg){e==4&&(t.s=4,Qt(14),r=!1),so(t.j,t.m,null,"[Incomplete Response]");break}else if(i==nC){t.s=4,Qt(15),so(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else so(t.j,t.m,i,null),Gg(t,i);iC(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,Qt(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),iy(e),e.M=!0,Qt(11))):(so(t.j,t.m,n,"[Invalid Chunked Response]"),ns(t),Ja(t))}H.mb=function(){if(this.g){var t=or(this.g),e=this.g.ja();this.o<e.length&&(of(this),sC(this,t,e),this.i&&t!=4&&vu(this))}};function TD(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?Wg:(n=Number(e.substring(n,r)),isNaN(n)?nC:(r+=1,r+n>e.length?Wg:(e=e.slice(r,r+n),t.o=r+n,e)))}H.cancel=function(){this.J=!0,ns(this)};function vu(t){t.Y=Date.now()+t.P,oC(t,t.P)}function oC(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=pu(Ht(t.lb,t),e)}function of(t){t.C&&(ce.clearTimeout(t.C),t.C=null)}H.lb=function(){this.C=null;const t=Date.now();0<=t-this.Y?(yD(this.j,this.B),this.L!=2&&(jl(),Qt(17)),ns(this),this.s=2,Ja(this)):oC(this,this.Y-t)};function Ja(t){t.l.H==0||t.J||bC(t.l,t)}function ns(t){of(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,K_(t.V),ZP(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Gg(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Kg(n.i,t))){if(!t.K&&Kg(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)td(n),hf(n);else break e;ry(n),Qt(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=pu(Ht(n.ib,n),6e3));if(1>=pC(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else rs(n,11)}else if((t.K||n.g==t)&&td(n),!Nl(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let d=i[e];if(n.V=d[0],d=d[1],n.H==2)if(d[0]=="c"){n.K=d[1],n.pa=d[2];const p=d[3];p!=null&&(n.ra=p,n.l.info("VER="+n.ra));const m=d[4];m!=null&&(n.Ga=m,n.l.info("SVER="+n.Ga));const v=d[5];v!=null&&typeof v=="number"&&0<v&&(r=1.5*v,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const y=t.g;if(y){const C=y.g?y.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(C){var s=r.i;s.g||C.indexOf("spdy")==-1&&C.indexOf("quic")==-1&&C.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(J_(s,s.h),s.h=null))}if(r.F){const T=y.g?y.g.getResponseHeader("X-HTTP-Session-Id"):null;T&&(r.Da=T,je(r.I,r.F,T))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var a=t;if(r.wa=kC(r,r.J?r.pa:null,r.Y),a.K){mC(r.i,a);var c=a,u=r.L;u&&c.setTimeout(u),c.C&&(of(c),vu(c)),r.g=a}else CC(r);0<n.j.length&&df(n)}else d[0]!="stop"&&d[0]!="close"||rs(n,7);else n.H==3&&(d[0]=="stop"||d[0]=="close"?d[0]=="stop"?rs(n,7):ny(n):d[0]!="noop"&&n.h&&n.h.Aa(d),n.A=0)}}jl(4)}catch{}}function SD(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Qd(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function ID(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Qd(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function aC(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Qd(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=ID(t),r=SD(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var lC=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function PD(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function us(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof us){this.h=t.h,Jh(this,t.j),this.s=t.s,this.g=t.g,ed(this,t.m),this.l=t.l;var e=t.i,n=new $l;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),CE(this,n),this.o=t.o}else t&&(e=String(t).match(lC))?(this.h=!1,Jh(this,e[1]||"",!0),this.s=Va(e[2]||""),this.g=Va(e[3]||"",!0),ed(this,e[4]),this.l=Va(e[5]||"",!0),CE(this,e[6]||"",!0),this.o=Va(e[7]||"")):(this.h=!1,this.i=new $l(null,this.h))}us.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Fa(e,xE,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Fa(e,xE,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Fa(n,n.charAt(0)=="/"?bD:xD,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Fa(n,AD)),t.join("")};function $r(t){return new us(t)}function Jh(t,e,n){t.j=n?Va(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function ed(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function CE(t,e,n){e instanceof $l?(t.i=e,kD(t.i,t.h)):(n||(e=Fa(e,RD)),t.i=new $l(e,t.h))}function je(t,e,n){t.i.set(e,n)}function af(t){return je(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Va(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Fa(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,CD),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function CD(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var xE=/[#\/\?@]/g,xD=/[#\?:]/g,bD=/[#\?]/g,RD=/[#\?@]/g,AD=/#/g;function $l(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function ji(t){t.g||(t.g=new Map,t.h=0,t.i&&PD(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}H=$l.prototype;H.add=function(t,e){ji(this),this.i=null,t=Ko(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function uC(t,e){ji(t),e=Ko(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function cC(t,e){return ji(t),e=Ko(t,e),t.g.has(e)}H.forEach=function(t,e){ji(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};H.ta=function(){ji(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};H.Z=function(t){ji(this);let e=[];if(typeof t=="string")cC(this,t)&&(e=e.concat(this.g.get(Ko(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};H.set=function(t,e){return ji(this),this.i=null,t=Ko(this,t),cC(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};H.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function hC(t,e,n){uC(t,e),0<n.length&&(t.i=null,t.g.set(Ko(t,e),z_(n)),t.h+=n.length)}H.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),a=this.Z(r);for(r=0;r<a.length;r++){var i=s;a[r]!==""&&(i+="="+encodeURIComponent(String(a[r]))),t.push(i)}}return this.i=t.join("&")};function Ko(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function kD(t,e){e&&!t.j&&(ji(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(uC(this,r),hC(this,i,n))},t)),t.j=e}var OD=class{constructor(t,e){this.g=t,this.map=e}};function dC(t){this.l=t||LD,ce.PerformanceNavigationTiming?(t=ce.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(ce.g&&ce.g.Ka&&ce.g.Ka()&&ce.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var LD=10;function fC(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function pC(t){return t.h?1:t.g?t.g.size:0}function Kg(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function J_(t,e){t.g?t.g.add(e):t.h=e}function mC(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}dC.prototype.cancel=function(){if(this.i=gC(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function gC(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return z_(t.i)}var MD=class{stringify(t){return ce.JSON.stringify(t,void 0)}parse(t){return ce.JSON.parse(t,void 0)}};function ND(){this.g=new MD}function DD(t,e,n){const r=n||"";try{aC(t,function(i,s){let a=i;du(i)&&(a=q_(i)),e.push(r+s+"="+encodeURIComponent(a))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function VD(t,e){const n=new tf;if(ce.Image){const r=new Image;r.onload=yc(Ec,n,r,"TestLoadImage: loaded",!0,e),r.onerror=yc(Ec,n,r,"TestLoadImage: error",!1,e),r.onabort=yc(Ec,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=yc(Ec,n,r,"TestLoadImage: timeout",!1,e),ce.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Ec(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function lf(t){this.l=t.ec||null,this.j=t.ob||!1}St(lf,Q_);lf.prototype.g=function(){return new uf(this.l,this.j)};lf.prototype.i=function(t){return function(){return t}}({});function uf(t,e){Tt.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=ey,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}St(uf,Tt);var ey=0;H=uf.prototype;H.open=function(t,e){if(this.readyState!=ey)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Bl(this)};H.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||ce).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};H.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,_u(this)),this.readyState=ey};H.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Bl(this)),this.g&&(this.readyState=3,Bl(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ce.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;vC(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function vC(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}H.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?_u(this):Bl(this),this.readyState==3&&vC(this)}};H.Za=function(t){this.g&&(this.response=this.responseText=t,_u(this))};H.Ya=function(t){this.g&&(this.response=t,_u(this))};H.ka=function(){this.g&&_u(this)};function _u(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Bl(t)}H.setRequestHeader=function(t,e){this.v.append(t,e)};H.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};H.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Bl(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(uf.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var FD=ce.JSON.parse;function et(t){Tt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=_C,this.L=this.M=!1}St(et,Tt);var _C="",zD=/^https?$/i,jD=["POST","PUT"];H=et.prototype;H.Oa=function(t){this.M=t};H.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Hg.g(),this.C=this.u?PE(this.u):PE(Hg),this.g.onreadystatechange=Ht(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){bE(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=ce.FormData&&t instanceof ce.FormData,!(0<=MP(jD,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,a]of n)this.g.setRequestHeader(s,a);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{EC(this),0<this.B&&((this.L=$D(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ht(this.ua,this)):this.A=Z_(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){bE(this,s)}};function $D(t){return Ro&&typeof t.timeout=="number"&&t.ontimeout!==void 0}H.ua=function(){typeof F_<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Lt(this,"timeout"),this.abort(8))};function bE(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,yC(t),cf(t)}function yC(t){t.F||(t.F=!0,Lt(t,"complete"),Lt(t,"error"))}H.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Lt(this,"complete"),Lt(this,"abort"),cf(this))};H.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),cf(this,!0)),et.$.N.call(this)};H.La=function(){this.s||(this.G||this.v||this.l?wC(this):this.kb())};H.kb=function(){wC(this)};function wC(t){if(t.h&&typeof F_<"u"&&(!t.C[1]||or(t)!=4||t.da()!=2)){if(t.v&&or(t)==4)Z_(t.La,0,t);else if(Lt(t,"readystatechange"),or(t)==4){t.h=!1;try{const a=t.da();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=a===0){var i=String(t.I).match(lC)[1]||null;!i&&ce.self&&ce.self.location&&(i=ce.self.location.protocol.slice(0,-1)),r=!zD.test(i?i.toLowerCase():"")}n=r}if(n)Lt(t,"complete"),Lt(t,"success");else{t.m=6;try{var s=2<or(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",yC(t)}}finally{cf(t)}}}}function cf(t,e){if(t.g){EC(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Lt(t,"ready");try{n.onreadystatechange=r}catch{}}}function EC(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(ce.clearTimeout(t.A),t.A=null)}H.isActive=function(){return!!this.g};function or(t){return t.g?t.g.readyState:0}H.da=function(){try{return 2<or(this)?this.g.status:-1}catch{return-1}};H.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};H.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),FD(e)}};function RE(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case _C:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function BD(t){const e={};t=(t.g&&2<=or(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(Nl(t[r]))continue;var n=fD(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}oD(e,function(r){return r.join(", ")})}H.Ia=function(){return this.m};H.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function TC(t){let e="";return $_(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function ty(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=TC(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):je(t,e,n))}function Ia(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function SC(t){this.Ga=0,this.j=[],this.l=new tf,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Ia("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Ia("baseRetryDelayMs",5e3,t),this.hb=Ia("retryDelaySeedMs",1e4,t),this.eb=Ia("forwardChannelMaxRetries",2,t),this.xa=Ia("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new dC(t&&t.concurrentRequestLimit),this.Ja=new ND,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}H=SC.prototype;H.ra=8;H.H=1;function ny(t){if(IC(t),t.H==3){var e=t.W++,n=$r(t.I);if(je(n,"SID",t.K),je(n,"RID",e),je(n,"TYPE","terminate"),yu(t,n),e=new gu(t,t.l,e),e.L=2,e.A=af($r(n)),n=!1,ce.navigator&&ce.navigator.sendBeacon)try{n=ce.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&ce.Image&&(new Image().src=e.A,n=!0),n||(e.g=OC(e.l,null),e.g.ha(e.A)),e.G=Date.now(),vu(e)}AC(t)}function hf(t){t.g&&(iy(t),t.g.cancel(),t.g=null)}function IC(t){hf(t),t.u&&(ce.clearTimeout(t.u),t.u=null),td(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&ce.clearTimeout(t.m),t.m=null)}function df(t){if(!fC(t.i)&&!t.m){t.m=!0;var e=t.Na;Vl||qP(),Fl||(Vl(),Fl=!0),G_.add(e,t),t.C=0}}function UD(t,e){return pC(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=pu(Ht(t.Na,t,e),RC(t,t.C)),t.C++,!0)}H.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new gu(this,this.l,t);let s=this.s;if(this.U&&(s?(s=FP(s),zP(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=PC(this,i,e),n=$r(this.I),je(n,"RID",t),je(n,"CVER",22),this.F&&je(n,"X-HTTP-Session-Id",this.F),yu(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(TC(s)))+"&"+e:this.o&&ty(n,this.o,s)),J_(this.i,i),this.bb&&je(n,"TYPE","init"),this.P?(je(n,"$req",e),je(n,"SID","null"),i.aa=!0,qg(i,n,null)):qg(i,n,e),this.H=2}}else this.H==3&&(t?AE(this,t):this.j.length==0||fC(this.i)||AE(this))};function AE(t,e){var n;e?n=e.m:n=t.W++;const r=$r(t.I);je(r,"SID",t.K),je(r,"RID",n),je(r,"AID",t.V),yu(t,r),t.o&&t.s&&ty(r,t.o,t.s),n=new gu(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=PC(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),J_(t.i,n),qg(n,r,e)}function yu(t,e){t.na&&$_(t.na,function(n,r){je(e,r,n)}),t.h&&aC({},function(n,r){je(e,r,n)})}function PC(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Ht(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const a=["count="+n];s==-1?0<n?(s=i[0].g,a.push("ofs="+s)):s=0:a.push("ofs="+s);let c=!0;for(let u=0;u<n;u++){let d=i[u].g;const p=i[u].map;if(d-=s,0>d)s=Math.max(0,i[u].g-100),c=!1;else try{DD(p,a,"req"+d+"_")}catch{r&&r(p)}}if(c){r=a.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function CC(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Vl||qP(),Fl||(Vl(),Fl=!0),G_.add(e,t),t.A=0}}function ry(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=pu(Ht(t.Ma,t),RC(t,t.A)),t.A++,!0)}H.Ma=function(){if(this.u=null,xC(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=pu(Ht(this.jb,this),t)}};H.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Qt(10),hf(this),xC(this))};function iy(t){t.B!=null&&(ce.clearTimeout(t.B),t.B=null)}function xC(t){t.g=new gu(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=$r(t.wa);je(e,"RID","rpc"),je(e,"SID",t.K),je(e,"AID",t.V),je(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&je(e,"TO",t.qa),je(e,"TYPE","xmlhttp"),yu(t,e),t.o&&t.s&&ty(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=af($r(e)),n.u=null,n.S=!0,rC(n,t)}H.ib=function(){this.v!=null&&(this.v=null,hf(this),ry(this),Qt(19))};function td(t){t.v!=null&&(ce.clearTimeout(t.v),t.v=null)}function bC(t,e){var n=null;if(t.g==e){td(t),iy(t),t.g=null;var r=2}else if(Kg(t.i,e))n=e.F,mC(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;r=nf(),Lt(r,new XP(r,n)),df(t)}else CC(t);else if(i=e.s,i==3||i==0&&0<e.ca||!(r==1&&UD(t,e)||r==2&&ry(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:rs(t,5);break;case 4:rs(t,10);break;case 3:rs(t,6);break;default:rs(t,2)}}}function RC(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function rs(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=Ht(t.pb,t);n||(n=new us("//www.google.com/images/cleardot.gif"),ce.location&&ce.location.protocol=="http"||Jh(n,"https"),af(n)),VD(n.toString(),r)}else Qt(2);t.H=0,t.h&&t.h.za(e),AC(t),IC(t)}H.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Qt(2)):(this.l.info("Failed to ping google.com"),Qt(1))};function AC(t){if(t.H=0,t.ma=[],t.h){const e=gC(t.i);(e.length!=0||t.j.length!=0)&&(wE(t.ma,e),wE(t.ma,t.j),t.i.i.length=0,z_(t.j),t.j.length=0),t.h.ya()}}function kC(t,e,n){var r=n instanceof us?$r(n):new us(n);if(r.g!="")e&&(r.g=e+"."+r.g),ed(r,r.m);else{var i=ce.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new us(null);r&&Jh(s,r),e&&(s.g=e),i&&ed(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&je(r,n,e),je(r,"VER",t.ra),yu(t,r),r}function OC(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new et(new lf({ob:n})):new et(t.va),e.Oa(t.J),e}H.isActive=function(){return!!this.h&&this.h.isActive(this)};function LC(){}H=LC.prototype;H.Ba=function(){};H.Aa=function(){};H.za=function(){};H.ya=function(){};H.isActive=function(){return!0};H.Va=function(){};function nd(){if(Ro&&!(10<=Number(nD)))throw Error("Environmental error: no available transport.")}nd.prototype.g=function(t,e){return new wn(t,e)};function wn(t,e){Tt.call(this),this.g=new SC(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Nl(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Nl(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Zo(this)}St(wn,Tt);wn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Qt(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=kC(t,null,t.Y),df(t)};wn.prototype.close=function(){ny(this.g)};wn.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=q_(t),t=n);e.j.push(new OD(e.fb++,t)),e.H==3&&df(e)};wn.prototype.N=function(){this.g.h=null,delete this.j,ny(this.g),delete this.g,wn.$.N.call(this)};function MC(t){Y_.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}St(MC,Y_);function NC(){X_.call(this),this.status=1}St(NC,X_);function Zo(t){this.g=t}St(Zo,LC);Zo.prototype.Ba=function(){Lt(this.g,"a")};Zo.prototype.Aa=function(t){Lt(this.g,new MC(t))};Zo.prototype.za=function(t){Lt(this.g,new NC)};Zo.prototype.ya=function(){Lt(this.g,"b")};function HD(){this.blockSize=-1}function Gn(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}St(Gn,HD);Gn.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function mm(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],a=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(a<<7&4294967295|a>>>25),a=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(a<<12&4294967295|a>>>20),a=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(a<<17&4294967295|a>>>15),a=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(a<<22&4294967295|a>>>10),a=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(a<<7&4294967295|a>>>25),a=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(a<<12&4294967295|a>>>20),a=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(a<<17&4294967295|a>>>15),a=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(a<<22&4294967295|a>>>10),a=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(a<<7&4294967295|a>>>25),a=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(a<<12&4294967295|a>>>20),a=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(a<<17&4294967295|a>>>15),a=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(a<<22&4294967295|a>>>10),a=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(a<<7&4294967295|a>>>25),a=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(a<<12&4294967295|a>>>20),a=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(a<<17&4294967295|a>>>15),a=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(a<<22&4294967295|a>>>10),a=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(a<<5&4294967295|a>>>27),a=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(a<<9&4294967295|a>>>23),a=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(a<<14&4294967295|a>>>18),a=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(a<<20&4294967295|a>>>12),a=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(a<<5&4294967295|a>>>27),a=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(a<<9&4294967295|a>>>23),a=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(a<<14&4294967295|a>>>18),a=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(a<<20&4294967295|a>>>12),a=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(a<<5&4294967295|a>>>27),a=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(a<<9&4294967295|a>>>23),a=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(a<<14&4294967295|a>>>18),a=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(a<<20&4294967295|a>>>12),a=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(a<<5&4294967295|a>>>27),a=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(a<<9&4294967295|a>>>23),a=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(a<<14&4294967295|a>>>18),a=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(a<<20&4294967295|a>>>12),a=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(a<<4&4294967295|a>>>28),a=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(a<<11&4294967295|a>>>21),a=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(a<<16&4294967295|a>>>16),a=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(a<<23&4294967295|a>>>9),a=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(a<<4&4294967295|a>>>28),a=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(a<<11&4294967295|a>>>21),a=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(a<<16&4294967295|a>>>16),a=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(a<<23&4294967295|a>>>9),a=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(a<<4&4294967295|a>>>28),a=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(a<<11&4294967295|a>>>21),a=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(a<<16&4294967295|a>>>16),a=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(a<<23&4294967295|a>>>9),a=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(a<<4&4294967295|a>>>28),a=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(a<<11&4294967295|a>>>21),a=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(a<<16&4294967295|a>>>16),a=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(a<<23&4294967295|a>>>9),a=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(a<<6&4294967295|a>>>26),a=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(a<<10&4294967295|a>>>22),a=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(a<<15&4294967295|a>>>17),a=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(a<<21&4294967295|a>>>11),a=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(a<<6&4294967295|a>>>26),a=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(a<<10&4294967295|a>>>22),a=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(a<<15&4294967295|a>>>17),a=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(a<<21&4294967295|a>>>11),a=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(a<<6&4294967295|a>>>26),a=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(a<<10&4294967295|a>>>22),a=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(a<<15&4294967295|a>>>17),a=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(a<<21&4294967295|a>>>11),a=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(a<<6&4294967295|a>>>26),a=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(a<<10&4294967295|a>>>22),a=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(a<<15&4294967295|a>>>17),a=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(a<<21&4294967295|a>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}Gn.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)mm(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){mm(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){mm(this,r),i=0;break}}this.h=i,this.i+=e};Gn.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function Oe(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var WD={};function sy(t){return-128<=t&&128>t?J5(t,function(e){return new Oe([e|0],0>e?-1:0)}):new Oe([t|0],0>t?-1:0)}function ar(t){if(isNaN(t)||!isFinite(t))return mo;if(0>t)return At(ar(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=Zg;return new Oe(e,0)}function DC(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return At(DC(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=ar(Math.pow(e,8)),r=mo,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),a=parseInt(t.substring(i,i+s),e);8>s?(s=ar(Math.pow(e,s)),r=r.R(s).add(ar(a))):(r=r.R(n),r=r.add(ar(a)))}return r}var Zg=4294967296,mo=sy(0),Qg=sy(1),kE=sy(16777216);H=Oe.prototype;H.ea=function(){if(Rn(this))return-At(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:Zg+r)*e,e*=Zg}return t};H.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Ar(this))return"0";if(Rn(this))return"-"+At(this).toString(t);for(var e=ar(Math.pow(t,6)),n=this,r="";;){var i=id(n,e).g;n=rd(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,Ar(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};H.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Ar(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Rn(t){return t.h==-1}H.X=function(t){return t=rd(this,t),Rn(t)?-1:Ar(t)?0:1};function At(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Oe(n,~t.h).add(Qg)}H.abs=function(){return Rn(this)?At(this):this};H.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),a=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=a>>>16,s&=65535,a&=65535,n[i]=a<<16|s}return new Oe(n,n[n.length-1]&-2147483648?-1:0)};function rd(t,e){return t.add(At(e))}H.R=function(t){if(Ar(this)||Ar(t))return mo;if(Rn(this))return Rn(t)?At(this).R(At(t)):At(At(this).R(t));if(Rn(t))return At(this.R(At(t)));if(0>this.X(kE)&&0>t.X(kE))return ar(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,a=this.D(r)&65535,c=t.D(i)>>>16,u=t.D(i)&65535;n[2*r+2*i]+=a*u,Tc(n,2*r+2*i),n[2*r+2*i+1]+=s*u,Tc(n,2*r+2*i+1),n[2*r+2*i+1]+=a*c,Tc(n,2*r+2*i+1),n[2*r+2*i+2]+=s*c,Tc(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Oe(n,0)};function Tc(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Pa(t,e){this.g=t,this.h=e}function id(t,e){if(Ar(e))throw Error("division by zero");if(Ar(t))return new Pa(mo,mo);if(Rn(t))return e=id(At(t),e),new Pa(At(e.g),At(e.h));if(Rn(e))return e=id(t,At(e)),new Pa(At(e.g),e.h);if(30<t.g.length){if(Rn(t)||Rn(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Qg,r=e;0>=r.X(t);)n=OE(n),r=OE(r);var i=$s(n,1),s=$s(r,1);for(r=$s(r,2),n=$s(n,2);!Ar(r);){var a=s.add(r);0>=a.X(t)&&(i=i.add(n),s=a),r=$s(r,1),n=$s(n,1)}return e=rd(t,i.R(e)),new Pa(i,e)}for(i=mo;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=ar(n),a=s.R(e);Rn(a)||0<a.X(t);)n-=r,s=ar(n),a=s.R(e);Ar(s)&&(s=Qg),i=i.add(s),t=rd(t,a)}return new Pa(i,t)}H.gb=function(t){return id(this,t).h};H.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Oe(n,this.h&t.h)};H.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Oe(n,this.h|t.h)};H.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Oe(n,this.h^t.h)};function OE(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Oe(n,t.h)}function $s(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new Oe(i,t.h)}nd.prototype.createWebChannel=nd.prototype.g;wn.prototype.send=wn.prototype.u;wn.prototype.open=wn.prototype.m;wn.prototype.close=wn.prototype.close;rf.NO_ERROR=0;rf.TIMEOUT=8;rf.HTTP_ERROR=6;JP.COMPLETE="complete";eC.EventType=mu;mu.OPEN="a";mu.CLOSE="b";mu.ERROR="c";mu.MESSAGE="d";Tt.prototype.listen=Tt.prototype.O;et.prototype.listenOnce=et.prototype.P;et.prototype.getLastError=et.prototype.Sa;et.prototype.getLastErrorCode=et.prototype.Ia;et.prototype.getStatus=et.prototype.da;et.prototype.getResponseJson=et.prototype.Wa;et.prototype.getResponseText=et.prototype.ja;et.prototype.send=et.prototype.ha;et.prototype.setWithCredentials=et.prototype.Oa;Gn.prototype.digest=Gn.prototype.l;Gn.prototype.reset=Gn.prototype.reset;Gn.prototype.update=Gn.prototype.j;Oe.prototype.add=Oe.prototype.add;Oe.prototype.multiply=Oe.prototype.R;Oe.prototype.modulo=Oe.prototype.gb;Oe.prototype.compare=Oe.prototype.X;Oe.prototype.toNumber=Oe.prototype.ea;Oe.prototype.toString=Oe.prototype.toString;Oe.prototype.getBits=Oe.prototype.D;Oe.fromNumber=ar;Oe.fromString=DC;var qD=function(){return new nd},GD=function(){return nf()},gm=rf,KD=JP,ZD=xs,LE={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Sc=eC,QD=et,YD=Gn,go=Oe;const ME="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}jt.UNAUTHENTICATED=new jt(null),jt.GOOGLE_CREDENTIALS=new jt("google-credentials-uid"),jt.FIRST_PARTY=new jt("first-party-uid"),jt.MOCK_USER=new jt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qo="10.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ws=new C_("@firebase/firestore");function Ca(){return ws.logLevel}function U(t,...e){if(ws.logLevel<=Te.DEBUG){const n=e.map(oy);ws.debug(`Firestore (${Qo}): ${t}`,...n)}}function _r(t,...e){if(ws.logLevel<=Te.ERROR){const n=e.map(oy);ws.error(`Firestore (${Qo}): ${t}`,...n)}}function Ao(t,...e){if(ws.logLevel<=Te.WARN){const n=e.map(oy);ws.warn(`Firestore (${Qo}): ${t}`,...n)}}function oy(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ue(t="Unexpected state"){const e=`FIRESTORE (${Qo}) INTERNAL ASSERTION FAILED: `+t;throw _r(e),new Error(e)}function Ve(t,e){t||ue()}function de(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class q extends Gr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class XD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(jt.UNAUTHENTICATED))}shutdown(){}}class JD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class e9{constructor(e){this.t=e,this.currentUser=jt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let s=new fr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new fr,e.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const u=s;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},c=u=>{U("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(u=>c(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?c(u):(U("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new fr)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(U("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ve(typeof r.accessToken=="string"),new VC(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ve(e===null||typeof e=="string"),new jt(e)}}class t9{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=jt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class n9{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new t9(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(jt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class r9{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class i9{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&U("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.R;return this.R=s.token,U("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{U("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):U("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ve(typeof n.token=="string"),this.R=n.token,new r9(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s9(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FC{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=s9(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Ae(t,e){return t<e?-1:t>e?1:0}function ko(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new q(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new q(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new q(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new q(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return mt.fromMillis(Date.now())}static fromDate(e){return mt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new mt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ae(this.nanoseconds,e.nanoseconds):Ae(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(e){this.timestamp=e}static fromTimestamp(e){return new he(e)}static min(){return new he(new mt(0,0))}static max(){return new he(new mt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{constructor(e,n,r){n===void 0?n=0:n>e.length&&ue(),r===void 0?r=e.length-n:r>e.length-n&&ue(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ul.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ul?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),a=n.get(i);if(s<a)return-1;if(s>a)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class $e extends Ul{construct(e,n,r){return new $e(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new q(F.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new $e(n)}static emptyPath(){return new $e([])}}const o9=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class kt extends Ul{construct(e,n,r){return new kt(e,n,r)}static isValidIdentifier(e){return o9.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),kt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new kt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new q(F.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;i<e.length;){const c=e[i];if(c==="\\"){if(i+1===e.length)throw new q(F.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new q(F.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else c==="`"?(a=!a,i++):c!=="."||a?(r+=c,i++):(s(),i++)}if(s(),a)throw new q(F.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new kt(n)}static emptyPath(){return new kt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.path=e}static fromPath(e){return new J($e.fromString(e))}static fromName(e){return new J($e.fromString(e).popFirst(5))}static empty(){return new J($e.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&$e.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return $e.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new J(new $e(e.slice()))}}function a9(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=he.fromTimestamp(r===1e9?new mt(n+1,0):new mt(n,r));return new ki(i,J.empty(),e)}function l9(t){return new ki(t.readTime,t.key,-1)}class ki{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ki(he.min(),J.empty(),-1)}static max(){return new ki(he.max(),J.empty(),-1)}}function u9(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=J.comparator(t.documentKey,e.documentKey),n!==0?n:Ae(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c9="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class h9{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wu(t){if(t.code!==F.FAILED_PRECONDITION||t.message!==c9)throw t;U("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ue(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new z((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof z?n:z.resolve(n)}catch(n){return z.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):z.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):z.reject(n)}static resolve(e){return new z((n,r)=>{n(e)})}static reject(e){return new z((n,r)=>{r(e)})}static waitFor(e){return new z((n,r)=>{let i=0,s=0,a=!1;e.forEach(c=>{++i,c.next(()=>{++s,a&&s===i&&n()},u=>r(u))}),a=!0,s===i&&n()})}static or(e){let n=z.resolve(!1);for(const r of e)n=n.next(i=>i?z.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new z((r,i)=>{const s=e.length,a=new Array(s);let c=0;for(let u=0;u<s;u++){const d=u;n(e[d]).next(p=>{a[d]=p,++c,c===s&&r(a)},p=>i(p))}})}static doWhile(e,n){return new z((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ay{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new fr,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new el(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=ly(r.target.error);this.V.reject(new el(e,i))}}static open(e,n,r,i){try{return new ay(n,e.transaction(i,r))}catch(s){throw new el(n,s)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(U("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new f9(n)}}class is{constructor(e,n,r){this.name=e,this.version=n,this.p=r,is.S(dt())===12.2&&_r("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return U("SimpleDb","Removing database:",e),Xi(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!KI())return!1;if(is.C())return!0;const e=dt(),n=is.S(e),r=0<n&&n<10,i=is.v(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static C(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.F)==="YES"}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(e){const n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}async O(e){return this.db||(U("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const a=s.target.result;n(a)},i.onblocked=()=>{r(new el(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const a=s.target.error;a.name==="VersionError"?r(new q(F.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):a.name==="InvalidStateError"?r(new q(F.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a)):r(new el(e,a))},i.onupgradeneeded=s=>{U("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const a=s.target.result;this.p.N(a,i.transaction,s.oldVersion,this.version).next(()=>{U("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.L&&(this.db.onversionchange=n=>this.L(n)),this.db}B(e){this.L=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const s=n==="readonly";let a=0;for(;;){++a;try{this.db=await this.O(e);const c=ay.open(this.db,e,s?"readonly":"readwrite",r),u=i(c).next(d=>(c.g(),d)).catch(d=>(c.abort(d),z.reject(d))).toPromise();return u.catch(()=>{}),await c.m,u}catch(c){const u=c,d=u.name!=="FirebaseError"&&a<3;if(U("SimpleDb","Transaction failed with error:",u.message,"Retrying:",d),this.close(),!d)return Promise.reject(u)}}}close(){this.db&&this.db.close(),this.db=void 0}}class d9{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return Xi(this.k.delete())}}class el extends q{constructor(e,n){super(F.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Eu(t){return t.name==="IndexedDbTransactionError"}class f9{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(U("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(U("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Xi(r)}add(e){return U("SimpleDb","ADD",this.store.name,e,e),Xi(this.store.add(e))}get(e){return Xi(this.store.get(e)).next(n=>(n===void 0&&(n=null),U("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return U("SimpleDb","DELETE",this.store.name,e),Xi(this.store.delete(e))}count(){return U("SimpleDb","COUNT",this.store.name),Xi(this.store.count())}W(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const s=i.getAll(r.range);return new z((a,c)=>{s.onerror=u=>{c(u.target.error)},s.onsuccess=u=>{a(u.target.result)}})}{const s=this.cursor(r),a=[];return this.G(s,(c,u)=>{a.push(u)}).next(()=>a)}}j(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new z((i,s)=>{r.onerror=a=>{s(a.target.error)},r.onsuccess=a=>{i(a.target.result)}})}H(e,n){U("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.J=!1;const i=this.cursor(r);return this.G(i,(s,a,c)=>c.delete())}Y(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.G(i,n)}Z(e){const n=this.cursor({});return new z((r,i)=>{n.onerror=s=>{const a=ly(s.target.error);i(a)},n.onsuccess=s=>{const a=s.target.result;a?e(a.primaryKey,a.value).next(c=>{c?a.continue():r()}):r()}})}G(e,n){const r=[];return new z((i,s)=>{e.onerror=a=>{s(a.target.error)},e.onsuccess=a=>{const c=a.target.result;if(!c)return void i();const u=new d9(c),d=n(c.primaryKey,c.value,u);if(d instanceof z){const p=d.catch(m=>(u.done(),z.reject(m)));r.push(p)}u.isDone?i():u.$===null?c.continue():c.continue(u.$)}}).next(()=>z.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.J?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function Xi(t){return new z((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=ly(r.target.error);n(i)}})}let NE=!1;function ly(t){const e=is.S(dt());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new q("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return NE||(NE=!0,setTimeout(()=>{throw r},0)),r}}return t}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uy{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.se(r),this.oe=r=>n.writeSequenceNumber(r))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}uy._e=-1;function ff(t){return t==null}function sd(t){return t===0&&1/t==-1/0}function p9(t){return typeof t=="number"&&Number.isInteger(t)&&!sd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DE(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function bs(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function zC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(e,n){this.comparator=e,this.root=n||bt.EMPTY}insert(e,n){return new Ye(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,bt.BLACK,null,null))}remove(e){return new Ye(this.comparator,this.root.remove(e,this.comparator).copy(null,null,bt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ic(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ic(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ic(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ic(this.root,e,this.comparator,!0)}}class Ic{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class bt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??bt.RED,this.left=i??bt.EMPTY,this.right=s??bt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new bt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return bt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return bt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,bt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,bt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ue();const e=this.left.check();if(e!==this.right.check())throw ue();return e+(this.isRed()?0:1)}}bt.EMPTY=null,bt.RED=!0,bt.BLACK=!1;bt.EMPTY=new class{constructor(){this.size=0}get key(){throw ue()}get value(){throw ue()}get color(){throw ue()}get left(){throw ue()}get right(){throw ue()}copy(e,n,r,i,s){return this}insert(e,n,r){return new bt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e){this.comparator=e,this.data=new Ye(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new VE(this.data.getIterator())}getIteratorFrom(e){return new VE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Mt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Mt(this.comparator);return n.data=e,n}}class VE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e){this.fields=e,e.sort(kt.comparator)}static empty(){return new pn([])}unionWith(e){let n=new Mt(kt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new pn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ko(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new jC("Invalid base64 string: "+s):s}}(e);return new Gt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let a=0;a<i.length;++a)s+=String.fromCharCode(i[a]);return s}(e);return new Gt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ae(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Gt.EMPTY_BYTE_STRING=new Gt("");const m9=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Oi(t){if(Ve(!!t),typeof t=="string"){let e=0;const n=m9.exec(t);if(Ve(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:at(t.seconds),nanos:at(t.nanos)}}function at(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Es(t){return typeof t=="string"?Gt.fromBase64String(t):Gt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cy(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function hy(t){const e=t.mapValue.fields.__previous_value__;return cy(e)?hy(e):e}function Hl(t){const e=Oi(t.mapValue.fields.__local_write_time__.timestampValue);return new mt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g9{constructor(e,n,r,i,s,a,c,u,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=c,this.longPollingOptions=u,this.useFetchStreams=d}}class Wl{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Wl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Wl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ts(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?cy(t)?4:v9(t)?9007199254740991:10:ue()}function yr(t,e){if(t===e)return!0;const n=Ts(t);if(n!==Ts(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Hl(t).isEqual(Hl(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const a=Oi(i.timestampValue),c=Oi(s.timestampValue);return a.seconds===c.seconds&&a.nanos===c.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Es(i.bytesValue).isEqual(Es(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return at(i.geoPointValue.latitude)===at(s.geoPointValue.latitude)&&at(i.geoPointValue.longitude)===at(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return at(i.integerValue)===at(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const a=at(i.doubleValue),c=at(s.doubleValue);return a===c?sd(a)===sd(c):isNaN(a)&&isNaN(c)}return!1}(t,e);case 9:return ko(t.arrayValue.values||[],e.arrayValue.values||[],yr);case 10:return function(i,s){const a=i.mapValue.fields||{},c=s.mapValue.fields||{};if(DE(a)!==DE(c))return!1;for(const u in a)if(a.hasOwnProperty(u)&&(c[u]===void 0||!yr(a[u],c[u])))return!1;return!0}(t,e);default:return ue()}}function ql(t,e){return(t.values||[]).find(n=>yr(n,e))!==void 0}function Oo(t,e){if(t===e)return 0;const n=Ts(t),r=Ts(e);if(n!==r)return Ae(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ae(t.booleanValue,e.booleanValue);case 2:return function(s,a){const c=at(s.integerValue||s.doubleValue),u=at(a.integerValue||a.doubleValue);return c<u?-1:c>u?1:c===u?0:isNaN(c)?isNaN(u)?0:-1:1}(t,e);case 3:return FE(t.timestampValue,e.timestampValue);case 4:return FE(Hl(t),Hl(e));case 5:return Ae(t.stringValue,e.stringValue);case 6:return function(s,a){const c=Es(s),u=Es(a);return c.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,a){const c=s.split("/"),u=a.split("/");for(let d=0;d<c.length&&d<u.length;d++){const p=Ae(c[d],u[d]);if(p!==0)return p}return Ae(c.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,a){const c=Ae(at(s.latitude),at(a.latitude));return c!==0?c:Ae(at(s.longitude),at(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,a){const c=s.values||[],u=a.values||[];for(let d=0;d<c.length&&d<u.length;++d){const p=Oo(c[d],u[d]);if(p)return p}return Ae(c.length,u.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,a){if(s===Pc.mapValue&&a===Pc.mapValue)return 0;if(s===Pc.mapValue)return 1;if(a===Pc.mapValue)return-1;const c=s.fields||{},u=Object.keys(c),d=a.fields||{},p=Object.keys(d);u.sort(),p.sort();for(let m=0;m<u.length&&m<p.length;++m){const v=Ae(u[m],p[m]);if(v!==0)return v;const y=Oo(c[u[m]],d[p[m]]);if(y!==0)return y}return Ae(u.length,p.length)}(t.mapValue,e.mapValue);default:throw ue()}}function FE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ae(t,e);const n=Oi(t),r=Oi(e),i=Ae(n.seconds,r.seconds);return i!==0?i:Ae(n.nanos,r.nanos)}function Lo(t){return Yg(t)}function Yg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Oi(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Es(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return J.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Yg(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const a of r)s?s=!1:i+=",",i+=`${a}:${Yg(n.fields[a])}`;return i+"}"}(t.mapValue):ue()}function zE(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Xg(t){return!!t&&"integerValue"in t}function dy(t){return!!t&&"arrayValue"in t}function jE(t){return!!t&&"nullValue"in t}function $E(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Zc(t){return!!t&&"mapValue"in t}function tl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return bs(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=tl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=tl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function v9(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.value=e}static empty(){return new nn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Zc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=tl(n)}setAll(e){let n=kt.emptyPath(),r={},i=[];e.forEach((a,c)=>{if(!n.isImmediateParentOf(c)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=c.popLast()}a?r[c.lastSegment()]=tl(a):i.push(c.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Zc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return yr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Zc(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){bs(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new nn(tl(this.value))}}function $C(t){const e=[];return bs(t.fields,(n,r)=>{const i=new kt([n]);if(Zc(r)){const s=$C(r.mapValue).fields;if(s.length===0)e.push(i);else for(const a of s)e.push(i.child(a))}else e.push(i)}),new pn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e,n,r,i,s,a,c){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=a,this.documentState=c}static newInvalidDocument(e){return new Bt(e,0,he.min(),he.min(),he.min(),nn.empty(),0)}static newFoundDocument(e,n,r,i){return new Bt(e,1,n,he.min(),r,i,0)}static newNoDocument(e,n){return new Bt(e,2,n,he.min(),he.min(),nn.empty(),0)}static newUnknownDocument(e,n){return new Bt(e,3,n,he.min(),he.min(),nn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(he.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=nn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=he.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Bt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Bt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(e,n){this.position=e,this.inclusive=n}}function BE(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],a=t.position[i];if(s.field.isKeyField()?r=J.comparator(J.fromName(a.referenceValue),n.key):r=Oo(a,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function UE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!yr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(e,n="asc"){this.field=e,this.dir=n}}function _9(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC{}class ht extends BC{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new w9(e,n,r):n==="array-contains"?new S9(e,r):n==="in"?new I9(e,r):n==="not-in"?new P9(e,r):n==="array-contains-any"?new C9(e,r):new ht(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new E9(e,r):new T9(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Oo(n,this.value)):n!==null&&Ts(this.value)===Ts(n)&&this.matchesComparison(Oo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ue()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Kn extends BC{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new Kn(e,n)}matches(e){return UC(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function UC(t){return t.op==="and"}function HC(t){return y9(t)&&UC(t)}function y9(t){for(const e of t.filters)if(e instanceof Kn)return!1;return!0}function Jg(t){if(t instanceof ht)return t.field.canonicalString()+t.op.toString()+Lo(t.value);if(HC(t))return t.filters.map(e=>Jg(e)).join(",");{const e=t.filters.map(n=>Jg(n)).join(",");return`${t.op}(${e})`}}function WC(t,e){return t instanceof ht?function(r,i){return i instanceof ht&&r.op===i.op&&r.field.isEqual(i.field)&&yr(r.value,i.value)}(t,e):t instanceof Kn?function(r,i){return i instanceof Kn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,a,c)=>s&&WC(a,i.filters[c]),!0):!1}(t,e):void ue()}function qC(t){return t instanceof ht?function(n){return`${n.field.canonicalString()} ${n.op} ${Lo(n.value)}`}(t):t instanceof Kn?function(n){return n.op.toString()+" {"+n.getFilters().map(qC).join(" ,")+"}"}(t):"Filter"}class w9 extends ht{constructor(e,n,r){super(e,n,r),this.key=J.fromName(r.referenceValue)}matches(e){const n=J.comparator(e.key,this.key);return this.matchesComparison(n)}}class E9 extends ht{constructor(e,n){super(e,"in",n),this.keys=GC("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class T9 extends ht{constructor(e,n){super(e,"not-in",n),this.keys=GC("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function GC(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>J.fromName(r.referenceValue))}class S9 extends ht{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return dy(n)&&ql(n.arrayValue,this.value)}}class I9 extends ht{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ql(this.value.arrayValue,n)}}class P9 extends ht{constructor(e,n){super(e,"not-in",n)}matches(e){if(ql(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!ql(this.value.arrayValue,n)}}class C9 extends ht{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!dy(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ql(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x9{constructor(e,n=null,r=[],i=[],s=null,a=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=a,this.endAt=c,this.ce=null}}function HE(t,e=null,n=[],r=[],i=null,s=null,a=null){return new x9(t,e,n,r,i,s,a)}function fy(t){const e=de(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Jg(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),ff(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Lo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Lo(r)).join(",")),e.ce=n}return e.ce}function py(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!_9(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!WC(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!UE(t.startAt,e.startAt)&&UE(t.endAt,e.endAt)}function ev(t){return J.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu{constructor(e,n=null,r=[],i=[],s=null,a="F",c=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=a,this.startAt=c,this.endAt=u,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function b9(t,e,n,r,i,s,a,c){return new Tu(t,e,n,r,i,s,a,c)}function my(t){return new Tu(t)}function WE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function KC(t){return t.collectionGroup!==null}function nl(t){const e=de(t);if(e.le===null){e.le=[];const n=new Set;for(const s of e.explicitOrderBy)e.le.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let c=new Mt(kt.comparator);return a.filters.forEach(u=>{u.getFlattenedFilters().forEach(d=>{d.isInequality()&&(c=c.add(d.field))})}),c})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.le.push(new ad(s,r))}),n.has(kt.keyField().canonicalString())||e.le.push(new ad(kt.keyField(),r))}return e.le}function pr(t){const e=de(t);return e.he||(e.he=R9(e,nl(t))),e.he}function R9(t,e){if(t.limitType==="F")return HE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new ad(i.field,s)});const n=t.endAt?new od(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new od(t.startAt.position,t.startAt.inclusive):null;return HE(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function tv(t,e){const n=t.filters.concat([e]);return new Tu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function nv(t,e,n){return new Tu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function pf(t,e){return py(pr(t),pr(e))&&t.limitType===e.limitType}function ZC(t){return`${fy(pr(t))}|lt:${t.limitType}`}function Us(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>qC(i)).join(", ")}]`),ff(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Lo(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Lo(i)).join(",")),`Target(${r})`}(pr(t))}; limitType=${t.limitType})`}function mf(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):J.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of nl(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(a,c,u){const d=BE(a,c,u);return a.inclusive?d<=0:d<0}(r.startAt,nl(r),i)||r.endAt&&!function(a,c,u){const d=BE(a,c,u);return a.inclusive?d>=0:d>0}(r.endAt,nl(r),i))}(t,e)}function A9(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function QC(t){return(e,n)=>{let r=!1;for(const i of nl(t)){const s=k9(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function k9(t,e,n){const r=t.field.isKeyField()?J.comparator(e.key,n.key):function(s,a,c){const u=a.data.field(s),d=c.data.field(s);return u!==null&&d!==null?Oo(u,d):ue()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ue()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){bs(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return zC(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O9=new Ye(J.comparator);function Br(){return O9}const YC=new Ye(J.comparator);function za(...t){let e=YC;for(const n of t)e=e.insert(n.key,n);return e}function XC(t){let e=YC;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ss(){return rl()}function JC(){return rl()}function rl(){return new Yo(t=>t.toString(),(t,e)=>t.isEqual(e))}const L9=new Ye(J.comparator),M9=new Mt(J.comparator);function we(...t){let e=M9;for(const n of t)e=e.add(n);return e}const N9=new Mt(Ae);function D9(){return N9}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ex(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sd(e)?"-0":e}}function tx(t){return{integerValue:""+t}}function V9(t,e){return p9(e)?tx(e):ex(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf{constructor(){this._=void 0}}function F9(t,e,n){return t instanceof Gl?function(i,s){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&cy(s)&&(s=hy(s)),s&&(a.fields.__previous_value__=s),{mapValue:a}}(n,e):t instanceof Kl?rx(t,e):t instanceof Zl?ix(t,e):function(i,s){const a=nx(i,s),c=qE(a)+qE(i.Ie);return Xg(a)&&Xg(i.Ie)?tx(c):ex(i.serializer,c)}(t,e)}function z9(t,e,n){return t instanceof Kl?rx(t,e):t instanceof Zl?ix(t,e):n}function nx(t,e){return t instanceof ld?function(r){return Xg(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Gl extends gf{}class Kl extends gf{constructor(e){super(),this.elements=e}}function rx(t,e){const n=sx(e);for(const r of t.elements)n.some(i=>yr(i,r))||n.push(r);return{arrayValue:{values:n}}}class Zl extends gf{constructor(e){super(),this.elements=e}}function ix(t,e){let n=sx(e);for(const r of t.elements)n=n.filter(i=>!yr(i,r));return{arrayValue:{values:n}}}class ld extends gf{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function qE(t){return at(t.integerValue||t.doubleValue)}function sx(t){return dy(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j9{constructor(e,n){this.field=e,this.transform=n}}function $9(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Kl&&i instanceof Kl||r instanceof Zl&&i instanceof Zl?ko(r.elements,i.elements,yr):r instanceof ld&&i instanceof ld?yr(r.Ie,i.Ie):r instanceof Gl&&i instanceof Gl}(t.transform,e.transform)}class B9{constructor(e,n){this.version=e,this.transformResults=n}}class mr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new mr}static exists(e){return new mr(void 0,e)}static updateTime(e){return new mr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Qc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class vf{}function ox(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new lx(t.key,mr.none()):new Su(t.key,t.data,mr.none());{const n=t.data,r=nn.empty();let i=new Mt(kt.comparator);for(let s of e.fields)if(!i.has(s)){let a=n.field(s);a===null&&s.length>1&&(s=s.popLast(),a=n.field(s)),a===null?r.delete(s):r.set(s,a),i=i.add(s)}return new $i(t.key,r,new pn(i.toArray()),mr.none())}}function U9(t,e,n){t instanceof Su?function(i,s,a){const c=i.value.clone(),u=KE(i.fieldTransforms,s,a.transformResults);c.setAll(u),s.convertToFoundDocument(a.version,c).setHasCommittedMutations()}(t,e,n):t instanceof $i?function(i,s,a){if(!Qc(i.precondition,s))return void s.convertToUnknownDocument(a.version);const c=KE(i.fieldTransforms,s,a.transformResults),u=s.data;u.setAll(ax(i)),u.setAll(c),s.convertToFoundDocument(a.version,u).setHasCommittedMutations()}(t,e,n):function(i,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function il(t,e,n,r){return t instanceof Su?function(s,a,c,u){if(!Qc(s.precondition,a))return c;const d=s.value.clone(),p=ZE(s.fieldTransforms,u,a);return d.setAll(p),a.convertToFoundDocument(a.version,d).setHasLocalMutations(),null}(t,e,n,r):t instanceof $i?function(s,a,c,u){if(!Qc(s.precondition,a))return c;const d=ZE(s.fieldTransforms,u,a),p=a.data;return p.setAll(ax(s)),p.setAll(d),a.convertToFoundDocument(a.version,p).setHasLocalMutations(),c===null?null:c.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(m=>m.field))}(t,e,n,r):function(s,a,c){return Qc(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):c}(t,e,n)}function H9(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=nx(r.transform,i||null);s!=null&&(n===null&&(n=nn.empty()),n.set(r.field,s))}return n||null}function GE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ko(r,i,(s,a)=>$9(s,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Su extends vf{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class $i extends vf{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function ax(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function KE(t,e,n){const r=new Map;Ve(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],a=s.transform,c=e.data.field(s.field);r.set(s.field,z9(a,c,n[i]))}return r}function ZE(t,e,n){const r=new Map;for(const i of t){const s=i.transform,a=n.data.field(i.field);r.set(i.field,F9(s,a,e))}return r}class lx extends vf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class W9 extends vf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q9{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&U9(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=il(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=il(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=JC();return this.mutations.forEach(i=>{const s=e.get(i.key),a=s.overlayedDocument;let c=this.applyToLocalView(a,s.mutatedFields);c=n.has(i.key)?null:c;const u=ox(a,c);u!==null&&r.set(i.key,u),a.isValidDocument()||a.convertToNoDocument(he.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),we())}isEqual(e){return this.batchId===e.batchId&&ko(this.mutations,e.mutations,(n,r)=>GE(n,r))&&ko(this.baseMutations,e.baseMutations,(n,r)=>GE(n,r))}}class gy{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ve(e.mutations.length===r.length);let i=function(){return L9}();const s=e.mutations;for(let a=0;a<s.length;a++)i=i.insert(s[a].key,r[a].version);return new gy(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G9{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K9{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ot,Ie;function Z9(t){switch(t){default:return ue();case F.CANCELLED:case F.UNKNOWN:case F.DEADLINE_EXCEEDED:case F.RESOURCE_EXHAUSTED:case F.INTERNAL:case F.UNAVAILABLE:case F.UNAUTHENTICATED:return!1;case F.INVALID_ARGUMENT:case F.NOT_FOUND:case F.ALREADY_EXISTS:case F.PERMISSION_DENIED:case F.FAILED_PRECONDITION:case F.ABORTED:case F.OUT_OF_RANGE:case F.UNIMPLEMENTED:case F.DATA_LOSS:return!0}}function ux(t){if(t===void 0)return _r("GRPC error has no .code"),F.UNKNOWN;switch(t){case ot.OK:return F.OK;case ot.CANCELLED:return F.CANCELLED;case ot.UNKNOWN:return F.UNKNOWN;case ot.DEADLINE_EXCEEDED:return F.DEADLINE_EXCEEDED;case ot.RESOURCE_EXHAUSTED:return F.RESOURCE_EXHAUSTED;case ot.INTERNAL:return F.INTERNAL;case ot.UNAVAILABLE:return F.UNAVAILABLE;case ot.UNAUTHENTICATED:return F.UNAUTHENTICATED;case ot.INVALID_ARGUMENT:return F.INVALID_ARGUMENT;case ot.NOT_FOUND:return F.NOT_FOUND;case ot.ALREADY_EXISTS:return F.ALREADY_EXISTS;case ot.PERMISSION_DENIED:return F.PERMISSION_DENIED;case ot.FAILED_PRECONDITION:return F.FAILED_PRECONDITION;case ot.ABORTED:return F.ABORTED;case ot.OUT_OF_RANGE:return F.OUT_OF_RANGE;case ot.UNIMPLEMENTED:return F.UNIMPLEMENTED;case ot.DATA_LOSS:return F.DATA_LOSS;default:return ue()}}(Ie=ot||(ot={}))[Ie.OK=0]="OK",Ie[Ie.CANCELLED=1]="CANCELLED",Ie[Ie.UNKNOWN=2]="UNKNOWN",Ie[Ie.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ie[Ie.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ie[Ie.NOT_FOUND=5]="NOT_FOUND",Ie[Ie.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ie[Ie.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ie[Ie.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ie[Ie.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ie[Ie.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ie[Ie.ABORTED=10]="ABORTED",Ie[Ie.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ie[Ie.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ie[Ie.INTERNAL=13]="INTERNAL",Ie[Ie.UNAVAILABLE=14]="UNAVAILABLE",Ie[Ie.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q9(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y9=new go([4294967295,4294967295],0);function QE(t){const e=Q9().encode(t),n=new YD;return n.update(e),new Uint8Array(n.digest())}function YE(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new go([n,r],0),new go([i,s],0)]}class vy{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ja(`Invalid padding: ${n}`);if(r<0)throw new ja(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ja(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ja(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=go.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(go.fromNumber(r)));return i.compare(Y9)===1&&(i=new go([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=QE(e),[r,i]=YE(n);for(let s=0;s<this.hashCount;s++){const a=this.de(r,i,s);if(!this.Ae(a))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),a=new vy(s,i,n);return r.forEach(c=>a.insert(c)),a}insert(e){if(this.Te===0)return;const n=QE(e),[r,i]=YE(n);for(let s=0;s<this.hashCount;s++){const a=this.de(r,i,s);this.Re(a)}}Re(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ja extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Iu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new _f(he.min(),i,new Ye(Ae),Br(),we())}}class Iu{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Iu(r,n,we(),we(),we())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}}class cx{constructor(e,n){this.targetId=e,this.fe=n}}class hx{constructor(e,n,r=Gt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class XE{constructor(){this.ge=0,this.pe=e2(),this.ye=Gt.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=we(),n=we(),r=we();return this.pe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ue()}}),new Iu(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=e2()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,Ve(this.ge>=0)}Le(){this.Se=!0,this.we=!0}}class X9{constructor(e){this.Be=e,this.ke=new Map,this.qe=Br(),this.Qe=JE(),this.Ke=new Ye(Ae)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:ue()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){const n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){const s=i.target;if(ev(s))if(r===0){const a=new J(s.path);this.We(n,a,Bt.newNoDocument(a,he.min()))}else Ve(r===1);else{const a=this.Ze(n);if(a!==r){const c=this.Xe(e),u=c?this.et(c,e,a):1;if(u!==0){this.He(n);const d=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,d)}}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let a,c;try{a=Es(r).toUint8Array()}catch(u){if(u instanceof jC)return Ao("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{c=new vy(a,i,s)}catch(u){return Ao(u instanceof ja?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return c.Te===0?null:c}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Be.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const a=this.Be.nt(),c=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;e.mightContain(c)||(this.We(n,s,null),i++)}),i}it(e){const n=new Map;this.ke.forEach((s,a)=>{const c=this.Ye(a);if(c){if(s.current&&ev(c.target)){const u=new J(c.target.path);this.qe.get(u)!==null||this.st(a,u)||this.We(a,u,Bt.newNoDocument(u,e))}s.De&&(n.set(a,s.ve()),s.Fe())}});let r=we();this.Qe.forEach((s,a)=>{let c=!0;a.forEachWhile(u=>{const d=this.Ye(u);return!d||d.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(s))}),this.qe.forEach((s,a)=>a.setReadTime(e));const i=new _f(e,n,this.Ke,this.qe,r);return this.qe=Br(),this.Qe=JE(),this.Ke=new Ye(Ae),i}Ue(e,n){if(!this.je(e))return;const r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Be.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new XE,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new Mt(Ae),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||U("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Be._t(e)}He(e){this.ke.set(e,new XE),this.Be.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Be.getRemoteKeysForTarget(e).has(n)}}function JE(){return new Ye(J.comparator)}function e2(){return new Ye(J.comparator)}const J9={asc:"ASCENDING",desc:"DESCENDING"},eV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},tV={and:"AND",or:"OR"};class nV{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function rv(t,e){return t.useProto3Json||ff(e)?e:{value:e}}function ud(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function dx(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function rV(t,e){return ud(t,e.toTimestamp())}function gr(t){return Ve(!!t),he.fromTimestamp(function(n){const r=Oi(n);return new mt(r.seconds,r.nanos)}(t))}function _y(t,e){return iv(t,e).canonicalString()}function iv(t,e){const n=function(i){return new $e(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function fx(t){const e=$e.fromString(t);return Ve(_x(e)),e}function sv(t,e){return _y(t.databaseId,e.path)}function vm(t,e){const n=fx(e);if(n.get(1)!==t.databaseId.projectId)throw new q(F.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new q(F.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new J(mx(n))}function px(t,e){return _y(t.databaseId,e)}function iV(t){const e=fx(t);return e.length===4?$e.emptyPath():mx(e)}function ov(t){return new $e(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function mx(t){return Ve(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function t2(t,e,n){return{name:sv(t,e),fields:n.value.mapValue.fields}}function sV(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:ue()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(d,p){return d.useProto3Json?(Ve(p===void 0||typeof p=="string"),Gt.fromBase64String(p||"")):(Ve(p===void 0||p instanceof Uint8Array),Gt.fromUint8Array(p||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,c=a&&function(d){const p=d.code===void 0?F.UNKNOWN:ux(d.code);return new q(p,d.message||"")}(a);n=new hx(r,i,s,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=vm(t,r.document.name),s=gr(r.document.updateTime),a=r.document.createTime?gr(r.document.createTime):he.min(),c=new nn({mapValue:{fields:r.document.fields}}),u=Bt.newFoundDocument(i,s,a,c),d=r.targetIds||[],p=r.removedTargetIds||[];n=new Yc(d,p,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=vm(t,r.document),s=r.readTime?gr(r.readTime):he.min(),a=Bt.newNoDocument(i,s),c=r.removedTargetIds||[];n=new Yc([],c,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=vm(t,r.document),s=r.removedTargetIds||[];n=new Yc([],s,i,null)}else{if(!("filter"in e))return ue();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,a=new K9(i,s),c=r.targetId;n=new cx(c,a)}}return n}function oV(t,e){let n;if(e instanceof Su)n={update:t2(t,e.key,e.value)};else if(e instanceof lx)n={delete:sv(t,e.key)};else if(e instanceof $i)n={update:t2(t,e.key,e.data),updateMask:mV(e.fieldMask)};else{if(!(e instanceof W9))return ue();n={verify:sv(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,a){const c=a.transform;if(c instanceof Gl)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Kl)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Zl)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof ld)return{fieldPath:a.field.canonicalString(),increment:c.Ie};throw ue()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:rV(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ue()}(t,e.precondition)),n}function aV(t,e){return t&&t.length>0?(Ve(e!==void 0),t.map(n=>function(i,s){let a=i.updateTime?gr(i.updateTime):gr(s);return a.isEqual(he.min())&&(a=gr(s)),new B9(a,i.transformResults||[])}(n,e))):[]}function lV(t,e){return{documents:[px(t,e.path)]}}function uV(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=px(t,i);const s=function(d){if(d.length!==0)return vx(Kn.create(d,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const a=function(d){if(d.length!==0)return d.map(p=>function(v){return{field:Hs(v.field),direction:dV(v.dir)}}(p))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const c=rv(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{ut:n,parent:i}}function cV(t){let e=iV(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ve(r===1);const p=n.from[0];p.allDescendants?i=p.collectionId:e=e.child(p.collectionId)}let s=[];n.where&&(s=function(m){const v=gx(m);return v instanceof Kn&&HC(v)?v.getFilters():[v]}(n.where));let a=[];n.orderBy&&(a=function(m){return m.map(v=>function(C){return new ad(Ws(C.field),function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(v))}(n.orderBy));let c=null;n.limit&&(c=function(m){let v;return v=typeof m=="object"?m.value:m,ff(v)?null:v}(n.limit));let u=null;n.startAt&&(u=function(m){const v=!!m.before,y=m.values||[];return new od(y,v)}(n.startAt));let d=null;return n.endAt&&(d=function(m){const v=!m.before,y=m.values||[];return new od(y,v)}(n.endAt)),b9(e,i,a,s,c,"F",u,d)}function hV(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ue()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function gx(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ws(n.unaryFilter.field);return ht.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Ws(n.unaryFilter.field);return ht.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Ws(n.unaryFilter.field);return ht.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Ws(n.unaryFilter.field);return ht.create(a,"!=",{nullValue:"NULL_VALUE"});default:return ue()}}(t):t.fieldFilter!==void 0?function(n){return ht.create(Ws(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ue()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Kn.create(n.compositeFilter.filters.map(r=>gx(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ue()}}(n.compositeFilter.op))}(t):ue()}function dV(t){return J9[t]}function fV(t){return eV[t]}function pV(t){return tV[t]}function Hs(t){return{fieldPath:t.canonicalString()}}function Ws(t){return kt.fromServerFormat(t.fieldPath)}function vx(t){return t instanceof ht?function(n){if(n.op==="=="){if($E(n.value))return{unaryFilter:{field:Hs(n.field),op:"IS_NAN"}};if(jE(n.value))return{unaryFilter:{field:Hs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if($E(n.value))return{unaryFilter:{field:Hs(n.field),op:"IS_NOT_NAN"}};if(jE(n.value))return{unaryFilter:{field:Hs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Hs(n.field),op:fV(n.op),value:n.value}}}(t):t instanceof Kn?function(n){const r=n.getFilters().map(i=>vx(i));return r.length===1?r[0]:{compositeFilter:{op:pV(n.op),filters:r}}}(t):ue()}function mV(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function _x(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(e,n,r,i,s=he.min(),a=he.min(),c=Gt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=c,this.expectedCount=u}withSequenceNumber(e){return new fi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new fi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new fi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new fi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gV{constructor(e){this.ct=e}}function vV(t){const e=cV({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?nv(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _V{constructor(){this._n=new yV}addToCollectionParentIndex(e,n){return this._n.add(n),z.resolve()}getCollectionParents(e,n){return z.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return z.resolve()}deleteFieldIndex(e,n){return z.resolve()}deleteAllFieldIndexes(e){return z.resolve()}createTargetIndexes(e,n){return z.resolve()}getDocumentsMatchingTarget(e,n){return z.resolve(null)}getIndexType(e,n){return z.resolve(0)}getFieldIndexes(e,n){return z.resolve([])}getNextCollectionGroupToUpdate(e){return z.resolve(null)}getMinOffset(e,n){return z.resolve(ki.min())}getMinOffsetFromCollectionGroup(e,n){return z.resolve(ki.min())}updateCollectionGroup(e,n,r){return z.resolve()}updateIndexEntries(e,n){return z.resolve()}}class yV{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Mt($e.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Mt($e.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new Mo(0)}static Ln(){return new Mo(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wV{constructor(){this.changes=new Yo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Bt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?z.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EV{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TV{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&il(r.mutation,i,pn.empty(),mt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,we()).next(()=>r))}getLocalViewOfDocuments(e,n,r=we()){const i=ss();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let a=za();return s.forEach((c,u)=>{a=a.insert(c,u.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const r=ss();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,we()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((a,c)=>{n.set(a,c)})})}computeViews(e,n,r,i){let s=Br();const a=rl(),c=function(){return rl()}();return n.forEach((u,d)=>{const p=r.get(d.key);i.has(d.key)&&(p===void 0||p.mutation instanceof $i)?s=s.insert(d.key,d):p!==void 0?(a.set(d.key,p.mutation.getFieldMask()),il(p.mutation,d,p.mutation.getFieldMask(),mt.now())):a.set(d.key,pn.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((d,p)=>a.set(d,p)),n.forEach((d,p)=>{var m;return c.set(d,new EV(p,(m=a.get(d))!==null&&m!==void 0?m:null))}),c))}recalculateAndSaveOverlays(e,n){const r=rl();let i=new Ye((a,c)=>a-c),s=we();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const c of a)c.keys().forEach(u=>{const d=n.get(u);if(d===null)return;let p=r.get(u)||pn.empty();p=c.applyToLocalView(d,p),r.set(u,p);const m=(i.get(c.batchId)||we()).add(u);i=i.insert(c.batchId,m)})}).next(()=>{const a=[],c=i.getReverseIterator();for(;c.hasNext();){const u=c.getNext(),d=u.key,p=u.value,m=JC();p.forEach(v=>{if(!s.has(v)){const y=ox(n.get(v),r.get(v));y!==null&&m.set(v,y),s=s.add(v)}}),a.push(this.documentOverlayCache.saveOverlays(e,d,m))}return z.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(a){return J.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):KC(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const a=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):z.resolve(ss());let c=-1,u=s;return a.next(d=>z.forEach(d,(p,m)=>(c<m.largestBatchId&&(c=m.largestBatchId),s.get(p)?z.resolve():this.remoteDocumentCache.getEntry(e,p).next(v=>{u=u.insert(p,v)}))).next(()=>this.populateOverlays(e,d,s)).next(()=>this.computeViews(e,u,d,we())).next(p=>({batchId:c,changes:XC(p)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new J(n)).next(r=>{let i=za();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let a=za();return this.indexManager.getCollectionParents(e,s).next(c=>z.forEach(c,u=>{const d=function(m,v){return new Tu(v,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,d,r,i).next(p=>{p.forEach((m,v)=>{a=a.insert(m,v)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(a=>{s.forEach((u,d)=>{const p=d.getKey();a.get(p)===null&&(a=a.insert(p,Bt.newInvalidDocument(p)))});let c=za();return a.forEach((u,d)=>{const p=s.get(u);p!==void 0&&il(p.mutation,d,pn.empty(),mt.now()),mf(n,d)&&(c=c.insert(u,d))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SV{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return z.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:gr(i.createTime)}}(n)),z.resolve()}getNamedQuery(e,n){return z.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:vV(i.bundledQuery),readTime:gr(i.readTime)}}(n)),z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IV{constructor(){this.overlays=new Ye(J.comparator),this.hr=new Map}getOverlay(e,n){return z.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ss();return z.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),z.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.hr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(r)),z.resolve()}getOverlaysForCollection(e,n,r){const i=ss(),s=n.length+1,a=new J(n.child("")),c=this.overlays.getIteratorFrom(a);for(;c.hasNext();){const u=c.getNext().value,d=u.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return z.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Ye((d,p)=>d-p);const a=this.overlays.getIterator();for(;a.hasNext();){const d=a.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let p=s.get(d.largestBatchId);p===null&&(p=ss(),s=s.insert(d.largestBatchId,p)),p.set(d.getKey(),d)}}const c=ss(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((d,p)=>c.set(d,p)),!(c.size()>=i)););return z.resolve(c)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const a=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new G9(n,r));let s=this.hr.get(n);s===void 0&&(s=we(),this.hr.set(n,s)),this.hr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yy{constructor(){this.Pr=new Mt(yt.Ir),this.Tr=new Mt(yt.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new yt(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new yt(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new J(new $e([])),r=new yt(n,e),i=new yt(n,e+1),s=[];return this.Tr.forEachInRange([r,i],a=>{this.Ar(a),s.push(a.key)}),s}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new J(new $e([])),r=new yt(n,e),i=new yt(n,e+1);let s=we();return this.Tr.forEachInRange([r,i],a=>{s=s.add(a.key)}),s}containsKey(e){const n=new yt(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class yt{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return J.comparator(e.key,n.key)||Ae(e.pr,n.pr)}static Er(e,n){return Ae(e.pr,n.pr)||J.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PV{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new Mt(yt.Ir)}checkEmpty(e){return z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new q9(s,n,r,i);this.mutationQueue.push(a);for(const c of i)this.wr=this.wr.add(new yt(c.key,s)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return z.resolve(a)}lookupMutationBatch(e,n){return z.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.br(r),s=i<0?0:i;return z.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return z.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new yt(n,0),i=new yt(n,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([r,i],a=>{const c=this.Sr(a.pr);s.push(c)}),z.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Mt(Ae);return n.forEach(i=>{const s=new yt(i,0),a=new yt(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,a],c=>{r=r.add(c.pr)})}),z.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;J.isDocumentKey(s)||(s=s.child(""));const a=new yt(new J(s),0);let c=new Mt(Ae);return this.wr.forEachWhile(u=>{const d=u.key.path;return!!r.isPrefixOf(d)&&(d.length===i&&(c=c.add(u.pr)),!0)},a),z.resolve(this.Dr(c))}Dr(e){const n=[];return e.forEach(r=>{const i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ve(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return z.forEach(n.mutations,i=>{const s=new yt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new yt(n,0),i=this.wr.firstAfterOrEqual(r);return z.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,z.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CV{constructor(e){this.vr=e,this.docs=function(){return new Ye(J.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,a=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return z.resolve(r?r.document.mutableCopy():Bt.newInvalidDocument(n))}getEntries(e,n){let r=Br();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Bt.newInvalidDocument(i))}),z.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Br();const a=n.path,c=new J(a.child("")),u=this.docs.getIteratorFrom(c);for(;u.hasNext();){const{key:d,value:{document:p}}=u.getNext();if(!a.isPrefixOf(d.path))break;d.path.length>a.length+1||u9(l9(p),r)<=0||(i.has(p.key)||mf(n,p))&&(s=s.insert(p.key,p.mutableCopy()))}return z.resolve(s)}getAllFromCollectionGroup(e,n,r,i){ue()}Fr(e,n){return z.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new xV(this)}getSize(e){return z.resolve(this.size)}}class xV extends wV{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),z.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bV{constructor(e){this.persistence=e,this.Mr=new Yo(n=>fy(n),py),this.lastRemoteSnapshotVersion=he.min(),this.highestTargetId=0,this.Or=0,this.Nr=new yy,this.targetCount=0,this.Lr=Mo.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),z.resolve()}getLastRemoteSnapshotVersion(e){return z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return z.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),z.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),z.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Lr=new Mo(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,z.resolve()}updateTargetData(e,n){return this.qn(n),z.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,z.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Mr.forEach((a,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.Mr.delete(a),s.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),z.waitFor(s).next(()=>i)}getTargetCount(e){return z.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return z.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),z.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(a=>{s.push(i.markPotentiallyOrphaned(e,a))}),z.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),z.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return z.resolve(r)}containsKey(e,n){return z.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RV{constructor(e,n){this.Br={},this.overlays={},this.kr=new uy(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new bV(this),this.indexManager=new _V,this.remoteDocumentCache=function(i){return new CV(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new gV(n),this.$r=new SV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new IV,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new PV(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){U("MemoryPersistence","Starting transaction:",e);const i=new AV(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(s=>this.referenceDelegate.Wr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gr(e,n){return z.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class AV extends h9{constructor(e){super(),this.currentSequenceNumber=e}}class wy{constructor(e){this.persistence=e,this.zr=new yy,this.jr=null}static Hr(e){return new wy(e)}get Jr(){if(this.jr)return this.jr;throw ue()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),z.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),z.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),z.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Jr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return z.forEach(this.Jr,r=>{const i=J.fromPath(r);return this.Yr(e,i).next(s=>{s||n.removeEntry(i,he.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return z.or([()=>z.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ey{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=we(),i=we();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Ey(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OV{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return aM()?8:is.v(dt())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ji(e,n).next(a=>{s.result=a}).next(()=>{if(!s.result)return this.Hi(e,n,i,r).next(a=>{s.result=a})}).next(()=>{if(s.result)return;const a=new kV;return this.Ji(e,n,a).next(c=>{if(s.result=c,this.Ui)return this.Yi(e,n,a,c.size)})}).next(()=>s.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(Ca()<=Te.DEBUG&&U("QueryEngine","SDK will not create cache indexes for query:",Us(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),z.resolve()):(Ca()<=Te.DEBUG&&U("QueryEngine","Query:",Us(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(Ca()<=Te.DEBUG&&U("QueryEngine","The SDK decides to create cache indexes for query:",Us(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,pr(n))):z.resolve())}ji(e,n){if(WE(n))return z.resolve(null);let r=pr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=nv(n,null,"F"),r=pr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const a=we(...s);return this.zi.getDocuments(e,a).next(c=>this.indexManager.getMinOffset(e,r).next(u=>{const d=this.Zi(n,c);return this.Xi(n,d,a,u.readTime)?this.ji(e,nv(n,null,"F")):this.es(e,d,n,u)}))})))}Hi(e,n,r,i){return WE(n)||i.isEqual(he.min())?z.resolve(null):this.zi.getDocuments(e,r).next(s=>{const a=this.Zi(n,s);return this.Xi(n,a,r,i)?z.resolve(null):(Ca()<=Te.DEBUG&&U("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Us(n)),this.es(e,a,n,a9(i,-1)).next(c=>c))})}Zi(e,n){let r=new Mt(QC(e));return n.forEach((i,s)=>{mf(e,s)&&(r=r.add(s))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ji(e,n,r){return Ca()<=Te.DEBUG&&U("QueryEngine","Using full collection scan to execute query:",Us(n)),this.zi.getDocumentsMatchingQuery(e,n,ki.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(a=>{s=s.insert(a.key,a)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LV{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new Ye(Ae),this.rs=new Yo(s=>fy(s),py),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new TV(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function MV(t,e,n,r){return new LV(t,e,n,r)}async function yx(t,e){const n=de(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const a=[],c=[];let u=we();for(const d of i){a.push(d.batchId);for(const p of d.mutations)u=u.add(p.key)}for(const d of s){c.push(d.batchId);for(const p of d.mutations)u=u.add(p.key)}return n.localDocuments.getDocuments(r,u).next(d=>({us:d,removedBatchIds:a,addedBatchIds:c}))})})}function NV(t,e){const n=de(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.os.newChangeBuffer({trackRemovals:!0});return function(c,u,d,p){const m=d.batch,v=m.keys();let y=z.resolve();return v.forEach(C=>{y=y.next(()=>p.getEntry(u,C)).next(T=>{const S=d.docVersions.get(C);Ve(S!==null),T.version.compareTo(S)<0&&(m.applyToRemoteDocument(T,d),T.isValidDocument()&&(T.setReadTime(d.commitVersion),p.addEntry(T)))})}),y.next(()=>c.mutationQueue.removeMutationBatch(u,m))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let u=we();for(let d=0;d<c.mutationResults.length;++d)c.mutationResults[d].transformResults.length>0&&(u=u.add(c.batch.mutations[d].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function wx(t){const e=de(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function DV(t,e){const n=de(t),r=e.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const a=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const c=[];e.targetChanges.forEach((p,m)=>{const v=i.get(m);if(!v)return;c.push(n.Qr.removeMatchingKeys(s,p.removedDocuments,m).next(()=>n.Qr.addMatchingKeys(s,p.addedDocuments,m)));let y=v.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(m)!==null?y=y.withResumeToken(Gt.EMPTY_BYTE_STRING,he.min()).withLastLimboFreeSnapshotVersion(he.min()):p.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(p.resumeToken,r)),i=i.insert(m,y),function(T,S,w){return T.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-T.snapshotVersion.toMicroseconds()>=3e8?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(v,y,p)&&c.push(n.Qr.updateTargetData(s,y))});let u=Br(),d=we();if(e.documentUpdates.forEach(p=>{e.resolvedLimboDocuments.has(p)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(s,p))}),c.push(VV(s,a,e.documentUpdates).next(p=>{u=p.cs,d=p.ls})),!r.isEqual(he.min())){const p=n.Qr.getLastRemoteSnapshotVersion(s).next(m=>n.Qr.setTargetsMetadata(s,s.currentSequenceNumber,r));c.push(p)}return z.waitFor(c).next(()=>a.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,d)).next(()=>u)}).then(s=>(n.ns=i,s))}function VV(t,e,n){let r=we(),i=we();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let a=Br();return n.forEach((c,u)=>{const d=s.get(c);u.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(c)),u.isNoDocument()&&u.version.isEqual(he.min())?(e.removeEntry(c,u.readTime),a=a.insert(c,u)):!d.isValidDocument()||u.version.compareTo(d.version)>0||u.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(u),a=a.insert(c,u)):U("LocalStore","Ignoring outdated watch update for ",c,". Current version:",d.version," Watch version:",u.version)}),{cs:a,ls:i}})}function FV(t,e){const n=de(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function zV(t,e){const n=de(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(s=>s?(i=s,z.resolve(i)):n.Qr.allocateTargetId(r).next(a=>(i=new fi(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}async function av(t,e,n){const r=de(t),i=r.ns.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,a=>r.persistence.referenceDelegate.removeTarget(a,i))}catch(a){if(!Eu(a))throw a;U("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)}function n2(t,e,n){const r=de(t);let i=he.min(),s=we();return r.persistence.runTransaction("Execute query","readwrite",a=>function(u,d,p){const m=de(u),v=m.rs.get(p);return v!==void 0?z.resolve(m.ns.get(v)):m.Qr.getTargetData(d,p)}(r,a,pr(e)).next(c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(a,c.targetId).next(u=>{s=u})}).next(()=>r.ts.getDocumentsMatchingQuery(a,e,n?i:he.min(),n?s:we())).next(c=>(jV(r,A9(e),c),{documents:c,hs:s})))}function jV(t,e,n){let r=t.ss.get(e)||he.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.ss.set(e,r)}class r2{constructor(){this.activeTargetIds=D9()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class $V{constructor(){this.no=new r2,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new r2,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BV{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){U("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){U("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cc=null;function _m(){return Cc===null?Cc=function(){return 268435456+Math.round(2147483648*Math.random())}():Cc++,"0x"+Cc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HV{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ft="WebChannelConnection";class WV extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.fo=r+"://"+n.host,this.po=`projects/${i}/databases/${s}`,this.yo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get wo(){return!1}So(n,r,i,s,a){const c=_m(),u=this.bo(n,r.toUriEncodedString());U("RestConnection",`Sending RPC '${n}' ${c}:`,u,i);const d={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(d,s,a),this.Co(n,u,d,i).then(p=>(U("RestConnection",`Received RPC '${n}' ${c}: `,p),p),p=>{throw Ao("RestConnection",`RPC '${n}' ${c} failed with error: `,p,"url: ",u,"request:",i),p})}vo(n,r,i,s,a,c){return this.So(n,r,i,s,a)}Do(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Qo}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,a)=>n[a]=s),i&&i.headers.forEach((s,a)=>n[a]=s)}bo(n,r){const i=UV[n];return`${this.fo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,n,r,i){const s=_m();return new Promise((a,c)=>{const u=new QD;u.setWithCredentials(!0),u.listenOnce(KD.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case gm.NO_ERROR:const p=u.getResponseJson();U(Ft,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),a(p);break;case gm.TIMEOUT:U(Ft,`RPC '${e}' ${s} timed out`),c(new q(F.DEADLINE_EXCEEDED,"Request time out"));break;case gm.HTTP_ERROR:const m=u.getStatus();if(U(Ft,`RPC '${e}' ${s} failed with status:`,m,"response text:",u.getResponseText()),m>0){let v=u.getResponseJson();Array.isArray(v)&&(v=v[0]);const y=v==null?void 0:v.error;if(y&&y.status&&y.message){const C=function(S){const w=S.toLowerCase().replace(/_/g,"-");return Object.values(F).indexOf(w)>=0?w:F.UNKNOWN}(y.status);c(new q(C,y.message))}else c(new q(F.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new q(F.UNAVAILABLE,"Connection failed."));break;default:ue()}}finally{U(Ft,`RPC '${e}' ${s} completed.`)}});const d=JSON.stringify(i);U(Ft,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",d,r,15)})}Fo(e,n,r){const i=_m(),s=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=qD(),c=GD(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(u.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Do(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const p=s.join("");U(Ft,`Creating RPC '${e}' stream ${i}: ${p}`,u);const m=a.createWebChannel(p,u);let v=!1,y=!1;const C=new HV({lo:S=>{y?U(Ft,`Not sending because RPC '${e}' stream ${i} is closed:`,S):(v||(U(Ft,`Opening RPC '${e}' stream ${i} transport.`),m.open(),v=!0),U(Ft,`RPC '${e}' stream ${i} sending:`,S),m.send(S))},ho:()=>m.close()}),T=(S,w,E)=>{S.listen(w,P=>{try{E(P)}catch(x){setTimeout(()=>{throw x},0)}})};return T(m,Sc.EventType.OPEN,()=>{y||U(Ft,`RPC '${e}' stream ${i} transport opened.`)}),T(m,Sc.EventType.CLOSE,()=>{y||(y=!0,U(Ft,`RPC '${e}' stream ${i} transport closed`),C.Vo())}),T(m,Sc.EventType.ERROR,S=>{y||(y=!0,Ao(Ft,`RPC '${e}' stream ${i} transport errored:`,S),C.Vo(new q(F.UNAVAILABLE,"The operation could not be completed")))}),T(m,Sc.EventType.MESSAGE,S=>{var w;if(!y){const E=S.data[0];Ve(!!E);const P=E,x=P.error||((w=P[0])===null||w===void 0?void 0:w.error);if(x){U(Ft,`RPC '${e}' stream ${i} received error:`,x);const A=x.status;let O=function(Z){const G=ot[Z];if(G!==void 0)return ux(G)}(A),M=x.message;O===void 0&&(O=F.INTERNAL,M="Unknown error status: "+A+" with message "+x.message),y=!0,C.Vo(new q(O,M)),m.close()}else U(Ft,`RPC '${e}' stream ${i} received:`,E),C.mo(E)}}),T(c,ZD.STAT_EVENT,S=>{S.stat===LE.PROXY?U(Ft,`RPC '${e}' stream ${i} detected buffering proxy`):S.stat===LE.NOPROXY&&U(Ft,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{C.Ro()},0),C}}function ym(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yf(t){return new nV(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ex{constructor(e,n,r=1e3,i=1.5,s=6e4){this.oi=e,this.timerId=n,this.Mo=r,this.xo=i,this.Oo=s,this.No=0,this.Lo=null,this.Bo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,n-r);i>0&&U("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Lo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Lo!==null&&(this.Lo.skipDelay(),this.Lo=null)}cancel(){this.Lo!==null&&(this.Lo.cancel(),this.Lo=null)}Qo(){return(Math.random()-.5)*this.No}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tx{constructor(e,n,r,i,s,a,c,u){this.oi=e,this.$o=r,this.Uo=i,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=c,this.listener=u,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new Ex(e,n)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(e,n){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,e!==4?this.jo.reset():n&&n.code===F.RESOURCE_EXHAUSTED?(_r(n.toString()),_r("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===F.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.To(n)}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Wo===n&&this.o_(r,i)},r=>{e(()=>{const i=new q(F.UNKNOWN,"Fetching auth token failed: "+r.message);return this.__(i)})})}o_(e,n){const r=this.s_(this.Wo);this.stream=this.a_(e,n),this.stream.Po(()=>{r(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(i=>{r(()=>this.__(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Yo(){this.state=5,this.jo.qo(async()=>{this.state=0,this.start()})}__(e){return U("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return n=>{this.oi.enqueueAndForget(()=>this.Wo===e?n():(U("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class qV extends Tx{constructor(e,n,r,i,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s}a_(e,n){return this.connection.Fo("Listen",e,n)}onMessage(e){this.jo.reset();const n=sV(this.serializer,e),r=function(s){if(!("targetChange"in s))return he.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?he.min():a.readTime?gr(a.readTime):he.min()}(e);return this.listener.u_(n,r)}c_(e){const n={};n.database=ov(this.serializer),n.addTarget=function(s,a){let c;const u=a.target;if(c=ev(u)?{documents:lV(s,u)}:{query:uV(s,u).ut},c.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){c.resumeToken=dx(s,a.resumeToken);const d=rv(s,a.expectedCount);d!==null&&(c.expectedCount=d)}else if(a.snapshotVersion.compareTo(he.min())>0){c.readTime=ud(s,a.snapshotVersion.toTimestamp());const d=rv(s,a.expectedCount);d!==null&&(c.expectedCount=d)}return c}(this.serializer,e);const r=hV(this.serializer,e);r&&(n.labels=r),this.t_(n)}l_(e){const n={};n.database=ov(this.serializer),n.removeTarget=e,this.t_(n)}}class GV extends Tx{constructor(e,n,r,i,s,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,n){return this.connection.Fo("Write",e,n)}onMessage(e){if(Ve(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const n=aV(e.writeResults,e.commitTime),r=gr(e.commitTime);return this.listener.T_(r,n)}return Ve(!e.writeResults||e.writeResults.length===0),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=ov(this.serializer),this.t_(e)}I_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>oV(this.serializer,r))};this.t_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KV extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.A_=!1}R_(){if(this.A_)throw new q(F.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.So(e,iv(n,r),i,s,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new q(F.UNKNOWN,s.toString())})}vo(e,n,r,i,s){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,c])=>this.connection.vo(e,iv(n,r),i,a,c,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new q(F.UNKNOWN,a.toString())})}terminate(){this.A_=!0,this.connection.terminate()}}class ZV{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,e==="Online"&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(_r(n),this.g_=!1):U("OnlineStateTracker",n)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QV{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=s,this.M_.io(a=>{r.enqueueAndForget(async()=>{Rs(this)&&(U("RemoteStore","Restarting streams for network reachability change."),await async function(u){const d=de(u);d.v_.add(4),await Pu(d),d.x_.set("Unknown"),d.v_.delete(4),await wf(d)}(this))})}),this.x_=new ZV(r,i)}}async function wf(t){if(Rs(t))for(const e of t.F_)await e(!0)}async function Pu(t){for(const e of t.F_)await e(!1)}function Sx(t,e){const n=de(t);n.C_.has(e.targetId)||(n.C_.set(e.targetId,e),Py(n)?Iy(n):Xo(n).Jo()&&Sy(n,e))}function Ty(t,e){const n=de(t),r=Xo(n);n.C_.delete(e),r.Jo()&&Ix(n,e),n.C_.size===0&&(r.Jo()?r.Xo():Rs(n)&&n.x_.set("Unknown"))}function Sy(t,e){if(t.O_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(he.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Xo(t).c_(e)}function Ix(t,e){t.O_.Oe(e),Xo(t).l_(e)}function Iy(t){t.O_=new X9({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.C_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),Xo(t).start(),t.x_.p_()}function Py(t){return Rs(t)&&!Xo(t).Ho()&&t.C_.size>0}function Rs(t){return de(t).v_.size===0}function Px(t){t.O_=void 0}async function YV(t){t.C_.forEach((e,n)=>{Sy(t,e)})}async function XV(t,e){Px(t),Py(t)?(t.x_.S_(e),Iy(t)):t.x_.set("Unknown")}async function JV(t,e,n){if(t.x_.set("Online"),e instanceof hx&&e.state===2&&e.cause)try{await async function(i,s){const a=s.cause;for(const c of s.targetIds)i.C_.has(c)&&(await i.remoteSyncer.rejectListen(c,a),i.C_.delete(c),i.O_.removeTarget(c))}(t,e)}catch(r){U("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await cd(t,r)}else if(e instanceof Yc?t.O_.$e(e):e instanceof cx?t.O_.Je(e):t.O_.Ge(e),!n.isEqual(he.min()))try{const r=await wx(t.localStore);n.compareTo(r)>=0&&await function(s,a){const c=s.O_.it(a);return c.targetChanges.forEach((u,d)=>{if(u.resumeToken.approximateByteSize()>0){const p=s.C_.get(d);p&&s.C_.set(d,p.withResumeToken(u.resumeToken,a))}}),c.targetMismatches.forEach((u,d)=>{const p=s.C_.get(u);if(!p)return;s.C_.set(u,p.withResumeToken(Gt.EMPTY_BYTE_STRING,p.snapshotVersion)),Ix(s,u);const m=new fi(p.target,u,d,p.sequenceNumber);Sy(s,m)}),s.remoteSyncer.applyRemoteEvent(c)}(t,n)}catch(r){U("RemoteStore","Failed to raise snapshot:",r),await cd(t,r)}}async function cd(t,e,n){if(!Eu(e))throw e;t.v_.add(1),await Pu(t),t.x_.set("Offline"),n||(n=()=>wx(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{U("RemoteStore","Retrying IndexedDB access"),await n(),t.v_.delete(1),await wf(t)})}function Cx(t,e){return e().catch(n=>cd(t,n,e))}async function Ef(t){const e=de(t),n=Li(e);let r=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;e8(e);)try{const i=await FV(e.localStore,r);if(i===null){e.D_.length===0&&n.Xo();break}r=i.batchId,t8(e,i)}catch(i){await cd(e,i)}xx(e)&&bx(e)}function e8(t){return Rs(t)&&t.D_.length<10}function t8(t,e){t.D_.push(e);const n=Li(t);n.Jo()&&n.P_&&n.I_(e.mutations)}function xx(t){return Rs(t)&&!Li(t).Ho()&&t.D_.length>0}function bx(t){Li(t).start()}async function n8(t){Li(t).d_()}async function r8(t){const e=Li(t);for(const n of t.D_)e.I_(n.mutations)}async function i8(t,e,n){const r=t.D_.shift(),i=gy.from(r,e,n);await Cx(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Ef(t)}async function s8(t,e){e&&Li(t).P_&&await async function(r,i){if(function(a){return Z9(a)&&a!==F.ABORTED}(i.code)){const s=r.D_.shift();Li(r).Zo(),await Cx(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Ef(r)}}(t,e),xx(t)&&bx(t)}async function s2(t,e){const n=de(t);n.asyncQueue.verifyOperationInProgress(),U("RemoteStore","RemoteStore received new credentials");const r=Rs(n);n.v_.add(3),await Pu(n),r&&n.x_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.v_.delete(3),await wf(n)}async function o8(t,e){const n=de(t);e?(n.v_.delete(2),await wf(n)):e||(n.v_.add(2),await Pu(n),n.x_.set("Unknown"))}function Xo(t){return t.N_||(t.N_=function(n,r,i){const s=de(n);return s.R_(),new qV(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:YV.bind(null,t),To:XV.bind(null,t),u_:JV.bind(null,t)}),t.F_.push(async e=>{e?(t.N_.Zo(),Py(t)?Iy(t):t.x_.set("Unknown")):(await t.N_.stop(),Px(t))})),t.N_}function Li(t){return t.L_||(t.L_=function(n,r,i){const s=de(n);return s.R_(),new GV(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:n8.bind(null,t),To:s8.bind(null,t),E_:r8.bind(null,t),T_:i8.bind(null,t)}),t.F_.push(async e=>{e?(t.L_.Zo(),await Ef(t)):(await t.L_.stop(),t.D_.length>0&&(U("RemoteStore",`Stopping write stream with ${t.D_.length} pending writes`),t.D_=[]))})),t.L_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cy{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new fr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const a=Date.now()+r,c=new Cy(e,n,a,i,s);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new q(F.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function xy(t,e){if(_r("AsyncQueue",`${e}: ${t}`),Eu(t))return new q(F.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(e){this.comparator=e?(n,r)=>e(n,r)||J.comparator(n.key,r.key):(n,r)=>J.comparator(n.key,r.key),this.keyedMap=za(),this.sortedSet=new Ye(this.comparator)}static emptySet(e){return new vo(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof vo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new vo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o2{constructor(){this.B_=new Ye(J.comparator)}track(e){const n=e.doc.key,r=this.B_.get(n);r?e.type!==0&&r.type===3?this.B_=this.B_.insert(n,e):e.type===3&&r.type!==1?this.B_=this.B_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.B_=this.B_.remove(n):e.type===1&&r.type===2?this.B_=this.B_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):ue():this.B_=this.B_.insert(n,e)}k_(){const e=[];return this.B_.inorderTraversal((n,r)=>{e.push(r)}),e}}class No{constructor(e,n,r,i,s,a,c,u,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=c,this.excludesMetadataChanges=u,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,i,s){const a=[];return n.forEach(c=>{a.push({type:0,doc:c})}),new No(e,n,vo.emptySet(n),a,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&pf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a8{constructor(){this.q_=void 0,this.Q_=[]}K_(){return this.Q_.some(e=>e.U_())}}class l8{constructor(){this.queries=new Yo(e=>ZC(e),pf),this.onlineState="Unknown",this.W_=new Set}}async function Rx(t,e){const n=de(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.K_()&&e.U_()&&(r=2):(s=new a8,r=e.U_()?0:1);try{switch(r){case 0:s.q_=await n.onListen(i,!0);break;case 1:s.q_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(a){const c=xy(a,`Initialization of query '${Us(e.query)}' failed`);return void e.onError(c)}n.queries.set(i,s),s.Q_.push(e),e.G_(n.onlineState),s.q_&&e.z_(s.q_)&&by(n)}async function Ax(t,e){const n=de(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const a=s.Q_.indexOf(e);a>=0&&(s.Q_.splice(a,1),s.Q_.length===0?i=e.U_()?0:1:!s.K_()&&e.U_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function u8(t,e){const n=de(t);let r=!1;for(const i of e){const s=i.query,a=n.queries.get(s);if(a){for(const c of a.Q_)c.z_(i)&&(r=!0);a.q_=i}}r&&by(n)}function c8(t,e,n){const r=de(t),i=r.queries.get(e);if(i)for(const s of i.Q_)s.onError(n);r.queries.delete(e)}function by(t){t.W_.forEach(e=>{e.next()})}var lv,a2;(a2=lv||(lv={})).j_="default",a2.Cache="cache";class kx{constructor(e,n,r){this.query=e,this.H_=n,this.J_=!1,this.Y_=null,this.onlineState="Unknown",this.options=r||{}}z_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new No(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.J_?this.Z_(e)&&(this.H_.next(e),n=!0):this.X_(e,this.onlineState)&&(this.ea(e),n=!0),this.Y_=e,n}onError(e){this.H_.error(e)}G_(e){this.onlineState=e;let n=!1;return this.Y_&&!this.J_&&this.X_(this.Y_,e)&&(this.ea(this.Y_),n=!0),n}X_(e,n){if(!e.fromCache||!this.U_())return!0;const r=n!=="Offline";return(!this.options.ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Z_(e){if(e.docChanges.length>0)return!0;const n=this.Y_&&this.Y_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ea(e){e=No.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.J_=!0,this.H_.next(e)}U_(){return this.options.source!==lv.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ox{constructor(e){this.key=e}}class Lx{constructor(e){this.key=e}}class h8{constructor(e,n){this.query=e,this.ua=n,this.ca=null,this.hasCachedResults=!1,this.current=!1,this.la=we(),this.mutatedKeys=we(),this.ha=QC(e),this.Pa=new vo(this.ha)}get Ia(){return this.ua}Ta(e,n){const r=n?n.Ea:new o2,i=n?n.Pa:this.Pa;let s=n?n.mutatedKeys:this.mutatedKeys,a=i,c=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,d=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((p,m)=>{const v=i.get(p),y=mf(this.query,m)?m:null,C=!!v&&this.mutatedKeys.has(v.key),T=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let S=!1;v&&y?v.data.isEqual(y.data)?C!==T&&(r.track({type:3,doc:y}),S=!0):this.da(v,y)||(r.track({type:2,doc:y}),S=!0,(u&&this.ha(y,u)>0||d&&this.ha(y,d)<0)&&(c=!0)):!v&&y?(r.track({type:0,doc:y}),S=!0):v&&!y&&(r.track({type:1,doc:v}),S=!0,(u||d)&&(c=!0)),S&&(y?(a=a.add(y),s=T?s.add(p):s.delete(p)):(a=a.delete(p),s=s.delete(p)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const p=this.query.limitType==="F"?a.last():a.first();a=a.delete(p.key),s=s.delete(p.key),r.track({type:1,doc:p})}return{Pa:a,Ea:r,Xi:c,mutatedKeys:s}}da(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Pa;this.Pa=e.Pa,this.mutatedKeys=e.mutatedKeys;const a=e.Ea.k_();a.sort((p,m)=>function(y,C){const T=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ue()}};return T(y)-T(C)}(p.type,m.type)||this.ha(p.doc,m.doc)),this.Aa(r),i=i!=null&&i;const c=n&&!i?this.Ra():[],u=this.la.size===0&&this.current&&!i?1:0,d=u!==this.ca;return this.ca=u,a.length!==0||d?{snapshot:new No(this.query,e.Pa,s,a,e.mutatedKeys,u===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),Va:c}:{Va:c}}G_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Pa:this.Pa,Ea:new o2,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{Va:[]}}ma(e){return!this.ua.has(e)&&!!this.Pa.has(e)&&!this.Pa.get(e).hasLocalMutations}Aa(e){e&&(e.addedDocuments.forEach(n=>this.ua=this.ua.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ua=this.ua.delete(n)),this.current=e.current)}Ra(){if(!this.current)return[];const e=this.la;this.la=we(),this.Pa.forEach(r=>{this.ma(r.key)&&(this.la=this.la.add(r.key))});const n=[];return e.forEach(r=>{this.la.has(r)||n.push(new Lx(r))}),this.la.forEach(r=>{e.has(r)||n.push(new Ox(r))}),n}fa(e){this.ua=e.hs,this.la=we();const n=this.Ta(e.documents);return this.applyChanges(n,!0)}ga(){return No.fromInitialDocuments(this.query,this.Pa,this.mutatedKeys,this.ca===0,this.hasCachedResults)}}class d8{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class f8{constructor(e){this.key=e,this.pa=!1}}class p8{constructor(e,n,r,i,s,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.ya={},this.wa=new Yo(c=>ZC(c),pf),this.Sa=new Map,this.ba=new Set,this.Da=new Ye(J.comparator),this.Ca=new Map,this.va=new yy,this.Fa={},this.Ma=new Map,this.xa=Mo.Ln(),this.onlineState="Unknown",this.Oa=void 0}get isPrimaryClient(){return this.Oa===!0}}async function m8(t,e,n=!0){const r=zx(t);let i;const s=r.wa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.ga()):i=await Mx(r,e,n,!0),i}async function g8(t,e){const n=zx(t);await Mx(n,e,!0,!1)}async function Mx(t,e,n,r){const i=await zV(t.localStore,pr(e)),s=i.targetId,a=n?t.sharedClientState.addLocalQueryTarget(s):"not-current";let c;return r&&(c=await v8(t,e,s,a==="current",i.resumeToken)),t.isPrimaryClient&&n&&Sx(t.remoteStore,i),c}async function v8(t,e,n,r,i){t.Na=(m,v,y)=>async function(T,S,w,E){let P=S.view.Ta(w);P.Xi&&(P=await n2(T.localStore,S.query,!1).then(({documents:M})=>S.view.Ta(M,P)));const x=E&&E.targetChanges.get(S.targetId),A=E&&E.targetMismatches.get(S.targetId)!=null,O=S.view.applyChanges(P,T.isPrimaryClient,x,A);return u2(T,S.targetId,O.Va),O.snapshot}(t,m,v,y);const s=await n2(t.localStore,e,!0),a=new h8(e,s.hs),c=a.Ta(s.documents),u=Iu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),d=a.applyChanges(c,t.isPrimaryClient,u);u2(t,n,d.Va);const p=new d8(e,n,a);return t.wa.set(e,p),t.Sa.has(n)?t.Sa.get(n).push(e):t.Sa.set(n,[e]),d.snapshot}async function _8(t,e,n){const r=de(t),i=r.wa.get(e),s=r.Sa.get(i.targetId);if(s.length>1)return r.Sa.set(i.targetId,s.filter(a=>!pf(a,e))),void r.wa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await av(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Ty(r.remoteStore,i.targetId),uv(r,i.targetId)}).catch(wu)):(uv(r,i.targetId),await av(r.localStore,i.targetId,!0))}async function y8(t,e){const n=de(t),r=n.wa.get(e),i=n.Sa.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Ty(n.remoteStore,r.targetId))}async function w8(t,e,n){const r=x8(t);try{const i=await function(a,c){const u=de(a),d=mt.now(),p=c.reduce((y,C)=>y.add(C.key),we());let m,v;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let C=Br(),T=we();return u.os.getEntries(y,p).next(S=>{C=S,C.forEach((w,E)=>{E.isValidDocument()||(T=T.add(w))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,C)).next(S=>{m=S;const w=[];for(const E of c){const P=H9(E,m.get(E.key).overlayedDocument);P!=null&&w.push(new $i(E.key,P,$C(P.value.mapValue),mr.exists(!0)))}return u.mutationQueue.addMutationBatch(y,d,w,c)}).next(S=>{v=S;const w=S.applyToLocalDocumentSet(m,T);return u.documentOverlayCache.saveOverlays(y,S.batchId,w)})}).then(()=>({batchId:v.batchId,changes:XC(m)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,c,u){let d=a.Fa[a.currentUser.toKey()];d||(d=new Ye(Ae)),d=d.insert(c,u),a.Fa[a.currentUser.toKey()]=d}(r,i.batchId,n),await Cu(r,i.changes),await Ef(r.remoteStore)}catch(i){const s=xy(i,"Failed to persist write");n.reject(s)}}async function Nx(t,e){const n=de(t);try{const r=await DV(n.localStore,e);e.targetChanges.forEach((i,s)=>{const a=n.Ca.get(s);a&&(Ve(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?a.pa=!0:i.modifiedDocuments.size>0?Ve(a.pa):i.removedDocuments.size>0&&(Ve(a.pa),a.pa=!1))}),await Cu(n,r,e)}catch(r){await wu(r)}}function l2(t,e,n){const r=de(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.wa.forEach((s,a)=>{const c=a.view.G_(e);c.snapshot&&i.push(c.snapshot)}),function(a,c){const u=de(a);u.onlineState=c;let d=!1;u.queries.forEach((p,m)=>{for(const v of m.Q_)v.G_(c)&&(d=!0)}),d&&by(u)}(r.eventManager,e),i.length&&r.ya.u_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function E8(t,e,n){const r=de(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Ca.get(e),s=i&&i.key;if(s){let a=new Ye(J.comparator);a=a.insert(s,Bt.newNoDocument(s,he.min()));const c=we().add(s),u=new _f(he.min(),new Map,new Ye(Ae),a,c);await Nx(r,u),r.Da=r.Da.remove(s),r.Ca.delete(e),Ry(r)}else await av(r.localStore,e,!1).then(()=>uv(r,e,n)).catch(wu)}async function T8(t,e){const n=de(t),r=e.batch.batchId;try{const i=await NV(n.localStore,e);Vx(n,r,null),Dx(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Cu(n,i)}catch(i){await wu(i)}}async function S8(t,e,n){const r=de(t);try{const i=await function(a,c){const u=de(a);return u.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let p;return u.mutationQueue.lookupMutationBatch(d,c).next(m=>(Ve(m!==null),p=m.keys(),u.mutationQueue.removeMutationBatch(d,m))).next(()=>u.mutationQueue.performConsistencyCheck(d)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(d,p,c)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,p)).next(()=>u.localDocuments.getDocuments(d,p))})}(r.localStore,e);Vx(r,e,n),Dx(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Cu(r,i)}catch(i){await wu(i)}}function Dx(t,e){(t.Ma.get(e)||[]).forEach(n=>{n.resolve()}),t.Ma.delete(e)}function Vx(t,e,n){const r=de(t);let i=r.Fa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Fa[r.currentUser.toKey()]=i}}function uv(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Sa.get(e))t.wa.delete(r),n&&t.ya.La(r,n);t.Sa.delete(e),t.isPrimaryClient&&t.va.Vr(e).forEach(r=>{t.va.containsKey(r)||Fx(t,r)})}function Fx(t,e){t.ba.delete(e.path.canonicalString());const n=t.Da.get(e);n!==null&&(Ty(t.remoteStore,n),t.Da=t.Da.remove(e),t.Ca.delete(n),Ry(t))}function u2(t,e,n){for(const r of n)r instanceof Ox?(t.va.addReference(r.key,e),I8(t,r)):r instanceof Lx?(U("SyncEngine","Document no longer in limbo: "+r.key),t.va.removeReference(r.key,e),t.va.containsKey(r.key)||Fx(t,r.key)):ue()}function I8(t,e){const n=e.key,r=n.path.canonicalString();t.Da.get(n)||t.ba.has(r)||(U("SyncEngine","New document in limbo: "+n),t.ba.add(r),Ry(t))}function Ry(t){for(;t.ba.size>0&&t.Da.size<t.maxConcurrentLimboResolutions;){const e=t.ba.values().next().value;t.ba.delete(e);const n=new J($e.fromString(e)),r=t.xa.next();t.Ca.set(r,new f8(n)),t.Da=t.Da.insert(n,r),Sx(t.remoteStore,new fi(pr(my(n.path)),r,"TargetPurposeLimboResolution",uy._e))}}async function Cu(t,e,n){const r=de(t),i=[],s=[],a=[];r.wa.isEmpty()||(r.wa.forEach((c,u)=>{a.push(r.Na(u,e,n).then(d=>{if((d||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,d!=null&&d.fromCache?"not-current":"current"),d){i.push(d);const p=Ey.Ki(u.targetId,d);s.push(p)}}))}),await Promise.all(a),r.ya.u_(i),await async function(u,d){const p=de(u);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>z.forEach(d,v=>z.forEach(v.qi,y=>p.persistence.referenceDelegate.addReference(m,v.targetId,y)).next(()=>z.forEach(v.Qi,y=>p.persistence.referenceDelegate.removeReference(m,v.targetId,y)))))}catch(m){if(!Eu(m))throw m;U("LocalStore","Failed to update sequence numbers: "+m)}for(const m of d){const v=m.targetId;if(!m.fromCache){const y=p.ns.get(v),C=y.snapshotVersion,T=y.withLastLimboFreeSnapshotVersion(C);p.ns=p.ns.insert(v,T)}}}(r.localStore,s))}async function P8(t,e){const n=de(t);if(!n.currentUser.isEqual(e)){U("SyncEngine","User change. New user:",e.toKey());const r=await yx(n.localStore,e);n.currentUser=e,function(s,a){s.Ma.forEach(c=>{c.forEach(u=>{u.reject(new q(F.CANCELLED,a))})}),s.Ma.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Cu(n,r.us)}}function C8(t,e){const n=de(t),r=n.Ca.get(e);if(r&&r.pa)return we().add(r.key);{let i=we();const s=n.Sa.get(e);if(!s)return i;for(const a of s){const c=n.wa.get(a);i=i.unionWith(c.view.Ia)}return i}}function zx(t){const e=de(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Nx.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=C8.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=E8.bind(null,e),e.ya.u_=u8.bind(null,e.eventManager),e.ya.La=c8.bind(null,e.eventManager),e}function x8(t){const e=de(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=T8.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=S8.bind(null,e),e}class c2{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=yf(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return MV(this.persistence,new OV,e.initialUser,this.serializer)}createPersistence(e){return new RV(wy.Hr,this.serializer)}createSharedClientState(e){return new $V}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class b8{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>l2(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=P8.bind(null,this.syncEngine),await o8(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new l8}()}createDatastore(e){const n=yf(e.databaseInfo.databaseId),r=function(s){return new WV(s)}(e.databaseInfo);return function(s,a,c,u){return new KV(s,a,c,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,a,c){return new QV(r,i,s,a,c)}(this.localStore,this.datastore,e.asyncQueue,n=>l2(this.syncEngine,n,0),function(){return i2.D()?new i2:new BV}())}createSyncEngine(e,n){return function(i,s,a,c,u,d,p){const m=new p8(i,s,a,c,u,d);return p&&(m.Oa=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(r){const i=de(r);U("RemoteStore","RemoteStore shutting down."),i.v_.add(5),await Pu(i),i.M_.shutdown(),i.x_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jx{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.qa(this.observer.next,e)}error(e){this.observer.error?this.qa(this.observer.error,e):_r("Uncaught Error in snapshot listener:",e.toString())}Qa(){this.muted=!0}qa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R8{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=jt.UNAUTHENTICATED,this.clientId=FC.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{U("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(U("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new q(F.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new fr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=xy(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function wm(t,e){t.asyncQueue.verifyOperationInProgress(),U("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await yx(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function h2(t,e){t.asyncQueue.verifyOperationInProgress();const n=await k8(t);U("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>s2(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>s2(e.remoteStore,i)),t._onlineComponents=e}function A8(t){return t.name==="FirebaseError"?t.code===F.FAILED_PRECONDITION||t.code===F.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function k8(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){U("FirestoreClient","Using user provided OfflineComponentProvider");try{await wm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!A8(n))throw n;Ao("Error using user provided cache. Falling back to memory cache: "+n),await wm(t,new c2)}}else U("FirestoreClient","Using default OfflineComponentProvider"),await wm(t,new c2);return t._offlineComponents}async function $x(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(U("FirestoreClient","Using user provided OnlineComponentProvider"),await h2(t,t._uninitializedComponentsProvider._online)):(U("FirestoreClient","Using default OnlineComponentProvider"),await h2(t,new b8))),t._onlineComponents}function O8(t){return $x(t).then(e=>e.syncEngine)}async function Bx(t){const e=await $x(t),n=e.eventManager;return n.onListen=m8.bind(null,e.syncEngine),n.onUnlisten=_8.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=g8.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=y8.bind(null,e.syncEngine),n}function L8(t,e,n={}){const r=new fr;return t.asyncQueue.enqueueAndForget(async()=>function(s,a,c,u,d){const p=new jx({next:v=>{a.enqueueAndForget(()=>Ax(s,m));const y=v.docs.has(c);!y&&v.fromCache?d.reject(new q(F.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&v.fromCache&&u&&u.source==="server"?d.reject(new q(F.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(v)},error:v=>d.reject(v)}),m=new kx(my(c.path),p,{includeMetadataChanges:!0,ta:!0});return Rx(s,m)}(await Bx(t),t.asyncQueue,e,n,r)),r.promise}function M8(t,e,n={}){const r=new fr;return t.asyncQueue.enqueueAndForget(async()=>function(s,a,c,u,d){const p=new jx({next:v=>{a.enqueueAndForget(()=>Ax(s,m)),v.fromCache&&u.source==="server"?d.reject(new q(F.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(v)},error:v=>d.reject(v)}),m=new kx(c,p,{includeMetadataChanges:!0,ta:!0});return Rx(s,m)}(await Bx(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ux(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d2=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hx(t,e,n){if(!n)throw new q(F.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function N8(t,e,n,r){if(e===!0&&r===!0)throw new q(F.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function f2(t){if(!J.isDocumentKey(t))throw new q(F.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function p2(t){if(J.isDocumentKey(t))throw new q(F.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Tf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ue()}function Mi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new q(F.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Tf(t);throw new q(F.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new q(F.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new q(F.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}N8("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Ux((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new q(F.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new q(F.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new q(F.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Sf{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new m2({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new q(F.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new q(F.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new m2(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new XD;switch(r.type){case"firstParty":return new n9(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new q(F.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=d2.get(n);r&&(U("ComponentProvider","Removing Datastore"),d2.delete(n),r.terminate())}(this),Promise.resolve()}}function D8(t,e,n,r={}){var i;const s=(t=Mi(t,Sf))._getSettings(),a=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==a&&Ao("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:a,ssl:!1})),r.mockUserToken){let c,u;if(typeof r.mockUserToken=="string")c=r.mockUserToken,u=jt.MOCK_USER;else{c=tM(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const d=r.mockUserToken.sub||r.mockUserToken.user_id;if(!d)throw new q(F.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new jt(d)}t._authCredentials=new JD(new VC(c,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Jo(this.firestore,e,this._query)}}class un{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ci(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new un(this.firestore,e,this._key)}}class Ci extends Jo{constructor(e,n,r){super(e,n,my(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new un(this.firestore,null,new J(e))}withConverter(e){return new Ci(this.firestore,e,this._path)}}function Ss(t,e,...n){if(t=gt(t),Hx("collection","path",e),t instanceof Sf){const r=$e.fromString(e,...n);return p2(r),new Ci(t,null,r)}{if(!(t instanceof un||t instanceof Ci))throw new q(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child($e.fromString(e,...n));return p2(r),new Ci(t.firestore,null,r)}}function Ay(t,e,...n){if(t=gt(t),arguments.length===1&&(e=FC.newId()),Hx("doc","path",e),t instanceof Sf){const r=$e.fromString(e,...n);return f2(r),new un(t,null,new J(r))}{if(!(t instanceof un||t instanceof Ci))throw new q(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child($e.fromString(e,...n));return f2(r),new un(t.firestore,t instanceof Ci?t.converter:null,new J(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V8{constructor(){this.nu=Promise.resolve(),this.ru=[],this.iu=!1,this.su=[],this.ou=null,this._u=!1,this.au=!1,this.uu=[],this.jo=new Ex(this,"async_queue_retry"),this.cu=()=>{const n=ym();n&&U("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};const e=ym();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.cu)}get isShuttingDown(){return this.iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.lu(),this.hu(e)}enterRestrictedMode(e){if(!this.iu){this.iu=!0,this.au=e||!1;const n=ym();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.cu)}}enqueue(e){if(this.lu(),this.iu)return new Promise(()=>{});const n=new fr;return this.hu(()=>this.iu&&this.au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.ru.push(e),this.Pu()))}async Pu(){if(this.ru.length!==0){try{await this.ru[0](),this.ru.shift(),this.jo.reset()}catch(e){if(!Eu(e))throw e;U("AsyncQueue","Operation failed with retryable error: "+e)}this.ru.length>0&&this.jo.qo(()=>this.Pu())}}hu(e){const n=this.nu.then(()=>(this._u=!0,e().catch(r=>{this.ou=r,this._u=!1;const i=function(a){let c=a.message||"";return a.stack&&(c=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),c}(r);throw _r("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this._u=!1,r))));return this.nu=n,n}enqueueAfterDelay(e,n,r){this.lu(),this.uu.indexOf(e)>-1&&(n=0);const i=Cy.createAndSchedule(this,e,n,r,s=>this.Iu(s));return this.su.push(i),i}lu(){this.ou&&ue()}verifyOperationInProgress(){}async Tu(){let e;do e=this.nu,await e;while(e!==this.nu)}Eu(e){for(const n of this.su)if(n.timerId===e)return!0;return!1}du(e){return this.Tu().then(()=>{this.su.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.su)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tu()})}Au(e){this.uu.push(e)}Iu(e){const n=this.su.indexOf(e);this.su.splice(n,1)}}class xu extends Sf{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new V8}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Wx(this),this._firestoreClient.terminate()}}function F8(t,e){const n=typeof t=="object"?t:XI(),r=typeof t=="string"?t:e||"(default)",i=b_(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=JL("firestore");s&&D8(i,...s)}return i}function ky(t){return t._firestoreClient||Wx(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Wx(t){var e,n,r;const i=t._freezeSettings(),s=function(c,u,d,p){return new g9(c,u,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,Ux(p.experimentalLongPollingOptions),p.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new R8(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Do(Gt.fromBase64String(e))}catch(n){throw new q(F.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Do(Gt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new q(F.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new kt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oy{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new q(F.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new q(F.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ae(this._lat,e._lat)||Ae(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z8=/^__.*__$/;class j8{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new $i(e,this.data,this.fieldMask,n,this.fieldTransforms):new Su(e,this.data,n,this.fieldTransforms)}}class qx{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new $i(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Gx(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ue()}}class Ly{constructor(e,n,r,i,s,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Ru(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Vu(){return this.settings.Vu}mu(e){return new Ly(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}fu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.mu({path:r,gu:!1});return i.pu(e),i}yu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.mu({path:r,gu:!1});return i.Ru(),i}wu(e){return this.mu({path:void 0,gu:!0})}Su(e){return hd(e,this.settings.methodName,this.settings.bu||!1,this.path,this.settings.Du)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ru(){if(this.path)for(let e=0;e<this.path.length;e++)this.pu(this.path.get(e))}pu(e){if(e.length===0)throw this.Su("Document fields must not be empty");if(Gx(this.Vu)&&z8.test(e))throw this.Su('Document fields cannot begin and end with "__"')}}class $8{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||yf(e)}Cu(e,n,r,i=!1){return new Ly({Vu:e,methodName:n,Du:r,path:kt.emptyPath(),gu:!1,bu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function My(t){const e=t._freezeSettings(),n=yf(t._databaseId);return new $8(t._databaseId,!!e.ignoreUndefinedProperties,n)}function B8(t,e,n,r,i,s={}){const a=t.Cu(s.merge||s.mergeFields?2:0,e,n,i);Dy("Data must be an object, but it was:",a,r);const c=Kx(r,a);let u,d;if(s.merge)u=new pn(a.fieldMask),d=a.fieldTransforms;else if(s.mergeFields){const p=[];for(const m of s.mergeFields){const v=cv(e,m,n);if(!a.contains(v))throw new q(F.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);Qx(p,v)||p.push(v)}u=new pn(p),d=a.fieldTransforms.filter(m=>u.covers(m.field))}else u=null,d=a.fieldTransforms;return new j8(new nn(c),u,d)}class Cf extends Pf{_toFieldTransform(e){if(e.Vu!==2)throw e.Vu===1?e.Su(`${this._methodName}() can only appear at the top level of your update data`):e.Su(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Cf}}class Ny extends Pf{_toFieldTransform(e){return new j9(e.path,new Gl)}isEqual(e){return e instanceof Ny}}function U8(t,e,n,r){const i=t.Cu(1,e,n);Dy("Data must be an object, but it was:",i,r);const s=[],a=nn.empty();bs(r,(u,d)=>{const p=Vy(e,u,n);d=gt(d);const m=i.yu(p);if(d instanceof Cf)s.push(p);else{const v=bu(d,m);v!=null&&(s.push(p),a.set(p,v))}});const c=new pn(s);return new qx(a,c,i.fieldTransforms)}function H8(t,e,n,r,i,s){const a=t.Cu(1,e,n),c=[cv(e,r,n)],u=[i];if(s.length%2!=0)throw new q(F.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<s.length;v+=2)c.push(cv(e,s[v])),u.push(s[v+1]);const d=[],p=nn.empty();for(let v=c.length-1;v>=0;--v)if(!Qx(d,c[v])){const y=c[v];let C=u[v];C=gt(C);const T=a.yu(y);if(C instanceof Cf)d.push(y);else{const S=bu(C,T);S!=null&&(d.push(y),p.set(y,S))}}const m=new pn(d);return new qx(p,m,a.fieldTransforms)}function W8(t,e,n,r=!1){return bu(n,t.Cu(r?4:3,e))}function bu(t,e){if(Zx(t=gt(t)))return Dy("Unsupported field value:",e,t),Kx(t,e);if(t instanceof Pf)return function(r,i){if(!Gx(i.Vu))throw i.Su(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Su(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.gu&&e.Vu!==4)throw e.Su("Nested arrays are not supported");return function(r,i){const s=[];let a=0;for(const c of r){let u=bu(c,i.wu(a));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),a++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=gt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return V9(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=mt.fromDate(r);return{timestampValue:ud(i.serializer,s)}}if(r instanceof mt){const s=new mt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ud(i.serializer,s)}}if(r instanceof Oy)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Do)return{bytesValue:dx(i.serializer,r._byteString)};if(r instanceof un){const s=i.databaseId,a=r.firestore._databaseId;if(!a.isEqual(s))throw i.Su(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:_y(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Su(`Unsupported field value: ${Tf(r)}`)}(t,e)}function Kx(t,e){const n={};return zC(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):bs(t,(r,i)=>{const s=bu(i,e.fu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function Zx(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof mt||t instanceof Oy||t instanceof Do||t instanceof un||t instanceof Pf)}function Dy(t,e,n){if(!Zx(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Tf(n);throw r==="an object"?e.Su(t+" a custom object"):e.Su(t+" "+r)}}function cv(t,e,n){if((e=gt(e))instanceof If)return e._internalPath;if(typeof e=="string")return Vy(t,e);throw hd("Field path arguments must be of type string or ",t,!1,void 0,n)}const q8=new RegExp("[~\\*/\\[\\]]");function Vy(t,e,n){if(e.search(q8)>=0)throw hd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new If(...e.split("."))._internalPath}catch{throw hd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function hd(t,e,n,r,i){const s=r&&!r.isEmpty(),a=i!==void 0;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let u="";return(s||a)&&(u+=" (found",s&&(u+=` in field ${r}`),a&&(u+=` in document ${i}`),u+=")"),new q(F.INVALID_ARGUMENT,c+t+u)}function Qx(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yx{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new un(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new G8(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Fy("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class G8 extends Yx{data(){return super.data()}}function Fy(t,e){return typeof e=="string"?Vy(t,e):e instanceof If?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K8(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new q(F.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class zy{}class Z8 extends zy{}function jy(t,e,...n){let r=[];e instanceof zy&&r.push(e),r=r.concat(n),function(s){const a=s.filter(u=>u instanceof $y).length,c=s.filter(u=>u instanceof xf).length;if(a>1||a>0&&c>0)throw new q(F.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class xf extends Z8{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new xf(e,n,r)}_apply(e){const n=this._parse(e);return Xx(e._query,n),new Jo(e.firestore,e.converter,tv(e._query,n))}_parse(e){const n=My(e.firestore);return function(s,a,c,u,d,p,m){let v;if(d.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new q(F.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){v2(m,p);const y=[];for(const C of m)y.push(g2(u,s,C));v={arrayValue:{values:y}}}else v=g2(u,s,m)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||v2(m,p),v=W8(c,a,m,p==="in"||p==="not-in");return ht.create(d,p,v)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function dd(t,e,n){const r=e,i=Fy("where",t);return xf._create(i,r,n)}class $y extends zy{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new $y(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Kn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let a=i;const c=s.getFlattenedFilters();for(const u of c)Xx(a,u),a=tv(a,u)}(e._query,n),new Jo(e.firestore,e.converter,tv(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function g2(t,e,n){if(typeof(n=gt(n))=="string"){if(n==="")throw new q(F.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!KC(e)&&n.indexOf("/")!==-1)throw new q(F.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child($e.fromString(n));if(!J.isDocumentKey(r))throw new q(F.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return zE(t,new J(r))}if(n instanceof un)return zE(t,n._key);throw new q(F.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Tf(n)}.`)}function v2(t,e){if(!Array.isArray(t)||t.length===0)throw new q(F.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Xx(t,e){const n=function(i,s){for(const a of i)for(const c of a.getFlattenedFilters())if(s.indexOf(c.op)>=0)return c.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new q(F.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new q(F.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Q8{convertValue(e,n="none"){switch(Ts(e)){case 0:return null;case 1:return e.booleanValue;case 2:return at(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Es(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw ue()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return bs(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new Oy(at(e.latitude),at(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=hy(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Hl(e));default:return null}}convertTimestamp(e){const n=Oi(e);return new mt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=$e.fromString(e);Ve(_x(r));const i=new Wl(r.get(1),r.get(3)),s=new J(r.popFirst(5));return i.isEqual(n)||_r(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y8(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Jx extends Yx{constructor(e,n,r,i,s,a){super(e,n,r,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Xc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Fy("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Xc extends Jx{data(e={}){return super.data(e)}}class X8{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new $a(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Xc(this._firestore,this._userDataWriter,r.key,r,new $a(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new q(F.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(c=>{const u=new Xc(i._firestore,i._userDataWriter,c.doc.key,c.doc,new $a(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:u,oldIndex:-1,newIndex:a++}})}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>s||c.type!==3).map(c=>{const u=new Xc(i._firestore,i._userDataWriter,c.doc.key,c.doc,new $a(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let d=-1,p=-1;return c.type!==0&&(d=a.indexOf(c.doc.key),a=a.delete(c.doc.key)),c.type!==1&&(a=a.add(c.doc),p=a.indexOf(c.doc.key)),{type:J8(c.type),doc:u,oldIndex:d,newIndex:p}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function J8(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ue()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eb(t){t=Mi(t,un);const e=Mi(t.firestore,xu);return L8(ky(e),t._key).then(n=>t7(e,t,n))}class tb extends Q8{constructor(e){super(),this.firestore=e}convertBytes(e){return new Do(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new un(this.firestore,null,n)}}function Ru(t){t=Mi(t,Jo);const e=Mi(t.firestore,xu),n=ky(e),r=new tb(e);return K8(t._query),M8(n,t._query).then(i=>new X8(e,r,t,i))}function e7(t,e,n,...r){t=Mi(t,un);const i=Mi(t.firestore,xu),s=My(i);let a;return a=typeof(e=gt(e))=="string"||e instanceof If?H8(s,"updateDoc",t._key,e,n,r):U8(s,"updateDoc",t._key,e),rb(i,[a.toMutation(t._key,mr.exists(!0))])}function nb(t,e){const n=Mi(t.firestore,xu),r=Ay(t),i=Y8(t.converter,e);return rb(n,[B8(My(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,mr.exists(!1))]).then(()=>r)}function rb(t,e){return function(r,i){const s=new fr;return r.asyncQueue.enqueueAndForget(async()=>w8(await O8(r),i,s)),s.promise}(ky(t),e)}function t7(t,e,n){const r=n.docs.get(e._key),i=new tb(t);return new Jx(t,i,e._key,r,new $a(n.hasPendingWrites,n.fromCache),e.converter)}function _2(){return new Ny("serverTimestamp")}(function(e,n=!0){(function(i){Qo=i})(qo),bo(new gs("firestore",(r,{instanceIdentifier:i,options:s})=>{const a=r.getProvider("app").getImmediate(),c=new xu(new e9(r.getProvider("auth-internal")),new i9(r.getProvider("app-check-internal")),function(d,p){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new q(F.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Wl(d.options.projectId,p)}(a,i),a);return s=Object.assign({useFetchStreams:n},s),c._setSettings(s),c},"PUBLIC").setMultipleInstances(!0)),Pi(ME,"4.5.0",e),Pi(ME,"4.5.0","esm2017")})();const n7={apiKey:"AIzaSyCQDNyTiYEYjO7DxHeQ-Vq2Y7xjK0gh1GU",authDomain:"lunch-77c6b.firebaseapp.com",projectId:"lunch-77c6b",storageBucket:"lunch-77c6b.appspot.com",messagingSenderId:"263423518503",appId:"1:263423518503:web:1a627d336b1112f99b2b02"};YI(n7);const Ur=F8(),Au=B5(),r7=async(t,e)=>{const n=await I6(Au,t,e),r={uid:n.user.uid,email:n.user.email,verifiedEmail:n.user.emailVerified};return await C6(n.user),r},i7=async(t,e)=>{const n=await P6(Au,t,e),r={uid:n.user.uid,email:n.user.email,verifiedEmail:n.user.emailVerified};return localStorage.setItem(`verifiedEmail${n.user.uid}`,n.user.emailVerified),r},s7=async()=>await A6(Au),o7=async t=>S6(Au,t),bf={signup:r7,login:i7,logout:s7,resetPassword:o7},a7={user:null,loading:!1,error:null,authIsReady:!1,verifiedEmail:!1},Jc=Mn("auth/register",async(t,e)=>{try{return await bf.signup(t.email,t.password)}catch(n){return e.rejectWithValue(n.message)}}),eh=Mn("auth/login",async(t,e)=>{try{return await bf.login(t.email,t.password)}catch(n){return e.rejectWithValue(n.message)}}),ib=Mn("auth/logout",async(t,e)=>{try{return await bf.logout()}catch(n){return e.rejectWithValue(n.message)}}),l7=Mn("auth/forgot-password",async(t,e)=>{try{return await bf.resetPassword(t)}catch(n){return e.rejectWithValue(n.message)}}),sb=Hd({name:"auth",initialState:a7,reducers:{setError:(t,e)=>{t.error=e.payload},authReady:(t,e)=>{t.user=e.payload,t.authIsReady=!0}},extraReducers:t=>{t.addCase(Jc.pending,e=>{e.loading=!0}).addCase(Jc.fulfilled,(e,n)=>{e.user=n.payload,e.verifiedEmail=n.payload.verifiedEmail,e.loading=!1,e.error=null}).addCase(Jc.rejected,(e,n)=>{e.loading=!1,e.error=n.payload}).addCase(eh.pending,e=>{e.loading=!0}).addCase(eh.fulfilled,(e,n)=>{e.user=n.payload,e.verifiedEmail=n.payload.verifiedEmail,e.loading=!1,e.error=null}).addCase(eh.rejected,(e,n)=>{e.loading=!1,e.error=n.payload}).addCase(ib.fulfilled,e=>{e.user=null})}}),{setError:sl,authReady:u7}=sb.actions,c7=sb.reducer,h7={loginModalOpen:!1,registerModalOpen:!1,forgotPasswordModalOpen:!1,confirmationModalOpen:!1},ob=Hd({name:"Modal",initialState:h7,reducers:{openLoginModal(t){t.loginModalOpen=!0},openRegisterModal(t){t.registerModalOpen=!0},openForgotPasswordModal(t){t.forgotPasswordModalOpen=!0},openConfirmationModal(t){t.confirmationModalOpen=!0},closeModal(t){t.loginModalOpen=!1,t.registerModalOpen=!1,t.forgotPasswordModalOpen=!1,t.confirmationModalOpen=!1}}}),{openLoginModal:By,openRegisterModal:d7,openForgotPasswordModal:f7,closeModal:kr,openConfirmationModal:p7}=ob.actions,m7=ob.reducer,g7=()=>{const{user:t,loading:e,error:n}=ct(v=>v.auth),r=Zn(),[i,s]=R.useState(!1),[a,c]=R.useState({email:"",password:""}),u=v=>{const{id:y,value:C}=v.target;c(T=>({...T,[y]:C}))},d=async v=>{v.preventDefault(),await r(eh(a)),s(!0)};R.useEffect(()=>{r(sl(""))},[]),R.useEffect(()=>{t&&i&&r(kr())},[i,t]);const p=()=>{r(kr())},m=v=>{v==="forgot"?(r(kr()),r(f7())):v==="register"&&(r(kr()),r(d7()))};return I.jsx("div",{className:"Login padding-top-navbar",children:I.jsxs("div",{className:"btn-and-form",children:[I.jsxs("div",{className:"login-form-container",children:[I.jsxs("p",{className:"register-link",children:["Don't have an account?",I.jsx("span",{onClick:()=>m("register"),className:"underline",children:"Register"})]}),I.jsxs("form",{noValidate:!0,className:"login-form",children:[I.jsx("label",{htmlFor:"email",children:"Email"}),I.jsx("input",{type:"email",className:"form-control",id:"email",value:a.email,onChange:u}),I.jsx("label",{htmlFor:"password",children:"Password"}),I.jsx("input",{type:"password",className:"form-control",id:"password",value:a.password,onChange:u}),e&&I.jsx("p",{children:"Loading..."}),n&&I.jsx("p",{children:n}),I.jsx("div",{onClick:()=>m("forgot"),className:"forgot-password",children:"Forgot password?"}),I.jsx("button",{className:"btn",onClick:d,children:"Log in to your account"})]})]}),I.jsx("button",{className:"btn btn-close-modal",onClick:p,children:"Close"})]})})},v7=({text:t})=>{const e=Zn(),n=()=>{e(kr())};return I.jsx("div",{className:"ConfirmationModal",children:I.jsxs("div",{className:"inner-modal",children:[I.jsx("p",{children:t}),I.jsx("button",{className:"btn",onClick:n,children:"Got it!"})]})})},_7=()=>{const{loading:t,error:e}=ct(p=>p.modal),{confirmationModalOpen:n}=ct(p=>p.modal),r=Zn(),[i,s]=R.useState({email:""}),a=p=>{const{id:m,value:v}=p.target;s(y=>({...y,[m]:v}))},c=async p=>{p.preventDefault(),await r(l7(i.email)),i.email&&r(p7())};R.useEffect(()=>{r(sl(""))},[]);const u=()=>{r(kr())},d=()=>{r(kr()),r(By())};return I.jsxs("div",{className:"ForgotPassword padding-top-navbar",children:[n&&I.jsx(v7,{text:"Check your inbox for an email!"}),I.jsxs("div",{className:"btn-and-form",children:[I.jsxs("div",{className:"form-container",children:[I.jsx("h1",{children:"Reset Password"}),I.jsxs("form",{noValidate:!0,className:"reset-form",children:[I.jsx("label",{htmlFor:"email",children:"Email"}),I.jsx("input",{type:"email",className:"form-control",id:"email",value:i.email,onChange:a}),t&&I.jsx("p",{children:"Loading..."}),e&&I.jsx("p",{children:e}),I.jsx("div",{className:"link-to-login",onClick:d,children:"Go back to login"}),I.jsx("button",{className:"btn",onClick:c,children:"Reset Password"})]})]}),I.jsx("button",{className:"btn btn-close-modal",onClick:u,children:"Close"})]})]})},y7=()=>{const{user:t,loading:e,error:n}=ct(y=>y.auth),r=Zn(),i=Wo(),[s,a]=R.useState(!1),[c,u]=R.useState({email:"",password:"",confirmPassword:""}),d=y=>{const{id:C,value:T}=y.target;u(S=>({...S,[C]:T}))};R.useEffect(()=>{r(sl(""))},[]);const p=async y=>{if(y.preventDefault(),c.password!=c.confirmPassword){r(sl("The passwords do not match"));return}if(!c.email.endsWith("@seenthis.se")){r(sl("This is only for SeenThis employes (and their emails)."));return}await r(Jc(c)),a(!0)};R.useEffect(()=>{t&&s&&i("/")},[s,t]);const m=()=>{r(kr())},v=()=>{r(kr()),r(By())};return I.jsx("div",{className:"Register padding-top-navbar",children:I.jsxs("div",{className:"btn-and-form",children:[I.jsxs("div",{className:"register-form-container",children:[I.jsxs("p",{children:["Already registered?",I.jsx("span",{onClick:v,className:"underline",children:"Login"})]}),I.jsxs("form",{noValidate:!0,className:"register-form",children:[I.jsx("label",{htmlFor:"email",children:"Email"}),I.jsx("input",{type:"email",className:"form-control",id:"email",value:c.email,onChange:d}),I.jsx("label",{htmlFor:"password",children:"Password"}),I.jsx("input",{type:"password",className:"form-control",id:"password",value:c.password,onChange:d}),I.jsx("label",{htmlFor:"confirmPassword",children:"Confirm password"}),I.jsx("input",{type:"password",className:"form-control",id:"confirmPassword",value:c.confirmPassword,onChange:d}),e&&I.jsx("p",{children:"Loading..."}),n&&I.jsx("p",{children:n}),I.jsx("button",{className:"btn",onClick:p,children:"Register"})]})]}),I.jsx("button",{className:"btn btn-close-modal",onClick:m,children:"Close"})]})})},w7=()=>{const t=Zn(),e=Wo(),{user:n}=ct(C=>C.auth),{loginModalOpen:r,forgotPasswordModalOpen:i,registerModalOpen:s}=ct(C=>C.modal),[a,c]=R.useState(!1),[u,d]=R.useState(!1),p=()=>{d(!1)},m=async()=>{e("/"),t(ib()),d(!1)},v=()=>{d(!u)};R.useEffect(()=>{const C=localStorage.getItem(`verifiedEmail${n==null?void 0:n.uid}`);C&&c(JSON.parse(C))},[n]);const y=()=>{t(By()),d(!1)};return I.jsxs("nav",{className:"Navbar",children:[r&&I.jsx(g7,{}),i&&I.jsx(_7,{}),s&&I.jsx(y7,{}),I.jsxs("div",{className:"container",children:[I.jsxs("div",{className:`hamburger-menu ${u?"openMenu":""}`,onClick:v,children:[I.jsx("div",{className:"bar"}),I.jsx("div",{className:"bar"}),I.jsx("div",{className:"bar"})]}),I.jsx(iu,{to:"/",children:I.jsxs("div",{className:"logo",children:[I.jsx("p",{children:"SEENTHIS"}),I.jsx("p",{children:"LUNCH"})]})}),I.jsxs("ul",{className:`ul-list ${u?"openMenu":""}`,children:[n&&!a&&I.jsx("p",{className:"not-verified-prompt",children:"To get full access, please verify your emailadress."}),I.jsx("li",{className:"list-item",onClick:p,children:I.jsx(Yp,{to:"/",children:"Restaurants"})}),n&&a&&I.jsxs(I.Fragment,{children:[I.jsx("li",{className:"list-item",onClick:p,children:I.jsx(Yp,{to:"/add",children:"Add Restaurant"})}),I.jsx("li",{className:"list-item",onClick:p,children:I.jsx(Yp,{to:"/profile",children:"Profile"})})]}),n?I.jsxs("li",{className:"list-item list-item-logout",onClick:m,children:["Logout ",I.jsx("span",{className:"logout-icon",children:I.jsx(L3,{})})]}):I.jsx("li",{className:"list-item",onClick:y,children:"Login"})]})]})]})},E7=async t=>{const e={...t,ratings:[]},n=Ss(Ur,"restaurants"),r=await nb(n,e);if(!r.id)throw new Error("Something went wrong");return{id:r.id,...e}},T7=async()=>{const t=Ss(Ur,"restaurants"),e=await Ru(t),n=[];return e.forEach(r=>{n.push({id:r.id,...r.data()})}),n},S7=async t=>{const e=[];for(const n of t){const r=Ay(Ur,"restaurants",n),i=await eb(r);i.exists()&&e.push({id:i.id,...i.data()})}return e},I7=async(t,e)=>{const n=Ay(Ur,t,e),r=await eb(n);return{id:r.id,...r.data()}},Rf={createRestaurant:E7,getAllRestaurants:T7,getRestaurant:I7,getRestaurantsByIds:S7},P7={restaurants:[],restaurantsById:[],error:null,loading:!1,restaurant:null},th=Mn("restaurants/add",async(t,e)=>{try{return await Rf.createRestaurant(t)}catch(n){return e.rejectWithValue(n.message)}}),ol=Mn("/",async(t,e)=>{try{return await Rf.getAllRestaurants()}catch(n){return e.rejectWithValue(n.message)}}),nh=Mn("/profile",async({ids:t},e)=>{try{return await Rf.getRestaurantsByIds(t)}catch(n){return e.rejectWithValue(n.message)}}),rh=Mn("/restaurants/fetchById",async({collection:t,id:e},n)=>{try{return await Rf.getRestaurant(t,e)}catch(r){return n.rejectWithValue(r.message)}}),C7=Hd({name:"Restaurants",initialState:P7,reducers:{},extraReducers:t=>{t.addCase(th.pending,e=>{e.loading=!0}).addCase(th.fulfilled,(e,n)=>{e.loading=!1,e.error=null,e.restaurants=[...e.restaurants,n.payload]}).addCase(th.rejected,(e,n)=>{e.loading=!1,e.error=n.payload}).addCase(ol.pending,e=>{e.loading=!0}).addCase(ol.fulfilled,(e,n)=>{e.loading=!1,e.error=null,e.restaurants=n.payload}).addCase(ol.rejected,(e,n)=>{e.loading=!1,e.error=n.payload}).addCase(rh.pending,e=>{e.loading=!0}).addCase(rh.fulfilled,(e,n)=>{e.loading=!1,e.error=null,e.restaurant=n.payload}).addCase(rh.rejected,(e,n)=>{e.loading=!1,e.error=n.payload}).addCase(nh.pending,e=>{e.loading=!0}).addCase(nh.fulfilled,(e,n)=>{e.loading=!1,e.error=null,e.restaurantsById=n.payload}).addCase(nh.rejected,(e,n)=>{e.loading=!1,e.error=n.payload})}}),x7=C7.reducer,b7=async(t,e,n)=>{try{const r=Ss(Ur,"ratings"),i=jy(Ss(Ur,"ratings"),dd("restaurantId","==",e),dd("userId","==",t)),s=await Ru(i);s.empty?await nb(r,{userId:t,restaurantId:e,rating:n,updatedAt:_2()}):s.forEach(async a=>{const c=a.ref;await e7(c,{rating:n,updatedAt:_2()})})}catch(r){throw console.error("Error adding/updating rating: ",r),r}},R7=async t=>{try{const e=jy(Ss(Ur,"ratings"),dd("restaurantId","==",t)),n=await Ru(e);let r=[];return n.forEach(i=>{r.push(i.data().rating)}),r}catch(e){console.log(e)}},A7=async()=>{try{const t=await Ru(Ss(Ur,"ratings"));let e=[];return t.forEach(n=>{const r=n.data();r.restaurantId&&r.rating&&e.push({restaurantId:r.restaurantId,rating:r.rating})}),e}catch(t){throw console.error(t),t}},k7=async t=>{try{const e=jy(Ss(Ur,"ratings"),dd("userId","==",t)),n=await Ru(e);let r=[];return n.forEach(i=>{const s=i.data(),a=s.updatedAt?s.updatedAt.toDate():null;r.push({rating:s.rating,updatedAt:a,restaurant:s.restaurantId})}),r}catch(e){console.log(e)}},Af={addRatingAsync:b7,getRatingsByRestaurantAsync:R7,getRatingsByUserAsync:k7,getAllRatingsAsync:A7},O7={ratings:[],error:null,loading:!1,userRatings:[],allRatings:[]},ih=Mn("ratings/addRating",async({userId:t,restaurantId:e,rating:n},r)=>{try{return await Af.addRatingAsync(t,e,n),{userId:t,restaurantId:e,rating:n}}catch(i){return r.rejectWithValue(i.message)}}),sh=Mn("ratings/getRatingsByRestaurant",async({restaurantId:t},e)=>{try{return await Af.getRatingsByRestaurantAsync(t)}catch(n){return e.rejectWithValue(n.message)}}),al=Mn("ratings/getAllRatings",async(t,e)=>{try{return await Af.getAllRatingsAsync()}catch(n){return e.rejectWithValue(n.message)}}),ll=Mn("ratings/getUserRatings",async({userId:t},e)=>{try{return(await Af.getRatingsByUserAsync(t)).map(i=>({...i,updatedAt:i.updatedAt?i.updatedAt.toISOString():null}))}catch(n){return e.rejectWithValue(n.message)}}),L7=Hd({name:"Ratings",initialState:O7,reducers:{},extraReducers:t=>{t.addCase(ih.pending,e=>{e.loading=!0}).addCase(ih.fulfilled,(e,n)=>{e.loading=!1,e.error=null,e.ratings=[...e.ratings,n.payload]}).addCase(ih.rejected,(e,n)=>{e.loading=!1,e.error=n.payload}).addCase(sh.pending,e=>{e.loading=!0}).addCase(sh.fulfilled,(e,n)=>{e.loading=!1,e.error=null,e.ratings=n.payload}).addCase(sh.rejected,(e,n)=>{e.loading=!1,e.error=n.payload}).addCase(ll.pending,e=>{e.loading=!0}).addCase(ll.fulfilled,(e,n)=>{e.loading=!1,e.error=null,e.userRatings=n.payload}).addCase(ll.rejected,(e,n)=>{e.loading=!1,e.error=n.payload}).addCase(al.pending,e=>{e.loading=!0}).addCase(al.fulfilled,(e,n)=>{e.loading=!1,e.error=null,e.allRatings=n.payload}).addCase(al.rejected,(e,n)=>{e.loading=!1,e.error=n.payload})}}),M7=L7.reducer,Uy=()=>I.jsx("div",{className:"Loader",children:I.jsx("div",{className:"inner-loader"})});function N7(t){return Le({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M298.2 156.6c-52.7-25.7-114.5-10.5-150.2 32.8l55.2 55.2c6.3 6.3 6.3 16.4 0 22.6-3.1 3.1-7.2 4.7-11.3 4.7s-8.2-1.6-11.3-4.7L130.4 217 2.3 479.7c-2.9 6-3.1 13.3 0 19.7 5.4 11.1 18.9 15.7 30 10.3l133.6-65.2-49.2-49.2c-6.3-6.2-6.3-16.4 0-22.6 6.3-6.2 16.4-6.2 22.6 0l57 57 102-49.8c24-11.7 44.5-31.3 57.1-57.1 30.1-61.7 4.5-136.1-57.2-166.2zm92.1-34.9C409.8 81 399.7 32.9 360 0c-50.3 41.7-52.5 107.5-7.9 151.9l8 8c44.4 44.6 110.3 42.4 151.9-7.9-32.9-39.7-81-49.8-121.7-30.3z"},child:[]}]})(t)}function D7(t){return Le({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"},child:[]}]})(t)}function V7(t){return Le({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M575.2 325.7c.2-1.9.8-3.7.8-5.6 0-35.3-28.7-64-64-64-12.6 0-24.2 3.8-34.1 10-17.6-38.8-56.5-66-101.9-66-61.8 0-112 50.1-112 112 0 3 .7 5.8.9 8.7-49.6 3.7-88.9 44.7-88.9 95.3 0 53 43 96 96 96h272c53 0 96-43 96-96 0-42.1-27.2-77.4-64.8-90.4zm-430.4-22.6c-43.7-43.7-43.7-114.7 0-158.3 43.7-43.7 114.7-43.7 158.4 0 9.7 9.7 16.9 20.9 22.3 32.7 9.8-3.7 20.1-6 30.7-7.5L386 81.1c4-11.9-7.3-23.1-19.2-19.2L279 91.2 237.5 8.4C232-2.8 216-2.8 210.4 8.4L169 91.2 81.1 61.9C69.3 58 58 69.3 61.9 81.1l29.3 87.8-82.8 41.5c-11.2 5.6-11.2 21.5 0 27.1l82.8 41.4-29.3 87.8c-4 11.9 7.3 23.1 19.2 19.2l76.1-25.3c6.1-12.4 14-23.7 23.6-33.5-13.1-5.4-25.4-13.4-36-24zm-4.8-79.2c0 40.8 29.3 74.8 67.9 82.3 8-4.7 16.3-8.8 25.2-11.7 5.4-44.3 31-82.5 67.4-105C287.3 160.4 258 140 224 140c-46.3 0-84 37.6-84 83.9z"},child:[]}]})(t)}function F7(t){return Le({tag:"svg",attr:{viewBox:"0 0 288 512"},child:[{tag:"path",attr:{d:"M209.2 233.4l-108-31.6C88.7 198.2 80 186.5 80 173.5c0-16.3 13.2-29.5 29.5-29.5h66.3c12.2 0 24.2 3.7 34.2 10.5 6.1 4.1 14.3 3.1 19.5-2l34.8-34c7.1-6.9 6.1-18.4-1.8-24.5C238 74.8 207.4 64.1 176 64V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48h-2.5C45.8 64-5.4 118.7.5 183.6c4.2 46.1 39.4 83.6 83.8 96.6l102.5 30c12.5 3.7 21.2 15.3 21.2 28.3 0 16.3-13.2 29.5-29.5 29.5h-66.3C100 368 88 364.3 78 357.5c-6.1-4.1-14.3-3.1-19.5 2l-34.8 34c-7.1 6.9-6.1 18.4 1.8 24.5 24.5 19.2 55.1 29.9 86.5 30v48c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-48.2c46.6-.9 90.3-28.6 105.7-72.7 21.5-61.6-14.6-124.8-72.5-141.7z"},child:[]}]})(t)}function z7(t){return Le({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M327.1 96c-89.97 0-168.54 54.77-212.27 101.63L27.5 131.58c-12.13-9.18-30.24.6-27.14 14.66L24.54 256 .35 365.77c-3.1 14.06 15.01 23.83 27.14 14.66l87.33-66.05C158.55 361.23 237.13 416 327.1 416 464.56 416 576 288 576 256S464.56 96 327.1 96zm87.43 184c-13.25 0-24-10.75-24-24 0-13.26 10.75-24 24-24 13.26 0 24 10.74 24 24 0 13.25-10.75 24-24 24z"},child:[]}]})(t)}function j7(t){return Le({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M639.4 433.6c-8.4-20.4-31.8-30.1-52.2-21.6l-22.1 9.2-38.7-101.9c47.9-35 64.8-100.3 34.5-152.8L474.3 16c-8-13.9-25.1-19.7-40-13.6L320 49.8 205.7 2.4c-14.9-6.2-32-.3-40 13.6L79.1 166.5C48.9 219 65.7 284.3 113.6 319.2L74.9 421.1l-22.1-9.2c-20.4-8.5-43.7 1.2-52.2 21.6-1.7 4.1.2 8.8 4.3 10.5l162.3 67.4c4.1 1.7 8.7-.2 10.4-4.3 8.4-20.4-1.2-43.8-21.6-52.3l-22.1-9.2L173.3 342c4.4.5 8.8 1.3 13.1 1.3 51.7 0 99.4-33.1 113.4-85.3l20.2-75.4 20.2 75.4c14 52.2 61.7 85.3 113.4 85.3 4.3 0 8.7-.8 13.1-1.3L506 445.6l-22.1 9.2c-20.4 8.5-30.1 31.9-21.6 52.3 1.7 4.1 6.4 6 10.4 4.3L635.1 444c4-1.7 6-6.3 4.3-10.4zM275.9 162.1l-112.1-46.5 36.5-63.4 94.5 39.2-18.9 70.7zm88.2 0l-18.9-70.7 94.5-39.2 36.5 63.4-112.1 46.5z"},child:[]}]})(t)}function $7(t){return Le({tag:"svg",attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M336.5 160C322 70.7 287.8 8 248 8s-74 62.7-88.5 152h177zM152 256c0 22.2 1.2 43.5 3.3 64h185.3c2.1-20.5 3.3-41.8 3.3-64s-1.2-43.5-3.3-64H155.3c-2.1 20.5-3.3 41.8-3.3 64zm324.7-96c-28.6-67.9-86.5-120.4-158-141.6 24.4 33.8 41.2 84.7 50 141.6h108zM177.2 18.4C105.8 39.6 47.8 92.1 19.3 160h108c8.7-56.9 25.5-107.8 49.9-141.6zM487.4 192H372.7c2.1 21 3.3 42.5 3.3 64s-1.2 43-3.3 64h114.6c5.5-20.5 8.6-41.8 8.6-64s-3.1-43.5-8.5-64zM120 256c0-21.5 1.2-43 3.3-64H8.6C3.2 212.5 0 233.8 0 256s3.2 43.5 8.6 64h114.6c-2-21-3.2-42.5-3.2-64zm39.5 96c14.5 89.3 48.7 152 88.5 152s74-62.7 88.5-152h-177zm159.3 141.6c71.4-21.2 129.4-73.7 158-141.6h-108c-8.8 56.9-25.6 107.8-50 141.6zM19.3 352c28.6 67.9 86.5 120.4 158 141.6-24.4-33.8-41.2-84.7-50-141.6h-108z"},child:[]}]})(t)}function B7(t){return Le({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 256H48a48 48 0 0 0 0 96h416a48 48 0 0 0 0-96zm16 128H32a16 16 0 0 0-16 16v16a64 64 0 0 0 64 64h352a64 64 0 0 0 64-64v-16a16 16 0 0 0-16-16zM58.64 224h394.72c34.57 0 54.62-43.9 34.82-75.88C448 83.2 359.55 32.1 256 32c-103.54.1-192 51.2-232.18 116.11C4 180.09 24.07 224 58.64 224zM384 112a16 16 0 1 1-16 16 16 16 0 0 1 16-16zM256 80a16 16 0 1 1-16 16 16 16 0 0 1 16-16zm-128 32a16 16 0 1 1-16 16 16 16 0 0 1 16-16z"},child:[]}]})(t)}function U7(t){return Le({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M546.2 9.7c-5.6-12.5-21.6-13-28.3-1.2C486.9 62.4 431.4 96 368 96h-80C182 96 96 182 96 288c0 7 .8 13.7 1.5 20.5C161.3 262.8 253.4 224 384 224c8.8 0 16 7.2 16 16s-7.2 16-16 16C132.6 256 26 410.1 2.4 468c-6.6 16.3 1.2 34.9 17.5 41.6 16.4 6.8 35-1.1 41.8-17.3 1.5-3.6 20.9-47.9 71.9-90.6 32.4 43.9 94 85.8 174.9 77.2C465.5 467.5 576 326.7 576 154.3c0-50.2-10.8-102.2-29.8-144.6z"},child:[]}]})(t)}function H7(t){return Le({tag:"svg",attr:{viewBox:"0 0 288 512"},child:[{tag:"path",attr:{d:"M112 316.94v156.69l22.02 33.02c4.75 7.12 15.22 7.12 19.97 0L176 473.63V316.94c-10.39 1.92-21.06 3.06-32 3.06s-21.61-1.14-32-3.06zM144 0C64.47 0 0 64.47 0 144s64.47 144 144 144 144-64.47 144-144S223.53 0 144 0zm0 76c-37.5 0-68 30.5-68 68 0 6.62-5.38 12-12 12s-12-5.38-12-12c0-50.73 41.28-92 92-92 6.62 0 12 5.38 12 12s-5.38 12-12 12z"},child:[]}]})(t)}function W7(t){return Le({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497.39 361.8l-112-48a24 24 0 0 0-28 6.9l-49.6 60.6A370.66 370.66 0 0 1 130.6 204.11l60.6-49.6a23.94 23.94 0 0 0 6.9-28l-48-112A24.16 24.16 0 0 0 122.6.61l-104 24A24 24 0 0 0 0 48c0 256.5 207.9 464 464 464a24 24 0 0 0 23.4-18.6l24-104a24.29 24.29 0 0 0-14.01-27.6z"},child:[]}]})(t)}function q7(t){return Le({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M158.87.15c-16.16-1.52-31.2 8.42-35.33 24.12l-14.81 56.27c187.62 5.49 314.54 130.61 322.48 317l56.94-15.78c15.72-4.36 25.49-19.68 23.62-35.9C490.89 165.08 340.78 17.32 158.87.15zm-58.47 112L.55 491.64a16.21 16.21 0 0 0 20 19.75l379-105.1c-4.27-174.89-123.08-292.14-299.15-294.1zM128 416a32 32 0 1 1 32-32 32 32 0 0 1-32 32zm48-152a32 32 0 1 1 32-32 32 32 0 0 1-32 32zm104 104a32 32 0 1 1 32-32 32 32 0 0 1-32 32z"},child:[]}]})(t)}function hv(t){return Le({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"},child:[]}]})(t)}function dv(t){return Le({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528.1 171.5L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6zM388.6 312.3l23.7 138.4L288 385.4l-124.3 65.3 23.7-138.4-100.6-98 139-20.2 62.2-126 62.2 126 139 20.2-100.6 98z"},child:[]}]})(t)}var ab={exports:{}},G7="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",K7=G7,Z7=K7;function lb(){}function ub(){}ub.resetWarningCache=lb;var Q7=function(){function t(r,i,s,a,c,u){if(u!==Z7){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:ub,resetWarningCache:lb};return n.PropTypes=n,n};ab.exports=Q7();var Y7=ab.exports;const Ut=Sv(Y7),Vo="/assets/default-image-DnhzG6aR.jpg",X7=t=>{const e=new Date(t),n={day:"numeric",month:"long",year:"numeric"},r=e.toLocaleDateString("en-US",n);let i=e.getDate(),s="th";return i===1||i===21||i===31?s="st":i===2||i===22?s="nd":(i===3||i===23)&&(s="rd"),r.replace(/\b\d+\b/,`${i}${s}`)},J7=(t,e)=>{if(!t||(e==null?void 0:e.length)===0)return null;{const r=(e==null?void 0:e.reduce((i,s)=>typeof s=="number"?i+s:i+s.rating,0))/(e==null?void 0:e.length);return Math.round(r*100)/100}},cb={control:(t,e)=>({...t,border:(e.isFocused,"1px solid grey"),height:"3rem",boxShadow:"none",borderRadius:"8px","&:hover":{borderColor:"grey"}}),option:(t,e)=>({...t,backgroundColor:e.isSelected?"#ffccb3;":e.isFocused?"#ffefe7":"transparent",color:(e.isSelected,"#000000"),"&:active":{backgroundColor:"#ffccb3;"}})},y2=[{value:"Hammarby Sjöstad",label:"Hammarby Sjöstad"},{value:"Skanstull",label:"Skanstull"},{value:"Medborgarplatsen",label:"Medborgarplatsen"},{value:"Other",label:"Other"}],w2=[{value:"rating",label:"Highest rated restaurant"},{value:"created",label:"Latest rated restaurant"}],Hy=({restaurant:t,ratings:e})=>{const[n,r]=R.useState(null);return R.useEffect(()=>{r(J7(t,e))},[t,e]),I.jsxs(iu,{className:"RestaurantCard",to:`/restaurants/${t.id}`,children:[I.jsx("img",{src:t.imageURL?t.imageURL:Vo,alt:"picture of food",className:"card-image",onError:i=>{i.target.src=Vo}}),I.jsxs("div",{className:"restaurant-info",children:[I.jsxs("div",{className:"heading-and-rating",children:[I.jsx("h2",{children:t.name?t.name:t.resturant}),n!==null?I.jsxs("div",{className:"rating-star",children:[n.toFixed(1)," ",I.jsx(hv,{})]}):I.jsxs("div",{className:"rating-star",children:[I.jsx(dv,{}),"No ratings"]})]}),I.jsx("p",{children:t.area&&t.area}),I.jsx("p",{children:t.address&&t.address})]})]})};Hy.propTypes={restaurant:Ut.object,ratings:Ut.array};const kf=({header:t})=>I.jsx("div",{className:"Hero",children:t||"ello mate"});kf.propTypes={header:Ut.string};const Wy=({label:t,initState:e,handleChange:n,id:r})=>{const[i,s]=R.useState(e),a=()=>{s(c=>!c)};return I.jsx("div",{className:"checkbox-wrapper",children:I.jsxs("label",{children:[I.jsx("input",{type:"checkbox",checked:i,onChange:n,onClick:a,className:i?"checked":"",id:r}),I.jsx("span",{className:"checkbox-label-text",children:t})]})})};Wy.propTypes={label:Ut.string,initState:Ut.bool,handleChange:Ut.func,id:Ut.string};const qy=({filters:t,handleChange:e,heading:n,randomRestaurantId:r,showSeatingCheckbox:i})=>{const[s,a]=R.useState(!1);return I.jsxs("div",{className:"FoodOptions",children:[I.jsx("h2",{className:"heading-for-filtering-food",children:n}),I.jsx(CI,{className:`icon-arrow-down ${s&&"arrow-down"}`,onClick:()=>a(!s)}),I.jsxs("div",{className:`foodoptions-and-btn ${s?"":"hide-foodoptions"}`,children:[i&&I.jsx("div",{className:"outdoor-seating-checkbox",children:I.jsx(Wy,{label:"Outdoor seating",handleChange:e,id:"outdoorSeating",initState:!1})}),I.jsxs("div",{className:"foodoptions-wrapper",children:[I.jsx("button",{type:"button",className:t.foodOption_Buffet?"btn":"btn-disabled",onClick:e,id:"foodOption_Buffet",name:"foodOption_Buffet",children:"Buffet"}),I.jsx("button",{type:"button",className:t.foodOption_Drinks?"btn":"btn-disabled",onClick:e,id:"foodOption_Drinks",name:"foodOption_Drinks",children:"Drinks"}),I.jsx("button",{type:"button",className:t.foodOption_Fish?"btn":"btn-disabled",onClick:e,id:"foodOption_Fish",name:"foodOption_Fish",children:"Fish"}),I.jsx("button",{type:"button",className:t.foodOption_Hamburger?"btn":"btn-disabled",onClick:e,id:"foodOption_Hamburger",children:"Hamburger"}),I.jsx("button",{type:"button",className:t.foodOption_Other?"btn":"btn-disabled",onClick:e,id:"foodOption_Other",children:"Other"}),I.jsx("button",{type:"button",className:t.foodOption_Pasta?"btn":"btn-disabled",onClick:e,id:"foodOption_Pasta",children:"Pasta"}),I.jsx("button",{type:"button",className:t.foodOption_Pizza?"btn":"btn-disabled",onClick:e,id:"foodOption_Pizza",children:"Pizza"}),I.jsx("button",{type:"button",className:t.foodOption_Ramen?"btn":"btn-disabled",onClick:e,id:"foodOption_Ramen",children:"Ramen"}),I.jsx("button",{type:"button",className:t.foodOption_Sallad?"btn":"btn-disabled",onClick:e,id:"foodOption_Sallad",children:"Sallad"}),I.jsx("button",{type:"button",className:t.foodOption_Sausage?"btn":"btn-disabled",onClick:e,id:"foodOption_Sausage",children:"Sausage"}),I.jsx("button",{type:"button",className:t.foodOption_Schnitzel?"btn":"btn-disabled",onClick:e,id:"foodOption_Schnitzel",children:"Schnitzel"}),I.jsx("button",{type:"button",className:t.foodOption_Soup?"btn":"btn-disabled",onClick:e,id:"foodOption_Soup",children:"Soup"}),I.jsx("button",{type:"button",className:t.foodOption_Sushi?"btn":"btn-disabled",onClick:e,id:"foodOption_Sushi",children:"Sushi"}),I.jsx("button",{type:"button",className:t.foodOption_Tacos?"btn":"btn-disabled",onClick:e,id:"foodOption_Tacos",children:"Tacos"}),I.jsx("button",{type:"button",className:t.foodOption_Vegan?"btn":"btn-disabled",onClick:e,id:"foodOption_Vegan",children:"Vegan"}),I.jsx("button",{type:"button",className:t.foodOption_Vegetarian?"btn":"btn-disabled",onClick:e,id:"foodOption_Vegetarian",children:"Vegetarian"}),I.jsx("button",{type:"button",className:t.foodOption_Wraps?"btn":"btn-disabled",onClick:e,id:"foodOption_Wraps",children:"Wraps"})]}),r&&I.jsx("div",{className:"random-link-wrapper",children:I.jsx(iu,{to:`/restaurants/${r}`,children:I.jsx("button",{className:"btn btn-random",children:"Can't decide? Discover a random restaurant!"})})})]})]})};qy.propTypes={filters:Ut.object,handleChange:Ut.func,heading:Ut.string,randomRestaurantId:Ut.string};const eF=()=>{const t=Zn(),{restaurants:e,loading:n,error:r}=ct(x=>x.restaurants),{allRatings:i}=ct(x=>x.ratings),[s,a]=R.useState([]),[c,u]=R.useState({}),[d,p]=R.useState(!1),[m,v]=R.useState({foodOption_Pizza:!1,foodOption_Fish:!1,foodOption_Pasta:!1,foodOption_Schnitzel:!1,foodOption_Buffet:!1,foodOption_Vegan:!1,foodOption_Vegetarian:!1,foodOption_Hamburger:!1,foodOption_Sallad:!1,foodOption_Ramen:!1,foodOption_Sushi:!1,foodOption_Tacos:!1,foodOption_Other:!1,foodOption_Sausage:!1,outdoorSeating:!1});R.useEffect(()=>{a(i)},[i]),R.useEffect(()=>{t(ol()),t(al())},[t]),R.useEffect(()=>{const x=Object.values(m).some(A=>A);p(!!x)},[m]);const y=x=>{const{id:A}=x.target;v(O=>({...O,[A]:!O[A]}))},C=x=>{u(A=>({...A,[x]:!A[x]}))},T=x=>s==null?void 0:s.filter(O=>O.restaurantId===x);let S;(()=>{if(e&&e.length>0){const x=Math.floor(Math.random()*e.length);S=e[x].id}})();const E=e.filter(x=>Object.entries(m).every(([A,O])=>!O||x[A])),P=[...new Set(E.map(x=>x.area))].sort((x,A)=>x==="Other"?1:A==="Other"?-1:x.localeCompare(A));return I.jsxs("div",{className:"Home padding-top-navbar",children:[I.jsx(kf,{header:"Restaurants"}),I.jsx(qy,{filters:m,handleChange:y,heading:"What should the restaurant offer?",randomRestaurantId:S,showSeatingCheckbox:!0}),n&&I.jsx(Uy,{}),r&&I.jsx("p",{children:"Something went wrong"}),E&&I.jsxs(I.Fragment,{children:[E.length>1&&d&&I.jsxs("p",{className:"filtered-text",children:["These ",E.length," restaurants match your criteria!"]}),E.length===1&&d&&I.jsx("p",{className:"filtered-text",children:"This restaurant matched your criteria."}),E.length===0&&d&&I.jsx("p",{className:"filtered-text",children:"No restaurants matched your criteria :("}),P.map(x=>I.jsxs("div",{className:"restaurant-area-container",children:[I.jsx("h2",{className:"area-heading",children:x}),I.jsx("div",{className:"card-container",children:E.filter(A=>A.area===x).slice(0,c[x]?E.filter(A=>A.area===x).length:3).map(A=>I.jsx("div",{className:"restaurant-card-wrapper",children:I.jsx(Hy,{restaurant:A,ratings:T(A.id)},A.id)}))}),E.filter(A=>A.area===x).length>3&&I.jsxs("div",{className:"view-more-arrow",onClick:()=>C(x),children:[c[x]?"Show Less":"Show More",c[x]?I.jsx(N3,{className:"icon-arrow-down"}):I.jsx(CI,{className:"icon-arrow-down"})]})]},x))]})]})};function Is(t){"@babel/helpers - typeof";return Is=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Is(t)}function tF(t,e){if(Is(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Is(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hb(t){var e=tF(t,"string");return Is(e)=="symbol"?e:e+""}function Ba(t,e,n){return e=hb(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function E2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function re(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?E2(Object(n),!0).forEach(function(r){Ba(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):E2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nF(t){if(Array.isArray(t))return t}function rF(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,c=[],u=!0,d=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=s.call(n)).done)&&(c.push(r.value),c.length!==e);u=!0);}catch(p){d=!0,i=p}finally{try{if(!u&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(d)throw i}}return c}}function fv(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function db(t,e){if(t){if(typeof t=="string")return fv(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fv(t,e)}}function iF(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mr(t,e){return nF(t)||rF(t,e)||db(t,e)||iF()}function sF(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Qr(t,e){if(t==null)return{};var n=sF(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}var oF=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function aF(t){var e=t.defaultInputValue,n=e===void 0?"":e,r=t.defaultMenuIsOpen,i=r===void 0?!1:r,s=t.defaultValue,a=s===void 0?null:s,c=t.inputValue,u=t.menuIsOpen,d=t.onChange,p=t.onInputChange,m=t.onMenuClose,v=t.onMenuOpen,y=t.value,C=Qr(t,oF),T=R.useState(c!==void 0?c:n),S=Mr(T,2),w=S[0],E=S[1],P=R.useState(u!==void 0?u:i),x=Mr(P,2),A=x[0],O=x[1],M=R.useState(y!==void 0?y:a),D=Mr(M,2),Z=D[0],G=D[1],le=R.useCallback(function(V,ee){typeof d=="function"&&d(V,ee),G(V)},[d]),ve=R.useCallback(function(V,ee){var B;typeof p=="function"&&(B=p(V,ee)),E(B!==void 0?B:V)},[p]),rt=R.useCallback(function(){typeof v=="function"&&v(),O(!0)},[v]),Fe=R.useCallback(function(){typeof m=="function"&&m(),O(!1)},[m]),K=c!==void 0?c:w,fe=u!==void 0?u:A,He=y!==void 0?y:Z;return re(re({},C),{},{inputValue:K,menuIsOpen:fe,onChange:le,onInputChange:ve,onMenuClose:Fe,onMenuOpen:rt,value:He})}function se(){return se=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},se.apply(this,arguments)}function lF(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function T2(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,hb(r.key),r)}}function uF(t,e,n){return e&&T2(t.prototype,e),n&&T2(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function pv(t,e){return pv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},pv(t,e)}function cF(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pv(t,e)}function fd(t){return fd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},fd(t)}function fb(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fb=function(){return!!t})()}function hF(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dF(t,e){if(e&&(Is(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hF(t)}function fF(t){var e=fb();return function(){var r=fd(t),i;if(e){var s=fd(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return dF(this,i)}}function pF(t){if(Array.isArray(t))return fv(t)}function mF(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function gF(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gy(t){return pF(t)||mF(t)||db(t)||gF()}function vF(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function _F(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var yF=function(){function t(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(_F(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=vF(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},t}(),zt="-ms-",pd="-moz-",be="-webkit-",pb="comm",Ky="rule",Zy="decl",wF="@import",mb="@keyframes",EF="@layer",TF=Math.abs,Of=String.fromCharCode,SF=Object.assign;function IF(t,e){return Rt(t,0)^45?(((e<<2^Rt(t,0))<<2^Rt(t,1))<<2^Rt(t,2))<<2^Rt(t,3):0}function gb(t){return t.trim()}function PF(t,e){return(t=e.exec(t))?t[0]:t}function Re(t,e,n){return t.replace(e,n)}function mv(t,e){return t.indexOf(e)}function Rt(t,e){return t.charCodeAt(e)|0}function Ql(t,e,n){return t.slice(e,n)}function nr(t){return t.length}function Qy(t){return t.length}function xc(t,e){return e.push(t),t}function CF(t,e){return t.map(e).join("")}var Lf=1,Fo=1,vb=0,cn=0,lt=0,ea="";function Mf(t,e,n,r,i,s,a){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:Lf,column:Fo,length:a,return:""}}function xa(t,e){return SF(Mf("",null,null,"",null,null,0),t,{length:-t.length},e)}function xF(){return lt}function bF(){return lt=cn>0?Rt(ea,--cn):0,Fo--,lt===10&&(Fo=1,Lf--),lt}function gn(){return lt=cn<vb?Rt(ea,cn++):0,Fo++,lt===10&&(Fo=1,Lf++),lt}function vr(){return Rt(ea,cn)}function oh(){return cn}function ku(t,e){return Ql(ea,t,e)}function Yl(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function _b(t){return Lf=Fo=1,vb=nr(ea=t),cn=0,[]}function yb(t){return ea="",t}function ah(t){return gb(ku(cn-1,gv(t===91?t+2:t===40?t+1:t)))}function RF(t){for(;(lt=vr())&&lt<33;)gn();return Yl(t)>2||Yl(lt)>3?"":" "}function AF(t,e){for(;--e&&gn()&&!(lt<48||lt>102||lt>57&&lt<65||lt>70&&lt<97););return ku(t,oh()+(e<6&&vr()==32&&gn()==32))}function gv(t){for(;gn();)switch(lt){case t:return cn;case 34:case 39:t!==34&&t!==39&&gv(lt);break;case 40:t===41&&gv(t);break;case 92:gn();break}return cn}function kF(t,e){for(;gn()&&t+lt!==57;)if(t+lt===84&&vr()===47)break;return"/*"+ku(e,cn-1)+"*"+Of(t===47?t:gn())}function OF(t){for(;!Yl(vr());)gn();return ku(t,cn)}function LF(t){return yb(lh("",null,null,null,[""],t=_b(t),0,[0],t))}function lh(t,e,n,r,i,s,a,c,u){for(var d=0,p=0,m=a,v=0,y=0,C=0,T=1,S=1,w=1,E=0,P="",x=i,A=s,O=r,M=P;S;)switch(C=E,E=gn()){case 40:if(C!=108&&Rt(M,m-1)==58){mv(M+=Re(ah(E),"&","&\f"),"&\f")!=-1&&(w=-1);break}case 34:case 39:case 91:M+=ah(E);break;case 9:case 10:case 13:case 32:M+=RF(C);break;case 92:M+=AF(oh()-1,7);continue;case 47:switch(vr()){case 42:case 47:xc(MF(kF(gn(),oh()),e,n),u);break;default:M+="/"}break;case 123*T:c[d++]=nr(M)*w;case 125*T:case 59:case 0:switch(E){case 0:case 125:S=0;case 59+p:w==-1&&(M=Re(M,/\f/g,"")),y>0&&nr(M)-m&&xc(y>32?I2(M+";",r,n,m-1):I2(Re(M," ","")+";",r,n,m-2),u);break;case 59:M+=";";default:if(xc(O=S2(M,e,n,d,p,i,c,P,x=[],A=[],m),s),E===123)if(p===0)lh(M,e,O,O,x,s,m,c,A);else switch(v===99&&Rt(M,3)===110?100:v){case 100:case 108:case 109:case 115:lh(t,O,O,r&&xc(S2(t,O,O,0,0,i,c,P,i,x=[],m),A),i,A,m,c,r?x:A);break;default:lh(M,O,O,O,[""],A,0,c,A)}}d=p=y=0,T=w=1,P=M="",m=a;break;case 58:m=1+nr(M),y=C;default:if(T<1){if(E==123)--T;else if(E==125&&T++==0&&bF()==125)continue}switch(M+=Of(E),E*T){case 38:w=p>0?1:(M+="\f",-1);break;case 44:c[d++]=(nr(M)-1)*w,w=1;break;case 64:vr()===45&&(M+=ah(gn())),v=vr(),p=m=nr(P=M+=OF(oh())),E++;break;case 45:C===45&&nr(M)==2&&(T=0)}}return s}function S2(t,e,n,r,i,s,a,c,u,d,p){for(var m=i-1,v=i===0?s:[""],y=Qy(v),C=0,T=0,S=0;C<r;++C)for(var w=0,E=Ql(t,m+1,m=TF(T=a[C])),P=t;w<y;++w)(P=gb(T>0?v[w]+" "+E:Re(E,/&\f/g,v[w])))&&(u[S++]=P);return Mf(t,e,n,i===0?Ky:c,u,d,p)}function MF(t,e,n){return Mf(t,e,n,pb,Of(xF()),Ql(t,2,-2),0)}function I2(t,e,n,r){return Mf(t,e,n,Zy,Ql(t,0,r),Ql(t,r+1,-1),r)}function _o(t,e){for(var n="",r=Qy(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function NF(t,e,n,r){switch(t.type){case EF:if(t.children.length)break;case wF:case Zy:return t.return=t.return||t.value;case pb:return"";case mb:return t.return=t.value+"{"+_o(t.children,r)+"}";case Ky:t.value=t.props.join(",")}return nr(n=_o(t.children,r))?t.return=t.value+"{"+n+"}":""}function DF(t){var e=Qy(t);return function(n,r,i,s){for(var a="",c=0;c<e;c++)a+=t[c](n,r,i,s)||"";return a}}function VF(t){return function(e){e.root||(e=e.return)&&t(e)}}function FF(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var zF=function(e,n,r){for(var i=0,s=0;i=s,s=vr(),i===38&&s===12&&(n[r]=1),!Yl(s);)gn();return ku(e,cn)},jF=function(e,n){var r=-1,i=44;do switch(Yl(i)){case 0:i===38&&vr()===12&&(n[r]=1),e[r]+=zF(cn-1,n,r);break;case 2:e[r]+=ah(i);break;case 4:if(i===44){e[++r]=vr()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=Of(i)}while(i=gn());return e},$F=function(e,n){return yb(jF(_b(e),n))},P2=new WeakMap,BF=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!P2.get(r))&&!i){P2.set(e,!0);for(var s=[],a=$F(n,s),c=r.props,u=0,d=0;u<a.length;u++)for(var p=0;p<c.length;p++,d++)e.props[d]=s[u]?a[u].replace(/&\f/g,c[p]):c[p]+" "+a[u]}}},UF=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function wb(t,e){switch(IF(t,e)){case 5103:return be+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return be+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return be+t+pd+t+zt+t+t;case 6828:case 4268:return be+t+zt+t+t;case 6165:return be+t+zt+"flex-"+t+t;case 5187:return be+t+Re(t,/(\w+).+(:[^]+)/,be+"box-$1$2"+zt+"flex-$1$2")+t;case 5443:return be+t+zt+"flex-item-"+Re(t,/flex-|-self/,"")+t;case 4675:return be+t+zt+"flex-line-pack"+Re(t,/align-content|flex-|-self/,"")+t;case 5548:return be+t+zt+Re(t,"shrink","negative")+t;case 5292:return be+t+zt+Re(t,"basis","preferred-size")+t;case 6060:return be+"box-"+Re(t,"-grow","")+be+t+zt+Re(t,"grow","positive")+t;case 4554:return be+Re(t,/([^-])(transform)/g,"$1"+be+"$2")+t;case 6187:return Re(Re(Re(t,/(zoom-|grab)/,be+"$1"),/(image-set)/,be+"$1"),t,"")+t;case 5495:case 3959:return Re(t,/(image-set\([^]*)/,be+"$1$`$1");case 4968:return Re(Re(t,/(.+:)(flex-)?(.*)/,be+"box-pack:$3"+zt+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+be+t+t;case 4095:case 3583:case 4068:case 2532:return Re(t,/(.+)-inline(.+)/,be+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(nr(t)-1-e>6)switch(Rt(t,e+1)){case 109:if(Rt(t,e+4)!==45)break;case 102:return Re(t,/(.+:)(.+)-([^]+)/,"$1"+be+"$2-$3$1"+pd+(Rt(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~mv(t,"stretch")?wb(Re(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(Rt(t,e+1)!==115)break;case 6444:switch(Rt(t,nr(t)-3-(~mv(t,"!important")&&10))){case 107:return Re(t,":",":"+be)+t;case 101:return Re(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+be+(Rt(t,14)===45?"inline-":"")+"box$3$1"+be+"$2$3$1"+zt+"$2box$3")+t}break;case 5936:switch(Rt(t,e+11)){case 114:return be+t+zt+Re(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return be+t+zt+Re(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return be+t+zt+Re(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return be+t+zt+t+t}return t}var HF=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case Zy:e.return=wb(e.value,e.length);break;case mb:return _o([xa(e,{value:Re(e.value,"@","@"+be)})],i);case Ky:if(e.length)return CF(e.props,function(s){switch(PF(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return _o([xa(e,{props:[Re(s,/:(read-\w+)/,":"+pd+"$1")]})],i);case"::placeholder":return _o([xa(e,{props:[Re(s,/:(plac\w+)/,":"+be+"input-$1")]}),xa(e,{props:[Re(s,/:(plac\w+)/,":"+pd+"$1")]}),xa(e,{props:[Re(s,/:(plac\w+)/,zt+"input-$1")]})],i)}return""})}},WF=[HF],qF=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(T){var S=T.getAttribute("data-emotion");S.indexOf(" ")!==-1&&(document.head.appendChild(T),T.setAttribute("data-s",""))})}var i=e.stylisPlugins||WF,s={},a,c=[];a=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(T){for(var S=T.getAttribute("data-emotion").split(" "),w=1;w<S.length;w++)s[S[w]]=!0;c.push(T)});var u,d=[BF,UF];{var p,m=[NF,VF(function(T){p.insert(T)})],v=DF(d.concat(i,m)),y=function(S){return _o(LF(S),v)};u=function(S,w,E,P){p=E,y(S?S+"{"+w.styles+"}":w.styles),P&&(C.inserted[w.name]=!0)}}var C={key:n,sheet:new yF({key:n,container:a,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:u};return C.sheet.hydrate(c),C},Eb={exports:{}},Me={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var It=typeof Symbol=="function"&&Symbol.for,Yy=It?Symbol.for("react.element"):60103,Xy=It?Symbol.for("react.portal"):60106,Nf=It?Symbol.for("react.fragment"):60107,Df=It?Symbol.for("react.strict_mode"):60108,Vf=It?Symbol.for("react.profiler"):60114,Ff=It?Symbol.for("react.provider"):60109,zf=It?Symbol.for("react.context"):60110,Jy=It?Symbol.for("react.async_mode"):60111,jf=It?Symbol.for("react.concurrent_mode"):60111,$f=It?Symbol.for("react.forward_ref"):60112,Bf=It?Symbol.for("react.suspense"):60113,GF=It?Symbol.for("react.suspense_list"):60120,Uf=It?Symbol.for("react.memo"):60115,Hf=It?Symbol.for("react.lazy"):60116,KF=It?Symbol.for("react.block"):60121,ZF=It?Symbol.for("react.fundamental"):60117,QF=It?Symbol.for("react.responder"):60118,YF=It?Symbol.for("react.scope"):60119;function Sn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Yy:switch(t=t.type,t){case Jy:case jf:case Nf:case Vf:case Df:case Bf:return t;default:switch(t=t&&t.$$typeof,t){case zf:case $f:case Hf:case Uf:case Ff:return t;default:return e}}case Xy:return e}}}function Tb(t){return Sn(t)===jf}Me.AsyncMode=Jy;Me.ConcurrentMode=jf;Me.ContextConsumer=zf;Me.ContextProvider=Ff;Me.Element=Yy;Me.ForwardRef=$f;Me.Fragment=Nf;Me.Lazy=Hf;Me.Memo=Uf;Me.Portal=Xy;Me.Profiler=Vf;Me.StrictMode=Df;Me.Suspense=Bf;Me.isAsyncMode=function(t){return Tb(t)||Sn(t)===Jy};Me.isConcurrentMode=Tb;Me.isContextConsumer=function(t){return Sn(t)===zf};Me.isContextProvider=function(t){return Sn(t)===Ff};Me.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Yy};Me.isForwardRef=function(t){return Sn(t)===$f};Me.isFragment=function(t){return Sn(t)===Nf};Me.isLazy=function(t){return Sn(t)===Hf};Me.isMemo=function(t){return Sn(t)===Uf};Me.isPortal=function(t){return Sn(t)===Xy};Me.isProfiler=function(t){return Sn(t)===Vf};Me.isStrictMode=function(t){return Sn(t)===Df};Me.isSuspense=function(t){return Sn(t)===Bf};Me.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Nf||t===jf||t===Vf||t===Df||t===Bf||t===GF||typeof t=="object"&&t!==null&&(t.$$typeof===Hf||t.$$typeof===Uf||t.$$typeof===Ff||t.$$typeof===zf||t.$$typeof===$f||t.$$typeof===ZF||t.$$typeof===QF||t.$$typeof===YF||t.$$typeof===KF)};Me.typeOf=Sn;Eb.exports=Me;var XF=Eb.exports,Sb=XF,JF={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},ez={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Ib={};Ib[Sb.ForwardRef]=JF;Ib[Sb.Memo]=ez;var tz=!0;function nz(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):r+=i+" "}),r}var Pb=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||tz===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},rz=function(e,n,r){Pb(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var s=n;do e.insert(n===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function iz(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var sz={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},oz=/[A-Z]|^ms/g,az=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Cb=function(e){return e.charCodeAt(1)===45},C2=function(e){return e!=null&&typeof e!="boolean"},Em=FF(function(t){return Cb(t)?t:t.replace(oz,"-$&").toLowerCase()}),x2=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(az,function(r,i,s){return rr={name:i,styles:s,next:rr},i})}return sz[e]!==1&&!Cb(e)&&typeof n=="number"&&n!==0?n+"px":n};function Xl(t,e,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return rr={name:n.name,styles:n.styles,next:rr},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)rr={name:r.name,styles:r.styles,next:rr},r=r.next;var i=n.styles+";";return i}return lz(t,e,n)}case"function":{if(t!==void 0){var s=rr,a=n(t);return rr=s,Xl(t,e,a)}break}}if(e==null)return n;var c=e[n];return c!==void 0?c:n}function lz(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Xl(t,e,n[i])+";";else for(var s in n){var a=n[s];if(typeof a!="object")e!=null&&e[a]!==void 0?r+=s+"{"+e[a]+"}":C2(a)&&(r+=Em(s)+":"+x2(s,a)+";");else if(Array.isArray(a)&&typeof a[0]=="string"&&(e==null||e[a[0]]===void 0))for(var c=0;c<a.length;c++)C2(a[c])&&(r+=Em(s)+":"+x2(s,a[c])+";");else{var u=Xl(t,e,a);switch(s){case"animation":case"animationName":{r+=Em(s)+":"+u+";";break}default:r+=s+"{"+u+"}"}}}return r}var b2=/label:\s*([^\s;\n{]+)\s*(;|$)/g,rr,xb=function(e,n,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var i=!0,s="";rr=void 0;var a=e[0];a==null||a.raw===void 0?(i=!1,s+=Xl(r,n,a)):s+=a[0];for(var c=1;c<e.length;c++)s+=Xl(r,n,e[c]),i&&(s+=a[c]);b2.lastIndex=0;for(var u="",d;(d=b2.exec(s))!==null;)u+="-"+d[1];var p=iz(s)+u;return{name:p,styles:s,next:rr}},uz=function(e){return e()},cz=ul.useInsertionEffect?ul.useInsertionEffect:!1,hz=cz||uz,e1={}.hasOwnProperty,bb=R.createContext(typeof HTMLElement<"u"?qF({key:"css"}):null);bb.Provider;var dz=function(e){return R.forwardRef(function(n,r){var i=R.useContext(bb);return e(n,i,r)})},fz=R.createContext({}),vv="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",pz=function(e,n){var r={};for(var i in n)e1.call(n,i)&&(r[i]=n[i]);return r[vv]=e,r},mz=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return Pb(n,r,i),hz(function(){return rz(n,r,i)}),null},gz=dz(function(t,e,n){var r=t.css;typeof r=="string"&&e.registered[r]!==void 0&&(r=e.registered[r]);var i=t[vv],s=[r],a="";typeof t.className=="string"?a=nz(e.registered,s,t.className):t.className!=null&&(a=t.className+" ");var c=xb(s,void 0,R.useContext(fz));a+=e.key+"-"+c.name;var u={};for(var d in t)e1.call(t,d)&&d!=="css"&&d!==vv&&(u[d]=t[d]);return u.ref=n,u.className=a,R.createElement(R.Fragment,null,R.createElement(mz,{cache:e,serialized:c,isStringTag:typeof i=="string"}),R.createElement(i,u))}),vz=gz,ne=function(e,n){var r=arguments;if(n==null||!e1.call(n,"css"))return R.createElement.apply(void 0,r);var i=r.length,s=new Array(i);s[0]=vz,s[1]=pz(e,n);for(var a=2;a<i;a++)s[a]=r[a];return R.createElement.apply(null,s)};function t1(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return xb(e)}var _z=function(){var e=t1.apply(void 0,arguments),n="animation-"+e.name;return{name:n,styles:"@keyframes "+n+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};function yz(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}const wz=Math.min,Ez=Math.max,md=Math.round,bc=Math.floor,gd=t=>({x:t,y:t});function Tz(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}function Rb(t){return kb(t)?(t.nodeName||"").toLowerCase():"#document"}function Hn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Ab(t){var e;return(e=(kb(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function kb(t){return t instanceof Node||t instanceof Hn(t).Node}function _v(t){return t instanceof Element||t instanceof Hn(t).Element}function n1(t){return t instanceof HTMLElement||t instanceof Hn(t).HTMLElement}function R2(t){return typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Hn(t).ShadowRoot}function Ob(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=r1(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function Sz(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Iz(t){return["html","body","#document"].includes(Rb(t))}function r1(t){return Hn(t).getComputedStyle(t)}function Pz(t){if(Rb(t)==="html")return t;const e=t.assignedSlot||t.parentNode||R2(t)&&t.host||Ab(t);return R2(e)?e.host:e}function Lb(t){const e=Pz(t);return Iz(e)?t.ownerDocument?t.ownerDocument.body:t.body:n1(e)&&Ob(e)?e:Lb(e)}function vd(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=Lb(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),a=Hn(i);return s?e.concat(a,a.visualViewport||[],Ob(i)?i:[],a.frameElement&&n?vd(a.frameElement):[]):e.concat(i,vd(i,[],n))}function Cz(t){const e=r1(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=n1(t),s=i?t.offsetWidth:n,a=i?t.offsetHeight:r,c=md(n)!==s||md(r)!==a;return c&&(n=s,r=a),{width:n,height:r,$:c}}function i1(t){return _v(t)?t:t.contextElement}function Tm(t){const e=i1(t);if(!n1(e))return gd(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=Cz(e);let a=(s?md(n.width):n.width)/r,c=(s?md(n.height):n.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!c||!Number.isFinite(c))&&(c=1),{x:a,y:c}}const xz=gd(0);function bz(t){const e=Hn(t);return!Sz()||!e.visualViewport?xz:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Rz(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Hn(t)?!1:e}function A2(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=i1(t);let a=gd(1);e&&(r?_v(r)&&(a=Tm(r)):a=Tm(t));const c=Rz(s,n,r)?bz(s):gd(0);let u=(i.left+c.x)/a.x,d=(i.top+c.y)/a.y,p=i.width/a.x,m=i.height/a.y;if(s){const v=Hn(s),y=r&&_v(r)?Hn(r):r;let C=v,T=C.frameElement;for(;T&&r&&y!==C;){const S=Tm(T),w=T.getBoundingClientRect(),E=r1(T),P=w.left+(T.clientLeft+parseFloat(E.paddingLeft))*S.x,x=w.top+(T.clientTop+parseFloat(E.paddingTop))*S.y;u*=S.x,d*=S.y,p*=S.x,m*=S.y,u+=P,d+=x,C=Hn(T),T=C.frameElement}}return Tz({width:p,height:m,x:u,y:d})}function Az(t,e){let n=null,r;const i=Ab(t);function s(){var c;clearTimeout(r),(c=n)==null||c.disconnect(),n=null}function a(c,u){c===void 0&&(c=!1),u===void 0&&(u=1),s();const{left:d,top:p,width:m,height:v}=t.getBoundingClientRect();if(c||e(),!m||!v)return;const y=bc(p),C=bc(i.clientWidth-(d+m)),T=bc(i.clientHeight-(p+v)),S=bc(d),E={rootMargin:-y+"px "+-C+"px "+-T+"px "+-S+"px",threshold:Ez(0,wz(1,u))||1};let P=!0;function x(A){const O=A[0].intersectionRatio;if(O!==u){if(!P)return a();O?a(!1,O):r=setTimeout(()=>{a(!1,1e-7)},100)}P=!1}try{n=new IntersectionObserver(x,{...E,root:i.ownerDocument})}catch{n=new IntersectionObserver(x,E)}n.observe(t)}return a(!0),s}function kz(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:u=!1}=r,d=i1(t),p=i||s?[...d?vd(d):[],...vd(e)]:[];p.forEach(w=>{i&&w.addEventListener("scroll",n,{passive:!0}),s&&w.addEventListener("resize",n)});const m=d&&c?Az(d,n):null;let v=-1,y=null;a&&(y=new ResizeObserver(w=>{let[E]=w;E&&E.target===d&&y&&(y.unobserve(e),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{var P;(P=y)==null||P.observe(e)})),n()}),d&&!u&&y.observe(d),y.observe(e));let C,T=u?A2(t):null;u&&S();function S(){const w=A2(t);T&&(w.x!==T.x||w.y!==T.y||w.width!==T.width||w.height!==T.height)&&n(),T=w,C=requestAnimationFrame(S)}return n(),()=>{var w;p.forEach(E=>{i&&E.removeEventListener("scroll",n),s&&E.removeEventListener("resize",n)}),m==null||m(),(w=y)==null||w.disconnect(),y=null,u&&cancelAnimationFrame(C)}}var yv=R.useLayoutEffect,Oz=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],_d=function(){};function Lz(t,e){return e?e[0]==="-"?t+e:t+"__"+e:t}function Mz(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var s=[].concat(r);if(e&&t)for(var a in e)e.hasOwnProperty(a)&&e[a]&&s.push("".concat(Lz(t,a)));return s.filter(function(c){return c}).map(function(c){return String(c).trim()}).join(" ")}var k2=function(e){return Uz(e)?e.filter(Boolean):Is(e)==="object"&&e!==null?[e]:[]},Mb=function(e){e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme;var n=Qr(e,Oz);return re({},n)},Je=function(e,n,r){var i=e.cx,s=e.getStyles,a=e.getClassNames,c=e.className;return{css:s(n,e),className:i(r??{},a(n,e),c)}};function Wf(t){return[document.documentElement,document.body,window].indexOf(t)>-1}function Nz(t){return Wf(t)?window.innerHeight:t.clientHeight}function Nb(t){return Wf(t)?window.pageYOffset:t.scrollTop}function yd(t,e){if(Wf(t)){window.scrollTo(0,e);return}t.scrollTop=e}function Dz(t){var e=getComputedStyle(t),n=e.position==="absolute",r=/(auto|scroll)/;if(e.position==="fixed")return document.documentElement;for(var i=t;i=i.parentElement;)if(e=getComputedStyle(i),!(n&&e.position==="static")&&r.test(e.overflow+e.overflowY+e.overflowX))return i;return document.documentElement}function Vz(t,e,n,r){return n*((t=t/r-1)*t*t+1)+e}function Rc(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:_d,i=Nb(t),s=e-i,a=10,c=0;function u(){c+=a;var d=Vz(c,i,s,n);yd(t,d),c<n?window.requestAnimationFrame(u):r(t)}u()}function O2(t,e){var n=t.getBoundingClientRect(),r=e.getBoundingClientRect(),i=e.offsetHeight/3;r.bottom+i>n.bottom?yd(t,Math.min(e.offsetTop+e.clientHeight-t.offsetHeight+i,t.scrollHeight)):r.top-i<n.top&&yd(t,Math.max(e.offsetTop-i,0))}function Fz(t){var e=t.getBoundingClientRect();return{bottom:e.bottom,height:e.height,left:e.left,right:e.right,top:e.top,width:e.width}}function L2(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function zz(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var Db=!1,jz={get passive(){return Db=!0}},Ac=typeof window<"u"?window:{};Ac.addEventListener&&Ac.removeEventListener&&(Ac.addEventListener("p",_d,jz),Ac.removeEventListener("p",_d,!1));var $z=Db;function Bz(t){return t!=null}function Uz(t){return Array.isArray(t)}function kc(t,e,n){return t?e:n}var Hz=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var s=Object.entries(e).filter(function(a){var c=Mr(a,1),u=c[0];return!r.includes(u)});return s.reduce(function(a,c){var u=Mr(c,2),d=u[0],p=u[1];return a[d]=p,a},{})},Wz=["children","innerProps"],qz=["children","innerProps"];function Gz(t){var e=t.maxHeight,n=t.menuEl,r=t.minHeight,i=t.placement,s=t.shouldScroll,a=t.isFixedPosition,c=t.controlHeight,u=Dz(n),d={placement:"bottom",maxHeight:e};if(!n||!n.offsetParent)return d;var p=u.getBoundingClientRect(),m=p.height,v=n.getBoundingClientRect(),y=v.bottom,C=v.height,T=v.top,S=n.offsetParent.getBoundingClientRect(),w=S.top,E=a?window.innerHeight:Nz(u),P=Nb(u),x=parseInt(getComputedStyle(n).marginBottom,10),A=parseInt(getComputedStyle(n).marginTop,10),O=w-A,M=E-T,D=O+P,Z=m-P-T,G=y-E+P+x,le=P+T-A,ve=160;switch(i){case"auto":case"bottom":if(M>=C)return{placement:"bottom",maxHeight:e};if(Z>=C&&!a)return s&&Rc(u,G,ve),{placement:"bottom",maxHeight:e};if(!a&&Z>=r||a&&M>=r){s&&Rc(u,G,ve);var rt=a?M-x:Z-x;return{placement:"bottom",maxHeight:rt}}if(i==="auto"||a){var Fe=e,K=a?O:D;return K>=r&&(Fe=Math.min(K-x-c,e)),{placement:"top",maxHeight:Fe}}if(i==="bottom")return s&&yd(u,G),{placement:"bottom",maxHeight:e};break;case"top":if(O>=C)return{placement:"top",maxHeight:e};if(D>=C&&!a)return s&&Rc(u,le,ve),{placement:"top",maxHeight:e};if(!a&&D>=r||a&&O>=r){var fe=e;return(!a&&D>=r||a&&O>=r)&&(fe=a?O-A:D-A),s&&Rc(u,le,ve),{placement:"top",maxHeight:fe}}return{placement:"bottom",maxHeight:e};default:throw new Error('Invalid placement provided "'.concat(i,'".'))}return d}function Kz(t){var e={bottom:"top",top:"bottom"};return t?e[t]:"bottom"}var Vb=function(e){return e==="auto"?"bottom":e},Zz=function(e,n){var r,i=e.placement,s=e.theme,a=s.borderRadius,c=s.spacing,u=s.colors;return re((r={label:"menu"},Ba(r,Kz(i),"100%"),Ba(r,"position","absolute"),Ba(r,"width","100%"),Ba(r,"zIndex",1),r),n?{}:{backgroundColor:u.neutral0,borderRadius:a,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:c.menuGutter,marginTop:c.menuGutter})},Fb=R.createContext(null),Qz=function(e){var n=e.children,r=e.minMenuHeight,i=e.maxMenuHeight,s=e.menuPlacement,a=e.menuPosition,c=e.menuShouldScrollIntoView,u=e.theme,d=R.useContext(Fb)||{},p=d.setPortalPlacement,m=R.useRef(null),v=R.useState(i),y=Mr(v,2),C=y[0],T=y[1],S=R.useState(null),w=Mr(S,2),E=w[0],P=w[1],x=u.spacing.controlHeight;return yv(function(){var A=m.current;if(A){var O=a==="fixed",M=c&&!O,D=Gz({maxHeight:i,menuEl:A,minHeight:r,placement:s,shouldScroll:M,isFixedPosition:O,controlHeight:x});T(D.maxHeight),P(D.placement),p==null||p(D.placement)}},[i,s,a,c,r,p,x]),n({ref:m,placerProps:re(re({},e),{},{placement:E||Vb(s),maxHeight:C})})},Yz=function(e){var n=e.children,r=e.innerRef,i=e.innerProps;return ne("div",se({},Je(e,"menu",{menu:!0}),{ref:r},i),n)},Xz=Yz,Jz=function(e,n){var r=e.maxHeight,i=e.theme.spacing.baseUnit;return re({maxHeight:r,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},n?{}:{paddingBottom:i,paddingTop:i})},ej=function(e){var n=e.children,r=e.innerProps,i=e.innerRef,s=e.isMulti;return ne("div",se({},Je(e,"menuList",{"menu-list":!0,"menu-list--is-multi":s}),{ref:i},r),n)},zb=function(e,n){var r=e.theme,i=r.spacing.baseUnit,s=r.colors;return re({textAlign:"center"},n?{}:{color:s.neutral40,padding:"".concat(i*2,"px ").concat(i*3,"px")})},tj=zb,nj=zb,rj=function(e){var n=e.children,r=n===void 0?"No options":n,i=e.innerProps,s=Qr(e,Wz);return ne("div",se({},Je(re(re({},s),{},{children:r,innerProps:i}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),i),r)},ij=function(e){var n=e.children,r=n===void 0?"Loading...":n,i=e.innerProps,s=Qr(e,qz);return ne("div",se({},Je(re(re({},s),{},{children:r,innerProps:i}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),i),r)},sj=function(e){var n=e.rect,r=e.offset,i=e.position;return{left:n.left,position:i,top:r,width:n.width,zIndex:1}},oj=function(e){var n=e.appendTo,r=e.children,i=e.controlElement,s=e.innerProps,a=e.menuPlacement,c=e.menuPosition,u=R.useRef(null),d=R.useRef(null),p=R.useState(Vb(a)),m=Mr(p,2),v=m[0],y=m[1],C=R.useMemo(function(){return{setPortalPlacement:y}},[]),T=R.useState(null),S=Mr(T,2),w=S[0],E=S[1],P=R.useCallback(function(){if(i){var M=Fz(i),D=c==="fixed"?0:window.pageYOffset,Z=M[v]+D;(Z!==(w==null?void 0:w.offset)||M.left!==(w==null?void 0:w.rect.left)||M.width!==(w==null?void 0:w.rect.width))&&E({offset:Z,rect:M})}},[i,c,v,w==null?void 0:w.offset,w==null?void 0:w.rect.left,w==null?void 0:w.rect.width]);yv(function(){P()},[P]);var x=R.useCallback(function(){typeof d.current=="function"&&(d.current(),d.current=null),i&&u.current&&(d.current=kz(i,u.current,P,{elementResize:"ResizeObserver"in window}))},[i,P]);yv(function(){x()},[x]);var A=R.useCallback(function(M){u.current=M,x()},[x]);if(!n&&c!=="fixed"||!w)return null;var O=ne("div",se({ref:A},Je(re(re({},e),{},{offset:w.offset,position:c,rect:w.rect}),"menuPortal",{"menu-portal":!0}),s),r);return ne(Fb.Provider,{value:C},n?lI.createPortal(O,n):O)},aj=function(e){var n=e.isDisabled,r=e.isRtl;return{label:"container",direction:r?"rtl":void 0,pointerEvents:n?"none":void 0,position:"relative"}},lj=function(e){var n=e.children,r=e.innerProps,i=e.isDisabled,s=e.isRtl;return ne("div",se({},Je(e,"container",{"--is-disabled":i,"--is-rtl":s}),r),n)},uj=function(e,n){var r=e.theme.spacing,i=e.isMulti,s=e.hasValue,a=e.selectProps.controlShouldRenderValue;return re({alignItems:"center",display:i&&s&&a?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},n?{}:{padding:"".concat(r.baseUnit/2,"px ").concat(r.baseUnit*2,"px")})},cj=function(e){var n=e.children,r=e.innerProps,i=e.isMulti,s=e.hasValue;return ne("div",se({},Je(e,"valueContainer",{"value-container":!0,"value-container--is-multi":i,"value-container--has-value":s}),r),n)},hj=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},dj=function(e){var n=e.children,r=e.innerProps;return ne("div",se({},Je(e,"indicatorsContainer",{indicators:!0}),r),n)},M2,fj=["size"],pj=["innerProps","isRtl","size"],mj={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},jb=function(e){var n=e.size,r=Qr(e,fj);return ne("svg",se({height:n,width:n,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:mj},r))},s1=function(e){return ne(jb,se({size:20},e),ne("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},$b=function(e){return ne(jb,se({size:20},e),ne("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},Bb=function(e,n){var r=e.isFocused,i=e.theme,s=i.spacing.baseUnit,a=i.colors;return re({label:"indicatorContainer",display:"flex",transition:"color 150ms"},n?{}:{color:r?a.neutral60:a.neutral20,padding:s*2,":hover":{color:r?a.neutral80:a.neutral40}})},gj=Bb,vj=function(e){var n=e.children,r=e.innerProps;return ne("div",se({},Je(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),r),n||ne($b,null))},_j=Bb,yj=function(e){var n=e.children,r=e.innerProps;return ne("div",se({},Je(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),r),n||ne(s1,null))},wj=function(e,n){var r=e.isDisabled,i=e.theme,s=i.spacing.baseUnit,a=i.colors;return re({label:"indicatorSeparator",alignSelf:"stretch",width:1},n?{}:{backgroundColor:r?a.neutral10:a.neutral20,marginBottom:s*2,marginTop:s*2})},Ej=function(e){var n=e.innerProps;return ne("span",se({},n,Je(e,"indicatorSeparator",{"indicator-separator":!0})))},Tj=_z(M2||(M2=yz([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),Sj=function(e,n){var r=e.isFocused,i=e.size,s=e.theme,a=s.colors,c=s.spacing.baseUnit;return re({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:i,lineHeight:1,marginRight:i,textAlign:"center",verticalAlign:"middle"},n?{}:{color:r?a.neutral60:a.neutral20,padding:c*2})},Sm=function(e){var n=e.delay,r=e.offset;return ne("span",{css:t1({animation:"".concat(Tj," 1s ease-in-out ").concat(n,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:r?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},Ij=function(e){var n=e.innerProps,r=e.isRtl,i=e.size,s=i===void 0?4:i,a=Qr(e,pj);return ne("div",se({},Je(re(re({},a),{},{innerProps:n,isRtl:r,size:s}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),n),ne(Sm,{delay:0,offset:r}),ne(Sm,{delay:160,offset:!0}),ne(Sm,{delay:320,offset:!r}))},Pj=function(e,n){var r=e.isDisabled,i=e.isFocused,s=e.theme,a=s.colors,c=s.borderRadius,u=s.spacing;return re({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:u.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},n?{}:{backgroundColor:r?a.neutral5:a.neutral0,borderColor:r?a.neutral10:i?a.primary:a.neutral20,borderRadius:c,borderStyle:"solid",borderWidth:1,boxShadow:i?"0 0 0 1px ".concat(a.primary):void 0,"&:hover":{borderColor:i?a.primary:a.neutral30}})},Cj=function(e){var n=e.children,r=e.isDisabled,i=e.isFocused,s=e.innerRef,a=e.innerProps,c=e.menuIsOpen;return ne("div",se({ref:s},Je(e,"control",{control:!0,"control--is-disabled":r,"control--is-focused":i,"control--menu-is-open":c}),a,{"aria-disabled":r||void 0}),n)},xj=Cj,bj=["data"],Rj=function(e,n){var r=e.theme.spacing;return n?{}:{paddingBottom:r.baseUnit*2,paddingTop:r.baseUnit*2}},Aj=function(e){var n=e.children,r=e.cx,i=e.getStyles,s=e.getClassNames,a=e.Heading,c=e.headingProps,u=e.innerProps,d=e.label,p=e.theme,m=e.selectProps;return ne("div",se({},Je(e,"group",{group:!0}),u),ne(a,se({},c,{selectProps:m,theme:p,getStyles:i,getClassNames:s,cx:r}),d),ne("div",null,n))},kj=function(e,n){var r=e.theme,i=r.colors,s=r.spacing;return re({label:"group",cursor:"default",display:"block"},n?{}:{color:i.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:s.baseUnit*3,paddingRight:s.baseUnit*3,textTransform:"uppercase"})},Oj=function(e){var n=Mb(e);n.data;var r=Qr(n,bj);return ne("div",se({},Je(e,"groupHeading",{"group-heading":!0}),r))},Lj=Aj,Mj=["innerRef","isDisabled","isHidden","inputClassName"],Nj=function(e,n){var r=e.isDisabled,i=e.value,s=e.theme,a=s.spacing,c=s.colors;return re(re({visibility:r?"hidden":"visible",transform:i?"translateZ(0)":""},Dj),n?{}:{margin:a.baseUnit/2,paddingBottom:a.baseUnit/2,paddingTop:a.baseUnit/2,color:c.neutral80})},Ub={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},Dj={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":re({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},Ub)},Vj=function(e){return re({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},Ub)},Fj=function(e){var n=e.cx,r=e.value,i=Mb(e),s=i.innerRef,a=i.isDisabled,c=i.isHidden,u=i.inputClassName,d=Qr(i,Mj);return ne("div",se({},Je(e,"input",{"input-container":!0}),{"data-value":r||""}),ne("input",se({className:n({input:!0},u),ref:s,style:Vj(c),disabled:a},d)))},zj=Fj,jj=function(e,n){var r=e.theme,i=r.spacing,s=r.borderRadius,a=r.colors;return re({label:"multiValue",display:"flex",minWidth:0},n?{}:{backgroundColor:a.neutral10,borderRadius:s/2,margin:i.baseUnit/2})},$j=function(e,n){var r=e.theme,i=r.borderRadius,s=r.colors,a=e.cropWithEllipsis;return re({overflow:"hidden",textOverflow:a||a===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},n?{}:{borderRadius:i/2,color:s.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},Bj=function(e,n){var r=e.theme,i=r.spacing,s=r.borderRadius,a=r.colors,c=e.isFocused;return re({alignItems:"center",display:"flex"},n?{}:{borderRadius:s/2,backgroundColor:c?a.dangerLight:void 0,paddingLeft:i.baseUnit,paddingRight:i.baseUnit,":hover":{backgroundColor:a.dangerLight,color:a.danger}})},Hb=function(e){var n=e.children,r=e.innerProps;return ne("div",r,n)},Uj=Hb,Hj=Hb;function Wj(t){var e=t.children,n=t.innerProps;return ne("div",se({role:"button"},n),e||ne(s1,{size:14}))}var qj=function(e){var n=e.children,r=e.components,i=e.data,s=e.innerProps,a=e.isDisabled,c=e.removeProps,u=e.selectProps,d=r.Container,p=r.Label,m=r.Remove;return ne(d,{data:i,innerProps:re(re({},Je(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":a})),s),selectProps:u},ne(p,{data:i,innerProps:re({},Je(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:u},n),ne(m,{data:i,innerProps:re(re({},Je(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(n||"option")},c),selectProps:u}))},Gj=qj,Kj=function(e,n){var r=e.isDisabled,i=e.isFocused,s=e.isSelected,a=e.theme,c=a.spacing,u=a.colors;return re({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},n?{}:{backgroundColor:s?u.primary:i?u.primary25:"transparent",color:r?u.neutral20:s?u.neutral0:"inherit",padding:"".concat(c.baseUnit*2,"px ").concat(c.baseUnit*3,"px"),":active":{backgroundColor:r?void 0:s?u.primary:u.primary50}})},Zj=function(e){var n=e.children,r=e.isDisabled,i=e.isFocused,s=e.isSelected,a=e.innerRef,c=e.innerProps;return ne("div",se({},Je(e,"option",{option:!0,"option--is-disabled":r,"option--is-focused":i,"option--is-selected":s}),{ref:a,"aria-disabled":r},c),n)},Qj=Zj,Yj=function(e,n){var r=e.theme,i=r.spacing,s=r.colors;return re({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},n?{}:{color:s.neutral50,marginLeft:i.baseUnit/2,marginRight:i.baseUnit/2})},Xj=function(e){var n=e.children,r=e.innerProps;return ne("div",se({},Je(e,"placeholder",{placeholder:!0}),r),n)},Jj=Xj,e$=function(e,n){var r=e.isDisabled,i=e.theme,s=i.spacing,a=i.colors;return re({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},n?{}:{color:r?a.neutral40:a.neutral80,marginLeft:s.baseUnit/2,marginRight:s.baseUnit/2})},t$=function(e){var n=e.children,r=e.isDisabled,i=e.innerProps;return ne("div",se({},Je(e,"singleValue",{"single-value":!0,"single-value--is-disabled":r}),i),n)},n$=t$,r$={ClearIndicator:yj,Control:xj,DropdownIndicator:vj,DownChevron:$b,CrossIcon:s1,Group:Lj,GroupHeading:Oj,IndicatorsContainer:dj,IndicatorSeparator:Ej,Input:zj,LoadingIndicator:Ij,Menu:Xz,MenuList:ej,MenuPortal:oj,LoadingMessage:ij,NoOptionsMessage:rj,MultiValue:Gj,MultiValueContainer:Uj,MultiValueLabel:Hj,MultiValueRemove:Wj,Option:Qj,Placeholder:Jj,SelectContainer:lj,SingleValue:n$,ValueContainer:cj},i$=function(e){return re(re({},r$),e.components)},N2=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function s$(t,e){return!!(t===e||N2(t)&&N2(e))}function o$(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!s$(t[n],e[n]))return!1;return!0}function a$(t,e){e===void 0&&(e=o$);var n=null;function r(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];if(n&&n.lastThis===this&&e(i,n.lastArgs))return n.lastResult;var a=t.apply(this,i);return n={lastResult:a,lastArgs:i,lastThis:this},a}return r.clear=function(){n=null},r}var l$={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},u$=function(e){return ne("span",se({css:l$},e))},D2=u$,c$={guidance:function(e){var n=e.isSearchable,r=e.isMulti,i=e.tabSelectsValue,s=e.context,a=e.isInitialFocus;switch(s){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(i?", press Tab to select the option and exit the menu":"",".");case"input":return a?"".concat(e["aria-label"]||"Select"," is focused ").concat(n?",type to refine list":"",", press Down to open the menu, ").concat(r?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var n=e.action,r=e.label,i=r===void 0?"":r,s=e.labels,a=e.isDisabled;switch(n){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(i,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(s.length>1?"s":""," ").concat(s.join(","),", selected.");case"select-option":return a?"option ".concat(i," is disabled. Select another option."):"option ".concat(i,", selected.");default:return""}},onFocus:function(e){var n=e.context,r=e.focused,i=e.options,s=e.label,a=s===void 0?"":s,c=e.selectValue,u=e.isDisabled,d=e.isSelected,p=e.isAppleDevice,m=function(T,S){return T&&T.length?"".concat(T.indexOf(S)+1," of ").concat(T.length):""};if(n==="value"&&c)return"value ".concat(a," focused, ").concat(m(c,r),".");if(n==="menu"&&p){var v=u?" disabled":"",y="".concat(d?" selected":"").concat(v);return"".concat(a).concat(y,", ").concat(m(i,r),".")}return""},onFilter:function(e){var n=e.inputValue,r=e.resultsMessage;return"".concat(r).concat(n?" for search term "+n:"",".")}},h$=function(e){var n=e.ariaSelection,r=e.focusedOption,i=e.focusedValue,s=e.focusableOptions,a=e.isFocused,c=e.selectValue,u=e.selectProps,d=e.id,p=e.isAppleDevice,m=u.ariaLiveMessages,v=u.getOptionLabel,y=u.inputValue,C=u.isMulti,T=u.isOptionDisabled,S=u.isSearchable,w=u.menuIsOpen,E=u.options,P=u.screenReaderStatus,x=u.tabSelectsValue,A=u.isLoading,O=u["aria-label"],M=u["aria-live"],D=R.useMemo(function(){return re(re({},c$),m||{})},[m]),Z=R.useMemo(function(){var K="";if(n&&D.onChange){var fe=n.option,He=n.options,V=n.removedValue,ee=n.removedValues,B=n.value,ie=function(vt){return Array.isArray(vt)?null:vt},te=V||fe||ie(B),Pe=te?v(te):"",_e=He||ee||void 0,me=_e?_e.map(v):[],X=re({isDisabled:te&&T(te,c),label:Pe,labels:me},n);K=D.onChange(X)}return K},[n,D,T,c,v]),G=R.useMemo(function(){var K="",fe=r||i,He=!!(r&&c&&c.includes(r));if(fe&&D.onFocus){var V={focused:fe,label:v(fe),isDisabled:T(fe,c),isSelected:He,options:s,context:fe===r?"menu":"value",selectValue:c,isAppleDevice:p};K=D.onFocus(V)}return K},[r,i,v,T,D,s,c,p]),le=R.useMemo(function(){var K="";if(w&&E.length&&!A&&D.onFilter){var fe=P({count:s.length});K=D.onFilter({inputValue:y,resultsMessage:fe})}return K},[s,y,w,D,E,P,A]),ve=(n==null?void 0:n.action)==="initial-input-focus",rt=R.useMemo(function(){var K="";if(D.guidance){var fe=i?"value":w?"menu":"input";K=D.guidance({"aria-label":O,context:fe,isDisabled:r&&T(r,c),isMulti:C,isSearchable:S,tabSelectsValue:x,isInitialFocus:ve})}return K},[O,r,i,C,T,S,w,D,c,x,ve]),Fe=ne(R.Fragment,null,ne("span",{id:"aria-selection"},Z),ne("span",{id:"aria-focused"},G),ne("span",{id:"aria-results"},le),ne("span",{id:"aria-guidance"},rt));return ne(R.Fragment,null,ne(D2,{id:d},ve&&Fe),ne(D2,{"aria-live":M,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},a&&!ve&&Fe))},d$=h$,wv=[{base:"A",letters:"AⒶＡÀÁÂẦẤẪẨÃĀĂẰẮẴẲȦǠÄǞẢÅǺǍȀȂẠẬẶḀĄȺⱯ"},{base:"AA",letters:"Ꜳ"},{base:"AE",letters:"ÆǼǢ"},{base:"AO",letters:"Ꜵ"},{base:"AU",letters:"Ꜷ"},{base:"AV",letters:"ꜸꜺ"},{base:"AY",letters:"Ꜽ"},{base:"B",letters:"BⒷＢḂḄḆɃƂƁ"},{base:"C",letters:"CⒸＣĆĈĊČÇḈƇȻꜾ"},{base:"D",letters:"DⒹＤḊĎḌḐḒḎĐƋƊƉꝹ"},{base:"DZ",letters:"ǱǄ"},{base:"Dz",letters:"ǲǅ"},{base:"E",letters:"EⒺＥÈÉÊỀẾỄỂẼĒḔḖĔĖËẺĚȄȆẸỆȨḜĘḘḚƐƎ"},{base:"F",letters:"FⒻＦḞƑꝻ"},{base:"G",letters:"GⒼＧǴĜḠĞĠǦĢǤƓꞠꝽꝾ"},{base:"H",letters:"HⒽＨĤḢḦȞḤḨḪĦⱧⱵꞍ"},{base:"I",letters:"IⒾＩÌÍÎĨĪĬİÏḮỈǏȈȊỊĮḬƗ"},{base:"J",letters:"JⒿＪĴɈ"},{base:"K",letters:"KⓀＫḰǨḲĶḴƘⱩꝀꝂꝄꞢ"},{base:"L",letters:"LⓁＬĿĹĽḶḸĻḼḺŁȽⱢⱠꝈꝆꞀ"},{base:"LJ",letters:"Ǉ"},{base:"Lj",letters:"ǈ"},{base:"M",letters:"MⓂＭḾṀṂⱮƜ"},{base:"N",letters:"NⓃＮǸŃÑṄŇṆŅṊṈȠƝꞐꞤ"},{base:"NJ",letters:"Ǌ"},{base:"Nj",letters:"ǋ"},{base:"O",letters:"OⓄＯÒÓÔỒỐỖỔÕṌȬṎŌṐṒŎȮȰÖȪỎŐǑȌȎƠỜỚỠỞỢỌỘǪǬØǾƆƟꝊꝌ"},{base:"OI",letters:"Ƣ"},{base:"OO",letters:"Ꝏ"},{base:"OU",letters:"Ȣ"},{base:"P",letters:"PⓅＰṔṖƤⱣꝐꝒꝔ"},{base:"Q",letters:"QⓆＱꝖꝘɊ"},{base:"R",letters:"RⓇＲŔṘŘȐȒṚṜŖṞɌⱤꝚꞦꞂ"},{base:"S",letters:"SⓈＳẞŚṤŜṠŠṦṢṨȘŞⱾꞨꞄ"},{base:"T",letters:"TⓉＴṪŤṬȚŢṰṮŦƬƮȾꞆ"},{base:"TZ",letters:"Ꜩ"},{base:"U",letters:"UⓊＵÙÚÛŨṸŪṺŬÜǛǗǕǙỦŮŰǓȔȖƯỪỨỮỬỰỤṲŲṶṴɄ"},{base:"V",letters:"VⓋＶṼṾƲꝞɅ"},{base:"VY",letters:"Ꝡ"},{base:"W",letters:"WⓌＷẀẂŴẆẄẈⱲ"},{base:"X",letters:"XⓍＸẊẌ"},{base:"Y",letters:"YⓎＹỲÝŶỸȲẎŸỶỴƳɎỾ"},{base:"Z",letters:"ZⓏＺŹẐŻŽẒẔƵȤⱿⱫꝢ"},{base:"a",letters:"aⓐａẚàáâầấẫẩãāăằắẵẳȧǡäǟảåǻǎȁȃạậặḁąⱥɐ"},{base:"aa",letters:"ꜳ"},{base:"ae",letters:"æǽǣ"},{base:"ao",letters:"ꜵ"},{base:"au",letters:"ꜷ"},{base:"av",letters:"ꜹꜻ"},{base:"ay",letters:"ꜽ"},{base:"b",letters:"bⓑｂḃḅḇƀƃɓ"},{base:"c",letters:"cⓒｃćĉċčçḉƈȼꜿↄ"},{base:"d",letters:"dⓓｄḋďḍḑḓḏđƌɖɗꝺ"},{base:"dz",letters:"ǳǆ"},{base:"e",letters:"eⓔｅèéêềếễểẽēḕḗĕėëẻěȅȇẹệȩḝęḙḛɇɛǝ"},{base:"f",letters:"fⓕｆḟƒꝼ"},{base:"g",letters:"gⓖｇǵĝḡğġǧģǥɠꞡᵹꝿ"},{base:"h",letters:"hⓗｈĥḣḧȟḥḩḫẖħⱨⱶɥ"},{base:"hv",letters:"ƕ"},{base:"i",letters:"iⓘｉìíîĩīĭïḯỉǐȉȋịįḭɨı"},{base:"j",letters:"jⓙｊĵǰɉ"},{base:"k",letters:"kⓚｋḱǩḳķḵƙⱪꝁꝃꝅꞣ"},{base:"l",letters:"lⓛｌŀĺľḷḹļḽḻſłƚɫⱡꝉꞁꝇ"},{base:"lj",letters:"ǉ"},{base:"m",letters:"mⓜｍḿṁṃɱɯ"},{base:"n",letters:"nⓝｎǹńñṅňṇņṋṉƞɲŉꞑꞥ"},{base:"nj",letters:"ǌ"},{base:"o",letters:"oⓞｏòóôồốỗổõṍȭṏōṑṓŏȯȱöȫỏőǒȍȏơờớỡởợọộǫǭøǿɔꝋꝍɵ"},{base:"oi",letters:"ƣ"},{base:"ou",letters:"ȣ"},{base:"oo",letters:"ꝏ"},{base:"p",letters:"pⓟｐṕṗƥᵽꝑꝓꝕ"},{base:"q",letters:"qⓠｑɋꝗꝙ"},{base:"r",letters:"rⓡｒŕṙřȑȓṛṝŗṟɍɽꝛꞧꞃ"},{base:"s",letters:"sⓢｓßśṥŝṡšṧṣṩșşȿꞩꞅẛ"},{base:"t",letters:"tⓣｔṫẗťṭțţṱṯŧƭʈⱦꞇ"},{base:"tz",letters:"ꜩ"},{base:"u",letters:"uⓤｕùúûũṹūṻŭüǜǘǖǚủůűǔȕȗưừứữửựụṳųṷṵʉ"},{base:"v",letters:"vⓥｖṽṿʋꝟʌ"},{base:"vy",letters:"ꝡ"},{base:"w",letters:"wⓦｗẁẃŵẇẅẘẉⱳ"},{base:"x",letters:"xⓧｘẋẍ"},{base:"y",letters:"yⓨｙỳýŷỹȳẏÿỷẙỵƴɏỿ"},{base:"z",letters:"zⓩｚźẑżžẓẕƶȥɀⱬꝣ"}],f$=new RegExp("["+wv.map(function(t){return t.letters}).join("")+"]","g"),Wb={};for(var Im=0;Im<wv.length;Im++)for(var Pm=wv[Im],Cm=0;Cm<Pm.letters.length;Cm++)Wb[Pm.letters[Cm]]=Pm.base;var qb=function(e){return e.replace(f$,function(n){return Wb[n]})},p$=a$(qb),V2=function(e){return e.replace(/^\s+|\s+$/g,"")},m$=function(e){return"".concat(e.label," ").concat(e.value)},g$=function(e){return function(n,r){if(n.data.__isNew__)return!0;var i=re({ignoreCase:!0,ignoreAccents:!0,stringify:m$,trim:!0,matchFrom:"any"},e),s=i.ignoreCase,a=i.ignoreAccents,c=i.stringify,u=i.trim,d=i.matchFrom,p=u?V2(r):r,m=u?V2(c(n)):c(n);return s&&(p=p.toLowerCase(),m=m.toLowerCase()),a&&(p=p$(p),m=qb(m)),d==="start"?m.substr(0,p.length)===p:m.indexOf(p)>-1}},v$=["innerRef"];function _$(t){var e=t.innerRef,n=Qr(t,v$),r=Hz(n,"onExited","in","enter","exit","appear");return ne("input",se({ref:e},r,{css:t1({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var y$=function(e){e.cancelable&&e.preventDefault(),e.stopPropagation()};function w$(t){var e=t.isEnabled,n=t.onBottomArrive,r=t.onBottomLeave,i=t.onTopArrive,s=t.onTopLeave,a=R.useRef(!1),c=R.useRef(!1),u=R.useRef(0),d=R.useRef(null),p=R.useCallback(function(S,w){if(d.current!==null){var E=d.current,P=E.scrollTop,x=E.scrollHeight,A=E.clientHeight,O=d.current,M=w>0,D=x-A-P,Z=!1;D>w&&a.current&&(r&&r(S),a.current=!1),M&&c.current&&(s&&s(S),c.current=!1),M&&w>D?(n&&!a.current&&n(S),O.scrollTop=x,Z=!0,a.current=!0):!M&&-w>P&&(i&&!c.current&&i(S),O.scrollTop=0,Z=!0,c.current=!0),Z&&y$(S)}},[n,r,i,s]),m=R.useCallback(function(S){p(S,S.deltaY)},[p]),v=R.useCallback(function(S){u.current=S.changedTouches[0].clientY},[]),y=R.useCallback(function(S){var w=u.current-S.changedTouches[0].clientY;p(S,w)},[p]),C=R.useCallback(function(S){if(S){var w=$z?{passive:!1}:!1;S.addEventListener("wheel",m,w),S.addEventListener("touchstart",v,w),S.addEventListener("touchmove",y,w)}},[y,v,m]),T=R.useCallback(function(S){S&&(S.removeEventListener("wheel",m,!1),S.removeEventListener("touchstart",v,!1),S.removeEventListener("touchmove",y,!1))},[y,v,m]);return R.useEffect(function(){if(e){var S=d.current;return C(S),function(){T(S)}}},[e,C,T]),function(S){d.current=S}}var F2=["boxSizing","height","overflow","paddingRight","position"],z2={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function j2(t){t.preventDefault()}function $2(t){t.stopPropagation()}function B2(){var t=this.scrollTop,e=this.scrollHeight,n=t+this.offsetHeight;t===0?this.scrollTop=1:n===e&&(this.scrollTop=t-1)}function U2(){return"ontouchstart"in window||navigator.maxTouchPoints}var H2=!!(typeof window<"u"&&window.document&&window.document.createElement),ba=0,Bs={capture:!1,passive:!1};function E$(t){var e=t.isEnabled,n=t.accountForScrollbars,r=n===void 0?!0:n,i=R.useRef({}),s=R.useRef(null),a=R.useCallback(function(u){if(H2){var d=document.body,p=d&&d.style;if(r&&F2.forEach(function(C){var T=p&&p[C];i.current[C]=T}),r&&ba<1){var m=parseInt(i.current.paddingRight,10)||0,v=document.body?document.body.clientWidth:0,y=window.innerWidth-v+m||0;Object.keys(z2).forEach(function(C){var T=z2[C];p&&(p[C]=T)}),p&&(p.paddingRight="".concat(y,"px"))}d&&U2()&&(d.addEventListener("touchmove",j2,Bs),u&&(u.addEventListener("touchstart",B2,Bs),u.addEventListener("touchmove",$2,Bs))),ba+=1}},[r]),c=R.useCallback(function(u){if(H2){var d=document.body,p=d&&d.style;ba=Math.max(ba-1,0),r&&ba<1&&F2.forEach(function(m){var v=i.current[m];p&&(p[m]=v)}),d&&U2()&&(d.removeEventListener("touchmove",j2,Bs),u&&(u.removeEventListener("touchstart",B2,Bs),u.removeEventListener("touchmove",$2,Bs)))}},[r]);return R.useEffect(function(){if(e){var u=s.current;return a(u),function(){c(u)}}},[e,a,c]),function(u){s.current=u}}var T$=function(e){var n=e.target;return n.ownerDocument.activeElement&&n.ownerDocument.activeElement.blur()},S$={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function I$(t){var e=t.children,n=t.lockEnabled,r=t.captureEnabled,i=r===void 0?!0:r,s=t.onBottomArrive,a=t.onBottomLeave,c=t.onTopArrive,u=t.onTopLeave,d=w$({isEnabled:i,onBottomArrive:s,onBottomLeave:a,onTopArrive:c,onTopLeave:u}),p=E$({isEnabled:n}),m=function(y){d(y),p(y)};return ne(R.Fragment,null,n&&ne("div",{onClick:T$,css:S$}),e(m))}var P$={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},C$=function(e){var n=e.name,r=e.onFocus;return ne("input",{required:!0,name:n,tabIndex:-1,"aria-hidden":"true",onFocus:r,css:P$,value:"",onChange:function(){}})},x$=C$;function o1(t){var e;return typeof window<"u"&&window.navigator!=null?t.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function b$(){return o1(/^iPhone/i)}function Gb(){return o1(/^Mac/i)}function R$(){return o1(/^iPad/i)||Gb()&&navigator.maxTouchPoints>1}function A$(){return b$()||R$()}function k$(){return Gb()||A$()}var O$=function(e){return e.label},L$=function(e){return e.label},M$=function(e){return e.value},N$=function(e){return!!e.isDisabled},D$={clearIndicator:_j,container:aj,control:Pj,dropdownIndicator:gj,group:Rj,groupHeading:kj,indicatorsContainer:hj,indicatorSeparator:wj,input:Nj,loadingIndicator:Sj,loadingMessage:nj,menu:Zz,menuList:Jz,menuPortal:sj,multiValue:jj,multiValueLabel:$j,multiValueRemove:Bj,noOptionsMessage:tj,option:Kj,placeholder:Yj,singleValue:e$,valueContainer:uj},V$={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},F$=4,Kb=4,z$=38,j$=Kb*2,$$={baseUnit:Kb,controlHeight:z$,menuGutter:j$},xm={borderRadius:F$,colors:V$,spacing:$$},B$={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:L2(),captureMenuScroll:!L2(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:g$(),formatGroupLabel:O$,getOptionLabel:L$,getOptionValue:M$,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:N$,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!zz(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var n=e.count;return"".concat(n," result").concat(n!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function W2(t,e,n,r){var i=Yb(t,e,n),s=Xb(t,e,n),a=Qb(t,e),c=wd(t,e);return{type:"option",data:e,isDisabled:i,isSelected:s,label:a,value:c,index:r}}function uh(t,e){return t.options.map(function(n,r){if("options"in n){var i=n.options.map(function(a,c){return W2(t,a,e,c)}).filter(function(a){return G2(t,a)});return i.length>0?{type:"group",data:n,options:i,index:r}:void 0}var s=W2(t,n,e,r);return G2(t,s)?s:void 0}).filter(Bz)}function Zb(t){return t.reduce(function(e,n){return n.type==="group"?e.push.apply(e,Gy(n.options.map(function(r){return r.data}))):e.push(n.data),e},[])}function q2(t,e){return t.reduce(function(n,r){return r.type==="group"?n.push.apply(n,Gy(r.options.map(function(i){return{data:i.data,id:"".concat(e,"-").concat(r.index,"-").concat(i.index)}}))):n.push({data:r.data,id:"".concat(e,"-").concat(r.index)}),n},[])}function U$(t,e){return Zb(uh(t,e))}function G2(t,e){var n=t.inputValue,r=n===void 0?"":n,i=e.data,s=e.isSelected,a=e.label,c=e.value;return(!eR(t)||!s)&&Jb(t,{label:a,value:c,data:i},r)}function H$(t,e){var n=t.focusedValue,r=t.selectValue,i=r.indexOf(n);if(i>-1){var s=e.indexOf(n);if(s>-1)return n;if(i<e.length)return e[i]}return null}function W$(t,e){var n=t.focusedOption;return n&&e.indexOf(n)>-1?n:e[0]}var bm=function(e,n){var r,i=(r=e.find(function(s){return s.data===n}))===null||r===void 0?void 0:r.id;return i||null},Qb=function(e,n){return e.getOptionLabel(n)},wd=function(e,n){return e.getOptionValue(n)};function Yb(t,e,n){return typeof t.isOptionDisabled=="function"?t.isOptionDisabled(e,n):!1}function Xb(t,e,n){if(n.indexOf(e)>-1)return!0;if(typeof t.isOptionSelected=="function")return t.isOptionSelected(e,n);var r=wd(t,e);return n.some(function(i){return wd(t,i)===r})}function Jb(t,e,n){return t.filterOption?t.filterOption(e,n):!0}var eR=function(e){var n=e.hideSelectedOptions,r=e.isMulti;return n===void 0?r:n},q$=1,tR=function(t){cF(n,t);var e=fF(n);function n(r){var i;if(lF(this,n),i=e.call(this,r),i.state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:""},i.blockOptionHover=!1,i.isComposing=!1,i.commonProps=void 0,i.initialTouchX=0,i.initialTouchY=0,i.openAfterFocus=!1,i.scrollToFocusedOptionOnUpdate=!1,i.userIsDragging=void 0,i.isAppleDevice=k$(),i.controlRef=null,i.getControlRef=function(u){i.controlRef=u},i.focusedOptionRef=null,i.getFocusedOptionRef=function(u){i.focusedOptionRef=u},i.menuListRef=null,i.getMenuListRef=function(u){i.menuListRef=u},i.inputRef=null,i.getInputRef=function(u){i.inputRef=u},i.focus=i.focusInput,i.blur=i.blurInput,i.onChange=function(u,d){var p=i.props,m=p.onChange,v=p.name;d.name=v,i.ariaOnChange(u,d),m(u,d)},i.setValue=function(u,d,p){var m=i.props,v=m.closeMenuOnSelect,y=m.isMulti,C=m.inputValue;i.onInputChange("",{action:"set-value",prevInputValue:C}),v&&(i.setState({inputIsHiddenAfterUpdate:!y}),i.onMenuClose()),i.setState({clearFocusValueOnUpdate:!0}),i.onChange(u,{action:d,option:p})},i.selectOption=function(u){var d=i.props,p=d.blurInputOnSelect,m=d.isMulti,v=d.name,y=i.state.selectValue,C=m&&i.isOptionSelected(u,y),T=i.isOptionDisabled(u,y);if(C){var S=i.getOptionValue(u);i.setValue(y.filter(function(w){return i.getOptionValue(w)!==S}),"deselect-option",u)}else if(!T)m?i.setValue([].concat(Gy(y),[u]),"select-option",u):i.setValue(u,"select-option");else{i.ariaOnChange(u,{action:"select-option",option:u,name:v});return}p&&i.blurInput()},i.removeValue=function(u){var d=i.props.isMulti,p=i.state.selectValue,m=i.getOptionValue(u),v=p.filter(function(C){return i.getOptionValue(C)!==m}),y=kc(d,v,v[0]||null);i.onChange(y,{action:"remove-value",removedValue:u}),i.focusInput()},i.clearValue=function(){var u=i.state.selectValue;i.onChange(kc(i.props.isMulti,[],null),{action:"clear",removedValues:u})},i.popValue=function(){var u=i.props.isMulti,d=i.state.selectValue,p=d[d.length-1],m=d.slice(0,d.length-1),v=kc(u,m,m[0]||null);i.onChange(v,{action:"pop-value",removedValue:p})},i.getFocusedOptionId=function(u){return bm(i.state.focusableOptionsWithIds,u)},i.getFocusableOptionsWithIds=function(){return q2(uh(i.props,i.state.selectValue),i.getElementId("option"))},i.getValue=function(){return i.state.selectValue},i.cx=function(){for(var u=arguments.length,d=new Array(u),p=0;p<u;p++)d[p]=arguments[p];return Mz.apply(void 0,[i.props.classNamePrefix].concat(d))},i.getOptionLabel=function(u){return Qb(i.props,u)},i.getOptionValue=function(u){return wd(i.props,u)},i.getStyles=function(u,d){var p=i.props.unstyled,m=D$[u](d,p);m.boxSizing="border-box";var v=i.props.styles[u];return v?v(m,d):m},i.getClassNames=function(u,d){var p,m;return(p=(m=i.props.classNames)[u])===null||p===void 0?void 0:p.call(m,d)},i.getElementId=function(u){return"".concat(i.state.instancePrefix,"-").concat(u)},i.getComponents=function(){return i$(i.props)},i.buildCategorizedOptions=function(){return uh(i.props,i.state.selectValue)},i.getCategorizedOptions=function(){return i.props.menuIsOpen?i.buildCategorizedOptions():[]},i.buildFocusableOptions=function(){return Zb(i.buildCategorizedOptions())},i.getFocusableOptions=function(){return i.props.menuIsOpen?i.buildFocusableOptions():[]},i.ariaOnChange=function(u,d){i.setState({ariaSelection:re({value:u},d)})},i.onMenuMouseDown=function(u){u.button===0&&(u.stopPropagation(),u.preventDefault(),i.focusInput())},i.onMenuMouseMove=function(u){i.blockOptionHover=!1},i.onControlMouseDown=function(u){if(!u.defaultPrevented){var d=i.props.openMenuOnClick;i.state.isFocused?i.props.menuIsOpen?u.target.tagName!=="INPUT"&&u.target.tagName!=="TEXTAREA"&&i.onMenuClose():d&&i.openMenu("first"):(d&&(i.openAfterFocus=!0),i.focusInput()),u.target.tagName!=="INPUT"&&u.target.tagName!=="TEXTAREA"&&u.preventDefault()}},i.onDropdownIndicatorMouseDown=function(u){if(!(u&&u.type==="mousedown"&&u.button!==0)&&!i.props.isDisabled){var d=i.props,p=d.isMulti,m=d.menuIsOpen;i.focusInput(),m?(i.setState({inputIsHiddenAfterUpdate:!p}),i.onMenuClose()):i.openMenu("first"),u.preventDefault()}},i.onClearIndicatorMouseDown=function(u){u&&u.type==="mousedown"&&u.button!==0||(i.clearValue(),u.preventDefault(),i.openAfterFocus=!1,u.type==="touchend"?i.focusInput():setTimeout(function(){return i.focusInput()}))},i.onScroll=function(u){typeof i.props.closeMenuOnScroll=="boolean"?u.target instanceof HTMLElement&&Wf(u.target)&&i.props.onMenuClose():typeof i.props.closeMenuOnScroll=="function"&&i.props.closeMenuOnScroll(u)&&i.props.onMenuClose()},i.onCompositionStart=function(){i.isComposing=!0},i.onCompositionEnd=function(){i.isComposing=!1},i.onTouchStart=function(u){var d=u.touches,p=d&&d.item(0);p&&(i.initialTouchX=p.clientX,i.initialTouchY=p.clientY,i.userIsDragging=!1)},i.onTouchMove=function(u){var d=u.touches,p=d&&d.item(0);if(p){var m=Math.abs(p.clientX-i.initialTouchX),v=Math.abs(p.clientY-i.initialTouchY),y=5;i.userIsDragging=m>y||v>y}},i.onTouchEnd=function(u){i.userIsDragging||(i.controlRef&&!i.controlRef.contains(u.target)&&i.menuListRef&&!i.menuListRef.contains(u.target)&&i.blurInput(),i.initialTouchX=0,i.initialTouchY=0)},i.onControlTouchEnd=function(u){i.userIsDragging||i.onControlMouseDown(u)},i.onClearIndicatorTouchEnd=function(u){i.userIsDragging||i.onClearIndicatorMouseDown(u)},i.onDropdownIndicatorTouchEnd=function(u){i.userIsDragging||i.onDropdownIndicatorMouseDown(u)},i.handleInputChange=function(u){var d=i.props.inputValue,p=u.currentTarget.value;i.setState({inputIsHiddenAfterUpdate:!1}),i.onInputChange(p,{action:"input-change",prevInputValue:d}),i.props.menuIsOpen||i.onMenuOpen()},i.onInputFocus=function(u){i.props.onFocus&&i.props.onFocus(u),i.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(i.openAfterFocus||i.props.openMenuOnFocus)&&i.openMenu("first"),i.openAfterFocus=!1},i.onInputBlur=function(u){var d=i.props.inputValue;if(i.menuListRef&&i.menuListRef.contains(document.activeElement)){i.inputRef.focus();return}i.props.onBlur&&i.props.onBlur(u),i.onInputChange("",{action:"input-blur",prevInputValue:d}),i.onMenuClose(),i.setState({focusedValue:null,isFocused:!1})},i.onOptionHover=function(u){if(!(i.blockOptionHover||i.state.focusedOption===u)){var d=i.getFocusableOptions(),p=d.indexOf(u);i.setState({focusedOption:u,focusedOptionId:p>-1?i.getFocusedOptionId(u):null})}},i.shouldHideSelectedOptions=function(){return eR(i.props)},i.onValueInputFocus=function(u){u.preventDefault(),u.stopPropagation(),i.focus()},i.onKeyDown=function(u){var d=i.props,p=d.isMulti,m=d.backspaceRemovesValue,v=d.escapeClearsValue,y=d.inputValue,C=d.isClearable,T=d.isDisabled,S=d.menuIsOpen,w=d.onKeyDown,E=d.tabSelectsValue,P=d.openMenuOnFocus,x=i.state,A=x.focusedOption,O=x.focusedValue,M=x.selectValue;if(!T&&!(typeof w=="function"&&(w(u),u.defaultPrevented))){switch(i.blockOptionHover=!0,u.key){case"ArrowLeft":if(!p||y)return;i.focusValue("previous");break;case"ArrowRight":if(!p||y)return;i.focusValue("next");break;case"Delete":case"Backspace":if(y)return;if(O)i.removeValue(O);else{if(!m)return;p?i.popValue():C&&i.clearValue()}break;case"Tab":if(i.isComposing||u.shiftKey||!S||!E||!A||P&&i.isOptionSelected(A,M))return;i.selectOption(A);break;case"Enter":if(u.keyCode===229)break;if(S){if(!A||i.isComposing)return;i.selectOption(A);break}return;case"Escape":S?(i.setState({inputIsHiddenAfterUpdate:!1}),i.onInputChange("",{action:"menu-close",prevInputValue:y}),i.onMenuClose()):C&&v&&i.clearValue();break;case" ":if(y)return;if(!S){i.openMenu("first");break}if(!A)return;i.selectOption(A);break;case"ArrowUp":S?i.focusOption("up"):i.openMenu("last");break;case"ArrowDown":S?i.focusOption("down"):i.openMenu("first");break;case"PageUp":if(!S)return;i.focusOption("pageup");break;case"PageDown":if(!S)return;i.focusOption("pagedown");break;case"Home":if(!S)return;i.focusOption("first");break;case"End":if(!S)return;i.focusOption("last");break;default:return}u.preventDefault()}},i.state.instancePrefix="react-select-"+(i.props.instanceId||++q$),i.state.selectValue=k2(r.value),r.menuIsOpen&&i.state.selectValue.length){var s=i.getFocusableOptionsWithIds(),a=i.buildFocusableOptions(),c=a.indexOf(i.state.selectValue[0]);i.state.focusableOptionsWithIds=s,i.state.focusedOption=a[c],i.state.focusedOptionId=bm(s,a[c])}return i}return uF(n,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&O2(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(i){var s=this.props,a=s.isDisabled,c=s.menuIsOpen,u=this.state.isFocused;(u&&!a&&i.isDisabled||u&&c&&!i.menuIsOpen)&&this.focusInput(),u&&a&&!i.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!u&&!a&&i.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(O2(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(i,s){this.props.onInputChange(i,s)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(i){var s=this,a=this.state,c=a.selectValue,u=a.isFocused,d=this.buildFocusableOptions(),p=i==="first"?0:d.length-1;if(!this.props.isMulti){var m=d.indexOf(c[0]);m>-1&&(p=m)}this.scrollToFocusedOptionOnUpdate=!(u&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:d[p],focusedOptionId:this.getFocusedOptionId(d[p])},function(){return s.onMenuOpen()})}},{key:"focusValue",value:function(i){var s=this.state,a=s.selectValue,c=s.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var u=a.indexOf(c);c||(u=-1);var d=a.length-1,p=-1;if(a.length){switch(i){case"previous":u===0?p=0:u===-1?p=d:p=u-1;break;case"next":u>-1&&u<d&&(p=u+1);break}this.setState({inputIsHidden:p!==-1,focusedValue:a[p]})}}}},{key:"focusOption",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",s=this.props.pageSize,a=this.state.focusedOption,c=this.getFocusableOptions();if(c.length){var u=0,d=c.indexOf(a);a||(d=-1),i==="up"?u=d>0?d-1:c.length-1:i==="down"?u=(d+1)%c.length:i==="pageup"?(u=d-s,u<0&&(u=0)):i==="pagedown"?(u=d+s,u>c.length-1&&(u=c.length-1)):i==="last"&&(u=c.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:c[u],focusedValue:null,focusedOptionId:this.getFocusedOptionId(c[u])})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(xm):re(re({},xm),this.props.theme):xm}},{key:"getCommonProps",value:function(){var i=this.clearValue,s=this.cx,a=this.getStyles,c=this.getClassNames,u=this.getValue,d=this.selectOption,p=this.setValue,m=this.props,v=m.isMulti,y=m.isRtl,C=m.options,T=this.hasValue();return{clearValue:i,cx:s,getStyles:a,getClassNames:c,getValue:u,hasValue:T,isMulti:v,isRtl:y,options:C,selectOption:d,selectProps:m,setValue:p,theme:this.getTheme()}}},{key:"hasValue",value:function(){var i=this.state.selectValue;return i.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var i=this.props,s=i.isClearable,a=i.isMulti;return s===void 0?a:s}},{key:"isOptionDisabled",value:function(i,s){return Yb(this.props,i,s)}},{key:"isOptionSelected",value:function(i,s){return Xb(this.props,i,s)}},{key:"filterOption",value:function(i,s){return Jb(this.props,i,s)}},{key:"formatOptionLabel",value:function(i,s){if(typeof this.props.formatOptionLabel=="function"){var a=this.props.inputValue,c=this.state.selectValue;return this.props.formatOptionLabel(i,{context:s,inputValue:a,selectValue:c})}else return this.getOptionLabel(i)}},{key:"formatGroupLabel",value:function(i){return this.props.formatGroupLabel(i)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var i=this.props,s=i.isDisabled,a=i.isSearchable,c=i.inputId,u=i.inputValue,d=i.tabIndex,p=i.form,m=i.menuIsOpen,v=i.required,y=this.getComponents(),C=y.Input,T=this.state,S=T.inputIsHidden,w=T.ariaSelection,E=this.commonProps,P=c||this.getElementId("input"),x=re(re(re({"aria-autocomplete":"list","aria-expanded":m,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":v,role:"combobox","aria-activedescendant":this.isAppleDevice?void 0:this.state.focusedOptionId||""},m&&{"aria-controls":this.getElementId("listbox")}),!a&&{"aria-readonly":!0}),this.hasValue()?(w==null?void 0:w.action)==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return a?R.createElement(C,se({},E,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:P,innerRef:this.getInputRef,isDisabled:s,isHidden:S,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:d,form:p,type:"text",value:u},x)):R.createElement(_$,se({id:P,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:_d,onFocus:this.onInputFocus,disabled:s,tabIndex:d,inputMode:"none",form:p,value:""},x))}},{key:"renderPlaceholderOrValue",value:function(){var i=this,s=this.getComponents(),a=s.MultiValue,c=s.MultiValueContainer,u=s.MultiValueLabel,d=s.MultiValueRemove,p=s.SingleValue,m=s.Placeholder,v=this.commonProps,y=this.props,C=y.controlShouldRenderValue,T=y.isDisabled,S=y.isMulti,w=y.inputValue,E=y.placeholder,P=this.state,x=P.selectValue,A=P.focusedValue,O=P.isFocused;if(!this.hasValue()||!C)return w?null:R.createElement(m,se({},v,{key:"placeholder",isDisabled:T,isFocused:O,innerProps:{id:this.getElementId("placeholder")}}),E);if(S)return x.map(function(D,Z){var G=D===A,le="".concat(i.getOptionLabel(D),"-").concat(i.getOptionValue(D));return R.createElement(a,se({},v,{components:{Container:c,Label:u,Remove:d},isFocused:G,isDisabled:T,key:le,index:Z,removeProps:{onClick:function(){return i.removeValue(D)},onTouchEnd:function(){return i.removeValue(D)},onMouseDown:function(rt){rt.preventDefault()}},data:D}),i.formatOptionLabel(D,"value"))});if(w)return null;var M=x[0];return R.createElement(p,se({},v,{data:M,isDisabled:T}),this.formatOptionLabel(M,"value"))}},{key:"renderClearIndicator",value:function(){var i=this.getComponents(),s=i.ClearIndicator,a=this.commonProps,c=this.props,u=c.isDisabled,d=c.isLoading,p=this.state.isFocused;if(!this.isClearable()||!s||u||!this.hasValue()||d)return null;var m={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return R.createElement(s,se({},a,{innerProps:m,isFocused:p}))}},{key:"renderLoadingIndicator",value:function(){var i=this.getComponents(),s=i.LoadingIndicator,a=this.commonProps,c=this.props,u=c.isDisabled,d=c.isLoading,p=this.state.isFocused;if(!s||!d)return null;var m={"aria-hidden":"true"};return R.createElement(s,se({},a,{innerProps:m,isDisabled:u,isFocused:p}))}},{key:"renderIndicatorSeparator",value:function(){var i=this.getComponents(),s=i.DropdownIndicator,a=i.IndicatorSeparator;if(!s||!a)return null;var c=this.commonProps,u=this.props.isDisabled,d=this.state.isFocused;return R.createElement(a,se({},c,{isDisabled:u,isFocused:d}))}},{key:"renderDropdownIndicator",value:function(){var i=this.getComponents(),s=i.DropdownIndicator;if(!s)return null;var a=this.commonProps,c=this.props.isDisabled,u=this.state.isFocused,d={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return R.createElement(s,se({},a,{innerProps:d,isDisabled:c,isFocused:u}))}},{key:"renderMenu",value:function(){var i=this,s=this.getComponents(),a=s.Group,c=s.GroupHeading,u=s.Menu,d=s.MenuList,p=s.MenuPortal,m=s.LoadingMessage,v=s.NoOptionsMessage,y=s.Option,C=this.commonProps,T=this.state.focusedOption,S=this.props,w=S.captureMenuScroll,E=S.inputValue,P=S.isLoading,x=S.loadingMessage,A=S.minMenuHeight,O=S.maxMenuHeight,M=S.menuIsOpen,D=S.menuPlacement,Z=S.menuPosition,G=S.menuPortalTarget,le=S.menuShouldBlockScroll,ve=S.menuShouldScrollIntoView,rt=S.noOptionsMessage,Fe=S.onMenuScrollToTop,K=S.onMenuScrollToBottom;if(!M)return null;var fe=function(Pe,_e){var me=Pe.type,X=Pe.data,We=Pe.isDisabled,vt=Pe.isSelected,Bi=Pe.label,ta=Pe.value,As=T===X,Yr=We?void 0:function(){return i.onOptionHover(X)},na=We?void 0:function(){return i.selectOption(X)},Ou="".concat(i.getElementId("option"),"-").concat(_e),Lu={id:Ou,onClick:na,onMouseMove:Yr,onMouseOver:Yr,tabIndex:-1,role:"option","aria-selected":i.isAppleDevice?void 0:vt};return R.createElement(y,se({},C,{innerProps:Lu,data:X,isDisabled:We,isSelected:vt,key:Ou,label:Bi,type:me,value:ta,isFocused:As,innerRef:As?i.getFocusedOptionRef:void 0}),i.formatOptionLabel(Pe.data,"menu"))},He;if(this.hasOptions())He=this.getCategorizedOptions().map(function(te){if(te.type==="group"){var Pe=te.data,_e=te.options,me=te.index,X="".concat(i.getElementId("group"),"-").concat(me),We="".concat(X,"-heading");return R.createElement(a,se({},C,{key:X,data:Pe,options:_e,Heading:c,headingProps:{id:We,data:te.data},label:i.formatGroupLabel(te.data)}),te.options.map(function(vt){return fe(vt,"".concat(me,"-").concat(vt.index))}))}else if(te.type==="option")return fe(te,"".concat(te.index))});else if(P){var V=x({inputValue:E});if(V===null)return null;He=R.createElement(m,C,V)}else{var ee=rt({inputValue:E});if(ee===null)return null;He=R.createElement(v,C,ee)}var B={minMenuHeight:A,maxMenuHeight:O,menuPlacement:D,menuPosition:Z,menuShouldScrollIntoView:ve},ie=R.createElement(Qz,se({},C,B),function(te){var Pe=te.ref,_e=te.placerProps,me=_e.placement,X=_e.maxHeight;return R.createElement(u,se({},C,B,{innerRef:Pe,innerProps:{onMouseDown:i.onMenuMouseDown,onMouseMove:i.onMenuMouseMove},isLoading:P,placement:me}),R.createElement(I$,{captureEnabled:w,onTopArrive:Fe,onBottomArrive:K,lockEnabled:le},function(We){return R.createElement(d,se({},C,{innerRef:function(Bi){i.getMenuListRef(Bi),We(Bi)},innerProps:{role:"listbox","aria-multiselectable":C.isMulti,id:i.getElementId("listbox")},isLoading:P,maxHeight:X,focusedOption:T}),He)}))});return G||Z==="fixed"?R.createElement(p,se({},C,{appendTo:G,controlElement:this.controlRef,menuPlacement:D,menuPosition:Z}),ie):ie}},{key:"renderFormField",value:function(){var i=this,s=this.props,a=s.delimiter,c=s.isDisabled,u=s.isMulti,d=s.name,p=s.required,m=this.state.selectValue;if(p&&!this.hasValue()&&!c)return R.createElement(x$,{name:d,onFocus:this.onValueInputFocus});if(!(!d||c))if(u)if(a){var v=m.map(function(T){return i.getOptionValue(T)}).join(a);return R.createElement("input",{name:d,type:"hidden",value:v})}else{var y=m.length>0?m.map(function(T,S){return R.createElement("input",{key:"i-".concat(S),name:d,type:"hidden",value:i.getOptionValue(T)})}):R.createElement("input",{name:d,type:"hidden",value:""});return R.createElement("div",null,y)}else{var C=m[0]?this.getOptionValue(m[0]):"";return R.createElement("input",{name:d,type:"hidden",value:C})}}},{key:"renderLiveRegion",value:function(){var i=this.commonProps,s=this.state,a=s.ariaSelection,c=s.focusedOption,u=s.focusedValue,d=s.isFocused,p=s.selectValue,m=this.getFocusableOptions();return R.createElement(d$,se({},i,{id:this.getElementId("live-region"),ariaSelection:a,focusedOption:c,focusedValue:u,isFocused:d,selectValue:p,focusableOptions:m,isAppleDevice:this.isAppleDevice}))}},{key:"render",value:function(){var i=this.getComponents(),s=i.Control,a=i.IndicatorsContainer,c=i.SelectContainer,u=i.ValueContainer,d=this.props,p=d.className,m=d.id,v=d.isDisabled,y=d.menuIsOpen,C=this.state.isFocused,T=this.commonProps=this.getCommonProps();return R.createElement(c,se({},T,{className:p,innerProps:{id:m,onKeyDown:this.onKeyDown},isDisabled:v,isFocused:C}),this.renderLiveRegion(),R.createElement(s,se({},T,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:v,isFocused:C,menuIsOpen:y}),R.createElement(u,se({},T,{isDisabled:v}),this.renderPlaceholderOrValue(),this.renderInput()),R.createElement(a,se({},T,{isDisabled:v}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(i,s){var a=s.prevProps,c=s.clearFocusValueOnUpdate,u=s.inputIsHiddenAfterUpdate,d=s.ariaSelection,p=s.isFocused,m=s.prevWasFocused,v=s.instancePrefix,y=i.options,C=i.value,T=i.menuIsOpen,S=i.inputValue,w=i.isMulti,E=k2(C),P={};if(a&&(C!==a.value||y!==a.options||T!==a.menuIsOpen||S!==a.inputValue)){var x=T?U$(i,E):[],A=T?q2(uh(i,E),"".concat(v,"-option")):[],O=c?H$(s,E):null,M=W$(s,x),D=bm(A,M);P={selectValue:E,focusedOption:M,focusedOptionId:D,focusableOptionsWithIds:A,focusedValue:O,clearFocusValueOnUpdate:!1}}var Z=u!=null&&i!==a?{inputIsHidden:u,inputIsHiddenAfterUpdate:void 0}:{},G=d,le=p&&m;return p&&!le&&(G={value:kc(w,E,E[0]||null),options:E,action:"initial-input-focus"},le=!m),(d==null?void 0:d.action)==="initial-input-focus"&&(G=null),re(re(re({},P),Z),{},{prevProps:i,ariaSelection:G,prevWasFocused:le})}}]),n}(R.Component);tR.defaultProps=B$;var G$=R.forwardRef(function(t,e){var n=aF(t);return R.createElement(tR,se({ref:e},n))}),nR=G$;const K$=()=>{const t=Zn(),e=Wo(),{error:n}=ct(T=>T.restaurants),[r,i]=R.useState(!0),[s,a]=R.useState(""),[c,u]=R.useState(""),[d,p]=R.useState(""),[m,v]=R.useState({name:"",website:"",imageURL:"",area:"",address:"",email:"",phoneNumber:"",priceRange:"",foodOption_Buffet:!1,foodOption_Fish:!1,foodOption_Hamburger:!1,foodOption_Other:!1,foodOption_Pasta:!1,foodOption_Pizza:!1,foodOption_Ramen:!1,foodOption_Sallad:!1,foodOption_Sausage:!1,foodOption_Schnitzel:!1,foodOption_Soup:!1,foodOption_Sushi:!1,foodOption_Tacos:!1,foodOption_Vegan:!1,foodOption_Vegetarian:!1,outdoorSeating:!1,openingHours:"",closingHours:""});R.useEffect(()=>{m.name&&m.website?i(!1):i(!0)},[m.name,m.website]);const y=T=>{const{id:S,value:w,type:E,checked:P}=T.target;if(S==="phoneNumber"){const x=w.replace(/[^0-9\-–\s]/g,"");v(A=>({...A,[S]:x}))}else E==="checkbox"?v(x=>({...x,[S]:P})):E==="button"?v(x=>({...x,[S]:!x[S]})):(m.name&&a(""),m.website&&u(""),v(x=>({...x,[S]:w})))},C=T=>{T.preventDefault();let S=!0;try{new URL(m.website)}catch{S=!1}if(!m.name&&!S&&!m.area){a("You need to enter the restaurants name"),u("Invalid website URL"),p("You need to select an area");return}if(!S){u("Invalid website URL");return}if(!m.name){a("You need to enter the restaurants name");return}if(!m.area){p("You need to select an area");return}if(m.name&&m.website&&S&&m.area)a(""),u(""),p(""),t(th(m)).then(()=>{e("/")});else return};return I.jsxs("div",{className:"Add padding-top-navbar",children:[I.jsx(kf,{header:"Add Restaurant"}),I.jsxs("div",{className:"add-text",children:[I.jsx("h2",{children:I.jsx("b",{children:"Lunchtime hero needed!"})}),I.jsxs("p",{children:["Think you've found the best spot in town? ",I.jsx("br",{}),"Add a restaurant below! ",I.jsx("br",{})]}),I.jsx("p",{className:"margin-p",children:"The more details you provide, the easier it will be for others to find their next favorite lunch spot."})]}),I.jsxs("form",{className:"add-resturant-form",children:[I.jsx("p",{className:s?"error":"hide-error",children:s}),I.jsxs("label",{htmlFor:"name",children:["Resturant name *",I.jsx("input",{type:"text",id:"name",className:"resturant-input",autoComplete:"off",value:m.name,onChange:y})]}),I.jsx("p",{className:c?"error":"hide-error",children:c}),I.jsxs("label",{htmlFor:"website",children:["Website URL *",I.jsx("input",{type:"text",id:"website",className:"resturant-input",autoComplete:"off",value:m.website,onChange:y})]}),I.jsxs("label",{htmlFor:"imageURL",children:["Image URL",I.jsx("input",{type:"text",id:"imageURL",className:"resturant-input",autoComplete:"off",value:m.imageURL,onChange:y})]}),I.jsx("p",{className:d?"error":"hide-error",children:d}),I.jsxs("label",{htmlFor:"area",children:["Area *",I.jsx(nR,{id:"area",value:y2.find(T=>T.value===m.area),options:y2,onChange:T=>y({target:{id:"area",value:T.value}}),className:"select-input",styles:cb})]}),I.jsxs("label",{htmlFor:"address",children:["Address",I.jsx("input",{type:"text",id:"address",className:"resturant-input",autoComplete:"off",placeholder:"Street name and number only (e.g., Hammarby kaj 10d)",value:m.address,onChange:y})]}),I.jsxs("label",{htmlFor:"address",children:["Restaurant email",I.jsx("input",{type:"email",id:"email",className:"resturant-input",autoComplete:"off",value:m.email,onChange:y})]}),I.jsxs("label",{htmlFor:"address",children:["Restaurant phone number",I.jsx("input",{type:"text",id:"phoneNumber",className:"resturant-input",autoComplete:"off",value:m.phoneNumber,onChange:y})]}),I.jsxs("label",{htmlFor:"address",children:["Approximate price range",I.jsx("input",{type:"text",id:"priceRange",className:"resturant-input",autoComplete:"off",placeholder:"150-200kr",value:m.priceRange,onChange:y})]}),I.jsxs("label",{htmlFor:"openingHours",children:["What time do they open for lunch?",I.jsx("input",{type:"time",id:"openingHours",className:"resturant-input",placeholder:"Hammarby Kaj 10d",value:m.openingHours,onChange:y})]}),I.jsxs("label",{htmlFor:"closingHours",children:["What time do they close for lunch?",I.jsx("input",{type:"time",id:"closingHours",className:"resturant-input",value:m.closingHours,onChange:y})]}),I.jsx(Wy,{label:"Does the restaurant offer outdoor seating?",initState:m.outdoorSeating,handleChange:y,id:"outdoorSeating"}),I.jsx(qy,{handleChange:y,heading:"What amenities does this restaurant offer?",filters:m}),n&&I.jsx("p",{className:"error",children:n}),I.jsx("button",{className:`btn btn-submit ${r&&"disabled"}`,onClick:C,children:"Add Resturant"})]})]})};function Z$(t){return Le({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M450.3 27.12c2.6 4.38 4.4 9.37 5.5 14.66 1.3 6.78 1.7 14.22 1.3 22.26 4.3 8.78 7.7 19.3 10 31.35 5.3 28.01 4.6 63.51-3.1 101.51-15.4 76-58.6 161.6-133.4 219.4-52 40.2-101.7 53.4-150.3 50.2-24.3-1.6-48.5-7.5-72.5-16.4-9.9 1.3-19.58 1.9-28.79 1.6-5.37-.1-10.61-.6-15.68-1.3 37.27 18.4 75.87 31.3 115.77 34 52.8 3.5 107.5-11.4 162.5-53.9 79-61 123.8-150.2 140-230 8.1-39.9 9.1-77.5 3.2-108.44-5.4-28.25-16.5-51.53-34.5-64.94zm-31.4 2.53c-2 0-4.3.17-6.7.48-9.8 1.22-22.5 4.46-37.2 9.48-29.2 10.03-66 27.07-104.1 48.34C194.7 130.5 113.1 190.4 73.42 243.6c-16.94 22.7-34.31 59.9-43.35 94.6-4.52 17.4-6.98 34.2-6.61 48.1.37 13.8 3.65 24.3 8.97 30.3 9.75 11 25.89 16.6 47.06 17.1 21.21.6 46.81-4 73.11-12.3 52.6-16.5 108.2-47.5 139.9-76.6 41.2-37.9 87.7-111.5 116.9-178.7 14.6-33.5 24.9-65.6 28.4-90.34 1.8-12.35 1.8-22.84.3-30.4-1.5-7.55-4.2-11.71-7.9-14.01-1.3-.83-5.3-1.8-11.3-1.7zM221.7 199.8c27.7 0 50.5 9.8 59.4 20.2 52.3 60.7-154 202.2-191.95 154.5-15.79-19.8-2.3-96.6 54.05-144.7 25.9-22.1 54.1-29.9 78.5-30z"},child:[]}]})(t)}function Q$(t){return Le({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"m20.35 26.1-2.68 15.78L381.7 103.9l2.6-15.79zm-.55 57.94-1.58 15.92L382.2 136l1.6-16zm212.1 84.36c-2.1-.1-4.2.7-5.9 2.3-3.4 3.1-3.5 8.4-.4 11.7l2.6 2.8-17.7-7.6c-4.2-1.8-9.1.1-10.9 4.3-1.8 4.3.1 9.2 4.4 11l6.8 3c-30.5 1.9-60.3 12-83.5 29l-1.8-3c-2.4-3.9-7.5-5.2-11.5-2.8-3.9 2.4-5.2 7.5-2.8 11.4l3.2 5.3-.4.4-8.2-8.6c-3.2-3.3-8.5-3.5-11.8-.3-3.3 3.2-3.5 8.5-.3 11.8l9.2 9.6c-9.5 12.4-16.3 26.8-19.3 42.9h346.8c5 0 9-3.7 9-8.3 0-4.6-4-8.3-9-8.3h-8l3-.6c5-.7 8-5 7-9.5-1-4.6-5-7.7-10-6.9l-11 1.8c-3-3.3-6-6.2-9-8.8l2-2.1c3-3.2 4-8.4 0-11.8-3-3.3-8.1-3.4-11.4-.2l-5 4.7c-12.9-6.6-26.7-9.8-38.5-11.3 3.7-2.6 4.7-7.8 2-11.6-2.6-3.7-7.8-4.7-11.6-2l-13.3 9.3 3.4-6c2.2-4 .8-9.1-3.2-11.4-4-2.2-9.1-.8-11.3 3.2l-6 10.5c-13-9.4-27.6-16.2-42.9-20.6L237.8 171c-1.6-1.7-3.7-2.5-5.9-2.6zm-52.1 52.1 15.4 5.5c3.3 1.2 4.9 4.8 3.8 8-1.2 3.3-4.8 4.9-8 3.8l-15.4-5.6c-3.3-1.2-5-4.7-3.8-8 1.9-3.5 4.8-4.5 8-3.7zm85.6 22.4c1.5 3.1.2 6.9-2.9 8.3l-14.8 7.1c-3.1 1.5-6.9.1-8.4-3-1.4-3.1-.1-6.8 3-8.3l14.8-7c3.1-1.4 7 .4 8.3 2.9zm98.6 10.6 11.8 11.3c2.5 2.4 2.6 6.4.2 8.9-2.4 2.4-6.3 2.5-8.8.1l-11.8-11.3c-2.5-2.4-2.6-6.4-.2-8.9 2.7-2.2 6.5-2.3 8.8-.1zm-214.3 16.8c1 3.3-.8 6.8-4.1 7.9l-15.6 5c-3.2 1-6.8-.8-7.8-4.1-1.1-3.3.7-6.8 4-7.8l15.6-5c3.3-.9 7 1.5 7.9 4zm145-3.3 15.9 4c3.4.8 5.4 4.2 4.6 7.6-.9 3.3-4.3 5.4-7.6 4.5l-15.9-4c-3.4-.8-5.4-4.2-4.5-7.6 1.5-3.6 4.3-5 7.5-4.5zM39.33 312c1.68 42.5 16.6 76.8 48.58 101.7C121.9 440.1 176.1 456 255 456s133.1-15.9 167.1-42.3c32-24.9 46.9-59.2 48.6-101.7zM191 472v16h128v-16z"},child:[]}]})(t)}function Y$(t){return Le({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M255 22.31c-21.2 0-40.5 10.78-50.5 27.63l-4.4 7.42-7.6-4.08c-7.1-3.85-15.2-5.89-23.3-5.89-28.3 0-51.3 23.57-51.3 53.21 0 26.5 18.6 48.6 43.5 52.6l7.6 1.2v53.4c57.9-11.1 116-11.6 174 0v-69.7l4.8-2.6c15.7-8.3 26.1-26.1 26.1-46.15 0-28.8-20.7-51.12-45.4-51.12-6.5 0-13 1.61-18.9 4.72l-6.2 3.2-4.6-5.09C288 29.29 272 22.31 255 22.31zm1 194.79c-25.6 0-51.1 2.4-76.7 7-.9 6-1.3 12.2-1.3 18.6 0 29 9.2 55.2 23.6 73.7 14.4 18.5 33.5 29.3 54.4 29.3s40-10.8 54.4-29.3c14.4-18.5 23.6-44.7 23.6-73.7 0-6.4-.5-12.7-1.3-18.7-25.6-4.7-51.1-7-76.7-6.9zM208.7 348l-89.2 29.7-27.98 112H321.6L307.1 388l17.8-2.6 14.9 104.3h80.7l-28-112-89.2-29.7c-13.8 9.9-30 15.7-47.3 15.7-17.3 0-33.5-5.8-47.3-15.7zm69.3 52.7a9.999 9.999 0 0 1 10 10 9.999 9.999 0 0 1-10 10 9.999 9.999 0 0 1-10-10 9.999 9.999 0 0 1 10-10zm7 46a10 10 0 0 1 10 10 10 10 0 0 1-10 10 10 10 0 0 1-10-10 10 10 0 0 1 10-10z"},child:[]}]})(t)}function X$(t){return Le({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M415.5 20.2c-8.2 0-17 1.12-25.1 3.28 2.5 11.27 4.2 22.1 4.5 33.29 7 1.62 13.6 4.29 19.7 7.79 1.8 1.03 3.5 2.13 5.2 3.28 10.7-4.95 23-8.62 35.8-11.94 10.9-2.85 22-5.3 32.5-7.54-2.9-1.64-6-3.39-8.6-4.76-9.7-5.02-17.9-7.99-32.6-4.92l-12.3 2.58 2.3-18.36c-5.9-1.81-13.4-2.7-21.4-2.7zm-35.7 52.73c-5.5 0-11.2 1-17.1 3.14-15.5 5.72-32.8 20.21-48.9 49.23-5.8 10.4-11.2 20.3-16.4 29.6h.6c6.2-.1 11.9.7 17.3 2.5 10.9 3.6 19.7 10.6 28.5 19.3l-12.6 12.8c-8-7.9-14.6-12.7-21.5-15-6.2-2.1-13.2-2.4-23.1 0-27.5 50.1-46.4 84.5-64.9 110.1 14 11.9 33.2 16.8 57.8 16.3l.4 18c-26.9.5-51.1-5.1-69.2-20.1-20.8 25.1-43.4 40.8-77.5 56.4 11.7 11.2 30.4 19.7 54.6 25.6l-4.2 17.4c-29-7-53-17.7-67.9-35.3-.2.1-.3.1-.5.2-30.64 12.7-43.76 26.9-47.39 38.8-3.63 11.8.83 23.6 11.55 35 10.73 11.3 27.54 20.9 44.84 25.6 17.3 4.8 34.8 4.4 47.3-1.8 80.8-40.1 127.6-80.6 164.1-129.5 36.6-49 62.7-106.9 100.4-181.4 5.1-10 4.5-23.4-1.2-36.6-5.7-13.21-16.3-25.68-29.1-33.01-8-4.59-16.7-7.26-25.9-7.26zM68.25 451.2c-10.4 9.9-26.58 13.3-43.45 16.6-.29 0-.59.1-.88.1 8.39 1.8 16.27 3.8 22.47 6.2 9 3.5 15.21 10.7 20.57 17.7 3.54-9.7 7.82-18.6 14.79-29.4-4.89-3.4-9.43-7.1-13.5-11.2z"},child:[]}]})(t)}function J$(t){return Le({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M294.818 43.27c-.957.003-1.917.014-2.88.035-46.15.993-96.56 23.687-128.614 54.82-41.965 40.758-91.926 108.163-118.896 173.047-13.486 32.442-21.17 64.22-19.93 91.305 1.24 27.085 10.723 49.188 32.54 65.546 15.71 11.78 28.638 10.986 44.814 2.72 16.175-8.268 34.067-25.324 52.433-45.405 36.732-40.162 74.766-92.452 121.008-107.932 61.794-20.685 98.278-34.43 120.926-46.785 22.646-12.353 31.392-22.466 40.74-39.08 7.302-12.974 8.365-26.067 5.03-39.882-3.334-13.814-11.388-28.167-22.45-41.62-22.127-26.903-56.253-49.946-83.706-60.003-12.75-4.67-26.652-6.79-41.016-6.764zm3.418 24.26c21.21-.103 42.145 4.338 58.493 16.677 47.554 35.895 86.454 58.96 54.377 111.88-32.076 52.923-177.004 58.17-217.56 20.06-1.663-10.596-12.613-91.45 10.176-121.653 12.52-10.007 54.02-26.77 94.513-26.965zm-119.87 43.66c-1.058 1.99-7.086 83.113-10.403 98.937-19.397 9.728-71.78 21.074-73.92 6.977 3.618-16.654 37.1-71.993 84.324-105.915zm278.095 26.248c1.196 3.294 2.213 6.627 3.026 9.996 4.2 17.4 2.736 35.916-6.84 52.933-10.34 18.374-23.007 32.528-47.808 46.057-24.8 13.53-61.8 27.285-123.832 48.05-36.878 12.346-75.83 61.892-113.438 103.012-18.804 20.56-37.417 39.008-57.525 49.285-5.895 3.014-12.05 5.204-18.322 6.418 3.03 1.73 6.143 3.338 9.165 4.728 8.116 3.734 16.547 5.668 17.197 5.686 14.037-.65 29.08-8.326 44.816-21.024 15.82-12.764 32.063-30.284 48.493-48.676 32.86-36.784 65.744-77.523 104.444-90.478 61.817-20.694 98.67-34.278 121.465-46.543 22.794-12.264 31.4-22.235 40.044-39.028 9.733-18.912 10.244-32.256 4.506-46.28-4.33-10.583-12.968-21.73-25.39-34.135zm-314.546 95.466c33.96-.19 69.09 16.75 104.688 36.092-71.258 37.318-141.89 180.326-187.133 133.99-18.206-20.105-19.433-119.77 30.147-153.564 17.043-11.616 34.51-16.418 52.297-16.518zm-36.463 73.213c-5.436.103-10.92 1.77-14.74 4.787-12.34 9.753-21.72 34.145-11.206 45.844 10.057 11.19 35.46 5.816 44.728-6.012 8.262-10.544 5.69-31.088-4.32-40.02-3.632-3.24-9.023-4.7-14.46-4.6z"},child:[]}]})(t)}function eB(t){return Le({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M206 44.27c-1.9 0-3.8 0-5.7.1-9.1.28-18 1.12-26.7 2.63-12.9 21.86-10.3 52.93-.8 78.4 24.7 3.1 51.8 6.5 78.2 11-3.8-15-6.2-30.4-3.7-45.87 2.2-13.73 8.7-27.19 20.7-39.3-18.9-4.27-40.6-7.08-62-6.96zm-54.8 8.35c-27.5 9.37-48.4 27.34-56.4 59.98 2.88 1.1 7.8 2.5 14.1 3.8 11.1 2.2 26.5 4.3 43.9 6.5-6.9-22.4-9.3-47.69-1.6-70.28zm137.7 4.14c-15.5 11.8-21.7 23.68-23.8 36.67-2.3 13.87.9 29.77 5.5 46.57 9.4 1.9 18.5 3.9 27.2 6.2 16.5 4.2 31.8 9.5 45.6 15.2 1.2-11.6 2.9-24.3 10.1-36.4 6.3-10.5 16.7-19.8 33.1-26.97-26.1-16.99-56.3-30.47-97.7-41.27zm115.4 53.84c-20.6 6.6-30.1 14.8-35.4 23.7-5.7 9.5-6.8 21.2-8.3 34.5 5.6 2.6 10.9 5.3 15.8 7.8 20.6 10.7 34.3 20.1 40.3 25.3h-.1c23 19.6 38 16.7 48.8 8.7 10-7.5 14.8-22.2 13.7-29.6-27.2-28-49.6-51.2-74.8-70.4zm-289.7 25.1c0 4.1.2 8.2.7 12 .9 6.9 2.7 12.8 5.7 17.3 3 4.4 7.1 7.8 14.3 10 5.1 1.6 10.3 3.2 15.4 4.7 14.3-2 28.9-2.8 43.2-2.7 31.8.2 62.2 5.2 85.4 12.3 35.8 9.2 63.9 22.8 87.9 39.2 17.8.5 34.7-.7 50.4-3.9-4.2-2.5-8.4-5.5-12.6-9.1h-.1c-3.5-3-17.2-12.7-36.8-22.9-19.6-10.3-45.5-21.4-74.9-29-40-10.4-91.9-16.4-134.1-21.7-16.8-2.1-31.9-4.1-44.5-6.2zm79.2 59.4c-8.9 0-17.8.3-26.6 1-16.9 26.7-26 53-6 95.2 27 3.5 55.4 7.7 81.6 13.3-3.6-18.5-1.4-36.2 5.4-52.4 6.7-16 17.7-30.6 31.5-44.2-1.7-.5-3.4-1-5.1-1.4h-.2l-.2-.1c-21.2-6.5-50.2-11.1-80.4-11.4zm-49 3.8c-1.7.3-3.5.7-5.2 1-23.3 4.6-44.62 12.9-61 25.6-15.25 11.8-26.25 27.2-31.39 48 .14 0 .1 0 .24.1 3.12 1.3 8.6 2.8 15.53 4.2 13.85 2.8 33.67 5.4 56.22 8.2 6.8.8 14 1.7 21.2 2.6-13.7-35.9-8-65 4.4-89.7zm154.7 15.2c-16.2 14.6-28.2 29.6-34.7 45.1-6.5 15.6-7.8 31.5-2.4 49.9 1 .2 2 .5 2.9.7 29.4 7.7 52.5 16.4 70 24.7 1.3-12.1 5.1-25.5 15.1-36.6 9.7-10.8 24.6-18.8 46.3-22.1-2.5-2.3-5-4.7-7.6-7-25-22.5-52.1-41.4-89.6-54.7zm114 78.2c-27.3 1.1-41.6 8.7-49.7 17.6-8.4 9.4-10.8 21.7-11.1 33.7 11.6 6.6 19.4 12.3 23.9 16.2 24.5 21 53.2 24.2 74.6 19.5 10.7-2.4 19.4-6.9 24.4-11.3 3.7-3.4 5-5.9 5.1-8-25.6-23.5-46.5-46.6-67.2-67.7zm-342.03 5.3c.51 3.4 1.18 6.7 2.07 9.9 3.9 14 10.51 24.2 26.86 29.2 72.1 22.2 141.5 46.3 202.7 56 34.7 5.5 66.5 6.5 94.9.2-11.3-4.1-22.6-10.4-33.2-19.5-8.7-7.5-40.5-29.7-104.1-46.2-42.9-11.2-98.5-17.7-143.8-23.3-16.92-2.2-32.42-4.2-45.43-6.3zm-6.3 68.3c-14.86.6-29.25 14.4-33.92 23 10.71 6.2 40.81 10 53.64-13.7-5.72-6.6-12.11-9.2-18.45-9.3zm35.53 23.9c-19.9.7-26.61 44-15.54 52.1 11.38 1.4 33.74-41.7 19.54-51.7-1-.3-2.1-.4-3.1-.4zm86.3 11.3c-3.7 0-6.9 1-9.1 3.4-8.4 22.1 38.9 36.5 48.9 25.8 2.3-9-23.7-28.9-39.8-29.2zm74.3 37.6c-16-.2-40.6 7.7-40 20.2 9.5 21.6 53.3-1.5 52.8-16.1-1.6-2.7-6.5-4-12.8-4.1z"},child:[]}]})(t)}function tB(t){return Le({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M287.9 76.19v.01h-1.1c-1.9.1-5.4 1.68-9.3 5.36-3.9 3.69-8 9.05-11.5 14.52C258.9 107 254.2 118 254.2 118l-5.1 12-9.4-9s-11-10.5-24.4-19.6c-6.7-4.46-14-8.5-20.2-10.59-6.2-2.09-10.7-1.98-13.1-.75-5.2 2.67-9.7 9.27-12.8 19.24-3.1 10.1-4.6 22.8-5 35.1-.8 24.7 2.4 47.6 2.4 47.6l2.3 15.9-14.8-6.3s-9.7-4.2-20.4-6.8c-5.4-1.2-11-2-15-1.9-4.1.2-5.9 1.2-6.4 1.8-2.7 3.3-3.9 9.4-2.6 17.9 1.2 8.6 4.8 18.9 9.1 28.5 8.6 19.3 19.8 36 19.8 36l9.8 14.5-17.6-.5c.1 0-10.1-.3-21.7 1.1-11.57 1.4-23.95 5.8-26.76 9-10.59 12.2-14.01 26.1-13.15 41.2.87 15.2 6.38 31.4 13.83 45.9s16.81 27.3 24.58 35.8c.7.7 1.3 1.4 2 2 16-9.9 25.7-25.6 33.2-46.2 9.2-25.6 14-58 21.3-91.1 7.3-33.2 17.1-67.3 37.7-96.3 20.7-29.1 52.3-52.6 100.7-64 13.7-3.2 26.7-4.7 38.9-4.8-3-4.5-6.5-9.3-10.5-14.4-7.1-9.1-15.2-17.93-23.1-24.09-7.4-5.78-14.5-8.87-19.9-9.02zM148.6 118.7c-22 4.2-47.7 28.3-69.23 63.3-21.89 35.5-39.78 81.1-48.85 123.9-9.08 42.7-8.81 82.7 2.39 105.7 5.6 11.5 13.22 18.8 24.37 22.2 8.66 2.7 19.98 2.9 34.36-.7-8.29-9.6-17.18-22.1-24.61-36.6-8.26-16.1-14.72-34.3-15.79-53-1.06-18.7 3.64-38.1 17.53-54.1 9.68-11.2 25.08-13.4 38.13-15 3.3-.4 5.6-.5 8.5-.6-4-6.9-8.7-15.6-13.1-25.3-4.62-10.6-8.76-22-10.4-33.3-1.64-11.2-.87-23 6.61-32v-.1c5.19-6.2 12.69-7.9 19.39-8.2 6.8-.2 13.6.9 19.9 2.4 3.4.8 6.5 1.7 9.5 2.6-.8-9.4-1.5-22.1-1.1-36.1.3-8.3 1-16.8 2.4-25.1zm194.3 22.9c-11.1 0-23.2 1.3-36.2 4.5-44.9 10.5-71.9 31-90.2 56.8-18.3 25.8-27.7 57.4-34.8 89.7-7.1 32.4-11.8 65.2-22 93.4-5.4 14.9-12.7 28.7-22.8 40 129.5-22.2 254.5-67 351-112.1-2.2-14-10.2-56-31.9-96-13.2-24.3-31.2-46.9-55.2-61-15.1-8.8-32.5-14.5-53.2-15.2-1.6-.1-3.1-.1-4.7-.1z"},child:[]}]})(t)}function nB(t){return Le({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M0 192c0-35.3 28.7-64 64-64c.5 0 1.1 0 1.6 0C73 91.5 105.3 64 144 64c15 0 29 4.1 40.9 11.2C198.2 49.6 225.1 32 256 32s57.8 17.6 71.1 43.2C339 68.1 353 64 368 64c38.7 0 71 27.5 78.4 64c.5 0 1.1 0 1.6 0c35.3 0 64 28.7 64 64c0 11.7-3.1 22.6-8.6 32H8.6C3.1 214.6 0 203.7 0 192zm0 91.4C0 268.3 12.3 256 27.4 256H484.6c15.1 0 27.4 12.3 27.4 27.4c0 70.5-44.4 130.7-106.7 154.1L403.5 452c-2 16-15.6 28-31.8 28H140.2c-16.1 0-29.8-12-31.8-28l-1.8-14.4C44.4 414.1 0 353.9 0 283.4z"},child:[]}]})(t)}var Ev={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(t,e){(function(n,r){r(e)})(kA,function(n){var r="1.9.4";function i(o){var l,h,f,g;for(h=1,f=arguments.length;h<f;h++){g=arguments[h];for(l in g)o[l]=g[l]}return o}var s=Object.create||function(){function o(){}return function(l){return o.prototype=l,new o}}();function a(o,l){var h=Array.prototype.slice;if(o.bind)return o.bind.apply(o,h.call(arguments,1));var f=h.call(arguments,2);return function(){return o.apply(l,f.length?f.concat(h.call(arguments)):arguments)}}var c=0;function u(o){return"_leaflet_id"in o||(o._leaflet_id=++c),o._leaflet_id}function d(o,l,h){var f,g,_,b;return b=function(){f=!1,g&&(_.apply(h,g),g=!1)},_=function(){f?g=arguments:(o.apply(h,arguments),setTimeout(b,l),f=!0)},_}function p(o,l,h){var f=l[1],g=l[0],_=f-g;return o===f&&h?o:((o-g)%_+_)%_+g}function m(){return!1}function v(o,l){if(l===!1)return o;var h=Math.pow(10,l===void 0?6:l);return Math.round(o*h)/h}function y(o){return o.trim?o.trim():o.replace(/^\s+|\s+$/g,"")}function C(o){return y(o).split(/\s+/)}function T(o,l){Object.prototype.hasOwnProperty.call(o,"options")||(o.options=o.options?s(o.options):{});for(var h in l)o.options[h]=l[h];return o.options}function S(o,l,h){var f=[];for(var g in o)f.push(encodeURIComponent(h?g.toUpperCase():g)+"="+encodeURIComponent(o[g]));return(!l||l.indexOf("?")===-1?"?":"&")+f.join("&")}var w=/\{ *([\w_ -]+) *\}/g;function E(o,l){return o.replace(w,function(h,f){var g=l[f];if(g===void 0)throw new Error("No value provided for variable "+h);return typeof g=="function"&&(g=g(l)),g})}var P=Array.isArray||function(o){return Object.prototype.toString.call(o)==="[object Array]"};function x(o,l){for(var h=0;h<o.length;h++)if(o[h]===l)return h;return-1}var A="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function O(o){return window["webkit"+o]||window["moz"+o]||window["ms"+o]}var M=0;function D(o){var l=+new Date,h=Math.max(0,16-(l-M));return M=l+h,window.setTimeout(o,h)}var Z=window.requestAnimationFrame||O("RequestAnimationFrame")||D,G=window.cancelAnimationFrame||O("CancelAnimationFrame")||O("CancelRequestAnimationFrame")||function(o){window.clearTimeout(o)};function le(o,l,h){if(h&&Z===D)o.call(l);else return Z.call(window,a(o,l))}function ve(o){o&&G.call(window,o)}var rt={__proto__:null,extend:i,create:s,bind:a,get lastId(){return c},stamp:u,throttle:d,wrapNum:p,falseFn:m,formatNum:v,trim:y,splitWords:C,setOptions:T,getParamString:S,template:E,isArray:P,indexOf:x,emptyImageUrl:A,requestFn:Z,cancelFn:G,requestAnimFrame:le,cancelAnimFrame:ve};function Fe(){}Fe.extend=function(o){var l=function(){T(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},h=l.__super__=this.prototype,f=s(h);f.constructor=l,l.prototype=f;for(var g in this)Object.prototype.hasOwnProperty.call(this,g)&&g!=="prototype"&&g!=="__super__"&&(l[g]=this[g]);return o.statics&&i(l,o.statics),o.includes&&(K(o.includes),i.apply(null,[f].concat(o.includes))),i(f,o),delete f.statics,delete f.includes,f.options&&(f.options=h.options?s(h.options):{},i(f.options,o.options)),f._initHooks=[],f.callInitHooks=function(){if(!this._initHooksCalled){h.callInitHooks&&h.callInitHooks.call(this),this._initHooksCalled=!0;for(var _=0,b=f._initHooks.length;_<b;_++)f._initHooks[_].call(this)}},l},Fe.include=function(o){var l=this.prototype.options;return i(this.prototype,o),o.options&&(this.prototype.options=l,this.mergeOptions(o.options)),this},Fe.mergeOptions=function(o){return i(this.prototype.options,o),this},Fe.addInitHook=function(o){var l=Array.prototype.slice.call(arguments,1),h=typeof o=="function"?o:function(){this[o].apply(this,l)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(h),this};function K(o){if(!(typeof L>"u"||!L||!L.Mixin)){o=P(o)?o:[o];for(var l=0;l<o.length;l++)o[l]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var fe={on:function(o,l,h){if(typeof o=="object")for(var f in o)this._on(f,o[f],l);else{o=C(o);for(var g=0,_=o.length;g<_;g++)this._on(o[g],l,h)}return this},off:function(o,l,h){if(!arguments.length)delete this._events;else if(typeof o=="object")for(var f in o)this._off(f,o[f],l);else{o=C(o);for(var g=arguments.length===1,_=0,b=o.length;_<b;_++)g?this._off(o[_]):this._off(o[_],l,h)}return this},_on:function(o,l,h,f){if(typeof l!="function"){console.warn("wrong listener type: "+typeof l);return}if(this._listens(o,l,h)===!1){h===this&&(h=void 0);var g={fn:l,ctx:h};f&&(g.once=!0),this._events=this._events||{},this._events[o]=this._events[o]||[],this._events[o].push(g)}},_off:function(o,l,h){var f,g,_;if(this._events&&(f=this._events[o],!!f)){if(arguments.length===1){if(this._firingCount)for(g=0,_=f.length;g<_;g++)f[g].fn=m;delete this._events[o];return}if(typeof l!="function"){console.warn("wrong listener type: "+typeof l);return}var b=this._listens(o,l,h);if(b!==!1){var k=f[b];this._firingCount&&(k.fn=m,this._events[o]=f=f.slice()),f.splice(b,1)}}},fire:function(o,l,h){if(!this.listens(o,h))return this;var f=i({},l,{type:o,target:this,sourceTarget:l&&l.sourceTarget||this});if(this._events){var g=this._events[o];if(g){this._firingCount=this._firingCount+1||1;for(var _=0,b=g.length;_<b;_++){var k=g[_],N=k.fn;k.once&&this.off(o,N,k.ctx),N.call(k.ctx||this,f)}this._firingCount--}}return h&&this._propagateEvent(f),this},listens:function(o,l,h,f){typeof o!="string"&&console.warn('"string" type argument expected');var g=l;typeof l!="function"&&(f=!!l,g=void 0,h=void 0);var _=this._events&&this._events[o];if(_&&_.length&&this._listens(o,g,h)!==!1)return!0;if(f){for(var b in this._eventParents)if(this._eventParents[b].listens(o,l,h,f))return!0}return!1},_listens:function(o,l,h){if(!this._events)return!1;var f=this._events[o]||[];if(!l)return!!f.length;h===this&&(h=void 0);for(var g=0,_=f.length;g<_;g++)if(f[g].fn===l&&f[g].ctx===h)return g;return!1},once:function(o,l,h){if(typeof o=="object")for(var f in o)this._on(f,o[f],l,!0);else{o=C(o);for(var g=0,_=o.length;g<_;g++)this._on(o[g],l,h,!0)}return this},addEventParent:function(o){return this._eventParents=this._eventParents||{},this._eventParents[u(o)]=o,this},removeEventParent:function(o){return this._eventParents&&delete this._eventParents[u(o)],this},_propagateEvent:function(o){for(var l in this._eventParents)this._eventParents[l].fire(o.type,i({layer:o.target,propagatedFrom:o.target},o),!0)}};fe.addEventListener=fe.on,fe.removeEventListener=fe.clearAllEventListeners=fe.off,fe.addOneTimeEventListener=fe.once,fe.fireEvent=fe.fire,fe.hasEventListeners=fe.listens;var He=Fe.extend(fe);function V(o,l,h){this.x=h?Math.round(o):o,this.y=h?Math.round(l):l}var ee=Math.trunc||function(o){return o>0?Math.floor(o):Math.ceil(o)};V.prototype={clone:function(){return new V(this.x,this.y)},add:function(o){return this.clone()._add(B(o))},_add:function(o){return this.x+=o.x,this.y+=o.y,this},subtract:function(o){return this.clone()._subtract(B(o))},_subtract:function(o){return this.x-=o.x,this.y-=o.y,this},divideBy:function(o){return this.clone()._divideBy(o)},_divideBy:function(o){return this.x/=o,this.y/=o,this},multiplyBy:function(o){return this.clone()._multiplyBy(o)},_multiplyBy:function(o){return this.x*=o,this.y*=o,this},scaleBy:function(o){return new V(this.x*o.x,this.y*o.y)},unscaleBy:function(o){return new V(this.x/o.x,this.y/o.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=ee(this.x),this.y=ee(this.y),this},distanceTo:function(o){o=B(o);var l=o.x-this.x,h=o.y-this.y;return Math.sqrt(l*l+h*h)},equals:function(o){return o=B(o),o.x===this.x&&o.y===this.y},contains:function(o){return o=B(o),Math.abs(o.x)<=Math.abs(this.x)&&Math.abs(o.y)<=Math.abs(this.y)},toString:function(){return"Point("+v(this.x)+", "+v(this.y)+")"}};function B(o,l,h){return o instanceof V?o:P(o)?new V(o[0],o[1]):o==null?o:typeof o=="object"&&"x"in o&&"y"in o?new V(o.x,o.y):new V(o,l,h)}function ie(o,l){if(o)for(var h=l?[o,l]:o,f=0,g=h.length;f<g;f++)this.extend(h[f])}ie.prototype={extend:function(o){var l,h;if(!o)return this;if(o instanceof V||typeof o[0]=="number"||"x"in o)l=h=B(o);else if(o=te(o),l=o.min,h=o.max,!l||!h)return this;return!this.min&&!this.max?(this.min=l.clone(),this.max=h.clone()):(this.min.x=Math.min(l.x,this.min.x),this.max.x=Math.max(h.x,this.max.x),this.min.y=Math.min(l.y,this.min.y),this.max.y=Math.max(h.y,this.max.y)),this},getCenter:function(o){return B((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,o)},getBottomLeft:function(){return B(this.min.x,this.max.y)},getTopRight:function(){return B(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(o){var l,h;return typeof o[0]=="number"||o instanceof V?o=B(o):o=te(o),o instanceof ie?(l=o.min,h=o.max):l=h=o,l.x>=this.min.x&&h.x<=this.max.x&&l.y>=this.min.y&&h.y<=this.max.y},intersects:function(o){o=te(o);var l=this.min,h=this.max,f=o.min,g=o.max,_=g.x>=l.x&&f.x<=h.x,b=g.y>=l.y&&f.y<=h.y;return _&&b},overlaps:function(o){o=te(o);var l=this.min,h=this.max,f=o.min,g=o.max,_=g.x>l.x&&f.x<h.x,b=g.y>l.y&&f.y<h.y;return _&&b},isValid:function(){return!!(this.min&&this.max)},pad:function(o){var l=this.min,h=this.max,f=Math.abs(l.x-h.x)*o,g=Math.abs(l.y-h.y)*o;return te(B(l.x-f,l.y-g),B(h.x+f,h.y+g))},equals:function(o){return o?(o=te(o),this.min.equals(o.getTopLeft())&&this.max.equals(o.getBottomRight())):!1}};function te(o,l){return!o||o instanceof ie?o:new ie(o,l)}function Pe(o,l){if(o)for(var h=l?[o,l]:o,f=0,g=h.length;f<g;f++)this.extend(h[f])}Pe.prototype={extend:function(o){var l=this._southWest,h=this._northEast,f,g;if(o instanceof me)f=o,g=o;else if(o instanceof Pe){if(f=o._southWest,g=o._northEast,!f||!g)return this}else return o?this.extend(X(o)||_e(o)):this;return!l&&!h?(this._southWest=new me(f.lat,f.lng),this._northEast=new me(g.lat,g.lng)):(l.lat=Math.min(f.lat,l.lat),l.lng=Math.min(f.lng,l.lng),h.lat=Math.max(g.lat,h.lat),h.lng=Math.max(g.lng,h.lng)),this},pad:function(o){var l=this._southWest,h=this._northEast,f=Math.abs(l.lat-h.lat)*o,g=Math.abs(l.lng-h.lng)*o;return new Pe(new me(l.lat-f,l.lng-g),new me(h.lat+f,h.lng+g))},getCenter:function(){return new me((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new me(this.getNorth(),this.getWest())},getSouthEast:function(){return new me(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(o){typeof o[0]=="number"||o instanceof me||"lat"in o?o=X(o):o=_e(o);var l=this._southWest,h=this._northEast,f,g;return o instanceof Pe?(f=o.getSouthWest(),g=o.getNorthEast()):f=g=o,f.lat>=l.lat&&g.lat<=h.lat&&f.lng>=l.lng&&g.lng<=h.lng},intersects:function(o){o=_e(o);var l=this._southWest,h=this._northEast,f=o.getSouthWest(),g=o.getNorthEast(),_=g.lat>=l.lat&&f.lat<=h.lat,b=g.lng>=l.lng&&f.lng<=h.lng;return _&&b},overlaps:function(o){o=_e(o);var l=this._southWest,h=this._northEast,f=o.getSouthWest(),g=o.getNorthEast(),_=g.lat>l.lat&&f.lat<h.lat,b=g.lng>l.lng&&f.lng<h.lng;return _&&b},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(o,l){return o?(o=_e(o),this._southWest.equals(o.getSouthWest(),l)&&this._northEast.equals(o.getNorthEast(),l)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function _e(o,l){return o instanceof Pe?o:new Pe(o,l)}function me(o,l,h){if(isNaN(o)||isNaN(l))throw new Error("Invalid LatLng object: ("+o+", "+l+")");this.lat=+o,this.lng=+l,h!==void 0&&(this.alt=+h)}me.prototype={equals:function(o,l){if(!o)return!1;o=X(o);var h=Math.max(Math.abs(this.lat-o.lat),Math.abs(this.lng-o.lng));return h<=(l===void 0?1e-9:l)},toString:function(o){return"LatLng("+v(this.lat,o)+", "+v(this.lng,o)+")"},distanceTo:function(o){return vt.distance(this,X(o))},wrap:function(){return vt.wrapLatLng(this)},toBounds:function(o){var l=180*o/40075017,h=l/Math.cos(Math.PI/180*this.lat);return _e([this.lat-l,this.lng-h],[this.lat+l,this.lng+h])},clone:function(){return new me(this.lat,this.lng,this.alt)}};function X(o,l,h){return o instanceof me?o:P(o)&&typeof o[0]!="object"?o.length===3?new me(o[0],o[1],o[2]):o.length===2?new me(o[0],o[1]):null:o==null?o:typeof o=="object"&&"lat"in o?new me(o.lat,"lng"in o?o.lng:o.lon,o.alt):l===void 0?null:new me(o,l,h)}var We={latLngToPoint:function(o,l){var h=this.projection.project(o),f=this.scale(l);return this.transformation._transform(h,f)},pointToLatLng:function(o,l){var h=this.scale(l),f=this.transformation.untransform(o,h);return this.projection.unproject(f)},project:function(o){return this.projection.project(o)},unproject:function(o){return this.projection.unproject(o)},scale:function(o){return 256*Math.pow(2,o)},zoom:function(o){return Math.log(o/256)/Math.LN2},getProjectedBounds:function(o){if(this.infinite)return null;var l=this.projection.bounds,h=this.scale(o),f=this.transformation.transform(l.min,h),g=this.transformation.transform(l.max,h);return new ie(f,g)},infinite:!1,wrapLatLng:function(o){var l=this.wrapLng?p(o.lng,this.wrapLng,!0):o.lng,h=this.wrapLat?p(o.lat,this.wrapLat,!0):o.lat,f=o.alt;return new me(h,l,f)},wrapLatLngBounds:function(o){var l=o.getCenter(),h=this.wrapLatLng(l),f=l.lat-h.lat,g=l.lng-h.lng;if(f===0&&g===0)return o;var _=o.getSouthWest(),b=o.getNorthEast(),k=new me(_.lat-f,_.lng-g),N=new me(b.lat-f,b.lng-g);return new Pe(k,N)}},vt=i({},We,{wrapLng:[-180,180],R:6371e3,distance:function(o,l){var h=Math.PI/180,f=o.lat*h,g=l.lat*h,_=Math.sin((l.lat-o.lat)*h/2),b=Math.sin((l.lng-o.lng)*h/2),k=_*_+Math.cos(f)*Math.cos(g)*b*b,N=2*Math.atan2(Math.sqrt(k),Math.sqrt(1-k));return this.R*N}}),Bi=6378137,ta={R:Bi,MAX_LATITUDE:85.0511287798,project:function(o){var l=Math.PI/180,h=this.MAX_LATITUDE,f=Math.max(Math.min(h,o.lat),-h),g=Math.sin(f*l);return new V(this.R*o.lng*l,this.R*Math.log((1+g)/(1-g))/2)},unproject:function(o){var l=180/Math.PI;return new me((2*Math.atan(Math.exp(o.y/this.R))-Math.PI/2)*l,o.x*l/this.R)},bounds:function(){var o=Bi*Math.PI;return new ie([-o,-o],[o,o])}()};function As(o,l,h,f){if(P(o)){this._a=o[0],this._b=o[1],this._c=o[2],this._d=o[3];return}this._a=o,this._b=l,this._c=h,this._d=f}As.prototype={transform:function(o,l){return this._transform(o.clone(),l)},_transform:function(o,l){return l=l||1,o.x=l*(this._a*o.x+this._b),o.y=l*(this._c*o.y+this._d),o},untransform:function(o,l){return l=l||1,new V((o.x/l-this._b)/this._a,(o.y/l-this._d)/this._c)}};function Yr(o,l,h,f){return new As(o,l,h,f)}var na=i({},vt,{code:"EPSG:3857",projection:ta,transformation:function(){var o=.5/(Math.PI*ta.R);return Yr(o,.5,-o,.5)}()}),Ou=i({},na,{code:"EPSG:900913"});function Lu(o){return document.createElementNS("http://www.w3.org/2000/svg",o)}function a1(o,l){var h="",f,g,_,b,k,N;for(f=0,_=o.length;f<_;f++){for(k=o[f],g=0,b=k.length;g<b;g++)N=k[g],h+=(g?"L":"M")+N.x+" "+N.y;h+=l?Y.svg?"z":"x":""}return h||"M0 0"}var qf=document.documentElement.style,Mu="ActiveXObject"in window,sR=Mu&&!document.addEventListener,l1="msLaunchUri"in navigator&&!("documentMode"in document),Gf=Qn("webkit"),u1=Qn("android"),c1=Qn("android 2")||Qn("android 3"),oR=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),aR=u1&&Qn("Google")&&oR<537&&!("AudioNode"in window),Kf=!!window.opera,h1=!l1&&Qn("chrome"),d1=Qn("gecko")&&!Gf&&!Kf&&!Mu,lR=!h1&&Qn("safari"),f1=Qn("phantom"),p1="OTransition"in qf,uR=navigator.platform.indexOf("Win")===0,m1=Mu&&"transition"in qf,Zf="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!c1,g1="MozPerspective"in qf,cR=!window.L_DISABLE_3D&&(m1||Zf||g1)&&!p1&&!f1,ra=typeof orientation<"u"||Qn("mobile"),hR=ra&&Gf,dR=ra&&Zf,v1=!window.PointerEvent&&window.MSPointerEvent,_1=!!(window.PointerEvent||v1),y1="ontouchstart"in window||!!window.TouchEvent,fR=!window.L_NO_TOUCH&&(y1||_1),pR=ra&&Kf,mR=ra&&d1,gR=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,vR=function(){var o=!1;try{var l=Object.defineProperty({},"passive",{get:function(){o=!0}});window.addEventListener("testPassiveEventSupport",m,l),window.removeEventListener("testPassiveEventSupport",m,l)}catch{}return o}(),_R=function(){return!!document.createElement("canvas").getContext}(),Qf=!!(document.createElementNS&&Lu("svg").createSVGRect),yR=!!Qf&&function(){var o=document.createElement("div");return o.innerHTML="<svg/>",(o.firstChild&&o.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),wR=!Qf&&function(){try{var o=document.createElement("div");o.innerHTML='<v:shape adj="1"/>';var l=o.firstChild;return l.style.behavior="url(#default#VML)",l&&typeof l.adj=="object"}catch{return!1}}(),ER=navigator.platform.indexOf("Mac")===0,TR=navigator.platform.indexOf("Linux")===0;function Qn(o){return navigator.userAgent.toLowerCase().indexOf(o)>=0}var Y={ie:Mu,ielt9:sR,edge:l1,webkit:Gf,android:u1,android23:c1,androidStock:aR,opera:Kf,chrome:h1,gecko:d1,safari:lR,phantom:f1,opera12:p1,win:uR,ie3d:m1,webkit3d:Zf,gecko3d:g1,any3d:cR,mobile:ra,mobileWebkit:hR,mobileWebkit3d:dR,msPointer:v1,pointer:_1,touch:fR,touchNative:y1,mobileOpera:pR,mobileGecko:mR,retina:gR,passiveEvents:vR,canvas:_R,svg:Qf,vml:wR,inlineSvg:yR,mac:ER,linux:TR},w1=Y.msPointer?"MSPointerDown":"pointerdown",E1=Y.msPointer?"MSPointerMove":"pointermove",T1=Y.msPointer?"MSPointerUp":"pointerup",S1=Y.msPointer?"MSPointerCancel":"pointercancel",Yf={touchstart:w1,touchmove:E1,touchend:T1,touchcancel:S1},I1={touchstart:bR,touchmove:Nu,touchend:Nu,touchcancel:Nu},ks={},P1=!1;function SR(o,l,h){return l==="touchstart"&&xR(),I1[l]?(h=I1[l].bind(this,h),o.addEventListener(Yf[l],h,!1),h):(console.warn("wrong event specified:",l),m)}function IR(o,l,h){if(!Yf[l]){console.warn("wrong event specified:",l);return}o.removeEventListener(Yf[l],h,!1)}function PR(o){ks[o.pointerId]=o}function CR(o){ks[o.pointerId]&&(ks[o.pointerId]=o)}function C1(o){delete ks[o.pointerId]}function xR(){P1||(document.addEventListener(w1,PR,!0),document.addEventListener(E1,CR,!0),document.addEventListener(T1,C1,!0),document.addEventListener(S1,C1,!0),P1=!0)}function Nu(o,l){if(l.pointerType!==(l.MSPOINTER_TYPE_MOUSE||"mouse")){l.touches=[];for(var h in ks)l.touches.push(ks[h]);l.changedTouches=[l],o(l)}}function bR(o,l){l.MSPOINTER_TYPE_TOUCH&&l.pointerType===l.MSPOINTER_TYPE_TOUCH&&Pt(l),Nu(o,l)}function RR(o){var l={},h,f;for(f in o)h=o[f],l[f]=h&&h.bind?h.bind(o):h;return o=l,l.type="dblclick",l.detail=2,l.isTrusted=!1,l._simulated=!0,l}var AR=200;function kR(o,l){o.addEventListener("dblclick",l);var h=0,f;function g(_){if(_.detail!==1){f=_.detail;return}if(!(_.pointerType==="mouse"||_.sourceCapabilities&&!_.sourceCapabilities.firesTouchEvents)){var b=k1(_);if(!(b.some(function(N){return N instanceof HTMLLabelElement&&N.attributes.for})&&!b.some(function(N){return N instanceof HTMLInputElement||N instanceof HTMLSelectElement}))){var k=Date.now();k-h<=AR?(f++,f===2&&l(RR(_))):f=1,h=k}}}return o.addEventListener("click",g),{dblclick:l,simDblclick:g}}function OR(o,l){o.removeEventListener("dblclick",l.dblclick),o.removeEventListener("click",l.simDblclick)}var Xf=Fu(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),ia=Fu(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),x1=ia==="webkitTransition"||ia==="OTransition"?ia+"End":"transitionend";function b1(o){return typeof o=="string"?document.getElementById(o):o}function sa(o,l){var h=o.style[l]||o.currentStyle&&o.currentStyle[l];if((!h||h==="auto")&&document.defaultView){var f=document.defaultView.getComputedStyle(o,null);h=f?f[l]:null}return h==="auto"?null:h}function xe(o,l,h){var f=document.createElement(o);return f.className=l||"",h&&h.appendChild(f),f}function qe(o){var l=o.parentNode;l&&l.removeChild(o)}function Du(o){for(;o.firstChild;)o.removeChild(o.firstChild)}function Os(o){var l=o.parentNode;l&&l.lastChild!==o&&l.appendChild(o)}function Ls(o){var l=o.parentNode;l&&l.firstChild!==o&&l.insertBefore(o,l.firstChild)}function Jf(o,l){if(o.classList!==void 0)return o.classList.contains(l);var h=Vu(o);return h.length>0&&new RegExp("(^|\\s)"+l+"(\\s|$)").test(h)}function ge(o,l){if(o.classList!==void 0)for(var h=C(l),f=0,g=h.length;f<g;f++)o.classList.add(h[f]);else if(!Jf(o,l)){var _=Vu(o);ep(o,(_?_+" ":"")+l)}}function tt(o,l){o.classList!==void 0?o.classList.remove(l):ep(o,y((" "+Vu(o)+" ").replace(" "+l+" "," ")))}function ep(o,l){o.className.baseVal===void 0?o.className=l:o.className.baseVal=l}function Vu(o){return o.correspondingElement&&(o=o.correspondingElement),o.className.baseVal===void 0?o.className:o.className.baseVal}function In(o,l){"opacity"in o.style?o.style.opacity=l:"filter"in o.style&&LR(o,l)}function LR(o,l){var h=!1,f="DXImageTransform.Microsoft.Alpha";try{h=o.filters.item(f)}catch{if(l===1)return}l=Math.round(l*100),h?(h.Enabled=l!==100,h.Opacity=l):o.style.filter+=" progid:"+f+"(opacity="+l+")"}function Fu(o){for(var l=document.documentElement.style,h=0;h<o.length;h++)if(o[h]in l)return o[h];return!1}function Ui(o,l,h){var f=l||new V(0,0);o.style[Xf]=(Y.ie3d?"translate("+f.x+"px,"+f.y+"px)":"translate3d("+f.x+"px,"+f.y+"px,0)")+(h?" scale("+h+")":"")}function it(o,l){o._leaflet_pos=l,Y.any3d?Ui(o,l):(o.style.left=l.x+"px",o.style.top=l.y+"px")}function Hi(o){return o._leaflet_pos||new V(0,0)}var oa,aa,tp;if("onselectstart"in document)oa=function(){pe(window,"selectstart",Pt)},aa=function(){Ne(window,"selectstart",Pt)};else{var la=Fu(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);oa=function(){if(la){var o=document.documentElement.style;tp=o[la],o[la]="none"}},aa=function(){la&&(document.documentElement.style[la]=tp,tp=void 0)}}function np(){pe(window,"dragstart",Pt)}function rp(){Ne(window,"dragstart",Pt)}var zu,ip;function sp(o){for(;o.tabIndex===-1;)o=o.parentNode;o.style&&(ju(),zu=o,ip=o.style.outlineStyle,o.style.outlineStyle="none",pe(window,"keydown",ju))}function ju(){zu&&(zu.style.outlineStyle=ip,zu=void 0,ip=void 0,Ne(window,"keydown",ju))}function R1(o){do o=o.parentNode;while((!o.offsetWidth||!o.offsetHeight)&&o!==document.body);return o}function op(o){var l=o.getBoundingClientRect();return{x:l.width/o.offsetWidth||1,y:l.height/o.offsetHeight||1,boundingClientRect:l}}var MR={__proto__:null,TRANSFORM:Xf,TRANSITION:ia,TRANSITION_END:x1,get:b1,getStyle:sa,create:xe,remove:qe,empty:Du,toFront:Os,toBack:Ls,hasClass:Jf,addClass:ge,removeClass:tt,setClass:ep,getClass:Vu,setOpacity:In,testProp:Fu,setTransform:Ui,setPosition:it,getPosition:Hi,get disableTextSelection(){return oa},get enableTextSelection(){return aa},disableImageDrag:np,enableImageDrag:rp,preventOutline:sp,restoreOutline:ju,getSizedParentNode:R1,getScale:op};function pe(o,l,h,f){if(l&&typeof l=="object")for(var g in l)lp(o,g,l[g],h);else{l=C(l);for(var _=0,b=l.length;_<b;_++)lp(o,l[_],h,f)}return this}var Yn="_leaflet_events";function Ne(o,l,h,f){if(arguments.length===1)A1(o),delete o[Yn];else if(l&&typeof l=="object")for(var g in l)up(o,g,l[g],h);else if(l=C(l),arguments.length===2)A1(o,function(k){return x(l,k)!==-1});else for(var _=0,b=l.length;_<b;_++)up(o,l[_],h,f);return this}function A1(o,l){for(var h in o[Yn]){var f=h.split(/\d/)[0];(!l||l(f))&&up(o,f,null,null,h)}}var ap={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function lp(o,l,h,f){var g=l+u(h)+(f?"_"+u(f):"");if(o[Yn]&&o[Yn][g])return this;var _=function(k){return h.call(f||o,k||window.event)},b=_;!Y.touchNative&&Y.pointer&&l.indexOf("touch")===0?_=SR(o,l,_):Y.touch&&l==="dblclick"?_=kR(o,_):"addEventListener"in o?l==="touchstart"||l==="touchmove"||l==="wheel"||l==="mousewheel"?o.addEventListener(ap[l]||l,_,Y.passiveEvents?{passive:!1}:!1):l==="mouseenter"||l==="mouseleave"?(_=function(k){k=k||window.event,hp(o,k)&&b(k)},o.addEventListener(ap[l],_,!1)):o.addEventListener(l,b,!1):o.attachEvent("on"+l,_),o[Yn]=o[Yn]||{},o[Yn][g]=_}function up(o,l,h,f,g){g=g||l+u(h)+(f?"_"+u(f):"");var _=o[Yn]&&o[Yn][g];if(!_)return this;!Y.touchNative&&Y.pointer&&l.indexOf("touch")===0?IR(o,l,_):Y.touch&&l==="dblclick"?OR(o,_):"removeEventListener"in o?o.removeEventListener(ap[l]||l,_,!1):o.detachEvent("on"+l,_),o[Yn][g]=null}function Wi(o){return o.stopPropagation?o.stopPropagation():o.originalEvent?o.originalEvent._stopped=!0:o.cancelBubble=!0,this}function cp(o){return lp(o,"wheel",Wi),this}function ua(o){return pe(o,"mousedown touchstart dblclick contextmenu",Wi),o._leaflet_disable_click=!0,this}function Pt(o){return o.preventDefault?o.preventDefault():o.returnValue=!1,this}function qi(o){return Pt(o),Wi(o),this}function k1(o){if(o.composedPath)return o.composedPath();for(var l=[],h=o.target;h;)l.push(h),h=h.parentNode;return l}function O1(o,l){if(!l)return new V(o.clientX,o.clientY);var h=op(l),f=h.boundingClientRect;return new V((o.clientX-f.left)/h.x-l.clientLeft,(o.clientY-f.top)/h.y-l.clientTop)}var NR=Y.linux&&Y.chrome?window.devicePixelRatio:Y.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function L1(o){return Y.edge?o.wheelDeltaY/2:o.deltaY&&o.deltaMode===0?-o.deltaY/NR:o.deltaY&&o.deltaMode===1?-o.deltaY*20:o.deltaY&&o.deltaMode===2?-o.deltaY*60:o.deltaX||o.deltaZ?0:o.wheelDelta?(o.wheelDeltaY||o.wheelDelta)/2:o.detail&&Math.abs(o.detail)<32765?-o.detail*20:o.detail?o.detail/-32765*60:0}function hp(o,l){var h=l.relatedTarget;if(!h)return!0;try{for(;h&&h!==o;)h=h.parentNode}catch{return!1}return h!==o}var DR={__proto__:null,on:pe,off:Ne,stopPropagation:Wi,disableScrollPropagation:cp,disableClickPropagation:ua,preventDefault:Pt,stop:qi,getPropagationPath:k1,getMousePosition:O1,getWheelDelta:L1,isExternalTarget:hp,addListener:pe,removeListener:Ne},M1=He.extend({run:function(o,l,h,f){this.stop(),this._el=o,this._inProgress=!0,this._duration=h||.25,this._easeOutPower=1/Math.max(f||.5,.2),this._startPos=Hi(o),this._offset=l.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=le(this._animate,this),this._step()},_step:function(o){var l=+new Date-this._startTime,h=this._duration*1e3;l<h?this._runFrame(this._easeOut(l/h),o):(this._runFrame(1),this._complete())},_runFrame:function(o,l){var h=this._startPos.add(this._offset.multiplyBy(o));l&&h._round(),it(this._el,h),this.fire("step")},_complete:function(){ve(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(o){return 1-Math.pow(1-o,this._easeOutPower)}}),Se=He.extend({options:{crs:na,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(o,l){l=T(this,l),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(o),this._initLayout(),this._onResize=a(this._onResize,this),this._initEvents(),l.maxBounds&&this.setMaxBounds(l.maxBounds),l.zoom!==void 0&&(this._zoom=this._limitZoom(l.zoom)),l.center&&l.zoom!==void 0&&this.setView(X(l.center),l.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=ia&&Y.any3d&&!Y.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),pe(this._proxy,x1,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(o,l,h){if(l=l===void 0?this._zoom:this._limitZoom(l),o=this._limitCenter(X(o),l,this.options.maxBounds),h=h||{},this._stop(),this._loaded&&!h.reset&&h!==!0){h.animate!==void 0&&(h.zoom=i({animate:h.animate},h.zoom),h.pan=i({animate:h.animate,duration:h.duration},h.pan));var f=this._zoom!==l?this._tryAnimatedZoom&&this._tryAnimatedZoom(o,l,h.zoom):this._tryAnimatedPan(o,h.pan);if(f)return clearTimeout(this._sizeTimer),this}return this._resetView(o,l,h.pan&&h.pan.noMoveStart),this},setZoom:function(o,l){return this._loaded?this.setView(this.getCenter(),o,{zoom:l}):(this._zoom=o,this)},zoomIn:function(o,l){return o=o||(Y.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+o,l)},zoomOut:function(o,l){return o=o||(Y.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-o,l)},setZoomAround:function(o,l,h){var f=this.getZoomScale(l),g=this.getSize().divideBy(2),_=o instanceof V?o:this.latLngToContainerPoint(o),b=_.subtract(g).multiplyBy(1-1/f),k=this.containerPointToLatLng(g.add(b));return this.setView(k,l,{zoom:h})},_getBoundsCenterZoom:function(o,l){l=l||{},o=o.getBounds?o.getBounds():_e(o);var h=B(l.paddingTopLeft||l.padding||[0,0]),f=B(l.paddingBottomRight||l.padding||[0,0]),g=this.getBoundsZoom(o,!1,h.add(f));if(g=typeof l.maxZoom=="number"?Math.min(l.maxZoom,g):g,g===1/0)return{center:o.getCenter(),zoom:g};var _=f.subtract(h).divideBy(2),b=this.project(o.getSouthWest(),g),k=this.project(o.getNorthEast(),g),N=this.unproject(b.add(k).divideBy(2).add(_),g);return{center:N,zoom:g}},fitBounds:function(o,l){if(o=_e(o),!o.isValid())throw new Error("Bounds are not valid.");var h=this._getBoundsCenterZoom(o,l);return this.setView(h.center,h.zoom,l)},fitWorld:function(o){return this.fitBounds([[-90,-180],[90,180]],o)},panTo:function(o,l){return this.setView(o,this._zoom,{pan:l})},panBy:function(o,l){if(o=B(o).round(),l=l||{},!o.x&&!o.y)return this.fire("moveend");if(l.animate!==!0&&!this.getSize().contains(o))return this._resetView(this.unproject(this.project(this.getCenter()).add(o)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new M1,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),l.noMoveStart||this.fire("movestart"),l.animate!==!1){ge(this._mapPane,"leaflet-pan-anim");var h=this._getMapPanePos().subtract(o).round();this._panAnim.run(this._mapPane,h,l.duration||.25,l.easeLinearity)}else this._rawPanBy(o),this.fire("move").fire("moveend");return this},flyTo:function(o,l,h){if(h=h||{},h.animate===!1||!Y.any3d)return this.setView(o,l,h);this._stop();var f=this.project(this.getCenter()),g=this.project(o),_=this.getSize(),b=this._zoom;o=X(o),l=l===void 0?b:l;var k=Math.max(_.x,_.y),N=k*this.getZoomScale(b,l),j=g.distanceTo(f)||1,W=1.42,ae=W*W;function ye(st){var Xu=st?-1:1,IA=st?N:k,PA=N*N-k*k+Xu*ae*ae*j*j,CA=2*IA*ae*j,Tp=PA/CA,p0=Math.sqrt(Tp*Tp+1)-Tp,xA=p0<1e-9?-18:Math.log(p0);return xA}function Kt(st){return(Math.exp(st)-Math.exp(-st))/2}function _t(st){return(Math.exp(st)+Math.exp(-st))/2}function Cn(st){return Kt(st)/_t(st)}var en=ye(0);function zs(st){return k*(_t(en)/_t(en+W*st))}function wA(st){return k*(_t(en)*Cn(en+W*st)-Kt(en))/ae}function EA(st){return 1-Math.pow(1-st,1.5)}var TA=Date.now(),d0=(ye(1)-en)/W,SA=h.duration?1e3*h.duration:1e3*d0*.8;function f0(){var st=(Date.now()-TA)/SA,Xu=EA(st)*d0;st<=1?(this._flyToFrame=le(f0,this),this._move(this.unproject(f.add(g.subtract(f).multiplyBy(wA(Xu)/j)),b),this.getScaleZoom(k/zs(Xu),b),{flyTo:!0})):this._move(o,l)._moveEnd(!0)}return this._moveStart(!0,h.noMoveStart),f0.call(this),this},flyToBounds:function(o,l){var h=this._getBoundsCenterZoom(o,l);return this.flyTo(h.center,h.zoom,l)},setMaxBounds:function(o){return o=_e(o),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),o.isValid()?(this.options.maxBounds=o,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(o){var l=this.options.minZoom;return this.options.minZoom=o,this._loaded&&l!==o&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(o):this},setMaxZoom:function(o){var l=this.options.maxZoom;return this.options.maxZoom=o,this._loaded&&l!==o&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(o):this},panInsideBounds:function(o,l){this._enforcingBounds=!0;var h=this.getCenter(),f=this._limitCenter(h,this._zoom,_e(o));return h.equals(f)||this.panTo(f,l),this._enforcingBounds=!1,this},panInside:function(o,l){l=l||{};var h=B(l.paddingTopLeft||l.padding||[0,0]),f=B(l.paddingBottomRight||l.padding||[0,0]),g=this.project(this.getCenter()),_=this.project(o),b=this.getPixelBounds(),k=te([b.min.add(h),b.max.subtract(f)]),N=k.getSize();if(!k.contains(_)){this._enforcingBounds=!0;var j=_.subtract(k.getCenter()),W=k.extend(_).getSize().subtract(N);g.x+=j.x<0?-W.x:W.x,g.y+=j.y<0?-W.y:W.y,this.panTo(this.unproject(g),l),this._enforcingBounds=!1}return this},invalidateSize:function(o){if(!this._loaded)return this;o=i({animate:!1,pan:!0},o===!0?{animate:!0}:o);var l=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var h=this.getSize(),f=l.divideBy(2).round(),g=h.divideBy(2).round(),_=f.subtract(g);return!_.x&&!_.y?this:(o.animate&&o.pan?this.panBy(_):(o.pan&&this._rawPanBy(_),this.fire("move"),o.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(a(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:l,newSize:h}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(o){if(o=this._locateOptions=i({timeout:1e4,watch:!1},o),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var l=a(this._handleGeolocationResponse,this),h=a(this._handleGeolocationError,this);return o.watch?this._locationWatchId=navigator.geolocation.watchPosition(l,h,o):navigator.geolocation.getCurrentPosition(l,h,o),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(o){if(this._container._leaflet_id){var l=o.code,h=o.message||(l===1?"permission denied":l===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:l,message:"Geolocation error: "+h+"."})}},_handleGeolocationResponse:function(o){if(this._container._leaflet_id){var l=o.coords.latitude,h=o.coords.longitude,f=new me(l,h),g=f.toBounds(o.coords.accuracy*2),_=this._locateOptions;if(_.setView){var b=this.getBoundsZoom(g);this.setView(f,_.maxZoom?Math.min(b,_.maxZoom):b)}var k={latlng:f,bounds:g,timestamp:o.timestamp};for(var N in o.coords)typeof o.coords[N]=="number"&&(k[N]=o.coords[N]);this.fire("locationfound",k)}},addHandler:function(o,l){if(!l)return this;var h=this[o]=new l(this);return this._handlers.push(h),this.options[o]&&h.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),qe(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(ve(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var o;for(o in this._layers)this._layers[o].remove();for(o in this._panes)qe(this._panes[o]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(o,l){var h="leaflet-pane"+(o?" leaflet-"+o.replace("Pane","")+"-pane":""),f=xe("div",h,l||this._mapPane);return o&&(this._panes[o]=f),f},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var o=this.getPixelBounds(),l=this.unproject(o.getBottomLeft()),h=this.unproject(o.getTopRight());return new Pe(l,h)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(o,l,h){o=_e(o),h=B(h||[0,0]);var f=this.getZoom()||0,g=this.getMinZoom(),_=this.getMaxZoom(),b=o.getNorthWest(),k=o.getSouthEast(),N=this.getSize().subtract(h),j=te(this.project(k,f),this.project(b,f)).getSize(),W=Y.any3d?this.options.zoomSnap:1,ae=N.x/j.x,ye=N.y/j.y,Kt=l?Math.max(ae,ye):Math.min(ae,ye);return f=this.getScaleZoom(Kt,f),W&&(f=Math.round(f/(W/100))*(W/100),f=l?Math.ceil(f/W)*W:Math.floor(f/W)*W),Math.max(g,Math.min(_,f))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new V(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(o,l){var h=this._getTopLeftPoint(o,l);return new ie(h,h.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(o){return this.options.crs.getProjectedBounds(o===void 0?this.getZoom():o)},getPane:function(o){return typeof o=="string"?this._panes[o]:o},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(o,l){var h=this.options.crs;return l=l===void 0?this._zoom:l,h.scale(o)/h.scale(l)},getScaleZoom:function(o,l){var h=this.options.crs;l=l===void 0?this._zoom:l;var f=h.zoom(o*h.scale(l));return isNaN(f)?1/0:f},project:function(o,l){return l=l===void 0?this._zoom:l,this.options.crs.latLngToPoint(X(o),l)},unproject:function(o,l){return l=l===void 0?this._zoom:l,this.options.crs.pointToLatLng(B(o),l)},layerPointToLatLng:function(o){var l=B(o).add(this.getPixelOrigin());return this.unproject(l)},latLngToLayerPoint:function(o){var l=this.project(X(o))._round();return l._subtract(this.getPixelOrigin())},wrapLatLng:function(o){return this.options.crs.wrapLatLng(X(o))},wrapLatLngBounds:function(o){return this.options.crs.wrapLatLngBounds(_e(o))},distance:function(o,l){return this.options.crs.distance(X(o),X(l))},containerPointToLayerPoint:function(o){return B(o).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(o){return B(o).add(this._getMapPanePos())},containerPointToLatLng:function(o){var l=this.containerPointToLayerPoint(B(o));return this.layerPointToLatLng(l)},latLngToContainerPoint:function(o){return this.layerPointToContainerPoint(this.latLngToLayerPoint(X(o)))},mouseEventToContainerPoint:function(o){return O1(o,this._container)},mouseEventToLayerPoint:function(o){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(o))},mouseEventToLatLng:function(o){return this.layerPointToLatLng(this.mouseEventToLayerPoint(o))},_initContainer:function(o){var l=this._container=b1(o);if(l){if(l._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");pe(l,"scroll",this._onScroll,this),this._containerId=u(l)},_initLayout:function(){var o=this._container;this._fadeAnimated=this.options.fadeAnimation&&Y.any3d,ge(o,"leaflet-container"+(Y.touch?" leaflet-touch":"")+(Y.retina?" leaflet-retina":"")+(Y.ielt9?" leaflet-oldie":"")+(Y.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var l=sa(o,"position");l!=="absolute"&&l!=="relative"&&l!=="fixed"&&l!=="sticky"&&(o.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var o=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),it(this._mapPane,new V(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(ge(o.markerPane,"leaflet-zoom-hide"),ge(o.shadowPane,"leaflet-zoom-hide"))},_resetView:function(o,l,h){it(this._mapPane,new V(0,0));var f=!this._loaded;this._loaded=!0,l=this._limitZoom(l),this.fire("viewprereset");var g=this._zoom!==l;this._moveStart(g,h)._move(o,l)._moveEnd(g),this.fire("viewreset"),f&&this.fire("load")},_moveStart:function(o,l){return o&&this.fire("zoomstart"),l||this.fire("movestart"),this},_move:function(o,l,h,f){l===void 0&&(l=this._zoom);var g=this._zoom!==l;return this._zoom=l,this._lastCenter=o,this._pixelOrigin=this._getNewPixelOrigin(o),f?h&&h.pinch&&this.fire("zoom",h):((g||h&&h.pinch)&&this.fire("zoom",h),this.fire("move",h)),this},_moveEnd:function(o){return o&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return ve(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(o){it(this._mapPane,this._getMapPanePos().subtract(o))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(o){this._targets={},this._targets[u(this._container)]=this;var l=o?Ne:pe;l(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&l(window,"resize",this._onResize,this),Y.any3d&&this.options.transform3DLimit&&(o?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){ve(this._resizeRequest),this._resizeRequest=le(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var o=this._getMapPanePos();Math.max(Math.abs(o.x),Math.abs(o.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(o,l){for(var h=[],f,g=l==="mouseout"||l==="mouseover",_=o.target||o.srcElement,b=!1;_;){if(f=this._targets[u(_)],f&&(l==="click"||l==="preclick")&&this._draggableMoved(f)){b=!0;break}if(f&&f.listens(l,!0)&&(g&&!hp(_,o)||(h.push(f),g))||_===this._container)break;_=_.parentNode}return!h.length&&!b&&!g&&this.listens(l,!0)&&(h=[this]),h},_isClickDisabled:function(o){for(;o&&o!==this._container;){if(o._leaflet_disable_click)return!0;o=o.parentNode}},_handleDOMEvent:function(o){var l=o.target||o.srcElement;if(!(!this._loaded||l._leaflet_disable_events||o.type==="click"&&this._isClickDisabled(l))){var h=o.type;h==="mousedown"&&sp(l),this._fireDOMEvent(o,h)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(o,l,h){if(o.type==="click"){var f=i({},o);f.type="preclick",this._fireDOMEvent(f,f.type,h)}var g=this._findEventTargets(o,l);if(h){for(var _=[],b=0;b<h.length;b++)h[b].listens(l,!0)&&_.push(h[b]);g=_.concat(g)}if(g.length){l==="contextmenu"&&Pt(o);var k=g[0],N={originalEvent:o};if(o.type!=="keypress"&&o.type!=="keydown"&&o.type!=="keyup"){var j=k.getLatLng&&(!k._radius||k._radius<=10);N.containerPoint=j?this.latLngToContainerPoint(k.getLatLng()):this.mouseEventToContainerPoint(o),N.layerPoint=this.containerPointToLayerPoint(N.containerPoint),N.latlng=j?k.getLatLng():this.layerPointToLatLng(N.layerPoint)}for(b=0;b<g.length;b++)if(g[b].fire(l,N,!0),N.originalEvent._stopped||g[b].options.bubblingMouseEvents===!1&&x(this._mouseEvents,l)!==-1)return}},_draggableMoved:function(o){return o=o.dragging&&o.dragging.enabled()?o:this,o.dragging&&o.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var o=0,l=this._handlers.length;o<l;o++)this._handlers[o].disable()},whenReady:function(o,l){return this._loaded?o.call(l||this,{target:this}):this.on("load",o,l),this},_getMapPanePos:function(){return Hi(this._mapPane)||new V(0,0)},_moved:function(){var o=this._getMapPanePos();return o&&!o.equals([0,0])},_getTopLeftPoint:function(o,l){var h=o&&l!==void 0?this._getNewPixelOrigin(o,l):this.getPixelOrigin();return h.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(o,l){var h=this.getSize()._divideBy(2);return this.project(o,l)._subtract(h)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(o,l,h){var f=this._getNewPixelOrigin(h,l);return this.project(o,l)._subtract(f)},_latLngBoundsToNewLayerBounds:function(o,l,h){var f=this._getNewPixelOrigin(h,l);return te([this.project(o.getSouthWest(),l)._subtract(f),this.project(o.getNorthWest(),l)._subtract(f),this.project(o.getSouthEast(),l)._subtract(f),this.project(o.getNorthEast(),l)._subtract(f)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(o){return this.latLngToLayerPoint(o).subtract(this._getCenterLayerPoint())},_limitCenter:function(o,l,h){if(!h)return o;var f=this.project(o,l),g=this.getSize().divideBy(2),_=new ie(f.subtract(g),f.add(g)),b=this._getBoundsOffset(_,h,l);return Math.abs(b.x)<=1&&Math.abs(b.y)<=1?o:this.unproject(f.add(b),l)},_limitOffset:function(o,l){if(!l)return o;var h=this.getPixelBounds(),f=new ie(h.min.add(o),h.max.add(o));return o.add(this._getBoundsOffset(f,l))},_getBoundsOffset:function(o,l,h){var f=te(this.project(l.getNorthEast(),h),this.project(l.getSouthWest(),h)),g=f.min.subtract(o.min),_=f.max.subtract(o.max),b=this._rebound(g.x,-_.x),k=this._rebound(g.y,-_.y);return new V(b,k)},_rebound:function(o,l){return o+l>0?Math.round(o-l)/2:Math.max(0,Math.ceil(o))-Math.max(0,Math.floor(l))},_limitZoom:function(o){var l=this.getMinZoom(),h=this.getMaxZoom(),f=Y.any3d?this.options.zoomSnap:1;return f&&(o=Math.round(o/f)*f),Math.max(l,Math.min(h,o))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){tt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(o,l){var h=this._getCenterOffset(o)._trunc();return(l&&l.animate)!==!0&&!this.getSize().contains(h)?!1:(this.panBy(h,l),!0)},_createAnimProxy:function(){var o=this._proxy=xe("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(o),this.on("zoomanim",function(l){var h=Xf,f=this._proxy.style[h];Ui(this._proxy,this.project(l.center,l.zoom),this.getZoomScale(l.zoom,1)),f===this._proxy.style[h]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){qe(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var o=this.getCenter(),l=this.getZoom();Ui(this._proxy,this.project(o,l),this.getZoomScale(l,1))},_catchTransitionEnd:function(o){this._animatingZoom&&o.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(o,l,h){if(this._animatingZoom)return!0;if(h=h||{},!this._zoomAnimated||h.animate===!1||this._nothingToAnimate()||Math.abs(l-this._zoom)>this.options.zoomAnimationThreshold)return!1;var f=this.getZoomScale(l),g=this._getCenterOffset(o)._divideBy(1-1/f);return h.animate!==!0&&!this.getSize().contains(g)?!1:(le(function(){this._moveStart(!0,h.noMoveStart||!1)._animateZoom(o,l,!0)},this),!0)},_animateZoom:function(o,l,h,f){this._mapPane&&(h&&(this._animatingZoom=!0,this._animateToCenter=o,this._animateToZoom=l,ge(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:o,zoom:l,noUpdate:f}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(a(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&tt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function VR(o,l){return new Se(o,l)}var Nn=Fe.extend({options:{position:"topright"},initialize:function(o){T(this,o)},getPosition:function(){return this.options.position},setPosition:function(o){var l=this._map;return l&&l.removeControl(this),this.options.position=o,l&&l.addControl(this),this},getContainer:function(){return this._container},addTo:function(o){this.remove(),this._map=o;var l=this._container=this.onAdd(o),h=this.getPosition(),f=o._controlCorners[h];return ge(l,"leaflet-control"),h.indexOf("bottom")!==-1?f.insertBefore(l,f.firstChild):f.appendChild(l),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(qe(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(o){this._map&&o&&o.screenX>0&&o.screenY>0&&this._map.getContainer().focus()}}),ca=function(o){return new Nn(o)};Se.include({addControl:function(o){return o.addTo(this),this},removeControl:function(o){return o.remove(),this},_initControlPos:function(){var o=this._controlCorners={},l="leaflet-",h=this._controlContainer=xe("div",l+"control-container",this._container);function f(g,_){var b=l+g+" "+l+_;o[g+_]=xe("div",b,h)}f("top","left"),f("top","right"),f("bottom","left"),f("bottom","right")},_clearControlPos:function(){for(var o in this._controlCorners)qe(this._controlCorners[o]);qe(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var N1=Nn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(o,l,h,f){return h<f?-1:f<h?1:0}},initialize:function(o,l,h){T(this,h),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var f in o)this._addLayer(o[f],f);for(f in l)this._addLayer(l[f],f,!0)},onAdd:function(o){this._initLayout(),this._update(),this._map=o,o.on("zoomend",this._checkDisabledLayers,this);for(var l=0;l<this._layers.length;l++)this._layers[l].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(o){return Nn.prototype.addTo.call(this,o),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var o=0;o<this._layers.length;o++)this._layers[o].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(o,l){return this._addLayer(o,l),this._map?this._update():this},addOverlay:function(o,l){return this._addLayer(o,l,!0),this._map?this._update():this},removeLayer:function(o){o.off("add remove",this._onLayerChange,this);var l=this._getLayer(u(o));return l&&this._layers.splice(this._layers.indexOf(l),1),this._map?this._update():this},expand:function(){ge(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var o=this._map.getSize().y-(this._container.offsetTop+50);return o<this._section.clientHeight?(ge(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=o+"px"):tt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return tt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var o="leaflet-control-layers",l=this._container=xe("div",o),h=this.options.collapsed;l.setAttribute("aria-haspopup",!0),ua(l),cp(l);var f=this._section=xe("section",o+"-list");h&&(this._map.on("click",this.collapse,this),pe(l,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var g=this._layersLink=xe("a",o+"-toggle",l);g.href="#",g.title="Layers",g.setAttribute("role","button"),pe(g,{keydown:function(_){_.keyCode===13&&this._expandSafely()},click:function(_){Pt(_),this._expandSafely()}},this),h||this.expand(),this._baseLayersList=xe("div",o+"-base",f),this._separator=xe("div",o+"-separator",f),this._overlaysList=xe("div",o+"-overlays",f),l.appendChild(f)},_getLayer:function(o){for(var l=0;l<this._layers.length;l++)if(this._layers[l]&&u(this._layers[l].layer)===o)return this._layers[l]},_addLayer:function(o,l,h){this._map&&o.on("add remove",this._onLayerChange,this),this._layers.push({layer:o,name:l,overlay:h}),this.options.sortLayers&&this._layers.sort(a(function(f,g){return this.options.sortFunction(f.layer,g.layer,f.name,g.name)},this)),this.options.autoZIndex&&o.setZIndex&&(this._lastZIndex++,o.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Du(this._baseLayersList),Du(this._overlaysList),this._layerControlInputs=[];var o,l,h,f,g=0;for(h=0;h<this._layers.length;h++)f=this._layers[h],this._addItem(f),l=l||f.overlay,o=o||!f.overlay,g+=f.overlay?0:1;return this.options.hideSingleBase&&(o=o&&g>1,this._baseLayersList.style.display=o?"":"none"),this._separator.style.display=l&&o?"":"none",this},_onLayerChange:function(o){this._handlingClick||this._update();var l=this._getLayer(u(o.target)),h=l.overlay?o.type==="add"?"overlayadd":"overlayremove":o.type==="add"?"baselayerchange":null;h&&this._map.fire(h,l)},_createRadioElement:function(o,l){var h='<input type="radio" class="leaflet-control-layers-selector" name="'+o+'"'+(l?' checked="checked"':"")+"/>",f=document.createElement("div");return f.innerHTML=h,f.firstChild},_addItem:function(o){var l=document.createElement("label"),h=this._map.hasLayer(o.layer),f;o.overlay?(f=document.createElement("input"),f.type="checkbox",f.className="leaflet-control-layers-selector",f.defaultChecked=h):f=this._createRadioElement("leaflet-base-layers_"+u(this),h),this._layerControlInputs.push(f),f.layerId=u(o.layer),pe(f,"click",this._onInputClick,this);var g=document.createElement("span");g.innerHTML=" "+o.name;var _=document.createElement("span");l.appendChild(_),_.appendChild(f),_.appendChild(g);var b=o.overlay?this._overlaysList:this._baseLayersList;return b.appendChild(l),this._checkDisabledLayers(),l},_onInputClick:function(){if(!this._preventClick){var o=this._layerControlInputs,l,h,f=[],g=[];this._handlingClick=!0;for(var _=o.length-1;_>=0;_--)l=o[_],h=this._getLayer(l.layerId).layer,l.checked?f.push(h):l.checked||g.push(h);for(_=0;_<g.length;_++)this._map.hasLayer(g[_])&&this._map.removeLayer(g[_]);for(_=0;_<f.length;_++)this._map.hasLayer(f[_])||this._map.addLayer(f[_]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var o=this._layerControlInputs,l,h,f=this._map.getZoom(),g=o.length-1;g>=0;g--)l=o[g],h=this._getLayer(l.layerId).layer,l.disabled=h.options.minZoom!==void 0&&f<h.options.minZoom||h.options.maxZoom!==void 0&&f>h.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var o=this._section;this._preventClick=!0,pe(o,"click",Pt),this.expand();var l=this;setTimeout(function(){Ne(o,"click",Pt),l._preventClick=!1})}}),FR=function(o,l,h){return new N1(o,l,h)},dp=Nn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(o){var l="leaflet-control-zoom",h=xe("div",l+" leaflet-bar"),f=this.options;return this._zoomInButton=this._createButton(f.zoomInText,f.zoomInTitle,l+"-in",h,this._zoomIn),this._zoomOutButton=this._createButton(f.zoomOutText,f.zoomOutTitle,l+"-out",h,this._zoomOut),this._updateDisabled(),o.on("zoomend zoomlevelschange",this._updateDisabled,this),h},onRemove:function(o){o.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(o){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(o.shiftKey?3:1))},_zoomOut:function(o){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(o.shiftKey?3:1))},_createButton:function(o,l,h,f,g){var _=xe("a",h,f);return _.innerHTML=o,_.href="#",_.title=l,_.setAttribute("role","button"),_.setAttribute("aria-label",l),ua(_),pe(_,"click",qi),pe(_,"click",g,this),pe(_,"click",this._refocusOnMap,this),_},_updateDisabled:function(){var o=this._map,l="leaflet-disabled";tt(this._zoomInButton,l),tt(this._zoomOutButton,l),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||o._zoom===o.getMinZoom())&&(ge(this._zoomOutButton,l),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||o._zoom===o.getMaxZoom())&&(ge(this._zoomInButton,l),this._zoomInButton.setAttribute("aria-disabled","true"))}});Se.mergeOptions({zoomControl:!0}),Se.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new dp,this.addControl(this.zoomControl))});var zR=function(o){return new dp(o)},D1=Nn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(o){var l="leaflet-control-scale",h=xe("div",l),f=this.options;return this._addScales(f,l+"-line",h),o.on(f.updateWhenIdle?"moveend":"move",this._update,this),o.whenReady(this._update,this),h},onRemove:function(o){o.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(o,l,h){o.metric&&(this._mScale=xe("div",l,h)),o.imperial&&(this._iScale=xe("div",l,h))},_update:function(){var o=this._map,l=o.getSize().y/2,h=o.distance(o.containerPointToLatLng([0,l]),o.containerPointToLatLng([this.options.maxWidth,l]));this._updateScales(h)},_updateScales:function(o){this.options.metric&&o&&this._updateMetric(o),this.options.imperial&&o&&this._updateImperial(o)},_updateMetric:function(o){var l=this._getRoundNum(o),h=l<1e3?l+" m":l/1e3+" km";this._updateScale(this._mScale,h,l/o)},_updateImperial:function(o){var l=o*3.2808399,h,f,g;l>5280?(h=l/5280,f=this._getRoundNum(h),this._updateScale(this._iScale,f+" mi",f/h)):(g=this._getRoundNum(l),this._updateScale(this._iScale,g+" ft",g/l))},_updateScale:function(o,l,h){o.style.width=Math.round(this.options.maxWidth*h)+"px",o.innerHTML=l},_getRoundNum:function(o){var l=Math.pow(10,(Math.floor(o)+"").length-1),h=o/l;return h=h>=10?10:h>=5?5:h>=3?3:h>=2?2:1,l*h}}),jR=function(o){return new D1(o)},$R='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',fp=Nn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Y.inlineSvg?$R+" ":"")+"Leaflet</a>"},initialize:function(o){T(this,o),this._attributions={}},onAdd:function(o){o.attributionControl=this,this._container=xe("div","leaflet-control-attribution"),ua(this._container);for(var l in o._layers)o._layers[l].getAttribution&&this.addAttribution(o._layers[l].getAttribution());return this._update(),o.on("layeradd",this._addAttribution,this),this._container},onRemove:function(o){o.off("layeradd",this._addAttribution,this)},_addAttribution:function(o){o.layer.getAttribution&&(this.addAttribution(o.layer.getAttribution()),o.layer.once("remove",function(){this.removeAttribution(o.layer.getAttribution())},this))},setPrefix:function(o){return this.options.prefix=o,this._update(),this},addAttribution:function(o){return o?(this._attributions[o]||(this._attributions[o]=0),this._attributions[o]++,this._update(),this):this},removeAttribution:function(o){return o?(this._attributions[o]&&(this._attributions[o]--,this._update()),this):this},_update:function(){if(this._map){var o=[];for(var l in this._attributions)this._attributions[l]&&o.push(l);var h=[];this.options.prefix&&h.push(this.options.prefix),o.length&&h.push(o.join(", ")),this._container.innerHTML=h.join(' <span aria-hidden="true">|</span> ')}}});Se.mergeOptions({attributionControl:!0}),Se.addInitHook(function(){this.options.attributionControl&&new fp().addTo(this)});var BR=function(o){return new fp(o)};Nn.Layers=N1,Nn.Zoom=dp,Nn.Scale=D1,Nn.Attribution=fp,ca.layers=FR,ca.zoom=zR,ca.scale=jR,ca.attribution=BR;var Xn=Fe.extend({initialize:function(o){this._map=o},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Xn.addTo=function(o,l){return o.addHandler(l,this),this};var UR={Events:fe},V1=Y.touch?"touchstart mousedown":"mousedown",Xr=He.extend({options:{clickTolerance:3},initialize:function(o,l,h,f){T(this,f),this._element=o,this._dragStartTarget=l||o,this._preventOutline=h},enable:function(){this._enabled||(pe(this._dragStartTarget,V1,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Xr._dragging===this&&this.finishDrag(!0),Ne(this._dragStartTarget,V1,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(o){if(this._enabled&&(this._moved=!1,!Jf(this._element,"leaflet-zoom-anim"))){if(o.touches&&o.touches.length!==1){Xr._dragging===this&&this.finishDrag();return}if(!(Xr._dragging||o.shiftKey||o.which!==1&&o.button!==1&&!o.touches)&&(Xr._dragging=this,this._preventOutline&&sp(this._element),np(),oa(),!this._moving)){this.fire("down");var l=o.touches?o.touches[0]:o,h=R1(this._element);this._startPoint=new V(l.clientX,l.clientY),this._startPos=Hi(this._element),this._parentScale=op(h);var f=o.type==="mousedown";pe(document,f?"mousemove":"touchmove",this._onMove,this),pe(document,f?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(o){if(this._enabled){if(o.touches&&o.touches.length>1){this._moved=!0;return}var l=o.touches&&o.touches.length===1?o.touches[0]:o,h=new V(l.clientX,l.clientY)._subtract(this._startPoint);!h.x&&!h.y||Math.abs(h.x)+Math.abs(h.y)<this.options.clickTolerance||(h.x/=this._parentScale.x,h.y/=this._parentScale.y,Pt(o),this._moved||(this.fire("dragstart"),this._moved=!0,ge(document.body,"leaflet-dragging"),this._lastTarget=o.target||o.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),ge(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(h),this._moving=!0,this._lastEvent=o,this._updatePosition())}},_updatePosition:function(){var o={originalEvent:this._lastEvent};this.fire("predrag",o),it(this._element,this._newPos),this.fire("drag",o)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(o){tt(document.body,"leaflet-dragging"),this._lastTarget&&(tt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Ne(document,"mousemove touchmove",this._onMove,this),Ne(document,"mouseup touchend touchcancel",this._onUp,this),rp(),aa();var l=this._moved&&this._moving;this._moving=!1,Xr._dragging=!1,l&&this.fire("dragend",{noInertia:o,distance:this._newPos.distanceTo(this._startPos)})}});function F1(o,l,h){var f,g=[1,4,2,8],_,b,k,N,j,W,ae,ye;for(_=0,W=o.length;_<W;_++)o[_]._code=Gi(o[_],l);for(k=0;k<4;k++){for(ae=g[k],f=[],_=0,W=o.length,b=W-1;_<W;b=_++)N=o[_],j=o[b],N._code&ae?j._code&ae||(ye=$u(j,N,ae,l,h),ye._code=Gi(ye,l),f.push(ye)):(j._code&ae&&(ye=$u(j,N,ae,l,h),ye._code=Gi(ye,l),f.push(ye)),f.push(N));o=f}return o}function z1(o,l){var h,f,g,_,b,k,N,j,W;if(!o||o.length===0)throw new Error("latlngs not passed");Pn(o)||(console.warn("latlngs are not flat! Only the first ring will be used"),o=o[0]);var ae=X([0,0]),ye=_e(o),Kt=ye.getNorthWest().distanceTo(ye.getSouthWest())*ye.getNorthEast().distanceTo(ye.getNorthWest());Kt<1700&&(ae=pp(o));var _t=o.length,Cn=[];for(h=0;h<_t;h++){var en=X(o[h]);Cn.push(l.project(X([en.lat-ae.lat,en.lng-ae.lng])))}for(k=N=j=0,h=0,f=_t-1;h<_t;f=h++)g=Cn[h],_=Cn[f],b=g.y*_.x-_.y*g.x,N+=(g.x+_.x)*b,j+=(g.y+_.y)*b,k+=b*3;k===0?W=Cn[0]:W=[N/k,j/k];var zs=l.unproject(B(W));return X([zs.lat+ae.lat,zs.lng+ae.lng])}function pp(o){for(var l=0,h=0,f=0,g=0;g<o.length;g++){var _=X(o[g]);l+=_.lat,h+=_.lng,f++}return X([l/f,h/f])}var HR={__proto__:null,clipPolygon:F1,polygonCenter:z1,centroid:pp};function j1(o,l){if(!l||!o.length)return o.slice();var h=l*l;return o=GR(o,h),o=qR(o,h),o}function $1(o,l,h){return Math.sqrt(ha(o,l,h,!0))}function WR(o,l,h){return ha(o,l,h)}function qR(o,l){var h=o.length,f=typeof Uint8Array<"u"?Uint8Array:Array,g=new f(h);g[0]=g[h-1]=1,mp(o,g,l,0,h-1);var _,b=[];for(_=0;_<h;_++)g[_]&&b.push(o[_]);return b}function mp(o,l,h,f,g){var _=0,b,k,N;for(k=f+1;k<=g-1;k++)N=ha(o[k],o[f],o[g],!0),N>_&&(b=k,_=N);_>h&&(l[b]=1,mp(o,l,h,f,b),mp(o,l,h,b,g))}function GR(o,l){for(var h=[o[0]],f=1,g=0,_=o.length;f<_;f++)KR(o[f],o[g])>l&&(h.push(o[f]),g=f);return g<_-1&&h.push(o[_-1]),h}var B1;function U1(o,l,h,f,g){var _=f?B1:Gi(o,h),b=Gi(l,h),k,N,j;for(B1=b;;){if(!(_|b))return[o,l];if(_&b)return!1;k=_||b,N=$u(o,l,k,h,g),j=Gi(N,h),k===_?(o=N,_=j):(l=N,b=j)}}function $u(o,l,h,f,g){var _=l.x-o.x,b=l.y-o.y,k=f.min,N=f.max,j,W;return h&8?(j=o.x+_*(N.y-o.y)/b,W=N.y):h&4?(j=o.x+_*(k.y-o.y)/b,W=k.y):h&2?(j=N.x,W=o.y+b*(N.x-o.x)/_):h&1&&(j=k.x,W=o.y+b*(k.x-o.x)/_),new V(j,W,g)}function Gi(o,l){var h=0;return o.x<l.min.x?h|=1:o.x>l.max.x&&(h|=2),o.y<l.min.y?h|=4:o.y>l.max.y&&(h|=8),h}function KR(o,l){var h=l.x-o.x,f=l.y-o.y;return h*h+f*f}function ha(o,l,h,f){var g=l.x,_=l.y,b=h.x-g,k=h.y-_,N=b*b+k*k,j;return N>0&&(j=((o.x-g)*b+(o.y-_)*k)/N,j>1?(g=h.x,_=h.y):j>0&&(g+=b*j,_+=k*j)),b=o.x-g,k=o.y-_,f?b*b+k*k:new V(g,_)}function Pn(o){return!P(o[0])||typeof o[0][0]!="object"&&typeof o[0][0]<"u"}function H1(o){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Pn(o)}function W1(o,l){var h,f,g,_,b,k,N,j;if(!o||o.length===0)throw new Error("latlngs not passed");Pn(o)||(console.warn("latlngs are not flat! Only the first ring will be used"),o=o[0]);var W=X([0,0]),ae=_e(o),ye=ae.getNorthWest().distanceTo(ae.getSouthWest())*ae.getNorthEast().distanceTo(ae.getNorthWest());ye<1700&&(W=pp(o));var Kt=o.length,_t=[];for(h=0;h<Kt;h++){var Cn=X(o[h]);_t.push(l.project(X([Cn.lat-W.lat,Cn.lng-W.lng])))}for(h=0,f=0;h<Kt-1;h++)f+=_t[h].distanceTo(_t[h+1])/2;if(f===0)j=_t[0];else for(h=0,_=0;h<Kt-1;h++)if(b=_t[h],k=_t[h+1],g=b.distanceTo(k),_+=g,_>f){N=(_-f)/g,j=[k.x-N*(k.x-b.x),k.y-N*(k.y-b.y)];break}var en=l.unproject(B(j));return X([en.lat+W.lat,en.lng+W.lng])}var ZR={__proto__:null,simplify:j1,pointToSegmentDistance:$1,closestPointOnSegment:WR,clipSegment:U1,_getEdgeIntersection:$u,_getBitCode:Gi,_sqClosestPointOnSegment:ha,isFlat:Pn,_flat:H1,polylineCenter:W1},gp={project:function(o){return new V(o.lng,o.lat)},unproject:function(o){return new me(o.y,o.x)},bounds:new ie([-180,-90],[180,90])},vp={R:6378137,R_MINOR:6356752314245179e-9,bounds:new ie([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(o){var l=Math.PI/180,h=this.R,f=o.lat*l,g=this.R_MINOR/h,_=Math.sqrt(1-g*g),b=_*Math.sin(f),k=Math.tan(Math.PI/4-f/2)/Math.pow((1-b)/(1+b),_/2);return f=-h*Math.log(Math.max(k,1e-10)),new V(o.lng*l*h,f)},unproject:function(o){for(var l=180/Math.PI,h=this.R,f=this.R_MINOR/h,g=Math.sqrt(1-f*f),_=Math.exp(-o.y/h),b=Math.PI/2-2*Math.atan(_),k=0,N=.1,j;k<15&&Math.abs(N)>1e-7;k++)j=g*Math.sin(b),j=Math.pow((1-j)/(1+j),g/2),N=Math.PI/2-2*Math.atan(_*j)-b,b+=N;return new me(b*l,o.x*l/h)}},QR={__proto__:null,LonLat:gp,Mercator:vp,SphericalMercator:ta},YR=i({},vt,{code:"EPSG:3395",projection:vp,transformation:function(){var o=.5/(Math.PI*vp.R);return Yr(o,.5,-o,.5)}()}),q1=i({},vt,{code:"EPSG:4326",projection:gp,transformation:Yr(1/180,1,-1/180,.5)}),XR=i({},We,{projection:gp,transformation:Yr(1,0,-1,0),scale:function(o){return Math.pow(2,o)},zoom:function(o){return Math.log(o)/Math.LN2},distance:function(o,l){var h=l.lng-o.lng,f=l.lat-o.lat;return Math.sqrt(h*h+f*f)},infinite:!0});We.Earth=vt,We.EPSG3395=YR,We.EPSG3857=na,We.EPSG900913=Ou,We.EPSG4326=q1,We.Simple=XR;var Dn=He.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(o){return o.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(o){return o&&o.removeLayer(this),this},getPane:function(o){return this._map.getPane(o?this.options[o]||o:this.options.pane)},addInteractiveTarget:function(o){return this._map._targets[u(o)]=this,this},removeInteractiveTarget:function(o){return delete this._map._targets[u(o)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(o){var l=o.target;if(l.hasLayer(this)){if(this._map=l,this._zoomAnimated=l._zoomAnimated,this.getEvents){var h=this.getEvents();l.on(h,this),this.once("remove",function(){l.off(h,this)},this)}this.onAdd(l),this.fire("add"),l.fire("layeradd",{layer:this})}}});Se.include({addLayer:function(o){if(!o._layerAdd)throw new Error("The provided object is not a Layer.");var l=u(o);return this._layers[l]?this:(this._layers[l]=o,o._mapToAdd=this,o.beforeAdd&&o.beforeAdd(this),this.whenReady(o._layerAdd,o),this)},removeLayer:function(o){var l=u(o);return this._layers[l]?(this._loaded&&o.onRemove(this),delete this._layers[l],this._loaded&&(this.fire("layerremove",{layer:o}),o.fire("remove")),o._map=o._mapToAdd=null,this):this},hasLayer:function(o){return u(o)in this._layers},eachLayer:function(o,l){for(var h in this._layers)o.call(l,this._layers[h]);return this},_addLayers:function(o){o=o?P(o)?o:[o]:[];for(var l=0,h=o.length;l<h;l++)this.addLayer(o[l])},_addZoomLimit:function(o){(!isNaN(o.options.maxZoom)||!isNaN(o.options.minZoom))&&(this._zoomBoundLayers[u(o)]=o,this._updateZoomLevels())},_removeZoomLimit:function(o){var l=u(o);this._zoomBoundLayers[l]&&(delete this._zoomBoundLayers[l],this._updateZoomLevels())},_updateZoomLevels:function(){var o=1/0,l=-1/0,h=this._getZoomSpan();for(var f in this._zoomBoundLayers){var g=this._zoomBoundLayers[f].options;o=g.minZoom===void 0?o:Math.min(o,g.minZoom),l=g.maxZoom===void 0?l:Math.max(l,g.maxZoom)}this._layersMaxZoom=l===-1/0?void 0:l,this._layersMinZoom=o===1/0?void 0:o,h!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Ms=Dn.extend({initialize:function(o,l){T(this,l),this._layers={};var h,f;if(o)for(h=0,f=o.length;h<f;h++)this.addLayer(o[h])},addLayer:function(o){var l=this.getLayerId(o);return this._layers[l]=o,this._map&&this._map.addLayer(o),this},removeLayer:function(o){var l=o in this._layers?o:this.getLayerId(o);return this._map&&this._layers[l]&&this._map.removeLayer(this._layers[l]),delete this._layers[l],this},hasLayer:function(o){var l=typeof o=="number"?o:this.getLayerId(o);return l in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(o){var l=Array.prototype.slice.call(arguments,1),h,f;for(h in this._layers)f=this._layers[h],f[o]&&f[o].apply(f,l);return this},onAdd:function(o){this.eachLayer(o.addLayer,o)},onRemove:function(o){this.eachLayer(o.removeLayer,o)},eachLayer:function(o,l){for(var h in this._layers)o.call(l,this._layers[h]);return this},getLayer:function(o){return this._layers[o]},getLayers:function(){var o=[];return this.eachLayer(o.push,o),o},setZIndex:function(o){return this.invoke("setZIndex",o)},getLayerId:function(o){return u(o)}}),JR=function(o,l){return new Ms(o,l)},wr=Ms.extend({addLayer:function(o){return this.hasLayer(o)?this:(o.addEventParent(this),Ms.prototype.addLayer.call(this,o),this.fire("layeradd",{layer:o}))},removeLayer:function(o){return this.hasLayer(o)?(o in this._layers&&(o=this._layers[o]),o.removeEventParent(this),Ms.prototype.removeLayer.call(this,o),this.fire("layerremove",{layer:o})):this},setStyle:function(o){return this.invoke("setStyle",o)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var o=new Pe;for(var l in this._layers){var h=this._layers[l];o.extend(h.getBounds?h.getBounds():h.getLatLng())}return o}}),eA=function(o,l){return new wr(o,l)},Ns=Fe.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(o){T(this,o)},createIcon:function(o){return this._createIcon("icon",o)},createShadow:function(o){return this._createIcon("shadow",o)},_createIcon:function(o,l){var h=this._getIconUrl(o);if(!h){if(o==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var f=this._createImg(h,l&&l.tagName==="IMG"?l:null);return this._setIconStyles(f,o),(this.options.crossOrigin||this.options.crossOrigin==="")&&(f.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),f},_setIconStyles:function(o,l){var h=this.options,f=h[l+"Size"];typeof f=="number"&&(f=[f,f]);var g=B(f),_=B(l==="shadow"&&h.shadowAnchor||h.iconAnchor||g&&g.divideBy(2,!0));o.className="leaflet-marker-"+l+" "+(h.className||""),_&&(o.style.marginLeft=-_.x+"px",o.style.marginTop=-_.y+"px"),g&&(o.style.width=g.x+"px",o.style.height=g.y+"px")},_createImg:function(o,l){return l=l||document.createElement("img"),l.src=o,l},_getIconUrl:function(o){return Y.retina&&this.options[o+"RetinaUrl"]||this.options[o+"Url"]}});function tA(o){return new Ns(o)}var da=Ns.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(o){return typeof da.imagePath!="string"&&(da.imagePath=this._detectIconPath()),(this.options.imagePath||da.imagePath)+Ns.prototype._getIconUrl.call(this,o)},_stripUrl:function(o){var l=function(h,f,g){var _=f.exec(h);return _&&_[g]};return o=l(o,/^url\((['"])?(.+)\1\)$/,2),o&&l(o,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var o=xe("div","leaflet-default-icon-path",document.body),l=sa(o,"background-image")||sa(o,"backgroundImage");if(document.body.removeChild(o),l=this._stripUrl(l),l)return l;var h=document.querySelector('link[href$="leaflet.css"]');return h?h.href.substring(0,h.href.length-11-1):""}}),G1=Xn.extend({initialize:function(o){this._marker=o},addHooks:function(){var o=this._marker._icon;this._draggable||(this._draggable=new Xr(o,o,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),ge(o,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&tt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(o){var l=this._marker,h=l._map,f=this._marker.options.autoPanSpeed,g=this._marker.options.autoPanPadding,_=Hi(l._icon),b=h.getPixelBounds(),k=h.getPixelOrigin(),N=te(b.min._subtract(k).add(g),b.max._subtract(k).subtract(g));if(!N.contains(_)){var j=B((Math.max(N.max.x,_.x)-N.max.x)/(b.max.x-N.max.x)-(Math.min(N.min.x,_.x)-N.min.x)/(b.min.x-N.min.x),(Math.max(N.max.y,_.y)-N.max.y)/(b.max.y-N.max.y)-(Math.min(N.min.y,_.y)-N.min.y)/(b.min.y-N.min.y)).multiplyBy(f);h.panBy(j,{animate:!1}),this._draggable._newPos._add(j),this._draggable._startPos._add(j),it(l._icon,this._draggable._newPos),this._onDrag(o),this._panRequest=le(this._adjustPan.bind(this,o))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(o){this._marker.options.autoPan&&(ve(this._panRequest),this._panRequest=le(this._adjustPan.bind(this,o)))},_onDrag:function(o){var l=this._marker,h=l._shadow,f=Hi(l._icon),g=l._map.layerPointToLatLng(f);h&&it(h,f),l._latlng=g,o.latlng=g,o.oldLatLng=this._oldLatLng,l.fire("move",o).fire("drag",o)},_onDragEnd:function(o){ve(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",o)}}),Bu=Dn.extend({options:{icon:new da,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(o,l){T(this,l),this._latlng=X(o)},onAdd:function(o){this._zoomAnimated=this._zoomAnimated&&o.options.markerZoomAnimation,this._zoomAnimated&&o.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(o){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&o.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(o){var l=this._latlng;return this._latlng=X(o),this.update(),this.fire("move",{oldLatLng:l,latlng:this._latlng})},setZIndexOffset:function(o){return this.options.zIndexOffset=o,this.update()},getIcon:function(){return this.options.icon},setIcon:function(o){return this.options.icon=o,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var o=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(o)}return this},_initIcon:function(){var o=this.options,l="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),h=o.icon.createIcon(this._icon),f=!1;h!==this._icon&&(this._icon&&this._removeIcon(),f=!0,o.title&&(h.title=o.title),h.tagName==="IMG"&&(h.alt=o.alt||"")),ge(h,l),o.keyboard&&(h.tabIndex="0",h.setAttribute("role","button")),this._icon=h,o.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&pe(h,"focus",this._panOnFocus,this);var g=o.icon.createShadow(this._shadow),_=!1;g!==this._shadow&&(this._removeShadow(),_=!0),g&&(ge(g,l),g.alt=""),this._shadow=g,o.opacity<1&&this._updateOpacity(),f&&this.getPane().appendChild(this._icon),this._initInteraction(),g&&_&&this.getPane(o.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ne(this._icon,"focus",this._panOnFocus,this),qe(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&qe(this._shadow),this._shadow=null},_setPos:function(o){this._icon&&it(this._icon,o),this._shadow&&it(this._shadow,o),this._zIndex=o.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(o){this._icon&&(this._icon.style.zIndex=this._zIndex+o)},_animateZoom:function(o){var l=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center).round();this._setPos(l)},_initInteraction:function(){if(this.options.interactive&&(ge(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),G1)){var o=this.options.draggable;this.dragging&&(o=this.dragging.enabled(),this.dragging.disable()),this.dragging=new G1(this),o&&this.dragging.enable()}},setOpacity:function(o){return this.options.opacity=o,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var o=this.options.opacity;this._icon&&In(this._icon,o),this._shadow&&In(this._shadow,o)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var o=this._map;if(o){var l=this.options.icon.options,h=l.iconSize?B(l.iconSize):B(0,0),f=l.iconAnchor?B(l.iconAnchor):B(0,0);o.panInside(this._latlng,{paddingTopLeft:f,paddingBottomRight:h.subtract(f)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function nA(o,l){return new Bu(o,l)}var Jr=Dn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(o){this._renderer=o.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(o){return T(this,o),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&o&&Object.prototype.hasOwnProperty.call(o,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Uu=Jr.extend({options:{fill:!0,radius:10},initialize:function(o,l){T(this,l),this._latlng=X(o),this._radius=this.options.radius},setLatLng:function(o){var l=this._latlng;return this._latlng=X(o),this.redraw(),this.fire("move",{oldLatLng:l,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(o){return this.options.radius=this._radius=o,this.redraw()},getRadius:function(){return this._radius},setStyle:function(o){var l=o&&o.radius||this._radius;return Jr.prototype.setStyle.call(this,o),this.setRadius(l),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var o=this._radius,l=this._radiusY||o,h=this._clickTolerance(),f=[o+h,l+h];this._pxBounds=new ie(this._point.subtract(f),this._point.add(f))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(o){return o.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function rA(o,l){return new Uu(o,l)}var _p=Uu.extend({initialize:function(o,l,h){if(typeof l=="number"&&(l=i({},h,{radius:l})),T(this,l),this._latlng=X(o),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(o){return this._mRadius=o,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var o=[this._radius,this._radiusY||this._radius];return new Pe(this._map.layerPointToLatLng(this._point.subtract(o)),this._map.layerPointToLatLng(this._point.add(o)))},setStyle:Jr.prototype.setStyle,_project:function(){var o=this._latlng.lng,l=this._latlng.lat,h=this._map,f=h.options.crs;if(f.distance===vt.distance){var g=Math.PI/180,_=this._mRadius/vt.R/g,b=h.project([l+_,o]),k=h.project([l-_,o]),N=b.add(k).divideBy(2),j=h.unproject(N).lat,W=Math.acos((Math.cos(_*g)-Math.sin(l*g)*Math.sin(j*g))/(Math.cos(l*g)*Math.cos(j*g)))/g;(isNaN(W)||W===0)&&(W=_/Math.cos(Math.PI/180*l)),this._point=N.subtract(h.getPixelOrigin()),this._radius=isNaN(W)?0:N.x-h.project([j,o-W]).x,this._radiusY=N.y-b.y}else{var ae=f.unproject(f.project(this._latlng).subtract([this._mRadius,0]));this._point=h.latLngToLayerPoint(this._latlng),this._radius=this._point.x-h.latLngToLayerPoint(ae).x}this._updateBounds()}});function iA(o,l,h){return new _p(o,l,h)}var Er=Jr.extend({options:{smoothFactor:1,noClip:!1},initialize:function(o,l){T(this,l),this._setLatLngs(o)},getLatLngs:function(){return this._latlngs},setLatLngs:function(o){return this._setLatLngs(o),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(o){for(var l=1/0,h=null,f=ha,g,_,b=0,k=this._parts.length;b<k;b++)for(var N=this._parts[b],j=1,W=N.length;j<W;j++){g=N[j-1],_=N[j];var ae=f(o,g,_,!0);ae<l&&(l=ae,h=f(o,g,_))}return h&&(h.distance=Math.sqrt(l)),h},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return W1(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(o,l){return l=l||this._defaultShape(),o=X(o),l.push(o),this._bounds.extend(o),this.redraw()},_setLatLngs:function(o){this._bounds=new Pe,this._latlngs=this._convertLatLngs(o)},_defaultShape:function(){return Pn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(o){for(var l=[],h=Pn(o),f=0,g=o.length;f<g;f++)h?(l[f]=X(o[f]),this._bounds.extend(l[f])):l[f]=this._convertLatLngs(o[f]);return l},_project:function(){var o=new ie;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,o),this._bounds.isValid()&&o.isValid()&&(this._rawPxBounds=o,this._updateBounds())},_updateBounds:function(){var o=this._clickTolerance(),l=new V(o,o);this._rawPxBounds&&(this._pxBounds=new ie([this._rawPxBounds.min.subtract(l),this._rawPxBounds.max.add(l)]))},_projectLatlngs:function(o,l,h){var f=o[0]instanceof me,g=o.length,_,b;if(f){for(b=[],_=0;_<g;_++)b[_]=this._map.latLngToLayerPoint(o[_]),h.extend(b[_]);l.push(b)}else for(_=0;_<g;_++)this._projectLatlngs(o[_],l,h)},_clipPoints:function(){var o=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(o))){if(this.options.noClip){this._parts=this._rings;return}var l=this._parts,h,f,g,_,b,k,N;for(h=0,g=0,_=this._rings.length;h<_;h++)for(N=this._rings[h],f=0,b=N.length;f<b-1;f++)k=U1(N[f],N[f+1],o,f,!0),k&&(l[g]=l[g]||[],l[g].push(k[0]),(k[1]!==N[f+1]||f===b-2)&&(l[g].push(k[1]),g++))}},_simplifyPoints:function(){for(var o=this._parts,l=this.options.smoothFactor,h=0,f=o.length;h<f;h++)o[h]=j1(o[h],l)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(o,l){var h,f,g,_,b,k,N=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(o))return!1;for(h=0,_=this._parts.length;h<_;h++)for(k=this._parts[h],f=0,b=k.length,g=b-1;f<b;g=f++)if(!(!l&&f===0)&&$1(o,k[g],k[f])<=N)return!0;return!1}});function sA(o,l){return new Er(o,l)}Er._flat=H1;var Ds=Er.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return z1(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(o){var l=Er.prototype._convertLatLngs.call(this,o),h=l.length;return h>=2&&l[0]instanceof me&&l[0].equals(l[h-1])&&l.pop(),l},_setLatLngs:function(o){Er.prototype._setLatLngs.call(this,o),Pn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Pn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var o=this._renderer._bounds,l=this.options.weight,h=new V(l,l);if(o=new ie(o.min.subtract(h),o.max.add(h)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(o))){if(this.options.noClip){this._parts=this._rings;return}for(var f=0,g=this._rings.length,_;f<g;f++)_=F1(this._rings[f],o,!0),_.length&&this._parts.push(_)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(o){var l=!1,h,f,g,_,b,k,N,j;if(!this._pxBounds||!this._pxBounds.contains(o))return!1;for(_=0,N=this._parts.length;_<N;_++)for(h=this._parts[_],b=0,j=h.length,k=j-1;b<j;k=b++)f=h[b],g=h[k],f.y>o.y!=g.y>o.y&&o.x<(g.x-f.x)*(o.y-f.y)/(g.y-f.y)+f.x&&(l=!l);return l||Er.prototype._containsPoint.call(this,o,!0)}});function oA(o,l){return new Ds(o,l)}var Tr=wr.extend({initialize:function(o,l){T(this,l),this._layers={},o&&this.addData(o)},addData:function(o){var l=P(o)?o:o.features,h,f,g;if(l){for(h=0,f=l.length;h<f;h++)g=l[h],(g.geometries||g.geometry||g.features||g.coordinates)&&this.addData(g);return this}var _=this.options;if(_.filter&&!_.filter(o))return this;var b=Hu(o,_);return b?(b.feature=Gu(o),b.defaultOptions=b.options,this.resetStyle(b),_.onEachFeature&&_.onEachFeature(o,b),this.addLayer(b)):this},resetStyle:function(o){return o===void 0?this.eachLayer(this.resetStyle,this):(o.options=i({},o.defaultOptions),this._setLayerStyle(o,this.options.style),this)},setStyle:function(o){return this.eachLayer(function(l){this._setLayerStyle(l,o)},this)},_setLayerStyle:function(o,l){o.setStyle&&(typeof l=="function"&&(l=l(o.feature)),o.setStyle(l))}});function Hu(o,l){var h=o.type==="Feature"?o.geometry:o,f=h?h.coordinates:null,g=[],_=l&&l.pointToLayer,b=l&&l.coordsToLatLng||yp,k,N,j,W;if(!f&&!h)return null;switch(h.type){case"Point":return k=b(f),K1(_,o,k,l);case"MultiPoint":for(j=0,W=f.length;j<W;j++)k=b(f[j]),g.push(K1(_,o,k,l));return new wr(g);case"LineString":case"MultiLineString":return N=Wu(f,h.type==="LineString"?0:1,b),new Er(N,l);case"Polygon":case"MultiPolygon":return N=Wu(f,h.type==="Polygon"?1:2,b),new Ds(N,l);case"GeometryCollection":for(j=0,W=h.geometries.length;j<W;j++){var ae=Hu({geometry:h.geometries[j],type:"Feature",properties:o.properties},l);ae&&g.push(ae)}return new wr(g);case"FeatureCollection":for(j=0,W=h.features.length;j<W;j++){var ye=Hu(h.features[j],l);ye&&g.push(ye)}return new wr(g);default:throw new Error("Invalid GeoJSON object.")}}function K1(o,l,h,f){return o?o(l,h):new Bu(h,f&&f.markersInheritOptions&&f)}function yp(o){return new me(o[1],o[0],o[2])}function Wu(o,l,h){for(var f=[],g=0,_=o.length,b;g<_;g++)b=l?Wu(o[g],l-1,h):(h||yp)(o[g]),f.push(b);return f}function wp(o,l){return o=X(o),o.alt!==void 0?[v(o.lng,l),v(o.lat,l),v(o.alt,l)]:[v(o.lng,l),v(o.lat,l)]}function qu(o,l,h,f){for(var g=[],_=0,b=o.length;_<b;_++)g.push(l?qu(o[_],Pn(o[_])?0:l-1,h,f):wp(o[_],f));return!l&&h&&g.length>0&&g.push(g[0].slice()),g}function Vs(o,l){return o.feature?i({},o.feature,{geometry:l}):Gu(l)}function Gu(o){return o.type==="Feature"||o.type==="FeatureCollection"?o:{type:"Feature",properties:{},geometry:o}}var Ep={toGeoJSON:function(o){return Vs(this,{type:"Point",coordinates:wp(this.getLatLng(),o)})}};Bu.include(Ep),_p.include(Ep),Uu.include(Ep),Er.include({toGeoJSON:function(o){var l=!Pn(this._latlngs),h=qu(this._latlngs,l?1:0,!1,o);return Vs(this,{type:(l?"Multi":"")+"LineString",coordinates:h})}}),Ds.include({toGeoJSON:function(o){var l=!Pn(this._latlngs),h=l&&!Pn(this._latlngs[0]),f=qu(this._latlngs,h?2:l?1:0,!0,o);return l||(f=[f]),Vs(this,{type:(h?"Multi":"")+"Polygon",coordinates:f})}}),Ms.include({toMultiPoint:function(o){var l=[];return this.eachLayer(function(h){l.push(h.toGeoJSON(o).geometry.coordinates)}),Vs(this,{type:"MultiPoint",coordinates:l})},toGeoJSON:function(o){var l=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(l==="MultiPoint")return this.toMultiPoint(o);var h=l==="GeometryCollection",f=[];return this.eachLayer(function(g){if(g.toGeoJSON){var _=g.toGeoJSON(o);if(h)f.push(_.geometry);else{var b=Gu(_);b.type==="FeatureCollection"?f.push.apply(f,b.features):f.push(b)}}}),h?Vs(this,{geometries:f,type:"GeometryCollection"}):{type:"FeatureCollection",features:f}}});function Z1(o,l){return new Tr(o,l)}var aA=Z1,Ku=Dn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(o,l,h){this._url=o,this._bounds=_e(l),T(this,h)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(ge(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){qe(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(o){return this.options.opacity=o,this._image&&this._updateOpacity(),this},setStyle:function(o){return o.opacity&&this.setOpacity(o.opacity),this},bringToFront:function(){return this._map&&Os(this._image),this},bringToBack:function(){return this._map&&Ls(this._image),this},setUrl:function(o){return this._url=o,this._image&&(this._image.src=o),this},setBounds:function(o){return this._bounds=_e(o),this._map&&this._reset(),this},getEvents:function(){var o={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},setZIndex:function(o){return this.options.zIndex=o,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var o=this._url.tagName==="IMG",l=this._image=o?this._url:xe("img");if(ge(l,"leaflet-image-layer"),this._zoomAnimated&&ge(l,"leaflet-zoom-animated"),this.options.className&&ge(l,this.options.className),l.onselectstart=m,l.onmousemove=m,l.onload=a(this.fire,this,"load"),l.onerror=a(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(l.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),o){this._url=l.src;return}l.src=this._url,l.alt=this.options.alt},_animateZoom:function(o){var l=this._map.getZoomScale(o.zoom),h=this._map._latLngBoundsToNewLayerBounds(this._bounds,o.zoom,o.center).min;Ui(this._image,h,l)},_reset:function(){var o=this._image,l=new ie(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),h=l.getSize();it(o,l.min),o.style.width=h.x+"px",o.style.height=h.y+"px"},_updateOpacity:function(){In(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var o=this.options.errorOverlayUrl;o&&this._url!==o&&(this._url=o,this._image.src=o)},getCenter:function(){return this._bounds.getCenter()}}),lA=function(o,l,h){return new Ku(o,l,h)},Q1=Ku.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var o=this._url.tagName==="VIDEO",l=this._image=o?this._url:xe("video");if(ge(l,"leaflet-image-layer"),this._zoomAnimated&&ge(l,"leaflet-zoom-animated"),this.options.className&&ge(l,this.options.className),l.onselectstart=m,l.onmousemove=m,l.onloadeddata=a(this.fire,this,"load"),o){for(var h=l.getElementsByTagName("source"),f=[],g=0;g<h.length;g++)f.push(h[g].src);this._url=h.length>0?f:[l.src];return}P(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(l.style,"objectFit")&&(l.style.objectFit="fill"),l.autoplay=!!this.options.autoplay,l.loop=!!this.options.loop,l.muted=!!this.options.muted,l.playsInline=!!this.options.playsInline;for(var _=0;_<this._url.length;_++){var b=xe("source");b.src=this._url[_],l.appendChild(b)}}});function uA(o,l,h){return new Q1(o,l,h)}var Y1=Ku.extend({_initImage:function(){var o=this._image=this._url;ge(o,"leaflet-image-layer"),this._zoomAnimated&&ge(o,"leaflet-zoom-animated"),this.options.className&&ge(o,this.options.className),o.onselectstart=m,o.onmousemove=m}});function cA(o,l,h){return new Y1(o,l,h)}var Jn=Dn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(o,l){o&&(o instanceof me||P(o))?(this._latlng=X(o),T(this,l)):(T(this,o),this._source=l),this.options.content&&(this._content=this.options.content)},openOn:function(o){return o=arguments.length?o:this._source._map,o.hasLayer(this)||o.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(o){return this._map?this.close():(arguments.length?this._source=o:o=this._source,this._prepareOpen(),this.openOn(o._map)),this},onAdd:function(o){this._zoomAnimated=o._zoomAnimated,this._container||this._initLayout(),o._fadeAnimated&&In(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),o._fadeAnimated&&In(this._container,1),this.bringToFront(),this.options.interactive&&(ge(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(o){o._fadeAnimated?(In(this._container,0),this._removeTimeout=setTimeout(a(qe,void 0,this._container),200)):qe(this._container),this.options.interactive&&(tt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(o){return this._latlng=X(o),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(o){return this._content=o,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var o={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Os(this._container),this},bringToBack:function(){return this._map&&Ls(this._container),this},_prepareOpen:function(o){var l=this._source;if(!l._map)return!1;if(l instanceof wr){l=null;var h=this._source._layers;for(var f in h)if(h[f]._map){l=h[f];break}if(!l)return!1;this._source=l}if(!o)if(l.getCenter)o=l.getCenter();else if(l.getLatLng)o=l.getLatLng();else if(l.getBounds)o=l.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(o),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var o=this._contentNode,l=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof l=="string")o.innerHTML=l;else{for(;o.hasChildNodes();)o.removeChild(o.firstChild);o.appendChild(l)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var o=this._map.latLngToLayerPoint(this._latlng),l=B(this.options.offset),h=this._getAnchor();this._zoomAnimated?it(this._container,o.add(h)):l=l.add(o).add(h);var f=this._containerBottom=-l.y,g=this._containerLeft=-Math.round(this._containerWidth/2)+l.x;this._container.style.bottom=f+"px",this._container.style.left=g+"px"}},_getAnchor:function(){return[0,0]}});Se.include({_initOverlay:function(o,l,h,f){var g=l;return g instanceof o||(g=new o(f).setContent(l)),h&&g.setLatLng(h),g}}),Dn.include({_initOverlay:function(o,l,h,f){var g=h;return g instanceof o?(T(g,f),g._source=this):(g=l&&!f?l:new o(f,this),g.setContent(h)),g}});var Zu=Jn.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(o){return o=arguments.length?o:this._source._map,!o.hasLayer(this)&&o._popup&&o._popup.options.autoClose&&o.removeLayer(o._popup),o._popup=this,Jn.prototype.openOn.call(this,o)},onAdd:function(o){Jn.prototype.onAdd.call(this,o),o.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Jr||this._source.on("preclick",Wi))},onRemove:function(o){Jn.prototype.onRemove.call(this,o),o.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Jr||this._source.off("preclick",Wi))},getEvents:function(){var o=Jn.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(o.preclick=this.close),this.options.keepInView&&(o.moveend=this._adjustPan),o},_initLayout:function(){var o="leaflet-popup",l=this._container=xe("div",o+" "+(this.options.className||"")+" leaflet-zoom-animated"),h=this._wrapper=xe("div",o+"-content-wrapper",l);if(this._contentNode=xe("div",o+"-content",h),ua(l),cp(this._contentNode),pe(l,"contextmenu",Wi),this._tipContainer=xe("div",o+"-tip-container",l),this._tip=xe("div",o+"-tip",this._tipContainer),this.options.closeButton){var f=this._closeButton=xe("a",o+"-close-button",l);f.setAttribute("role","button"),f.setAttribute("aria-label","Close popup"),f.href="#close",f.innerHTML='<span aria-hidden="true">&#215;</span>',pe(f,"click",function(g){Pt(g),this.close()},this)}},_updateLayout:function(){var o=this._contentNode,l=o.style;l.width="",l.whiteSpace="nowrap";var h=o.offsetWidth;h=Math.min(h,this.options.maxWidth),h=Math.max(h,this.options.minWidth),l.width=h+1+"px",l.whiteSpace="",l.height="";var f=o.offsetHeight,g=this.options.maxHeight,_="leaflet-popup-scrolled";g&&f>g?(l.height=g+"px",ge(o,_)):tt(o,_),this._containerWidth=this._container.offsetWidth},_animateZoom:function(o){var l=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center),h=this._getAnchor();it(this._container,l.add(h))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var o=this._map,l=parseInt(sa(this._container,"marginBottom"),10)||0,h=this._container.offsetHeight+l,f=this._containerWidth,g=new V(this._containerLeft,-h-this._containerBottom);g._add(Hi(this._container));var _=o.layerPointToContainerPoint(g),b=B(this.options.autoPanPadding),k=B(this.options.autoPanPaddingTopLeft||b),N=B(this.options.autoPanPaddingBottomRight||b),j=o.getSize(),W=0,ae=0;_.x+f+N.x>j.x&&(W=_.x+f-j.x+N.x),_.x-W-k.x<0&&(W=_.x-k.x),_.y+h+N.y>j.y&&(ae=_.y+h-j.y+N.y),_.y-ae-k.y<0&&(ae=_.y-k.y),(W||ae)&&(this.options.keepInView&&(this._autopanning=!0),o.fire("autopanstart").panBy([W,ae]))}},_getAnchor:function(){return B(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),hA=function(o,l){return new Zu(o,l)};Se.mergeOptions({closePopupOnClick:!0}),Se.include({openPopup:function(o,l,h){return this._initOverlay(Zu,o,l,h).openOn(this),this},closePopup:function(o){return o=arguments.length?o:this._popup,o&&o.close(),this}}),Dn.include({bindPopup:function(o,l){return this._popup=this._initOverlay(Zu,this._popup,o,l),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(o){return this._popup&&(this instanceof wr||(this._popup._source=this),this._popup._prepareOpen(o||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(o){return this._popup&&this._popup.setContent(o),this},getPopup:function(){return this._popup},_openPopup:function(o){if(!(!this._popup||!this._map)){qi(o);var l=o.layer||o.target;if(this._popup._source===l&&!(l instanceof Jr)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(o.latlng);return}this._popup._source=l,this.openPopup(o.latlng)}},_movePopup:function(o){this._popup.setLatLng(o.latlng)},_onKeyPress:function(o){o.originalEvent.keyCode===13&&this._openPopup(o)}});var Qu=Jn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(o){Jn.prototype.onAdd.call(this,o),this.setOpacity(this.options.opacity),o.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(o){Jn.prototype.onRemove.call(this,o),o.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var o=Jn.prototype.getEvents.call(this);return this.options.permanent||(o.preclick=this.close),o},_initLayout:function(){var o="leaflet-tooltip",l=o+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=xe("div",l),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+u(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(o){var l,h,f=this._map,g=this._container,_=f.latLngToContainerPoint(f.getCenter()),b=f.layerPointToContainerPoint(o),k=this.options.direction,N=g.offsetWidth,j=g.offsetHeight,W=B(this.options.offset),ae=this._getAnchor();k==="top"?(l=N/2,h=j):k==="bottom"?(l=N/2,h=0):k==="center"?(l=N/2,h=j/2):k==="right"?(l=0,h=j/2):k==="left"?(l=N,h=j/2):b.x<_.x?(k="right",l=0,h=j/2):(k="left",l=N+(W.x+ae.x)*2,h=j/2),o=o.subtract(B(l,h,!0)).add(W).add(ae),tt(g,"leaflet-tooltip-right"),tt(g,"leaflet-tooltip-left"),tt(g,"leaflet-tooltip-top"),tt(g,"leaflet-tooltip-bottom"),ge(g,"leaflet-tooltip-"+k),it(g,o)},_updatePosition:function(){var o=this._map.latLngToLayerPoint(this._latlng);this._setPosition(o)},setOpacity:function(o){this.options.opacity=o,this._container&&In(this._container,o)},_animateZoom:function(o){var l=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center);this._setPosition(l)},_getAnchor:function(){return B(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),dA=function(o,l){return new Qu(o,l)};Se.include({openTooltip:function(o,l,h){return this._initOverlay(Qu,o,l,h).openOn(this),this},closeTooltip:function(o){return o.close(),this}}),Dn.include({bindTooltip:function(o,l){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Qu,this._tooltip,o,l),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(o){if(!(!o&&this._tooltipHandlersAdded)){var l=o?"off":"on",h={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?h.add=this._openTooltip:(h.mouseover=this._openTooltip,h.mouseout=this.closeTooltip,h.click=this._openTooltip,this._map?this._addFocusListeners():h.add=this._addFocusListeners),this._tooltip.options.sticky&&(h.mousemove=this._moveTooltip),this[l](h),this._tooltipHandlersAdded=!o}},openTooltip:function(o){return this._tooltip&&(this instanceof wr||(this._tooltip._source=this),this._tooltip._prepareOpen(o)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(o){return this._tooltip&&this._tooltip.setContent(o),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(o){var l=typeof o.getElement=="function"&&o.getElement();l&&(pe(l,"focus",function(){this._tooltip._source=o,this.openTooltip()},this),pe(l,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(o){var l=typeof o.getElement=="function"&&o.getElement();l&&l.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(o){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var l=this;this._map.once("moveend",function(){l._openOnceFlag=!1,l._openTooltip(o)});return}this._tooltip._source=o.layer||o.target,this.openTooltip(this._tooltip.options.sticky?o.latlng:void 0)}},_moveTooltip:function(o){var l=o.latlng,h,f;this._tooltip.options.sticky&&o.originalEvent&&(h=this._map.mouseEventToContainerPoint(o.originalEvent),f=this._map.containerPointToLayerPoint(h),l=this._map.layerPointToLatLng(f)),this._tooltip.setLatLng(l)}});var X1=Ns.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(o){var l=o&&o.tagName==="DIV"?o:document.createElement("div"),h=this.options;if(h.html instanceof Element?(Du(l),l.appendChild(h.html)):l.innerHTML=h.html!==!1?h.html:"",h.bgPos){var f=B(h.bgPos);l.style.backgroundPosition=-f.x+"px "+-f.y+"px"}return this._setIconStyles(l,"icon"),l},createShadow:function(){return null}});function fA(o){return new X1(o)}Ns.Default=da;var fa=Dn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Y.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(o){T(this,o)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(o){o._addZoomLimit(this)},onRemove:function(o){this._removeAllTiles(),qe(this._container),o._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Os(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Ls(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(o){return this.options.opacity=o,this._updateOpacity(),this},setZIndex:function(o){return this.options.zIndex=o,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var o=this._clampZoom(this._map.getZoom());o!==this._tileZoom&&(this._tileZoom=o,this._updateLevels()),this._update()}return this},getEvents:function(){var o={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=d(this._onMoveEnd,this.options.updateInterval,this)),o.move=this._onMove),this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},createTile:function(){return document.createElement("div")},getTileSize:function(){var o=this.options.tileSize;return o instanceof V?o:new V(o,o)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(o){for(var l=this.getPane().children,h=-o(-1/0,1/0),f=0,g=l.length,_;f<g;f++)_=l[f].style.zIndex,l[f]!==this._container&&_&&(h=o(h,+_));isFinite(h)&&(this.options.zIndex=h+o(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Y.ielt9){In(this._container,this.options.opacity);var o=+new Date,l=!1,h=!1;for(var f in this._tiles){var g=this._tiles[f];if(!(!g.current||!g.loaded)){var _=Math.min(1,(o-g.loaded)/200);In(g.el,_),_<1?l=!0:(g.active?h=!0:this._onOpaqueTile(g),g.active=!0)}}h&&!this._noPrune&&this._pruneTiles(),l&&(ve(this._fadeFrame),this._fadeFrame=le(this._updateOpacity,this))}},_onOpaqueTile:m,_initContainer:function(){this._container||(this._container=xe("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var o=this._tileZoom,l=this.options.maxZoom;if(o!==void 0){for(var h in this._levels)h=Number(h),this._levels[h].el.children.length||h===o?(this._levels[h].el.style.zIndex=l-Math.abs(o-h),this._onUpdateLevel(h)):(qe(this._levels[h].el),this._removeTilesAtZoom(h),this._onRemoveLevel(h),delete this._levels[h]);var f=this._levels[o],g=this._map;return f||(f=this._levels[o]={},f.el=xe("div","leaflet-tile-container leaflet-zoom-animated",this._container),f.el.style.zIndex=l,f.origin=g.project(g.unproject(g.getPixelOrigin()),o).round(),f.zoom=o,this._setZoomTransform(f,g.getCenter(),g.getZoom()),m(f.el.offsetWidth),this._onCreateLevel(f)),this._level=f,f}},_onUpdateLevel:m,_onRemoveLevel:m,_onCreateLevel:m,_pruneTiles:function(){if(this._map){var o,l,h=this._map.getZoom();if(h>this.options.maxZoom||h<this.options.minZoom){this._removeAllTiles();return}for(o in this._tiles)l=this._tiles[o],l.retain=l.current;for(o in this._tiles)if(l=this._tiles[o],l.current&&!l.active){var f=l.coords;this._retainParent(f.x,f.y,f.z,f.z-5)||this._retainChildren(f.x,f.y,f.z,f.z+2)}for(o in this._tiles)this._tiles[o].retain||this._removeTile(o)}},_removeTilesAtZoom:function(o){for(var l in this._tiles)this._tiles[l].coords.z===o&&this._removeTile(l)},_removeAllTiles:function(){for(var o in this._tiles)this._removeTile(o)},_invalidateAll:function(){for(var o in this._levels)qe(this._levels[o].el),this._onRemoveLevel(Number(o)),delete this._levels[o];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(o,l,h,f){var g=Math.floor(o/2),_=Math.floor(l/2),b=h-1,k=new V(+g,+_);k.z=+b;var N=this._tileCoordsToKey(k),j=this._tiles[N];return j&&j.active?(j.retain=!0,!0):(j&&j.loaded&&(j.retain=!0),b>f?this._retainParent(g,_,b,f):!1)},_retainChildren:function(o,l,h,f){for(var g=2*o;g<2*o+2;g++)for(var _=2*l;_<2*l+2;_++){var b=new V(g,_);b.z=h+1;var k=this._tileCoordsToKey(b),N=this._tiles[k];if(N&&N.active){N.retain=!0;continue}else N&&N.loaded&&(N.retain=!0);h+1<f&&this._retainChildren(g,_,h+1,f)}},_resetView:function(o){var l=o&&(o.pinch||o.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),l,l)},_animateZoom:function(o){this._setView(o.center,o.zoom,!0,o.noUpdate)},_clampZoom:function(o){var l=this.options;return l.minNativeZoom!==void 0&&o<l.minNativeZoom?l.minNativeZoom:l.maxNativeZoom!==void 0&&l.maxNativeZoom<o?l.maxNativeZoom:o},_setView:function(o,l,h,f){var g=Math.round(l);this.options.maxZoom!==void 0&&g>this.options.maxZoom||this.options.minZoom!==void 0&&g<this.options.minZoom?g=void 0:g=this._clampZoom(g);var _=this.options.updateWhenZooming&&g!==this._tileZoom;(!f||_)&&(this._tileZoom=g,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),g!==void 0&&this._update(o),h||this._pruneTiles(),this._noPrune=!!h),this._setZoomTransforms(o,l)},_setZoomTransforms:function(o,l){for(var h in this._levels)this._setZoomTransform(this._levels[h],o,l)},_setZoomTransform:function(o,l,h){var f=this._map.getZoomScale(h,o.zoom),g=o.origin.multiplyBy(f).subtract(this._map._getNewPixelOrigin(l,h)).round();Y.any3d?Ui(o.el,g,f):it(o.el,g)},_resetGrid:function(){var o=this._map,l=o.options.crs,h=this._tileSize=this.getTileSize(),f=this._tileZoom,g=this._map.getPixelWorldBounds(this._tileZoom);g&&(this._globalTileRange=this._pxBoundsToTileRange(g)),this._wrapX=l.wrapLng&&!this.options.noWrap&&[Math.floor(o.project([0,l.wrapLng[0]],f).x/h.x),Math.ceil(o.project([0,l.wrapLng[1]],f).x/h.y)],this._wrapY=l.wrapLat&&!this.options.noWrap&&[Math.floor(o.project([l.wrapLat[0],0],f).y/h.x),Math.ceil(o.project([l.wrapLat[1],0],f).y/h.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(o){var l=this._map,h=l._animatingZoom?Math.max(l._animateToZoom,l.getZoom()):l.getZoom(),f=l.getZoomScale(h,this._tileZoom),g=l.project(o,this._tileZoom).floor(),_=l.getSize().divideBy(f*2);return new ie(g.subtract(_),g.add(_))},_update:function(o){var l=this._map;if(l){var h=this._clampZoom(l.getZoom());if(o===void 0&&(o=l.getCenter()),this._tileZoom!==void 0){var f=this._getTiledPixelBounds(o),g=this._pxBoundsToTileRange(f),_=g.getCenter(),b=[],k=this.options.keepBuffer,N=new ie(g.getBottomLeft().subtract([k,-k]),g.getTopRight().add([k,-k]));if(!(isFinite(g.min.x)&&isFinite(g.min.y)&&isFinite(g.max.x)&&isFinite(g.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var j in this._tiles){var W=this._tiles[j].coords;(W.z!==this._tileZoom||!N.contains(new V(W.x,W.y)))&&(this._tiles[j].current=!1)}if(Math.abs(h-this._tileZoom)>1){this._setView(o,h);return}for(var ae=g.min.y;ae<=g.max.y;ae++)for(var ye=g.min.x;ye<=g.max.x;ye++){var Kt=new V(ye,ae);if(Kt.z=this._tileZoom,!!this._isValidTile(Kt)){var _t=this._tiles[this._tileCoordsToKey(Kt)];_t?_t.current=!0:b.push(Kt)}}if(b.sort(function(en,zs){return en.distanceTo(_)-zs.distanceTo(_)}),b.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Cn=document.createDocumentFragment();for(ye=0;ye<b.length;ye++)this._addTile(b[ye],Cn);this._level.el.appendChild(Cn)}}}},_isValidTile:function(o){var l=this._map.options.crs;if(!l.infinite){var h=this._globalTileRange;if(!l.wrapLng&&(o.x<h.min.x||o.x>h.max.x)||!l.wrapLat&&(o.y<h.min.y||o.y>h.max.y))return!1}if(!this.options.bounds)return!0;var f=this._tileCoordsToBounds(o);return _e(this.options.bounds).overlaps(f)},_keyToBounds:function(o){return this._tileCoordsToBounds(this._keyToTileCoords(o))},_tileCoordsToNwSe:function(o){var l=this._map,h=this.getTileSize(),f=o.scaleBy(h),g=f.add(h),_=l.unproject(f,o.z),b=l.unproject(g,o.z);return[_,b]},_tileCoordsToBounds:function(o){var l=this._tileCoordsToNwSe(o),h=new Pe(l[0],l[1]);return this.options.noWrap||(h=this._map.wrapLatLngBounds(h)),h},_tileCoordsToKey:function(o){return o.x+":"+o.y+":"+o.z},_keyToTileCoords:function(o){var l=o.split(":"),h=new V(+l[0],+l[1]);return h.z=+l[2],h},_removeTile:function(o){var l=this._tiles[o];l&&(qe(l.el),delete this._tiles[o],this.fire("tileunload",{tile:l.el,coords:this._keyToTileCoords(o)}))},_initTile:function(o){ge(o,"leaflet-tile");var l=this.getTileSize();o.style.width=l.x+"px",o.style.height=l.y+"px",o.onselectstart=m,o.onmousemove=m,Y.ielt9&&this.options.opacity<1&&In(o,this.options.opacity)},_addTile:function(o,l){var h=this._getTilePos(o),f=this._tileCoordsToKey(o),g=this.createTile(this._wrapCoords(o),a(this._tileReady,this,o));this._initTile(g),this.createTile.length<2&&le(a(this._tileReady,this,o,null,g)),it(g,h),this._tiles[f]={el:g,coords:o,current:!0},l.appendChild(g),this.fire("tileloadstart",{tile:g,coords:o})},_tileReady:function(o,l,h){l&&this.fire("tileerror",{error:l,tile:h,coords:o});var f=this._tileCoordsToKey(o);h=this._tiles[f],h&&(h.loaded=+new Date,this._map._fadeAnimated?(In(h.el,0),ve(this._fadeFrame),this._fadeFrame=le(this._updateOpacity,this)):(h.active=!0,this._pruneTiles()),l||(ge(h.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:h.el,coords:o})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Y.ielt9||!this._map._fadeAnimated?le(this._pruneTiles,this):setTimeout(a(this._pruneTiles,this),250)))},_getTilePos:function(o){return o.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(o){var l=new V(this._wrapX?p(o.x,this._wrapX):o.x,this._wrapY?p(o.y,this._wrapY):o.y);return l.z=o.z,l},_pxBoundsToTileRange:function(o){var l=this.getTileSize();return new ie(o.min.unscaleBy(l).floor(),o.max.unscaleBy(l).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var o in this._tiles)if(!this._tiles[o].loaded)return!1;return!0}});function pA(o){return new fa(o)}var Fs=fa.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(o,l){this._url=o,l=T(this,l),l.detectRetina&&Y.retina&&l.maxZoom>0?(l.tileSize=Math.floor(l.tileSize/2),l.zoomReverse?(l.zoomOffset--,l.minZoom=Math.min(l.maxZoom,l.minZoom+1)):(l.zoomOffset++,l.maxZoom=Math.max(l.minZoom,l.maxZoom-1)),l.minZoom=Math.max(0,l.minZoom)):l.zoomReverse?l.minZoom=Math.min(l.maxZoom,l.minZoom):l.maxZoom=Math.max(l.minZoom,l.maxZoom),typeof l.subdomains=="string"&&(l.subdomains=l.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(o,l){return this._url===o&&l===void 0&&(l=!0),this._url=o,l||this.redraw(),this},createTile:function(o,l){var h=document.createElement("img");return pe(h,"load",a(this._tileOnLoad,this,l,h)),pe(h,"error",a(this._tileOnError,this,l,h)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(h.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(h.referrerPolicy=this.options.referrerPolicy),h.alt="",h.src=this.getTileUrl(o),h},getTileUrl:function(o){var l={r:Y.retina?"@2x":"",s:this._getSubdomain(o),x:o.x,y:o.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var h=this._globalTileRange.max.y-o.y;this.options.tms&&(l.y=h),l["-y"]=h}return E(this._url,i(l,this.options))},_tileOnLoad:function(o,l){Y.ielt9?setTimeout(a(o,this,null,l),0):o(null,l)},_tileOnError:function(o,l,h){var f=this.options.errorTileUrl;f&&l.getAttribute("src")!==f&&(l.src=f),o(h,l)},_onTileRemove:function(o){o.tile.onload=null},_getZoomForUrl:function(){var o=this._tileZoom,l=this.options.maxZoom,h=this.options.zoomReverse,f=this.options.zoomOffset;return h&&(o=l-o),o+f},_getSubdomain:function(o){var l=Math.abs(o.x+o.y)%this.options.subdomains.length;return this.options.subdomains[l]},_abortLoading:function(){var o,l;for(o in this._tiles)if(this._tiles[o].coords.z!==this._tileZoom&&(l=this._tiles[o].el,l.onload=m,l.onerror=m,!l.complete)){l.src=A;var h=this._tiles[o].coords;qe(l),delete this._tiles[o],this.fire("tileabort",{tile:l,coords:h})}},_removeTile:function(o){var l=this._tiles[o];if(l)return l.el.setAttribute("src",A),fa.prototype._removeTile.call(this,o)},_tileReady:function(o,l,h){if(!(!this._map||h&&h.getAttribute("src")===A))return fa.prototype._tileReady.call(this,o,l,h)}});function J1(o,l){return new Fs(o,l)}var e0=Fs.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(o,l){this._url=o;var h=i({},this.defaultWmsParams);for(var f in l)f in this.options||(h[f]=l[f]);l=T(this,l);var g=l.detectRetina&&Y.retina?2:1,_=this.getTileSize();h.width=_.x*g,h.height=_.y*g,this.wmsParams=h},onAdd:function(o){this._crs=this.options.crs||o.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var l=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[l]=this._crs.code,Fs.prototype.onAdd.call(this,o)},getTileUrl:function(o){var l=this._tileCoordsToNwSe(o),h=this._crs,f=te(h.project(l[0]),h.project(l[1])),g=f.min,_=f.max,b=(this._wmsVersion>=1.3&&this._crs===q1?[g.y,g.x,_.y,_.x]:[g.x,g.y,_.x,_.y]).join(","),k=Fs.prototype.getTileUrl.call(this,o);return k+S(this.wmsParams,k,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+b},setParams:function(o,l){return i(this.wmsParams,o),l||this.redraw(),this}});function mA(o,l){return new e0(o,l)}Fs.WMS=e0,J1.wms=mA;var Sr=Dn.extend({options:{padding:.1},initialize:function(o){T(this,o),u(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),ge(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var o={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(o.zoomanim=this._onAnimZoom),o},_onAnimZoom:function(o){this._updateTransform(o.center,o.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(o,l){var h=this._map.getZoomScale(l,this._zoom),f=this._map.getSize().multiplyBy(.5+this.options.padding),g=this._map.project(this._center,l),_=f.multiplyBy(-h).add(g).subtract(this._map._getNewPixelOrigin(o,l));Y.any3d?Ui(this._container,_,h):it(this._container,_)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var o in this._layers)this._layers[o]._reset()},_onZoomEnd:function(){for(var o in this._layers)this._layers[o]._project()},_updatePaths:function(){for(var o in this._layers)this._layers[o]._update()},_update:function(){var o=this.options.padding,l=this._map.getSize(),h=this._map.containerPointToLayerPoint(l.multiplyBy(-o)).round();this._bounds=new ie(h,h.add(l.multiplyBy(1+o*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),t0=Sr.extend({options:{tolerance:0},getEvents:function(){var o=Sr.prototype.getEvents.call(this);return o.viewprereset=this._onViewPreReset,o},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Sr.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var o=this._container=document.createElement("canvas");pe(o,"mousemove",this._onMouseMove,this),pe(o,"click dblclick mousedown mouseup contextmenu",this._onClick,this),pe(o,"mouseout",this._handleMouseOut,this),o._leaflet_disable_events=!0,this._ctx=o.getContext("2d")},_destroyContainer:function(){ve(this._redrawRequest),delete this._ctx,qe(this._container),Ne(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var o;this._redrawBounds=null;for(var l in this._layers)o=this._layers[l],o._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Sr.prototype._update.call(this);var o=this._bounds,l=this._container,h=o.getSize(),f=Y.retina?2:1;it(l,o.min),l.width=f*h.x,l.height=f*h.y,l.style.width=h.x+"px",l.style.height=h.y+"px",Y.retina&&this._ctx.scale(2,2),this._ctx.translate(-o.min.x,-o.min.y),this.fire("update")}},_reset:function(){Sr.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(o){this._updateDashArray(o),this._layers[u(o)]=o;var l=o._order={layer:o,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=l),this._drawLast=l,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(o){this._requestRedraw(o)},_removePath:function(o){var l=o._order,h=l.next,f=l.prev;h?h.prev=f:this._drawLast=f,f?f.next=h:this._drawFirst=h,delete o._order,delete this._layers[u(o)],this._requestRedraw(o)},_updatePath:function(o){this._extendRedrawBounds(o),o._project(),o._update(),this._requestRedraw(o)},_updateStyle:function(o){this._updateDashArray(o),this._requestRedraw(o)},_updateDashArray:function(o){if(typeof o.options.dashArray=="string"){var l=o.options.dashArray.split(/[, ]+/),h=[],f,g;for(g=0;g<l.length;g++){if(f=Number(l[g]),isNaN(f))return;h.push(f)}o.options._dashArray=h}else o.options._dashArray=o.options.dashArray},_requestRedraw:function(o){this._map&&(this._extendRedrawBounds(o),this._redrawRequest=this._redrawRequest||le(this._redraw,this))},_extendRedrawBounds:function(o){if(o._pxBounds){var l=(o.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new ie,this._redrawBounds.extend(o._pxBounds.min.subtract([l,l])),this._redrawBounds.extend(o._pxBounds.max.add([l,l]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var o=this._redrawBounds;if(o){var l=o.getSize();this._ctx.clearRect(o.min.x,o.min.y,l.x,l.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var o,l=this._redrawBounds;if(this._ctx.save(),l){var h=l.getSize();this._ctx.beginPath(),this._ctx.rect(l.min.x,l.min.y,h.x,h.y),this._ctx.clip()}this._drawing=!0;for(var f=this._drawFirst;f;f=f.next)o=f.layer,(!l||o._pxBounds&&o._pxBounds.intersects(l))&&o._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(o,l){if(this._drawing){var h,f,g,_,b=o._parts,k=b.length,N=this._ctx;if(k){for(N.beginPath(),h=0;h<k;h++){for(f=0,g=b[h].length;f<g;f++)_=b[h][f],N[f?"lineTo":"moveTo"](_.x,_.y);l&&N.closePath()}this._fillStroke(N,o)}}},_updateCircle:function(o){if(!(!this._drawing||o._empty())){var l=o._point,h=this._ctx,f=Math.max(Math.round(o._radius),1),g=(Math.max(Math.round(o._radiusY),1)||f)/f;g!==1&&(h.save(),h.scale(1,g)),h.beginPath(),h.arc(l.x,l.y/g,f,0,Math.PI*2,!1),g!==1&&h.restore(),this._fillStroke(h,o)}},_fillStroke:function(o,l){var h=l.options;h.fill&&(o.globalAlpha=h.fillOpacity,o.fillStyle=h.fillColor||h.color,o.fill(h.fillRule||"evenodd")),h.stroke&&h.weight!==0&&(o.setLineDash&&o.setLineDash(l.options&&l.options._dashArray||[]),o.globalAlpha=h.opacity,o.lineWidth=h.weight,o.strokeStyle=h.color,o.lineCap=h.lineCap,o.lineJoin=h.lineJoin,o.stroke())},_onClick:function(o){for(var l=this._map.mouseEventToLayerPoint(o),h,f,g=this._drawFirst;g;g=g.next)h=g.layer,h.options.interactive&&h._containsPoint(l)&&(!(o.type==="click"||o.type==="preclick")||!this._map._draggableMoved(h))&&(f=h);this._fireEvent(f?[f]:!1,o)},_onMouseMove:function(o){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var l=this._map.mouseEventToLayerPoint(o);this._handleMouseHover(o,l)}},_handleMouseOut:function(o){var l=this._hoveredLayer;l&&(tt(this._container,"leaflet-interactive"),this._fireEvent([l],o,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(o,l){if(!this._mouseHoverThrottled){for(var h,f,g=this._drawFirst;g;g=g.next)h=g.layer,h.options.interactive&&h._containsPoint(l)&&(f=h);f!==this._hoveredLayer&&(this._handleMouseOut(o),f&&(ge(this._container,"leaflet-interactive"),this._fireEvent([f],o,"mouseover"),this._hoveredLayer=f)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,o),this._mouseHoverThrottled=!0,setTimeout(a(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(o,l,h){this._map._fireDOMEvent(l,h||l.type,o)},_bringToFront:function(o){var l=o._order;if(l){var h=l.next,f=l.prev;if(h)h.prev=f;else return;f?f.next=h:h&&(this._drawFirst=h),l.prev=this._drawLast,this._drawLast.next=l,l.next=null,this._drawLast=l,this._requestRedraw(o)}},_bringToBack:function(o){var l=o._order;if(l){var h=l.next,f=l.prev;if(f)f.next=h;else return;h?h.prev=f:f&&(this._drawLast=f),l.prev=null,l.next=this._drawFirst,this._drawFirst.prev=l,this._drawFirst=l,this._requestRedraw(o)}}});function n0(o){return Y.canvas?new t0(o):null}var pa=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(o){return document.createElement("<lvml:"+o+' class="lvml">')}}catch{}return function(o){return document.createElement("<"+o+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),gA={_initContainer:function(){this._container=xe("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Sr.prototype._update.call(this),this.fire("update"))},_initPath:function(o){var l=o._container=pa("shape");ge(l,"leaflet-vml-shape "+(this.options.className||"")),l.coordsize="1 1",o._path=pa("path"),l.appendChild(o._path),this._updateStyle(o),this._layers[u(o)]=o},_addPath:function(o){var l=o._container;this._container.appendChild(l),o.options.interactive&&o.addInteractiveTarget(l)},_removePath:function(o){var l=o._container;qe(l),o.removeInteractiveTarget(l),delete this._layers[u(o)]},_updateStyle:function(o){var l=o._stroke,h=o._fill,f=o.options,g=o._container;g.stroked=!!f.stroke,g.filled=!!f.fill,f.stroke?(l||(l=o._stroke=pa("stroke")),g.appendChild(l),l.weight=f.weight+"px",l.color=f.color,l.opacity=f.opacity,f.dashArray?l.dashStyle=P(f.dashArray)?f.dashArray.join(" "):f.dashArray.replace(/( *, *)/g," "):l.dashStyle="",l.endcap=f.lineCap.replace("butt","flat"),l.joinstyle=f.lineJoin):l&&(g.removeChild(l),o._stroke=null),f.fill?(h||(h=o._fill=pa("fill")),g.appendChild(h),h.color=f.fillColor||f.color,h.opacity=f.fillOpacity):h&&(g.removeChild(h),o._fill=null)},_updateCircle:function(o){var l=o._point.round(),h=Math.round(o._radius),f=Math.round(o._radiusY||h);this._setPath(o,o._empty()?"M0 0":"AL "+l.x+","+l.y+" "+h+","+f+" 0,"+65535*360)},_setPath:function(o,l){o._path.v=l},_bringToFront:function(o){Os(o._container)},_bringToBack:function(o){Ls(o._container)}},Yu=Y.vml?pa:Lu,ma=Sr.extend({_initContainer:function(){this._container=Yu("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Yu("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){qe(this._container),Ne(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Sr.prototype._update.call(this);var o=this._bounds,l=o.getSize(),h=this._container;(!this._svgSize||!this._svgSize.equals(l))&&(this._svgSize=l,h.setAttribute("width",l.x),h.setAttribute("height",l.y)),it(h,o.min),h.setAttribute("viewBox",[o.min.x,o.min.y,l.x,l.y].join(" ")),this.fire("update")}},_initPath:function(o){var l=o._path=Yu("path");o.options.className&&ge(l,o.options.className),o.options.interactive&&ge(l,"leaflet-interactive"),this._updateStyle(o),this._layers[u(o)]=o},_addPath:function(o){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(o._path),o.addInteractiveTarget(o._path)},_removePath:function(o){qe(o._path),o.removeInteractiveTarget(o._path),delete this._layers[u(o)]},_updatePath:function(o){o._project(),o._update()},_updateStyle:function(o){var l=o._path,h=o.options;l&&(h.stroke?(l.setAttribute("stroke",h.color),l.setAttribute("stroke-opacity",h.opacity),l.setAttribute("stroke-width",h.weight),l.setAttribute("stroke-linecap",h.lineCap),l.setAttribute("stroke-linejoin",h.lineJoin),h.dashArray?l.setAttribute("stroke-dasharray",h.dashArray):l.removeAttribute("stroke-dasharray"),h.dashOffset?l.setAttribute("stroke-dashoffset",h.dashOffset):l.removeAttribute("stroke-dashoffset")):l.setAttribute("stroke","none"),h.fill?(l.setAttribute("fill",h.fillColor||h.color),l.setAttribute("fill-opacity",h.fillOpacity),l.setAttribute("fill-rule",h.fillRule||"evenodd")):l.setAttribute("fill","none"))},_updatePoly:function(o,l){this._setPath(o,a1(o._parts,l))},_updateCircle:function(o){var l=o._point,h=Math.max(Math.round(o._radius),1),f=Math.max(Math.round(o._radiusY),1)||h,g="a"+h+","+f+" 0 1,0 ",_=o._empty()?"M0 0":"M"+(l.x-h)+","+l.y+g+h*2+",0 "+g+-h*2+",0 ";this._setPath(o,_)},_setPath:function(o,l){o._path.setAttribute("d",l)},_bringToFront:function(o){Os(o._path)},_bringToBack:function(o){Ls(o._path)}});Y.vml&&ma.include(gA);function r0(o){return Y.svg||Y.vml?new ma(o):null}Se.include({getRenderer:function(o){var l=o.options.renderer||this._getPaneRenderer(o.options.pane)||this.options.renderer||this._renderer;return l||(l=this._renderer=this._createRenderer()),this.hasLayer(l)||this.addLayer(l),l},_getPaneRenderer:function(o){if(o==="overlayPane"||o===void 0)return!1;var l=this._paneRenderers[o];return l===void 0&&(l=this._createRenderer({pane:o}),this._paneRenderers[o]=l),l},_createRenderer:function(o){return this.options.preferCanvas&&n0(o)||r0(o)}});var i0=Ds.extend({initialize:function(o,l){Ds.prototype.initialize.call(this,this._boundsToLatLngs(o),l)},setBounds:function(o){return this.setLatLngs(this._boundsToLatLngs(o))},_boundsToLatLngs:function(o){return o=_e(o),[o.getSouthWest(),o.getNorthWest(),o.getNorthEast(),o.getSouthEast()]}});function vA(o,l){return new i0(o,l)}ma.create=Yu,ma.pointsToPath=a1,Tr.geometryToLayer=Hu,Tr.coordsToLatLng=yp,Tr.coordsToLatLngs=Wu,Tr.latLngToCoords=wp,Tr.latLngsToCoords=qu,Tr.getFeature=Vs,Tr.asFeature=Gu,Se.mergeOptions({boxZoom:!0});var s0=Xn.extend({initialize:function(o){this._map=o,this._container=o._container,this._pane=o._panes.overlayPane,this._resetStateTimeout=0,o.on("unload",this._destroy,this)},addHooks:function(){pe(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Ne(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){qe(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(o){if(!o.shiftKey||o.which!==1&&o.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),oa(),np(),this._startPoint=this._map.mouseEventToContainerPoint(o),pe(document,{contextmenu:qi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(o){this._moved||(this._moved=!0,this._box=xe("div","leaflet-zoom-box",this._container),ge(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(o);var l=new ie(this._point,this._startPoint),h=l.getSize();it(this._box,l.min),this._box.style.width=h.x+"px",this._box.style.height=h.y+"px"},_finish:function(){this._moved&&(qe(this._box),tt(this._container,"leaflet-crosshair")),aa(),rp(),Ne(document,{contextmenu:qi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(o){if(!(o.which!==1&&o.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(a(this._resetState,this),0);var l=new Pe(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(l).fire("boxzoomend",{boxZoomBounds:l})}},_onKeyDown:function(o){o.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Se.addInitHook("addHandler","boxZoom",s0),Se.mergeOptions({doubleClickZoom:!0});var o0=Xn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(o){var l=this._map,h=l.getZoom(),f=l.options.zoomDelta,g=o.originalEvent.shiftKey?h-f:h+f;l.options.doubleClickZoom==="center"?l.setZoom(g):l.setZoomAround(o.containerPoint,g)}});Se.addInitHook("addHandler","doubleClickZoom",o0),Se.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var a0=Xn.extend({addHooks:function(){if(!this._draggable){var o=this._map;this._draggable=new Xr(o._mapPane,o._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),o.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),o.on("zoomend",this._onZoomEnd,this),o.whenReady(this._onZoomEnd,this))}ge(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){tt(this._map._container,"leaflet-grab"),tt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var o=this._map;if(o._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var l=_e(this._map.options.maxBounds);this._offsetLimit=te(this._map.latLngToContainerPoint(l.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(l.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;o.fire("movestart").fire("dragstart"),o.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(o){if(this._map.options.inertia){var l=this._lastTime=+new Date,h=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(h),this._times.push(l),this._prunePositions(l)}this._map.fire("move",o).fire("drag",o)},_prunePositions:function(o){for(;this._positions.length>1&&o-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var o=this._map.getSize().divideBy(2),l=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=l.subtract(o).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(o,l){return o-(o-l)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var o=this._draggable._newPos.subtract(this._draggable._startPos),l=this._offsetLimit;o.x<l.min.x&&(o.x=this._viscousLimit(o.x,l.min.x)),o.y<l.min.y&&(o.y=this._viscousLimit(o.y,l.min.y)),o.x>l.max.x&&(o.x=this._viscousLimit(o.x,l.max.x)),o.y>l.max.y&&(o.y=this._viscousLimit(o.y,l.max.y)),this._draggable._newPos=this._draggable._startPos.add(o)}},_onPreDragWrap:function(){var o=this._worldWidth,l=Math.round(o/2),h=this._initialWorldOffset,f=this._draggable._newPos.x,g=(f-l+h)%o+l-h,_=(f+l+h)%o-l-h,b=Math.abs(g+h)<Math.abs(_+h)?g:_;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=b},_onDragEnd:function(o){var l=this._map,h=l.options,f=!h.inertia||o.noInertia||this._times.length<2;if(l.fire("dragend",o),f)l.fire("moveend");else{this._prunePositions(+new Date);var g=this._lastPos.subtract(this._positions[0]),_=(this._lastTime-this._times[0])/1e3,b=h.easeLinearity,k=g.multiplyBy(b/_),N=k.distanceTo([0,0]),j=Math.min(h.inertiaMaxSpeed,N),W=k.multiplyBy(j/N),ae=j/(h.inertiaDeceleration*b),ye=W.multiplyBy(-ae/2).round();!ye.x&&!ye.y?l.fire("moveend"):(ye=l._limitOffset(ye,l.options.maxBounds),le(function(){l.panBy(ye,{duration:ae,easeLinearity:b,noMoveStart:!0,animate:!0})}))}}});Se.addInitHook("addHandler","dragging",a0),Se.mergeOptions({keyboard:!0,keyboardPanDelta:80});var l0=Xn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(o){this._map=o,this._setPanDelta(o.options.keyboardPanDelta),this._setZoomDelta(o.options.zoomDelta)},addHooks:function(){var o=this._map._container;o.tabIndex<=0&&(o.tabIndex="0"),pe(o,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Ne(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var o=document.body,l=document.documentElement,h=o.scrollTop||l.scrollTop,f=o.scrollLeft||l.scrollLeft;this._map._container.focus(),window.scrollTo(f,h)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(o){var l=this._panKeys={},h=this.keyCodes,f,g;for(f=0,g=h.left.length;f<g;f++)l[h.left[f]]=[-1*o,0];for(f=0,g=h.right.length;f<g;f++)l[h.right[f]]=[o,0];for(f=0,g=h.down.length;f<g;f++)l[h.down[f]]=[0,o];for(f=0,g=h.up.length;f<g;f++)l[h.up[f]]=[0,-1*o]},_setZoomDelta:function(o){var l=this._zoomKeys={},h=this.keyCodes,f,g;for(f=0,g=h.zoomIn.length;f<g;f++)l[h.zoomIn[f]]=o;for(f=0,g=h.zoomOut.length;f<g;f++)l[h.zoomOut[f]]=-o},_addHooks:function(){pe(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Ne(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(o){if(!(o.altKey||o.ctrlKey||o.metaKey)){var l=o.keyCode,h=this._map,f;if(l in this._panKeys){if(!h._panAnim||!h._panAnim._inProgress)if(f=this._panKeys[l],o.shiftKey&&(f=B(f).multiplyBy(3)),h.options.maxBounds&&(f=h._limitOffset(B(f),h.options.maxBounds)),h.options.worldCopyJump){var g=h.wrapLatLng(h.unproject(h.project(h.getCenter()).add(f)));h.panTo(g)}else h.panBy(f)}else if(l in this._zoomKeys)h.setZoom(h.getZoom()+(o.shiftKey?3:1)*this._zoomKeys[l]);else if(l===27&&h._popup&&h._popup.options.closeOnEscapeKey)h.closePopup();else return;qi(o)}}});Se.addInitHook("addHandler","keyboard",l0),Se.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var u0=Xn.extend({addHooks:function(){pe(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Ne(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(o){var l=L1(o),h=this._map.options.wheelDebounceTime;this._delta+=l,this._lastMousePos=this._map.mouseEventToContainerPoint(o),this._startTime||(this._startTime=+new Date);var f=Math.max(h-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(a(this._performZoom,this),f),qi(o)},_performZoom:function(){var o=this._map,l=o.getZoom(),h=this._map.options.zoomSnap||0;o._stop();var f=this._delta/(this._map.options.wheelPxPerZoomLevel*4),g=4*Math.log(2/(1+Math.exp(-Math.abs(f))))/Math.LN2,_=h?Math.ceil(g/h)*h:g,b=o._limitZoom(l+(this._delta>0?_:-_))-l;this._delta=0,this._startTime=null,b&&(o.options.scrollWheelZoom==="center"?o.setZoom(l+b):o.setZoomAround(this._lastMousePos,l+b))}});Se.addInitHook("addHandler","scrollWheelZoom",u0);var _A=600;Se.mergeOptions({tapHold:Y.touchNative&&Y.safari&&Y.mobile,tapTolerance:15});var c0=Xn.extend({addHooks:function(){pe(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Ne(this._map._container,"touchstart",this._onDown,this)},_onDown:function(o){if(clearTimeout(this._holdTimeout),o.touches.length===1){var l=o.touches[0];this._startPos=this._newPos=new V(l.clientX,l.clientY),this._holdTimeout=setTimeout(a(function(){this._cancel(),this._isTapValid()&&(pe(document,"touchend",Pt),pe(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",l))},this),_A),pe(document,"touchend touchcancel contextmenu",this._cancel,this),pe(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function o(){Ne(document,"touchend",Pt),Ne(document,"touchend touchcancel",o)},_cancel:function(){clearTimeout(this._holdTimeout),Ne(document,"touchend touchcancel contextmenu",this._cancel,this),Ne(document,"touchmove",this._onMove,this)},_onMove:function(o){var l=o.touches[0];this._newPos=new V(l.clientX,l.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(o,l){var h=new MouseEvent(o,{bubbles:!0,cancelable:!0,view:window,screenX:l.screenX,screenY:l.screenY,clientX:l.clientX,clientY:l.clientY});h._simulated=!0,l.target.dispatchEvent(h)}});Se.addInitHook("addHandler","tapHold",c0),Se.mergeOptions({touchZoom:Y.touch,bounceAtZoomLimits:!0});var h0=Xn.extend({addHooks:function(){ge(this._map._container,"leaflet-touch-zoom"),pe(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){tt(this._map._container,"leaflet-touch-zoom"),Ne(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(o){var l=this._map;if(!(!o.touches||o.touches.length!==2||l._animatingZoom||this._zooming)){var h=l.mouseEventToContainerPoint(o.touches[0]),f=l.mouseEventToContainerPoint(o.touches[1]);this._centerPoint=l.getSize()._divideBy(2),this._startLatLng=l.containerPointToLatLng(this._centerPoint),l.options.touchZoom!=="center"&&(this._pinchStartLatLng=l.containerPointToLatLng(h.add(f)._divideBy(2))),this._startDist=h.distanceTo(f),this._startZoom=l.getZoom(),this._moved=!1,this._zooming=!0,l._stop(),pe(document,"touchmove",this._onTouchMove,this),pe(document,"touchend touchcancel",this._onTouchEnd,this),Pt(o)}},_onTouchMove:function(o){if(!(!o.touches||o.touches.length!==2||!this._zooming)){var l=this._map,h=l.mouseEventToContainerPoint(o.touches[0]),f=l.mouseEventToContainerPoint(o.touches[1]),g=h.distanceTo(f)/this._startDist;if(this._zoom=l.getScaleZoom(g,this._startZoom),!l.options.bounceAtZoomLimits&&(this._zoom<l.getMinZoom()&&g<1||this._zoom>l.getMaxZoom()&&g>1)&&(this._zoom=l._limitZoom(this._zoom)),l.options.touchZoom==="center"){if(this._center=this._startLatLng,g===1)return}else{var _=h._add(f)._divideBy(2)._subtract(this._centerPoint);if(g===1&&_.x===0&&_.y===0)return;this._center=l.unproject(l.project(this._pinchStartLatLng,this._zoom).subtract(_),this._zoom)}this._moved||(l._moveStart(!0,!1),this._moved=!0),ve(this._animRequest);var b=a(l._move,l,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=le(b,this,!0),Pt(o)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,ve(this._animRequest),Ne(document,"touchmove",this._onTouchMove,this),Ne(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Se.addInitHook("addHandler","touchZoom",h0),Se.BoxZoom=s0,Se.DoubleClickZoom=o0,Se.Drag=a0,Se.Keyboard=l0,Se.ScrollWheelZoom=u0,Se.TapHold=c0,Se.TouchZoom=h0,n.Bounds=ie,n.Browser=Y,n.CRS=We,n.Canvas=t0,n.Circle=_p,n.CircleMarker=Uu,n.Class=Fe,n.Control=Nn,n.DivIcon=X1,n.DivOverlay=Jn,n.DomEvent=DR,n.DomUtil=MR,n.Draggable=Xr,n.Evented=He,n.FeatureGroup=wr,n.GeoJSON=Tr,n.GridLayer=fa,n.Handler=Xn,n.Icon=Ns,n.ImageOverlay=Ku,n.LatLng=me,n.LatLngBounds=Pe,n.Layer=Dn,n.LayerGroup=Ms,n.LineUtil=ZR,n.Map=Se,n.Marker=Bu,n.Mixin=UR,n.Path=Jr,n.Point=V,n.PolyUtil=HR,n.Polygon=Ds,n.Polyline=Er,n.Popup=Zu,n.PosAnimation=M1,n.Projection=QR,n.Rectangle=i0,n.Renderer=Sr,n.SVG=ma,n.SVGOverlay=Y1,n.TileLayer=Fs,n.Tooltip=Qu,n.Transformation=As,n.Util=rt,n.VideoOverlay=Q1,n.bind=a,n.bounds=te,n.canvas=n0,n.circle=iA,n.circleMarker=rA,n.control=ca,n.divIcon=fA,n.extend=i,n.featureGroup=eA,n.geoJSON=Z1,n.geoJson=aA,n.gridLayer=pA,n.icon=tA,n.imageOverlay=lA,n.latLng=X,n.latLngBounds=_e,n.layerGroup=JR,n.map=VR,n.marker=nA,n.point=B,n.polygon=oA,n.polyline=sA,n.popup=hA,n.rectangle=vA,n.setOptions=T,n.stamp=u,n.svg=r0,n.svgOverlay=cA,n.tileLayer=J1,n.tooltip=dA,n.transformation=Yr,n.version=r,n.videoOverlay=uA;var yA=window.L;n.noConflict=function(){return window.L=yA,this},window.L=n})})(Ev,Ev.exports);var rB=Ev.exports;const Oc=Sv(rB),iB="/assets/marker-BBKCEJe0.png",Tv=({initialAddress:t,height:e})=>{const n=R.useRef(null);R.useRef(null),R.useEffect(()=>((async()=>{if(!n.current){const a=new Oc.map("map",{noScroll:!0}).setView([0,0],18),u=await(await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(t)}`)).json();if(u.length>0){const{lat:d,lon:p}=u[0],v=await(await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent("Hammarby Kaj 10D, Stockholm")}`)).json();if(v.length>0){const{lat:y,lon:C}=v[0],T=r(d,p,y,C),S=Oc.icon({iconUrl:iB,iconSize:[28,30],iconAnchor:[16,32],popupAnchor:[0,-32]}),w=Oc.marker([d,p],{icon:S}).addTo(a),E=`<b>Distance from the office:</b> ${T.toFixed(2)} km`;w.bindPopup(E).openPopup()}a.setView([d,p],18)}Oc.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}).addTo(a),n.current=a}})(),()=>{n.current&&(n.current.remove(),n.current=null)}),[t]);const r=(s,a,c,u)=>{const p=i(c-s),m=i(u-a),v=Math.sin(p/2)*Math.sin(p/2)+Math.cos(i(s))*Math.cos(i(c))*Math.sin(m/2)*Math.sin(m/2);return 6371*(2*Math.atan2(Math.sqrt(v),Math.sqrt(1-v)))},i=s=>s*(Math.PI/180);return I.jsx("div",{id:"map",style:{height:e||"400px",width:"100%",borderRadius:"1rem"}})};Tv.propTypes={initialAddress:Ut.string,height:Ut.string};const rR=({restaurant:t,restaurants:e})=>{const n=Zn(),{allRatings:r}=ct(u=>u.ratings);R.useEffect(()=>{n(al())},[]);const i=e==null?void 0:e.filter(u=>{if(u.id===(t==null?void 0:t.id))return!1;const d=[],p=[];for(const v in t)v.startsWith("foodOption_")&&t[v]&&d.push(v);for(const v in u)v.startsWith("foodOption_")&&u[v]&&p.push(v);return d.some(v=>p.includes(v))}),s=(u,d)=>{const p=Object.keys(t).filter(T=>T.startsWith("foodOption_")&&t[T]),m=Object.keys(u).filter(T=>T.startsWith("foodOption_")&&u[T]),v=Object.keys(d).filter(T=>T.startsWith("foodOption_")&&d[T]),y=m.filter(T=>p.includes(T));return v.filter(T=>p.includes(T)).length-y.length},a=i.sort(s),c=u=>r==null?void 0:r.filter(p=>p.restaurantId===u);return I.jsxs("div",{className:"SimilarRestaurants",children:[I.jsx("p",{children:"You might also be interested in these restaurants"}),i&&I.jsx("div",{className:"similar-restaurants",children:a.slice(0,3).map(u=>I.jsx("div",{className:"restaurant-card-wrapper",children:I.jsx(Hy,{restaurant:u,ratings:c(u.id)},u.id)}))})]})};rR.propTypes={restaurant:Ut.object,restaurants:Ut.array};const sB=({restaurant:t})=>I.jsxs("div",{className:"InfoBox",children:[I.jsx("h3",{className:"info-card-text",children:t.name}),I.jsxs("p",{className:"icon-and-number",children:[I.jsx(D7,{className:"icon"}),t.openingHours&&t.closingHours?I.jsxs("span",{children:[t.openingHours," - ",t.closingHours]}):I.jsx("span",{children:"Opening hours are not registered"})]}),I.jsxs("p",{className:"icon-and-number",children:[I.jsx(H7,{className:"icon"}),t.address?I.jsx("span",{className:"info-card-text",children:t.address}):I.jsx("span",{children:"No address is registered"})]}),t.outdoorSeating&&I.jsxs("p",{className:"icon-and-number",children:[I.jsx(V7,{className:"icon"}),I.jsx("span",{children:"Outdoor seating"})]}),t.priceRange&&I.jsxs("p",{className:"icon-and-number",children:[I.jsx(F7,{className:"icon"}),I.jsx("span",{className:"info-card-text",children:t.priceRange})]}),I.jsxs("p",{className:"icon-and-number",children:[I.jsx(W7,{className:"icon"}),t.phoneNumber?I.jsx("span",{children:t.phoneNumber}):I.jsx("span",{children:"No phone number is registered"})]}),I.jsxs("p",{className:"icon-and-number",children:[I.jsx(M3,{className:"icon"}),t.email?I.jsx("span",{children:I.jsx("a",{href:`mailto:${t.email}`,children:t.email})}):I.jsx("span",{children:"No email is registered"})]}),I.jsxs("p",{className:"icon-and-number",children:[I.jsx($7,{className:"icon"}),I.jsx("span",{children:I.jsx("a",{href:t.website,target:"_blank",rel:"noopener noreferrer",children:"To Restaurant Webpage"})})]})]}),oB=()=>{const t=Zn(),{id:e}=bO(),[n,r]=R.useState(!0),[i,s]=R.useState(null),[a,c]=R.useState(0),[u,d]=R.useState(null),[p,m]=R.useState(!1),[v,y]=R.useState(null),[C,T]=R.useState(!1),{restaurant:S,error:w,loading:E}=ct(K=>K.restaurants),{user:P}=ct(K=>K.auth),{ratings:x}=ct(K=>K.ratings),{userRatings:A}=ct(K=>K.ratings),{restaurants:O}=ct(K=>K.restaurants),M=A==null?void 0:A.find(K=>(S==null?void 0:S.id)===K.restaurant),D=M==null?void 0:M.rating,G=Object.keys(S||{}).filter(K=>typeof S[K]=="boolean"&&K.includes("foodOption")).map(K=>({name:K,value:S[K]})).filter(K=>K.value),le={Buffet:I.jsx(Y$,{}),Drinks:I.jsx(j7,{}),Fish:I.jsx(z7,{}),Hamburger:I.jsx(B7,{}),Other:I.jsx(V3,{}),Pasta:I.jsx(D3,{}),Pizza:I.jsx(q7,{}),Ramen:I.jsx(Q$,{}),Sallad:I.jsx(nB,{}),Sausage:I.jsx(X$,{}),Soup:I.jsx(F3,{}),Sushi:I.jsx(eB,{}),Schnitzel:I.jsx(J$,{}),Tacos:I.jsx(tB,{}),Vegan:I.jsx(U7,{}),Vegetarian:I.jsx(N7,{}),Wraps:I.jsx(Z$,{})};R.useEffect(()=>{t(rh({collection:"restaurants",id:e})).then(()=>r(!1)).catch(()=>r(!1)),t(sh({restaurantId:e}))},[t,e]),R.useEffect(()=>{P&&t(ll({userId:P.uid}))},[t,P]),R.useEffect(()=>{t(ol())},[t]),R.useEffect(()=>{const K=localStorage.getItem(`verifiedEmail${P==null?void 0:P.uid}`);K&&T(JSON.parse(K))},[P]),R.useEffect(()=>{d(D)},[D]);const ve=async K=>{d(K),m(!0);try{await t(ih({userId:P.uid,restaurantId:e,rating:K}))}catch(fe){console.log(fe)}},rt=K=>{y(K)},Fe=()=>{y(null)};return R.useEffect(()=>{setTimeout(()=>{if(!n)if(!S||x.length===0)s(null),c(0);else{const fe=x.reduce((He,V)=>typeof V=="number"?He+V:He+V.rating,0)/x.length;s(Math.round(fe*100)/100),c(x.length)}},250)},[S,x,n]),E?I.jsx(Uy,{}):w?I.jsx("p",{children:"Something went wrong"}):I.jsxs("div",{className:"RestaurantDetails padding-top-navbar",children:[S&&I.jsxs("div",{className:"details-container",children:[I.jsxs("div",{className:"image-container",children:[I.jsx("img",{src:S.imageURL?S.imageURL:Vo,className:"restaurant-image",onError:K=>{K.target.src=Vo},alt:"Picture of food"}),I.jsxs("h2",{className:"image-text",children:[S.name," ",S.area&&S.area!=="Other"&&S.area]}),I.jsx("div",{className:"current-rating",children:i!==null&&!n?I.jsx("div",{className:"inner-current-rating",children:I.jsxs("div",{className:"icon-and-number icon-and-number-no-gap",children:[I.jsx(hv,{className:"icon"}),I.jsxs("span",{className:"rating-number",children:[i.toFixed(1),"/5"]})]})}):I.jsxs("div",{className:"no-ratings",children:[I.jsx(dv,{})," No ratings"]})})]}),I.jsxs("div",{className:"info-container",children:[I.jsxs("div",{className:"top-container",children:[I.jsx("h3",{children:"This restaurant offers"}),I.jsxs("div",{className:"website-button-and-food-options",children:[I.jsx("div",{className:"food-options",children:G.map(K=>I.jsxs("div",{className:"food-option",children:[le[K.name.split("_")[1]],K.name.split("_")[1]]},K.name))}),I.jsx("a",{href:S&&S.website,target:"_blank",rel:"noopener noreferrer",children:I.jsx("button",{className:"website-btn",children:"Visit their website"})})]})]}),I.jsx("div",{className:"middle-container",children:I.jsxs("div",{className:"map-and-contact-info",children:[S&&S.address?I.jsx("div",{className:"map-container",children:I.jsx(Tv,{initialAddress:`${S.address}, Stockholm`,height:"100%"})}):I.jsx("div",{className:"map-container",children:I.jsx(Tv,{initialAddress:"Hammarby kaj 10d, Stockholm",height:"100%"})}),I.jsxs("div",{className:"contact-container",children:[I.jsx(sB,{restaurant:S&&S}),P&&C&&I.jsx("div",{className:"ratings-container",children:I.jsxs("div",{className:"stars-wrapper",children:[p?I.jsx("p",{children:"Thank you for your rating!"}):D?I.jsx(I.Fragment,{children:I.jsxs("p",{children:["You previously gave this restaurant ",D,"/5 stars.",I.jsx("br",{}),"Do you wish to update your rating?"]})}):I.jsx("p",{children:"Rate your dining experience!"}),I.jsx("div",{className:"rating-stars",children:[5,4,3,2,1].map(K=>D?I.jsx(hv,{className:`icon icon-star icon-star-full ${v!==null&&v>=K||K<=u?"yellow":""}`,onMouseEnter:()=>rt(K),onMouseLeave:Fe,onClick:()=>ve(K)},K):I.jsx(dv,{className:`icon icon-star ${v!==null&&v>=K||K<=u?"yellow":""}`,onMouseEnter:()=>rt(K),onMouseLeave:Fe,onClick:()=>ve(K)},K))})]})})]})]})})]})]}),I.jsx(rR,{restaurant:S,restaurants:O})]})},iR=({ratedRestaurant:t})=>I.jsxs("div",{className:"RatedRestaurantCard",children:[I.jsx("img",{src:t.imageURL?t.imageURL:Vo,alt:"image of food",className:"card-image",onError:e=>{e.target.src=Vo}}),I.jsxs("div",{className:"rated-card-info",children:[I.jsx("h2",{children:t.name}),I.jsx("div",{className:"rating-circle",children:I.jsxs("p",{className:"text-rating-circle",children:[t.rating,"/5"]})}),t.rating>=4&&I.jsx("p",{children:"You really enjoyed this restaurant!"}),t.rating==3&&I.jsx("p",{children:"You thought this place was alright, but you weren't blown away."}),t.rating<=2&&I.jsx("p",{children:"This place did not meet your expectations at all unfortunately."}),I.jsxs("p",{children:["On ",X7(t.updatedAt)," you gave it ",I.jsxs("b",{children:[t.rating,t.rating==1?" star.":" stars."]})]}),I.jsx(iu,{to:`/restaurants/${t.id}`,children:" Go to restaurant"})]})]});iR.propTypes={ratedRestaurant:Ut.object};const aB=()=>{const t=Wo(),e=Zn(),{user:n}=ct(T=>T.auth),{restaurantsById:r}=ct(T=>T.restaurants),{userRatings:i,loading:s,error:a}=ct(T=>T.ratings),c=i==null?void 0:i.map(T=>T.restaurant),[u,d]=R.useState([]),[p,m]=R.useState("created"),v=[];i==null||i.forEach(T=>{const S=r.find(w=>w.id===T.restaurant);S&&v.push({rating:T.rating,updatedAt:T.updatedAt,...S})});const y=T=>{m(T.value)};R.useEffect(()=>{e(ll({userId:n.uid}))},[e,n]),R.useEffect(()=>{n||t("/login")},[n,t]),R.useEffect(()=>{C(c,u)||(e(nh({ids:c||[]})),d(c))},[e,c,u]);function C(T,S){if(T===S)return!0;if(T==null||S==null||T.length!==S.length)return!1;for(let w=0;w<T.length;w++)if(T[w]!==S[w])return!1;return!0}return s?I.jsx(Uy,{}):a?I.jsx("p",{children:"Something went wrong"}):I.jsxs("div",{className:"Profile padding-top-navbar",children:[I.jsx(kf,{header:"Your Profile"}),I.jsxs("div",{className:"profile-content-container",children:[I.jsxs("div",{className:"welcome-user-text",children:[I.jsx("h2",{children:"Welcome!"}),I.jsxs("p",{children:["You are logged in as ",n.email]}),I.jsx("p",{children:"Below are all the restaurants that you have rated."}),I.jsx(nR,{id:"sort",value:w2.find(T=>T.value===p),options:w2,onChange:y,className:"select-input",styles:cb})]}),I.jsxs("div",{className:"rated-restaurants-container",children:[v.slice().sort((T,S)=>p==="rating"?S.rating-T.rating:new Date(S.updatedAt)-new Date(T.updatedAt)).map(T=>I.jsx("div",{className:"rated-restauarant-container",children:I.jsx(iR,{ratedRestaurant:T})},T.id)),v.length===0&&I.jsx("p",{className:"no-ratings-text",children:"You have not yet rated any restaurants."})]})]})]})},K2=({children:t})=>{const{user:e}=ct(i=>i.auth),[n,r]=R.useState(!1);return R.useEffect(()=>{const i=localStorage.getItem(`verifiedEmail${e==null?void 0:e.uid}`);(async()=>{(!e||!i)&&r(!0)})()},[e]),n?I.jsx(BO,{to:"/"}):e?t:null};function lB(){const{authIsReady:t}=ct(n=>n.auth),e=Zn();return R.useEffect(()=>{R6(Au,n=>{let r=null;n&&(r={uid:n.uid,email:n.email,verifiedEmail:n.verifiedEmail}),e(u7(r))})},[]),I.jsx(I.Fragment,{children:t&&I.jsxs(I.Fragment,{children:[I.jsx(w7,{}),I.jsxs(HO,{children:[I.jsx(La,{path:"/",element:I.jsx(eF,{})}),I.jsx(La,{path:"/add",element:I.jsx(K2,{children:I.jsx(K$,{})})}),I.jsx(La,{path:"/restaurants/:id",element:I.jsx(oB,{})}),I.jsx(La,{path:"/profile",element:I.jsx(K2,{children:I.jsx(aB,{})})})]})]})})}const uB=TL({reducer:{restaurants:x7,auth:c7,ratings:M7,modal:m7}});Rm.createRoot(document.getElementById("root")).render(I.jsx(lr.StrictMode,{children:I.jsx(S3,{store:uB,children:I.jsx(XO,{children:I.jsx(lB,{})})})}));
