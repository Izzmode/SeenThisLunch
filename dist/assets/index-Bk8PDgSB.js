var IA=Object.defineProperty;var PA=(t,e,n)=>e in t?IA(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Tp=(t,e,n)=>(PA(t,typeof e!="symbol"?e+"":e,n),n);function CA(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var xA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Tv(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var q2={exports:{}},Ed={},G2={exports:{}},Ee={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jl=Symbol.for("react.element"),bA=Symbol.for("react.portal"),RA=Symbol.for("react.fragment"),AA=Symbol.for("react.strict_mode"),kA=Symbol.for("react.profiler"),OA=Symbol.for("react.provider"),LA=Symbol.for("react.context"),MA=Symbol.for("react.forward_ref"),NA=Symbol.for("react.suspense"),DA=Symbol.for("react.memo"),VA=Symbol.for("react.lazy"),m0=Symbol.iterator;function FA(t){return t===null||typeof t!="object"?null:(t=m0&&t[m0]||t["@@iterator"],typeof t=="function"?t:null)}var K2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Z2=Object.assign,Q2={};function zo(t,e,n){this.props=t,this.context=e,this.refs=Q2,this.updater=n||K2}zo.prototype.isReactComponent={};zo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};zo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Y2(){}Y2.prototype=zo.prototype;function Iv(t,e,n){this.props=t,this.context=e,this.refs=Q2,this.updater=n||K2}var Pv=Iv.prototype=new Y2;Pv.constructor=Iv;Z2(Pv,zo.prototype);Pv.isPureReactComponent=!0;var g0=Array.isArray,X2=Object.prototype.hasOwnProperty,Cv={current:null},J2={key:!0,ref:!0,__self:!0,__source:!0};function eS(t,e,n){var r,i={},s=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)X2.call(e,r)&&!J2.hasOwnProperty(r)&&(i[r]=e[r]);var c=arguments.length-2;if(c===1)i.children=n;else if(1<c){for(var u=Array(c),d=0;d<c;d++)u[d]=arguments[d+2];i.children=u}if(t&&t.defaultProps)for(r in c=t.defaultProps,c)i[r]===void 0&&(i[r]=c[r]);return{$$typeof:Jl,type:t,key:s,ref:a,props:i,_owner:Cv.current}}function zA(t,e){return{$$typeof:Jl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function xv(t){return typeof t=="object"&&t!==null&&t.$$typeof===Jl}function jA(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var v0=/\/+/g;function Ip(t,e){return typeof t=="object"&&t!==null&&t.key!=null?jA(""+t.key):e.toString(36)}function Lc(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Jl:case bA:a=!0}}if(a)return a=t,i=i(a),t=r===""?"."+Ip(a,0):r,g0(i)?(n="",t!=null&&(n=t.replace(v0,"$&/")+"/"),Lc(i,e,n,"",function(d){return d})):i!=null&&(xv(i)&&(i=zA(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(v0,"$&/")+"/")+t)),e.push(i)),1;if(a=0,r=r===""?".":r+":",g0(t))for(var c=0;c<t.length;c++){s=t[c];var u=r+Ip(s,c);a+=Lc(s,e,n,u,i)}else if(u=FA(t),typeof u=="function")for(t=u.call(t),c=0;!(s=t.next()).done;)s=s.value,u=r+Ip(s,c++),a+=Lc(s,e,n,u,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Ju(t,e,n){if(t==null)return t;var r=[],i=0;return Lc(t,r,"","",function(s){return e.call(n,s,i++)}),r}function $A(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Xt={current:null},Mc={transition:null},UA={ReactCurrentDispatcher:Xt,ReactCurrentBatchConfig:Mc,ReactCurrentOwner:Cv};Ee.Children={map:Ju,forEach:function(t,e,n){Ju(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Ju(t,function(){e++}),e},toArray:function(t){return Ju(t,function(e){return e})||[]},only:function(t){if(!xv(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ee.Component=zo;Ee.Fragment=RA;Ee.Profiler=kA;Ee.PureComponent=Iv;Ee.StrictMode=AA;Ee.Suspense=NA;Ee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=UA;Ee.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Z2({},t.props),i=t.key,s=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=Cv.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var c=t.type.defaultProps;for(u in e)X2.call(e,u)&&!J2.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&c!==void 0?c[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){c=Array(u);for(var d=0;d<u;d++)c[d]=arguments[d+2];r.children=c}return{$$typeof:Jl,type:t.type,key:i,ref:s,props:r,_owner:a}};Ee.createContext=function(t){return t={$$typeof:LA,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:OA,_context:t},t.Consumer=t};Ee.createElement=eS;Ee.createFactory=function(t){var e=eS.bind(null,t);return e.type=t,e};Ee.createRef=function(){return{current:null}};Ee.forwardRef=function(t){return{$$typeof:MA,render:t}};Ee.isValidElement=xv;Ee.lazy=function(t){return{$$typeof:VA,_payload:{_status:-1,_result:t},_init:$A}};Ee.memo=function(t,e){return{$$typeof:DA,type:t,compare:e===void 0?null:e}};Ee.startTransition=function(t){var e=Mc.transition;Mc.transition={};try{t()}finally{Mc.transition=e}};Ee.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Ee.useCallback=function(t,e){return Xt.current.useCallback(t,e)};Ee.useContext=function(t){return Xt.current.useContext(t)};Ee.useDebugValue=function(){};Ee.useDeferredValue=function(t){return Xt.current.useDeferredValue(t)};Ee.useEffect=function(t,e){return Xt.current.useEffect(t,e)};Ee.useId=function(){return Xt.current.useId()};Ee.useImperativeHandle=function(t,e,n){return Xt.current.useImperativeHandle(t,e,n)};Ee.useInsertionEffect=function(t,e){return Xt.current.useInsertionEffect(t,e)};Ee.useLayoutEffect=function(t,e){return Xt.current.useLayoutEffect(t,e)};Ee.useMemo=function(t,e){return Xt.current.useMemo(t,e)};Ee.useReducer=function(t,e,n){return Xt.current.useReducer(t,e,n)};Ee.useRef=function(t){return Xt.current.useRef(t)};Ee.useState=function(t){return Xt.current.useState(t)};Ee.useSyncExternalStore=function(t,e,n){return Xt.current.useSyncExternalStore(t,e,n)};Ee.useTransition=function(){return Xt.current.useTransition()};Ee.version="18.2.0";G2.exports=Ee;var R=G2.exports;const lr=Tv(R),ul=CA({__proto__:null,default:lr},[R]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BA=R,HA=Symbol.for("react.element"),WA=Symbol.for("react.fragment"),qA=Object.prototype.hasOwnProperty,GA=BA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,KA={key:!0,ref:!0,__self:!0,__source:!0};function tS(t,e,n){var r,i={},s=null,a=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)qA.call(e,r)&&!KA.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:HA,type:t,key:s,ref:a,props:i,_owner:GA.current}}Ed.Fragment=WA;Ed.jsx=tS;Ed.jsxs=tS;q2.exports=Ed;var I=q2.exports,Rm={},nS={exports:{}},En={},rS={exports:{}},iS={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(V,ee){var U=V.length;V.push(ee);e:for(;0<U;){var ie=U-1>>>1,te=V[ie];if(0<i(te,ee))V[ie]=ee,V[U]=te,U=ie;else break e}}function n(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var ee=V[0],U=V.pop();if(U!==ee){V[0]=U;e:for(var ie=0,te=V.length,Pe=te>>>1;ie<Pe;){var _e=2*(ie+1)-1,me=V[_e],X=_e+1,We=V[X];if(0>i(me,U))X<te&&0>i(We,me)?(V[ie]=We,V[X]=U,ie=X):(V[ie]=me,V[_e]=U,ie=_e);else if(X<te&&0>i(We,U))V[ie]=We,V[X]=U,ie=X;else break e}}return ee}function i(V,ee){var U=V.sortIndex-ee.sortIndex;return U!==0?U:V.id-ee.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,c=a.now();t.unstable_now=function(){return a.now()-c}}var u=[],d=[],p=1,m=null,v=3,E=!1,C=!1,T=!1,P=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(V){for(var ee=n(d);ee!==null;){if(ee.callback===null)r(d);else if(ee.startTime<=V)r(d),ee.sortIndex=ee.expirationTime,e(u,ee);else break;ee=n(d)}}function x(V){if(T=!1,S(V),!C)if(n(u)!==null)C=!0,fe(A);else{var ee=n(d);ee!==null&&He(x,ee.startTime-V)}}function A(V,ee){C=!1,T&&(T=!1,_(D),D=-1),E=!0;var U=v;try{for(S(ee),m=n(u);m!==null&&(!(m.expirationTime>ee)||V&&!le());){var ie=m.callback;if(typeof ie=="function"){m.callback=null,v=m.priorityLevel;var te=ie(m.expirationTime<=ee);ee=t.unstable_now(),typeof te=="function"?m.callback=te:m===n(u)&&r(u),S(ee)}else r(u);m=n(u)}if(m!==null)var Pe=!0;else{var _e=n(d);_e!==null&&He(x,_e.startTime-ee),Pe=!1}return Pe}finally{m=null,v=U,E=!1}}var O=!1,M=null,D=-1,Z=5,G=-1;function le(){return!(t.unstable_now()-G<Z)}function ve(){if(M!==null){var V=t.unstable_now();G=V;var ee=!0;try{ee=M(!0,V)}finally{ee?rt():(O=!1,M=null)}}else O=!1}var rt;if(typeof y=="function")rt=function(){y(ve)};else if(typeof MessageChannel<"u"){var Fe=new MessageChannel,K=Fe.port2;Fe.port1.onmessage=ve,rt=function(){K.postMessage(null)}}else rt=function(){P(ve,0)};function fe(V){M=V,O||(O=!0,rt())}function He(V,ee){D=P(function(){V(t.unstable_now())},ee)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_continueExecution=function(){C||E||(C=!0,fe(A))},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Z=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(V){switch(v){case 1:case 2:case 3:var ee=3;break;default:ee=v}var U=v;v=ee;try{return V()}finally{v=U}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(V,ee){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var U=v;v=V;try{return ee()}finally{v=U}},t.unstable_scheduleCallback=function(V,ee,U){var ie=t.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?ie+U:ie):U=ie,V){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=U+te,V={id:p++,callback:ee,priorityLevel:V,startTime:U,expirationTime:te,sortIndex:-1},U>ie?(V.sortIndex=U,e(d,V),n(u)===null&&V===n(d)&&(T?(_(D),D=-1):T=!0,He(x,U-ie))):(V.sortIndex=te,e(u,V),C||E||(C=!0,fe(A))),V},t.unstable_shouldYield=le,t.unstable_wrapCallback=function(V){var ee=v;return function(){var U=v;v=ee;try{return V.apply(this,arguments)}finally{v=U}}}})(iS);rS.exports=iS;var ZA=rS.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sS=R,vn=ZA;function $(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var oS=new Set,cl={};function Ps(t,e){yo(t,e),yo(t+"Capture",e)}function yo(t,e){for(cl[t]=e,t=0;t<e.length;t++)oS.add(e[t])}var Nr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Am=Object.prototype.hasOwnProperty,QA=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_0={},y0={};function YA(t){return Am.call(y0,t)?!0:Am.call(_0,t)?!1:QA.test(t)?y0[t]=!0:(_0[t]=!0,!1)}function XA(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function JA(t,e,n,r){if(e===null||typeof e>"u"||XA(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Jt(t,e,n,r,i,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var Nt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Nt[t]=new Jt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Nt[e]=new Jt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Nt[t]=new Jt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Nt[t]=new Jt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Nt[t]=new Jt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Nt[t]=new Jt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Nt[t]=new Jt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Nt[t]=new Jt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Nt[t]=new Jt(t,5,!1,t.toLowerCase(),null,!1,!1)});var bv=/[\-:]([a-z])/g;function Rv(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(bv,Rv);Nt[e]=new Jt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(bv,Rv);Nt[e]=new Jt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(bv,Rv);Nt[e]=new Jt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Nt[t]=new Jt(t,1,!1,t.toLowerCase(),null,!1,!1)});Nt.xlinkHref=new Jt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Nt[t]=new Jt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Av(t,e,n,r){var i=Nt.hasOwnProperty(e)?Nt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(JA(e,n,i,r)&&(n=null),r||i===null?YA(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Hr=sS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ec=Symbol.for("react.element"),qs=Symbol.for("react.portal"),Gs=Symbol.for("react.fragment"),kv=Symbol.for("react.strict_mode"),km=Symbol.for("react.profiler"),aS=Symbol.for("react.provider"),lS=Symbol.for("react.context"),Ov=Symbol.for("react.forward_ref"),Om=Symbol.for("react.suspense"),Lm=Symbol.for("react.suspense_list"),Lv=Symbol.for("react.memo"),ni=Symbol.for("react.lazy"),uS=Symbol.for("react.offscreen"),w0=Symbol.iterator;function ga(t){return t===null||typeof t!="object"?null:(t=w0&&t[w0]||t["@@iterator"],typeof t=="function"?t:null)}var Qe=Object.assign,Pp;function Ra(t){if(Pp===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Pp=e&&e[1]||""}return`
`+Pp+t}var Cp=!1;function xp(t,e){if(!t||Cp)return"";Cp=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var r=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){r=d}t.call(e.prototype)}else{try{throw Error()}catch(d){r=d}t()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var i=d.stack.split(`
`),s=r.stack.split(`
`),a=i.length-1,c=s.length-1;1<=a&&0<=c&&i[a]!==s[c];)c--;for(;1<=a&&0<=c;a--,c--)if(i[a]!==s[c]){if(a!==1||c!==1)do if(a--,c--,0>c||i[a]!==s[c]){var u=`
`+i[a].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=a&&0<=c);break}}}finally{Cp=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ra(t):""}function ek(t){switch(t.tag){case 5:return Ra(t.type);case 16:return Ra("Lazy");case 13:return Ra("Suspense");case 19:return Ra("SuspenseList");case 0:case 2:case 15:return t=xp(t.type,!1),t;case 11:return t=xp(t.type.render,!1),t;case 1:return t=xp(t.type,!0),t;default:return""}}function Mm(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Gs:return"Fragment";case qs:return"Portal";case km:return"Profiler";case kv:return"StrictMode";case Om:return"Suspense";case Lm:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case lS:return(t.displayName||"Context")+".Consumer";case aS:return(t._context.displayName||"Context")+".Provider";case Ov:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Lv:return e=t.displayName||null,e!==null?e:Mm(t.type)||"Memo";case ni:e=t._payload,t=t._init;try{return Mm(t(e))}catch{}}return null}function tk(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Mm(e);case 8:return e===kv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function xi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function cS(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function nk(t){var e=cS(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function tc(t){t._valueTracker||(t._valueTracker=nk(t))}function hS(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=cS(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function ch(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Nm(t,e){var n=e.checked;return Qe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function E0(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=xi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function dS(t,e){e=e.checked,e!=null&&Av(t,"checked",e,!1)}function Dm(t,e){dS(t,e);var n=xi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Vm(t,e.type,n):e.hasOwnProperty("defaultValue")&&Vm(t,e.type,xi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function S0(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Vm(t,e,n){(e!=="number"||ch(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Aa=Array.isArray;function oo(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+xi(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Fm(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error($(91));return Qe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function T0(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error($(92));if(Aa(n)){if(1<n.length)throw Error($(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:xi(n)}}function fS(t,e){var n=xi(e.value),r=xi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function I0(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function pS(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function zm(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?pS(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var nc,mS=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(nc=nc||document.createElement("div"),nc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=nc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function hl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ba={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},rk=["Webkit","ms","Moz","O"];Object.keys(Ba).forEach(function(t){rk.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ba[e]=Ba[t]})});function gS(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ba.hasOwnProperty(t)&&Ba[t]?(""+e).trim():e+"px"}function vS(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=gS(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var ik=Qe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function jm(t,e){if(e){if(ik[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error($(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error($(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error($(61))}if(e.style!=null&&typeof e.style!="object")throw Error($(62))}}function $m(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Um=null;function Mv(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Bm=null,ao=null,lo=null;function P0(t){if(t=nu(t)){if(typeof Bm!="function")throw Error($(280));var e=t.stateNode;e&&(e=Cd(e),Bm(t.stateNode,t.type,e))}}function _S(t){ao?lo?lo.push(t):lo=[t]:ao=t}function yS(){if(ao){var t=ao,e=lo;if(lo=ao=null,P0(t),e)for(t=0;t<e.length;t++)P0(e[t])}}function wS(t,e){return t(e)}function ES(){}var bp=!1;function SS(t,e,n){if(bp)return t(e,n);bp=!0;try{return wS(t,e,n)}finally{bp=!1,(ao!==null||lo!==null)&&(ES(),yS())}}function dl(t,e){var n=t.stateNode;if(n===null)return null;var r=Cd(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error($(231,e,typeof n));return n}var Hm=!1;if(Nr)try{var va={};Object.defineProperty(va,"passive",{get:function(){Hm=!0}}),window.addEventListener("test",va,va),window.removeEventListener("test",va,va)}catch{Hm=!1}function sk(t,e,n,r,i,s,a,c,u){var d=Array.prototype.slice.call(arguments,3);try{e.apply(n,d)}catch(p){this.onError(p)}}var Ha=!1,hh=null,dh=!1,Wm=null,ok={onError:function(t){Ha=!0,hh=t}};function ak(t,e,n,r,i,s,a,c,u){Ha=!1,hh=null,sk.apply(ok,arguments)}function lk(t,e,n,r,i,s,a,c,u){if(ak.apply(this,arguments),Ha){if(Ha){var d=hh;Ha=!1,hh=null}else throw Error($(198));dh||(dh=!0,Wm=d)}}function Cs(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function TS(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function C0(t){if(Cs(t)!==t)throw Error($(188))}function uk(t){var e=t.alternate;if(!e){if(e=Cs(t),e===null)throw Error($(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return C0(i),t;if(s===r)return C0(i),e;s=s.sibling}throw Error($(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,c=i.child;c;){if(c===n){a=!0,n=i,r=s;break}if(c===r){a=!0,r=i,n=s;break}c=c.sibling}if(!a){for(c=s.child;c;){if(c===n){a=!0,n=s,r=i;break}if(c===r){a=!0,r=s,n=i;break}c=c.sibling}if(!a)throw Error($(189))}}if(n.alternate!==r)throw Error($(190))}if(n.tag!==3)throw Error($(188));return n.stateNode.current===n?t:e}function IS(t){return t=uk(t),t!==null?PS(t):null}function PS(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=PS(t);if(e!==null)return e;t=t.sibling}return null}var CS=vn.unstable_scheduleCallback,x0=vn.unstable_cancelCallback,ck=vn.unstable_shouldYield,hk=vn.unstable_requestPaint,nt=vn.unstable_now,dk=vn.unstable_getCurrentPriorityLevel,Nv=vn.unstable_ImmediatePriority,xS=vn.unstable_UserBlockingPriority,fh=vn.unstable_NormalPriority,fk=vn.unstable_LowPriority,bS=vn.unstable_IdlePriority,Sd=null,ur=null;function pk(t){if(ur&&typeof ur.onCommitFiberRoot=="function")try{ur.onCommitFiberRoot(Sd,t,void 0,(t.current.flags&128)===128)}catch{}}var Un=Math.clz32?Math.clz32:vk,mk=Math.log,gk=Math.LN2;function vk(t){return t>>>=0,t===0?32:31-(mk(t)/gk|0)|0}var rc=64,ic=4194304;function ka(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ph(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,a=n&268435455;if(a!==0){var c=a&~i;c!==0?r=ka(c):(s&=a,s!==0&&(r=ka(s)))}else a=n&~i,a!==0?r=ka(a):s!==0&&(r=ka(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Un(e),i=1<<n,r|=t[n],e&=~i;return r}function _k(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yk(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var a=31-Un(s),c=1<<a,u=i[a];u===-1?(!(c&n)||c&r)&&(i[a]=_k(c,e)):u<=e&&(t.expiredLanes|=c),s&=~c}}function qm(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function RS(){var t=rc;return rc<<=1,!(rc&4194240)&&(rc=64),t}function Rp(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function eu(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Un(e),t[e]=n}function wk(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Un(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Dv(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Un(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var ke=0;function AS(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var kS,Vv,OS,LS,MS,Gm=!1,sc=[],pi=null,mi=null,gi=null,fl=new Map,pl=new Map,ii=[],Ek="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function b0(t,e){switch(t){case"focusin":case"focusout":pi=null;break;case"dragenter":case"dragleave":mi=null;break;case"mouseover":case"mouseout":gi=null;break;case"pointerover":case"pointerout":fl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":pl.delete(e.pointerId)}}function _a(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=nu(e),e!==null&&Vv(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Sk(t,e,n,r,i){switch(e){case"focusin":return pi=_a(pi,t,e,n,r,i),!0;case"dragenter":return mi=_a(mi,t,e,n,r,i),!0;case"mouseover":return gi=_a(gi,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return fl.set(s,_a(fl.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,pl.set(s,_a(pl.get(s)||null,t,e,n,r,i)),!0}return!1}function NS(t){var e=Ji(t.target);if(e!==null){var n=Cs(e);if(n!==null){if(e=n.tag,e===13){if(e=TS(n),e!==null){t.blockedOn=e,MS(t.priority,function(){OS(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Nc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Km(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Um=r,n.target.dispatchEvent(r),Um=null}else return e=nu(n),e!==null&&Vv(e),t.blockedOn=n,!1;e.shift()}return!0}function R0(t,e,n){Nc(t)&&n.delete(e)}function Tk(){Gm=!1,pi!==null&&Nc(pi)&&(pi=null),mi!==null&&Nc(mi)&&(mi=null),gi!==null&&Nc(gi)&&(gi=null),fl.forEach(R0),pl.forEach(R0)}function ya(t,e){t.blockedOn===e&&(t.blockedOn=null,Gm||(Gm=!0,vn.unstable_scheduleCallback(vn.unstable_NormalPriority,Tk)))}function ml(t){function e(i){return ya(i,t)}if(0<sc.length){ya(sc[0],t);for(var n=1;n<sc.length;n++){var r=sc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(pi!==null&&ya(pi,t),mi!==null&&ya(mi,t),gi!==null&&ya(gi,t),fl.forEach(e),pl.forEach(e),n=0;n<ii.length;n++)r=ii[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ii.length&&(n=ii[0],n.blockedOn===null);)NS(n),n.blockedOn===null&&ii.shift()}var uo=Hr.ReactCurrentBatchConfig,mh=!0;function Ik(t,e,n,r){var i=ke,s=uo.transition;uo.transition=null;try{ke=1,Fv(t,e,n,r)}finally{ke=i,uo.transition=s}}function Pk(t,e,n,r){var i=ke,s=uo.transition;uo.transition=null;try{ke=4,Fv(t,e,n,r)}finally{ke=i,uo.transition=s}}function Fv(t,e,n,r){if(mh){var i=Km(t,e,n,r);if(i===null)zp(t,e,r,gh,n),b0(t,r);else if(Sk(i,t,e,n,r))r.stopPropagation();else if(b0(t,r),e&4&&-1<Ek.indexOf(t)){for(;i!==null;){var s=nu(i);if(s!==null&&kS(s),s=Km(t,e,n,r),s===null&&zp(t,e,r,gh,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else zp(t,e,r,null,n)}}var gh=null;function Km(t,e,n,r){if(gh=null,t=Mv(r),t=Ji(t),t!==null)if(e=Cs(t),e===null)t=null;else if(n=e.tag,n===13){if(t=TS(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return gh=t,null}function DS(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(dk()){case Nv:return 1;case xS:return 4;case fh:case fk:return 16;case bS:return 536870912;default:return 16}default:return 16}}var ci=null,zv=null,Dc=null;function VS(){if(Dc)return Dc;var t,e=zv,n=e.length,r,i="value"in ci?ci.value:ci.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[s-r];r++);return Dc=i.slice(t,1<r?1-r:void 0)}function Vc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function oc(){return!0}function A0(){return!1}function Sn(t){function e(n,r,i,s,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var c in t)t.hasOwnProperty(c)&&(n=t[c],this[c]=n?n(s):s[c]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?oc:A0,this.isPropagationStopped=A0,this}return Qe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=oc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=oc)},persist:function(){},isPersistent:oc}),e}var jo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},jv=Sn(jo),tu=Qe({},jo,{view:0,detail:0}),Ck=Sn(tu),Ap,kp,wa,Td=Qe({},tu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$v,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==wa&&(wa&&t.type==="mousemove"?(Ap=t.screenX-wa.screenX,kp=t.screenY-wa.screenY):kp=Ap=0,wa=t),Ap)},movementY:function(t){return"movementY"in t?t.movementY:kp}}),k0=Sn(Td),xk=Qe({},Td,{dataTransfer:0}),bk=Sn(xk),Rk=Qe({},tu,{relatedTarget:0}),Op=Sn(Rk),Ak=Qe({},jo,{animationName:0,elapsedTime:0,pseudoElement:0}),kk=Sn(Ak),Ok=Qe({},jo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Lk=Sn(Ok),Mk=Qe({},jo,{data:0}),O0=Sn(Mk),Nk={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Dk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Vk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Fk(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Vk[t])?!!e[t]:!1}function $v(){return Fk}var zk=Qe({},tu,{key:function(t){if(t.key){var e=Nk[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Vc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Dk[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$v,charCode:function(t){return t.type==="keypress"?Vc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Vc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),jk=Sn(zk),$k=Qe({},Td,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),L0=Sn($k),Uk=Qe({},tu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$v}),Bk=Sn(Uk),Hk=Qe({},jo,{propertyName:0,elapsedTime:0,pseudoElement:0}),Wk=Sn(Hk),qk=Qe({},Td,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Gk=Sn(qk),Kk=[9,13,27,32],Uv=Nr&&"CompositionEvent"in window,Wa=null;Nr&&"documentMode"in document&&(Wa=document.documentMode);var Zk=Nr&&"TextEvent"in window&&!Wa,FS=Nr&&(!Uv||Wa&&8<Wa&&11>=Wa),M0=" ",N0=!1;function zS(t,e){switch(t){case"keyup":return Kk.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jS(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ks=!1;function Qk(t,e){switch(t){case"compositionend":return jS(e);case"keypress":return e.which!==32?null:(N0=!0,M0);case"textInput":return t=e.data,t===M0&&N0?null:t;default:return null}}function Yk(t,e){if(Ks)return t==="compositionend"||!Uv&&zS(t,e)?(t=VS(),Dc=zv=ci=null,Ks=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return FS&&e.locale!=="ko"?null:e.data;default:return null}}var Xk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function D0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Xk[t.type]:e==="textarea"}function $S(t,e,n,r){_S(r),e=vh(e,"onChange"),0<e.length&&(n=new jv("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var qa=null,gl=null;function Jk(t){XS(t,0)}function Id(t){var e=Ys(t);if(hS(e))return t}function e4(t,e){if(t==="change")return e}var US=!1;if(Nr){var Lp;if(Nr){var Mp="oninput"in document;if(!Mp){var V0=document.createElement("div");V0.setAttribute("oninput","return;"),Mp=typeof V0.oninput=="function"}Lp=Mp}else Lp=!1;US=Lp&&(!document.documentMode||9<document.documentMode)}function F0(){qa&&(qa.detachEvent("onpropertychange",BS),gl=qa=null)}function BS(t){if(t.propertyName==="value"&&Id(gl)){var e=[];$S(e,gl,t,Mv(t)),SS(Jk,e)}}function t4(t,e,n){t==="focusin"?(F0(),qa=e,gl=n,qa.attachEvent("onpropertychange",BS)):t==="focusout"&&F0()}function n4(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Id(gl)}function r4(t,e){if(t==="click")return Id(e)}function i4(t,e){if(t==="input"||t==="change")return Id(e)}function s4(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Wn=typeof Object.is=="function"?Object.is:s4;function vl(t,e){if(Wn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Am.call(e,i)||!Wn(t[i],e[i]))return!1}return!0}function z0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function j0(t,e){var n=z0(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=z0(n)}}function HS(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?HS(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function WS(){for(var t=window,e=ch();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=ch(t.document)}return e}function Bv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function o4(t){var e=WS(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&HS(n.ownerDocument.documentElement,n)){if(r!==null&&Bv(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=j0(n,s);var a=j0(n,r);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var a4=Nr&&"documentMode"in document&&11>=document.documentMode,Zs=null,Zm=null,Ga=null,Qm=!1;function $0(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Qm||Zs==null||Zs!==ch(r)||(r=Zs,"selectionStart"in r&&Bv(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ga&&vl(Ga,r)||(Ga=r,r=vh(Zm,"onSelect"),0<r.length&&(e=new jv("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Zs)))}function ac(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Qs={animationend:ac("Animation","AnimationEnd"),animationiteration:ac("Animation","AnimationIteration"),animationstart:ac("Animation","AnimationStart"),transitionend:ac("Transition","TransitionEnd")},Np={},qS={};Nr&&(qS=document.createElement("div").style,"AnimationEvent"in window||(delete Qs.animationend.animation,delete Qs.animationiteration.animation,delete Qs.animationstart.animation),"TransitionEvent"in window||delete Qs.transitionend.transition);function Pd(t){if(Np[t])return Np[t];if(!Qs[t])return t;var e=Qs[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in qS)return Np[t]=e[n];return t}var GS=Pd("animationend"),KS=Pd("animationiteration"),ZS=Pd("animationstart"),QS=Pd("transitionend"),YS=new Map,U0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ni(t,e){YS.set(t,e),Ps(e,[t])}for(var Dp=0;Dp<U0.length;Dp++){var Vp=U0[Dp],l4=Vp.toLowerCase(),u4=Vp[0].toUpperCase()+Vp.slice(1);Ni(l4,"on"+u4)}Ni(GS,"onAnimationEnd");Ni(KS,"onAnimationIteration");Ni(ZS,"onAnimationStart");Ni("dblclick","onDoubleClick");Ni("focusin","onFocus");Ni("focusout","onBlur");Ni(QS,"onTransitionEnd");yo("onMouseEnter",["mouseout","mouseover"]);yo("onMouseLeave",["mouseout","mouseover"]);yo("onPointerEnter",["pointerout","pointerover"]);yo("onPointerLeave",["pointerout","pointerover"]);Ps("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ps("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ps("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ps("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ps("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ps("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Oa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),c4=new Set("cancel close invalid load scroll toggle".split(" ").concat(Oa));function B0(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,lk(r,e,void 0,t),t.currentTarget=null}function XS(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var a=r.length-1;0<=a;a--){var c=r[a],u=c.instance,d=c.currentTarget;if(c=c.listener,u!==s&&i.isPropagationStopped())break e;B0(i,c,d),s=u}else for(a=0;a<r.length;a++){if(c=r[a],u=c.instance,d=c.currentTarget,c=c.listener,u!==s&&i.isPropagationStopped())break e;B0(i,c,d),s=u}}}if(dh)throw t=Wm,dh=!1,Wm=null,t}function ze(t,e){var n=e[tg];n===void 0&&(n=e[tg]=new Set);var r=t+"__bubble";n.has(r)||(JS(e,t,2,!1),n.add(r))}function Fp(t,e,n){var r=0;e&&(r|=4),JS(n,t,r,e)}var lc="_reactListening"+Math.random().toString(36).slice(2);function _l(t){if(!t[lc]){t[lc]=!0,oS.forEach(function(n){n!=="selectionchange"&&(c4.has(n)||Fp(n,!1,t),Fp(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[lc]||(e[lc]=!0,Fp("selectionchange",!1,e))}}function JS(t,e,n,r){switch(DS(e)){case 1:var i=Ik;break;case 4:i=Pk;break;default:i=Fv}n=i.bind(null,e,n,t),i=void 0,!Hm||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function zp(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var c=r.stateNode.containerInfo;if(c===i||c.nodeType===8&&c.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var u=a.tag;if((u===3||u===4)&&(u=a.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;a=a.return}for(;c!==null;){if(a=Ji(c),a===null)return;if(u=a.tag,u===5||u===6){r=s=a;continue e}c=c.parentNode}}r=r.return}SS(function(){var d=s,p=Mv(n),m=[];e:{var v=YS.get(t);if(v!==void 0){var E=jv,C=t;switch(t){case"keypress":if(Vc(n)===0)break e;case"keydown":case"keyup":E=jk;break;case"focusin":C="focus",E=Op;break;case"focusout":C="blur",E=Op;break;case"beforeblur":case"afterblur":E=Op;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":E=k0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":E=bk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":E=Bk;break;case GS:case KS:case ZS:E=kk;break;case QS:E=Wk;break;case"scroll":E=Ck;break;case"wheel":E=Gk;break;case"copy":case"cut":case"paste":E=Lk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":E=L0}var T=(e&4)!==0,P=!T&&t==="scroll",_=T?v!==null?v+"Capture":null:v;T=[];for(var y=d,S;y!==null;){S=y;var x=S.stateNode;if(S.tag===5&&x!==null&&(S=x,_!==null&&(x=dl(y,_),x!=null&&T.push(yl(y,x,S)))),P)break;y=y.return}0<T.length&&(v=new E(v,C,null,n,p),m.push({event:v,listeners:T}))}}if(!(e&7)){e:{if(v=t==="mouseover"||t==="pointerover",E=t==="mouseout"||t==="pointerout",v&&n!==Um&&(C=n.relatedTarget||n.fromElement)&&(Ji(C)||C[Dr]))break e;if((E||v)&&(v=p.window===p?p:(v=p.ownerDocument)?v.defaultView||v.parentWindow:window,E?(C=n.relatedTarget||n.toElement,E=d,C=C?Ji(C):null,C!==null&&(P=Cs(C),C!==P||C.tag!==5&&C.tag!==6)&&(C=null)):(E=null,C=d),E!==C)){if(T=k0,x="onMouseLeave",_="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(T=L0,x="onPointerLeave",_="onPointerEnter",y="pointer"),P=E==null?v:Ys(E),S=C==null?v:Ys(C),v=new T(x,y+"leave",E,n,p),v.target=P,v.relatedTarget=S,x=null,Ji(p)===d&&(T=new T(_,y+"enter",C,n,p),T.target=S,T.relatedTarget=P,x=T),P=x,E&&C)t:{for(T=E,_=C,y=0,S=T;S;S=js(S))y++;for(S=0,x=_;x;x=js(x))S++;for(;0<y-S;)T=js(T),y--;for(;0<S-y;)_=js(_),S--;for(;y--;){if(T===_||_!==null&&T===_.alternate)break t;T=js(T),_=js(_)}T=null}else T=null;E!==null&&H0(m,v,E,T,!1),C!==null&&P!==null&&H0(m,P,C,T,!0)}}e:{if(v=d?Ys(d):window,E=v.nodeName&&v.nodeName.toLowerCase(),E==="select"||E==="input"&&v.type==="file")var A=e4;else if(D0(v))if(US)A=i4;else{A=n4;var O=t4}else(E=v.nodeName)&&E.toLowerCase()==="input"&&(v.type==="checkbox"||v.type==="radio")&&(A=r4);if(A&&(A=A(t,d))){$S(m,A,n,p);break e}O&&O(t,v,d),t==="focusout"&&(O=v._wrapperState)&&O.controlled&&v.type==="number"&&Vm(v,"number",v.value)}switch(O=d?Ys(d):window,t){case"focusin":(D0(O)||O.contentEditable==="true")&&(Zs=O,Zm=d,Ga=null);break;case"focusout":Ga=Zm=Zs=null;break;case"mousedown":Qm=!0;break;case"contextmenu":case"mouseup":case"dragend":Qm=!1,$0(m,n,p);break;case"selectionchange":if(a4)break;case"keydown":case"keyup":$0(m,n,p)}var M;if(Uv)e:{switch(t){case"compositionstart":var D="onCompositionStart";break e;case"compositionend":D="onCompositionEnd";break e;case"compositionupdate":D="onCompositionUpdate";break e}D=void 0}else Ks?zS(t,n)&&(D="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(D="onCompositionStart");D&&(FS&&n.locale!=="ko"&&(Ks||D!=="onCompositionStart"?D==="onCompositionEnd"&&Ks&&(M=VS()):(ci=p,zv="value"in ci?ci.value:ci.textContent,Ks=!0)),O=vh(d,D),0<O.length&&(D=new O0(D,t,null,n,p),m.push({event:D,listeners:O}),M?D.data=M:(M=jS(n),M!==null&&(D.data=M)))),(M=Zk?Qk(t,n):Yk(t,n))&&(d=vh(d,"onBeforeInput"),0<d.length&&(p=new O0("onBeforeInput","beforeinput",null,n,p),m.push({event:p,listeners:d}),p.data=M))}XS(m,e)})}function yl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function vh(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=dl(t,n),s!=null&&r.unshift(yl(t,s,i)),s=dl(t,e),s!=null&&r.push(yl(t,s,i))),t=t.return}return r}function js(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function H0(t,e,n,r,i){for(var s=e._reactName,a=[];n!==null&&n!==r;){var c=n,u=c.alternate,d=c.stateNode;if(u!==null&&u===r)break;c.tag===5&&d!==null&&(c=d,i?(u=dl(n,s),u!=null&&a.unshift(yl(n,u,c))):i||(u=dl(n,s),u!=null&&a.push(yl(n,u,c)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var h4=/\r\n?/g,d4=/\u0000|\uFFFD/g;function W0(t){return(typeof t=="string"?t:""+t).replace(h4,`
`).replace(d4,"")}function uc(t,e,n){if(e=W0(e),W0(t)!==e&&n)throw Error($(425))}function _h(){}var Ym=null,Xm=null;function Jm(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var eg=typeof setTimeout=="function"?setTimeout:void 0,f4=typeof clearTimeout=="function"?clearTimeout:void 0,q0=typeof Promise=="function"?Promise:void 0,p4=typeof queueMicrotask=="function"?queueMicrotask:typeof q0<"u"?function(t){return q0.resolve(null).then(t).catch(m4)}:eg;function m4(t){setTimeout(function(){throw t})}function jp(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),ml(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);ml(e)}function vi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function G0(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var $o=Math.random().toString(36).slice(2),ir="__reactFiber$"+$o,wl="__reactProps$"+$o,Dr="__reactContainer$"+$o,tg="__reactEvents$"+$o,g4="__reactListeners$"+$o,v4="__reactHandles$"+$o;function Ji(t){var e=t[ir];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Dr]||n[ir]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=G0(t);t!==null;){if(n=t[ir])return n;t=G0(t)}return e}t=n,n=t.parentNode}return null}function nu(t){return t=t[ir]||t[Dr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ys(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error($(33))}function Cd(t){return t[wl]||null}var ng=[],Xs=-1;function Di(t){return{current:t}}function Ue(t){0>Xs||(t.current=ng[Xs],ng[Xs]=null,Xs--)}function De(t,e){Xs++,ng[Xs]=t.current,t.current=e}var bi={},qt=Di(bi),sn=Di(!1),cs=bi;function wo(t,e){var n=t.type.contextTypes;if(!n)return bi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function on(t){return t=t.childContextTypes,t!=null}function yh(){Ue(sn),Ue(qt)}function K0(t,e,n){if(qt.current!==bi)throw Error($(168));De(qt,e),De(sn,n)}function eT(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error($(108,tk(t)||"Unknown",i));return Qe({},n,r)}function wh(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||bi,cs=qt.current,De(qt,t),De(sn,sn.current),!0}function Z0(t,e,n){var r=t.stateNode;if(!r)throw Error($(169));n?(t=eT(t,e,cs),r.__reactInternalMemoizedMergedChildContext=t,Ue(sn),Ue(qt),De(qt,t)):Ue(sn),De(sn,n)}var Pr=null,xd=!1,$p=!1;function tT(t){Pr===null?Pr=[t]:Pr.push(t)}function _4(t){xd=!0,tT(t)}function Vi(){if(!$p&&Pr!==null){$p=!0;var t=0,e=ke;try{var n=Pr;for(ke=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Pr=null,xd=!1}catch(i){throw Pr!==null&&(Pr=Pr.slice(t+1)),CS(Nv,Vi),i}finally{ke=e,$p=!1}}return null}var Js=[],eo=0,Eh=null,Sh=0,xn=[],bn=0,hs=null,Cr=1,xr="";function Ki(t,e){Js[eo++]=Sh,Js[eo++]=Eh,Eh=t,Sh=e}function nT(t,e,n){xn[bn++]=Cr,xn[bn++]=xr,xn[bn++]=hs,hs=t;var r=Cr;t=xr;var i=32-Un(r)-1;r&=~(1<<i),n+=1;var s=32-Un(e)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Cr=1<<32-Un(e)+i|n<<i|r,xr=s+t}else Cr=1<<s|n<<i|r,xr=t}function Hv(t){t.return!==null&&(Ki(t,1),nT(t,1,0))}function Wv(t){for(;t===Eh;)Eh=Js[--eo],Js[eo]=null,Sh=Js[--eo],Js[eo]=null;for(;t===hs;)hs=xn[--bn],xn[bn]=null,xr=xn[--bn],xn[bn]=null,Cr=xn[--bn],xn[bn]=null}var mn=null,dn=null,Be=!1,jn=null;function rT(t,e){var n=An(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Q0(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,mn=t,dn=vi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,mn=t,dn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=hs!==null?{id:Cr,overflow:xr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=An(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,mn=t,dn=null,!0):!1;default:return!1}}function rg(t){return(t.mode&1)!==0&&(t.flags&128)===0}function ig(t){if(Be){var e=dn;if(e){var n=e;if(!Q0(t,e)){if(rg(t))throw Error($(418));e=vi(n.nextSibling);var r=mn;e&&Q0(t,e)?rT(r,n):(t.flags=t.flags&-4097|2,Be=!1,mn=t)}}else{if(rg(t))throw Error($(418));t.flags=t.flags&-4097|2,Be=!1,mn=t}}}function Y0(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;mn=t}function cc(t){if(t!==mn)return!1;if(!Be)return Y0(t),Be=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Jm(t.type,t.memoizedProps)),e&&(e=dn)){if(rg(t))throw iT(),Error($(418));for(;e;)rT(t,e),e=vi(e.nextSibling)}if(Y0(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error($(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){dn=vi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}dn=null}}else dn=mn?vi(t.stateNode.nextSibling):null;return!0}function iT(){for(var t=dn;t;)t=vi(t.nextSibling)}function Eo(){dn=mn=null,Be=!1}function qv(t){jn===null?jn=[t]:jn.push(t)}var y4=Hr.ReactCurrentBatchConfig;function Fn(t,e){if(t&&t.defaultProps){e=Qe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Th=Di(null),Ih=null,to=null,Gv=null;function Kv(){Gv=to=Ih=null}function Zv(t){var e=Th.current;Ue(Th),t._currentValue=e}function sg(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function co(t,e){Ih=t,Gv=to=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(rn=!0),t.firstContext=null)}function On(t){var e=t._currentValue;if(Gv!==t)if(t={context:t,memoizedValue:e,next:null},to===null){if(Ih===null)throw Error($(308));to=t,Ih.dependencies={lanes:0,firstContext:t}}else to=to.next=t;return e}var es=null;function Qv(t){es===null?es=[t]:es.push(t)}function sT(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Qv(e)):(n.next=i.next,i.next=n),e.interleaved=n,Vr(t,r)}function Vr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ri=!1;function Yv(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function oT(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Or(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function _i(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ce&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Vr(t,n)}return i=r.interleaved,i===null?(e.next=e,Qv(r)):(e.next=i.next,i.next=e),r.interleaved=e,Vr(t,n)}function Fc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Dv(t,n)}}function X0(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Ph(t,e,n,r){var i=t.updateQueue;ri=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,c=i.shared.pending;if(c!==null){i.shared.pending=null;var u=c,d=u.next;u.next=null,a===null?s=d:a.next=d,a=u;var p=t.alternate;p!==null&&(p=p.updateQueue,c=p.lastBaseUpdate,c!==a&&(c===null?p.firstBaseUpdate=d:c.next=d,p.lastBaseUpdate=u))}if(s!==null){var m=i.baseState;a=0,p=d=u=null,c=s;do{var v=c.lane,E=c.eventTime;if((r&v)===v){p!==null&&(p=p.next={eventTime:E,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var C=t,T=c;switch(v=e,E=n,T.tag){case 1:if(C=T.payload,typeof C=="function"){m=C.call(E,m,v);break e}m=C;break e;case 3:C.flags=C.flags&-65537|128;case 0:if(C=T.payload,v=typeof C=="function"?C.call(E,m,v):C,v==null)break e;m=Qe({},m,v);break e;case 2:ri=!0}}c.callback!==null&&c.lane!==0&&(t.flags|=64,v=i.effects,v===null?i.effects=[c]:v.push(c))}else E={eventTime:E,lane:v,tag:c.tag,payload:c.payload,callback:c.callback,next:null},p===null?(d=p=E,u=m):p=p.next=E,a|=v;if(c=c.next,c===null){if(c=i.shared.pending,c===null)break;v=c,c=v.next,v.next=null,i.lastBaseUpdate=v,i.shared.pending=null}}while(!0);if(p===null&&(u=m),i.baseState=u,i.firstBaseUpdate=d,i.lastBaseUpdate=p,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);fs|=a,t.lanes=a,t.memoizedState=m}}function J0(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error($(191,i));i.call(r)}}}var aT=new sS.Component().refs;function og(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Qe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var bd={isMounted:function(t){return(t=t._reactInternals)?Cs(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Yt(),i=wi(t),s=Or(r,i);s.payload=e,n!=null&&(s.callback=n),e=_i(t,s,i),e!==null&&(Bn(e,t,i,r),Fc(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Yt(),i=wi(t),s=Or(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=_i(t,s,i),e!==null&&(Bn(e,t,i,r),Fc(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Yt(),r=wi(t),i=Or(n,r);i.tag=2,e!=null&&(i.callback=e),e=_i(t,i,r),e!==null&&(Bn(e,t,r,n),Fc(e,t,r))}};function ew(t,e,n,r,i,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,a):e.prototype&&e.prototype.isPureReactComponent?!vl(n,r)||!vl(i,s):!0}function lT(t,e,n){var r=!1,i=bi,s=e.contextType;return typeof s=="object"&&s!==null?s=On(s):(i=on(e)?cs:qt.current,r=e.contextTypes,s=(r=r!=null)?wo(t,i):bi),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=bd,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function tw(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&bd.enqueueReplaceState(e,e.state,null)}function ag(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=aT,Yv(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=On(s):(s=on(e)?cs:qt.current,i.context=wo(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(og(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&bd.enqueueReplaceState(i,i.state,null),Ph(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Ea(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error($(309));var r=n.stateNode}if(!r)throw Error($(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var c=i.refs;c===aT&&(c=i.refs={}),a===null?delete c[s]:c[s]=a},e._stringRef=s,e)}if(typeof t!="string")throw Error($(284));if(!n._owner)throw Error($(290,t))}return t}function hc(t,e){throw t=Object.prototype.toString.call(e),Error($(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function nw(t){var e=t._init;return e(t._payload)}function uT(t){function e(_,y){if(t){var S=_.deletions;S===null?(_.deletions=[y],_.flags|=16):S.push(y)}}function n(_,y){if(!t)return null;for(;y!==null;)e(_,y),y=y.sibling;return null}function r(_,y){for(_=new Map;y!==null;)y.key!==null?_.set(y.key,y):_.set(y.index,y),y=y.sibling;return _}function i(_,y){return _=Ei(_,y),_.index=0,_.sibling=null,_}function s(_,y,S){return _.index=S,t?(S=_.alternate,S!==null?(S=S.index,S<y?(_.flags|=2,y):S):(_.flags|=2,y)):(_.flags|=1048576,y)}function a(_){return t&&_.alternate===null&&(_.flags|=2),_}function c(_,y,S,x){return y===null||y.tag!==6?(y=Kp(S,_.mode,x),y.return=_,y):(y=i(y,S),y.return=_,y)}function u(_,y,S,x){var A=S.type;return A===Gs?p(_,y,S.props.children,x,S.key):y!==null&&(y.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===ni&&nw(A)===y.type)?(x=i(y,S.props),x.ref=Ea(_,y,S),x.return=_,x):(x=Hc(S.type,S.key,S.props,null,_.mode,x),x.ref=Ea(_,y,S),x.return=_,x)}function d(_,y,S,x){return y===null||y.tag!==4||y.stateNode.containerInfo!==S.containerInfo||y.stateNode.implementation!==S.implementation?(y=Zp(S,_.mode,x),y.return=_,y):(y=i(y,S.children||[]),y.return=_,y)}function p(_,y,S,x,A){return y===null||y.tag!==7?(y=as(S,_.mode,x,A),y.return=_,y):(y=i(y,S),y.return=_,y)}function m(_,y,S){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Kp(""+y,_.mode,S),y.return=_,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case ec:return S=Hc(y.type,y.key,y.props,null,_.mode,S),S.ref=Ea(_,null,y),S.return=_,S;case qs:return y=Zp(y,_.mode,S),y.return=_,y;case ni:var x=y._init;return m(_,x(y._payload),S)}if(Aa(y)||ga(y))return y=as(y,_.mode,S,null),y.return=_,y;hc(_,y)}return null}function v(_,y,S,x){var A=y!==null?y.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return A!==null?null:c(_,y,""+S,x);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case ec:return S.key===A?u(_,y,S,x):null;case qs:return S.key===A?d(_,y,S,x):null;case ni:return A=S._init,v(_,y,A(S._payload),x)}if(Aa(S)||ga(S))return A!==null?null:p(_,y,S,x,null);hc(_,S)}return null}function E(_,y,S,x,A){if(typeof x=="string"&&x!==""||typeof x=="number")return _=_.get(S)||null,c(y,_,""+x,A);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case ec:return _=_.get(x.key===null?S:x.key)||null,u(y,_,x,A);case qs:return _=_.get(x.key===null?S:x.key)||null,d(y,_,x,A);case ni:var O=x._init;return E(_,y,S,O(x._payload),A)}if(Aa(x)||ga(x))return _=_.get(S)||null,p(y,_,x,A,null);hc(y,x)}return null}function C(_,y,S,x){for(var A=null,O=null,M=y,D=y=0,Z=null;M!==null&&D<S.length;D++){M.index>D?(Z=M,M=null):Z=M.sibling;var G=v(_,M,S[D],x);if(G===null){M===null&&(M=Z);break}t&&M&&G.alternate===null&&e(_,M),y=s(G,y,D),O===null?A=G:O.sibling=G,O=G,M=Z}if(D===S.length)return n(_,M),Be&&Ki(_,D),A;if(M===null){for(;D<S.length;D++)M=m(_,S[D],x),M!==null&&(y=s(M,y,D),O===null?A=M:O.sibling=M,O=M);return Be&&Ki(_,D),A}for(M=r(_,M);D<S.length;D++)Z=E(M,_,D,S[D],x),Z!==null&&(t&&Z.alternate!==null&&M.delete(Z.key===null?D:Z.key),y=s(Z,y,D),O===null?A=Z:O.sibling=Z,O=Z);return t&&M.forEach(function(le){return e(_,le)}),Be&&Ki(_,D),A}function T(_,y,S,x){var A=ga(S);if(typeof A!="function")throw Error($(150));if(S=A.call(S),S==null)throw Error($(151));for(var O=A=null,M=y,D=y=0,Z=null,G=S.next();M!==null&&!G.done;D++,G=S.next()){M.index>D?(Z=M,M=null):Z=M.sibling;var le=v(_,M,G.value,x);if(le===null){M===null&&(M=Z);break}t&&M&&le.alternate===null&&e(_,M),y=s(le,y,D),O===null?A=le:O.sibling=le,O=le,M=Z}if(G.done)return n(_,M),Be&&Ki(_,D),A;if(M===null){for(;!G.done;D++,G=S.next())G=m(_,G.value,x),G!==null&&(y=s(G,y,D),O===null?A=G:O.sibling=G,O=G);return Be&&Ki(_,D),A}for(M=r(_,M);!G.done;D++,G=S.next())G=E(M,_,D,G.value,x),G!==null&&(t&&G.alternate!==null&&M.delete(G.key===null?D:G.key),y=s(G,y,D),O===null?A=G:O.sibling=G,O=G);return t&&M.forEach(function(ve){return e(_,ve)}),Be&&Ki(_,D),A}function P(_,y,S,x){if(typeof S=="object"&&S!==null&&S.type===Gs&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case ec:e:{for(var A=S.key,O=y;O!==null;){if(O.key===A){if(A=S.type,A===Gs){if(O.tag===7){n(_,O.sibling),y=i(O,S.props.children),y.return=_,_=y;break e}}else if(O.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===ni&&nw(A)===O.type){n(_,O.sibling),y=i(O,S.props),y.ref=Ea(_,O,S),y.return=_,_=y;break e}n(_,O);break}else e(_,O);O=O.sibling}S.type===Gs?(y=as(S.props.children,_.mode,x,S.key),y.return=_,_=y):(x=Hc(S.type,S.key,S.props,null,_.mode,x),x.ref=Ea(_,y,S),x.return=_,_=x)}return a(_);case qs:e:{for(O=S.key;y!==null;){if(y.key===O)if(y.tag===4&&y.stateNode.containerInfo===S.containerInfo&&y.stateNode.implementation===S.implementation){n(_,y.sibling),y=i(y,S.children||[]),y.return=_,_=y;break e}else{n(_,y);break}else e(_,y);y=y.sibling}y=Zp(S,_.mode,x),y.return=_,_=y}return a(_);case ni:return O=S._init,P(_,y,O(S._payload),x)}if(Aa(S))return C(_,y,S,x);if(ga(S))return T(_,y,S,x);hc(_,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,y!==null&&y.tag===6?(n(_,y.sibling),y=i(y,S),y.return=_,_=y):(n(_,y),y=Kp(S,_.mode,x),y.return=_,_=y),a(_)):n(_,y)}return P}var So=uT(!0),cT=uT(!1),ru={},cr=Di(ru),El=Di(ru),Sl=Di(ru);function ts(t){if(t===ru)throw Error($(174));return t}function Xv(t,e){switch(De(Sl,e),De(El,t),De(cr,ru),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:zm(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=zm(e,t)}Ue(cr),De(cr,e)}function To(){Ue(cr),Ue(El),Ue(Sl)}function hT(t){ts(Sl.current);var e=ts(cr.current),n=zm(e,t.type);e!==n&&(De(El,t),De(cr,n))}function Jv(t){El.current===t&&(Ue(cr),Ue(El))}var Ge=Di(0);function Ch(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Up=[];function e_(){for(var t=0;t<Up.length;t++)Up[t]._workInProgressVersionPrimary=null;Up.length=0}var zc=Hr.ReactCurrentDispatcher,Bp=Hr.ReactCurrentBatchConfig,ds=0,Ke=null,ft=null,wt=null,xh=!1,Ka=!1,Tl=0,w4=0;function Dt(){throw Error($(321))}function t_(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Wn(t[n],e[n]))return!1;return!0}function n_(t,e,n,r,i,s){if(ds=s,Ke=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,zc.current=t===null||t.memoizedState===null?I4:P4,t=n(r,i),Ka){s=0;do{if(Ka=!1,Tl=0,25<=s)throw Error($(301));s+=1,wt=ft=null,e.updateQueue=null,zc.current=C4,t=n(r,i)}while(Ka)}if(zc.current=bh,e=ft!==null&&ft.next!==null,ds=0,wt=ft=Ke=null,xh=!1,e)throw Error($(300));return t}function r_(){var t=Tl!==0;return Tl=0,t}function tr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wt===null?Ke.memoizedState=wt=t:wt=wt.next=t,wt}function Ln(){if(ft===null){var t=Ke.alternate;t=t!==null?t.memoizedState:null}else t=ft.next;var e=wt===null?Ke.memoizedState:wt.next;if(e!==null)wt=e,ft=t;else{if(t===null)throw Error($(310));ft=t,t={memoizedState:ft.memoizedState,baseState:ft.baseState,baseQueue:ft.baseQueue,queue:ft.queue,next:null},wt===null?Ke.memoizedState=wt=t:wt=wt.next=t}return wt}function Il(t,e){return typeof e=="function"?e(t):e}function Hp(t){var e=Ln(),n=e.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=t;var r=ft,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var c=a=null,u=null,d=s;do{var p=d.lane;if((ds&p)===p)u!==null&&(u=u.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:t(r,d.action);else{var m={lane:p,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};u===null?(c=u=m,a=r):u=u.next=m,Ke.lanes|=p,fs|=p}d=d.next}while(d!==null&&d!==s);u===null?a=r:u.next=c,Wn(r,e.memoizedState)||(rn=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Ke.lanes|=s,fs|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Wp(t){var e=Ln(),n=e.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do s=t(s,a.action),a=a.next;while(a!==i);Wn(s,e.memoizedState)||(rn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function dT(){}function fT(t,e){var n=Ke,r=Ln(),i=e(),s=!Wn(r.memoizedState,i);if(s&&(r.memoizedState=i,rn=!0),r=r.queue,i_(gT.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||wt!==null&&wt.memoizedState.tag&1){if(n.flags|=2048,Pl(9,mT.bind(null,n,r,i,e),void 0,null),Et===null)throw Error($(349));ds&30||pT(n,e,i)}return i}function pT(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ke.updateQueue,e===null?(e={lastEffect:null,stores:null},Ke.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function mT(t,e,n,r){e.value=n,e.getSnapshot=r,vT(e)&&_T(t)}function gT(t,e,n){return n(function(){vT(e)&&_T(t)})}function vT(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Wn(t,n)}catch{return!0}}function _T(t){var e=Vr(t,1);e!==null&&Bn(e,t,1,-1)}function rw(t){var e=tr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Il,lastRenderedState:t},e.queue=t,t=t.dispatch=T4.bind(null,Ke,t),[e.memoizedState,t]}function Pl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ke.updateQueue,e===null?(e={lastEffect:null,stores:null},Ke.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function yT(){return Ln().memoizedState}function jc(t,e,n,r){var i=tr();Ke.flags|=t,i.memoizedState=Pl(1|e,n,void 0,r===void 0?null:r)}function Rd(t,e,n,r){var i=Ln();r=r===void 0?null:r;var s=void 0;if(ft!==null){var a=ft.memoizedState;if(s=a.destroy,r!==null&&t_(r,a.deps)){i.memoizedState=Pl(e,n,s,r);return}}Ke.flags|=t,i.memoizedState=Pl(1|e,n,s,r)}function iw(t,e){return jc(8390656,8,t,e)}function i_(t,e){return Rd(2048,8,t,e)}function wT(t,e){return Rd(4,2,t,e)}function ET(t,e){return Rd(4,4,t,e)}function ST(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function TT(t,e,n){return n=n!=null?n.concat([t]):null,Rd(4,4,ST.bind(null,e,t),n)}function s_(){}function IT(t,e){var n=Ln();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&t_(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function PT(t,e){var n=Ln();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&t_(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function CT(t,e,n){return ds&21?(Wn(n,e)||(n=RS(),Ke.lanes|=n,fs|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,rn=!0),t.memoizedState=n)}function E4(t,e){var n=ke;ke=n!==0&&4>n?n:4,t(!0);var r=Bp.transition;Bp.transition={};try{t(!1),e()}finally{ke=n,Bp.transition=r}}function xT(){return Ln().memoizedState}function S4(t,e,n){var r=wi(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},bT(t))RT(e,n);else if(n=sT(t,e,n,r),n!==null){var i=Yt();Bn(n,t,r,i),AT(n,e,r)}}function T4(t,e,n){var r=wi(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(bT(t))RT(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,c=s(a,n);if(i.hasEagerState=!0,i.eagerState=c,Wn(c,a)){var u=e.interleaved;u===null?(i.next=i,Qv(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}n=sT(t,e,i,r),n!==null&&(i=Yt(),Bn(n,t,r,i),AT(n,e,r))}}function bT(t){var e=t.alternate;return t===Ke||e!==null&&e===Ke}function RT(t,e){Ka=xh=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function AT(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Dv(t,n)}}var bh={readContext:On,useCallback:Dt,useContext:Dt,useEffect:Dt,useImperativeHandle:Dt,useInsertionEffect:Dt,useLayoutEffect:Dt,useMemo:Dt,useReducer:Dt,useRef:Dt,useState:Dt,useDebugValue:Dt,useDeferredValue:Dt,useTransition:Dt,useMutableSource:Dt,useSyncExternalStore:Dt,useId:Dt,unstable_isNewReconciler:!1},I4={readContext:On,useCallback:function(t,e){return tr().memoizedState=[t,e===void 0?null:e],t},useContext:On,useEffect:iw,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,jc(4194308,4,ST.bind(null,e,t),n)},useLayoutEffect:function(t,e){return jc(4194308,4,t,e)},useInsertionEffect:function(t,e){return jc(4,2,t,e)},useMemo:function(t,e){var n=tr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=tr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=S4.bind(null,Ke,t),[r.memoizedState,t]},useRef:function(t){var e=tr();return t={current:t},e.memoizedState=t},useState:rw,useDebugValue:s_,useDeferredValue:function(t){return tr().memoizedState=t},useTransition:function(){var t=rw(!1),e=t[0];return t=E4.bind(null,t[1]),tr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ke,i=tr();if(Be){if(n===void 0)throw Error($(407));n=n()}else{if(n=e(),Et===null)throw Error($(349));ds&30||pT(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,iw(gT.bind(null,r,s,t),[t]),r.flags|=2048,Pl(9,mT.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=tr(),e=Et.identifierPrefix;if(Be){var n=xr,r=Cr;n=(r&~(1<<32-Un(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Tl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=w4++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},P4={readContext:On,useCallback:IT,useContext:On,useEffect:i_,useImperativeHandle:TT,useInsertionEffect:wT,useLayoutEffect:ET,useMemo:PT,useReducer:Hp,useRef:yT,useState:function(){return Hp(Il)},useDebugValue:s_,useDeferredValue:function(t){var e=Ln();return CT(e,ft.memoizedState,t)},useTransition:function(){var t=Hp(Il)[0],e=Ln().memoizedState;return[t,e]},useMutableSource:dT,useSyncExternalStore:fT,useId:xT,unstable_isNewReconciler:!1},C4={readContext:On,useCallback:IT,useContext:On,useEffect:i_,useImperativeHandle:TT,useInsertionEffect:wT,useLayoutEffect:ET,useMemo:PT,useReducer:Wp,useRef:yT,useState:function(){return Wp(Il)},useDebugValue:s_,useDeferredValue:function(t){var e=Ln();return ft===null?e.memoizedState=t:CT(e,ft.memoizedState,t)},useTransition:function(){var t=Wp(Il)[0],e=Ln().memoizedState;return[t,e]},useMutableSource:dT,useSyncExternalStore:fT,useId:xT,unstable_isNewReconciler:!1};function Io(t,e){try{var n="",r=e;do n+=ek(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function qp(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function lg(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var x4=typeof WeakMap=="function"?WeakMap:Map;function kT(t,e,n){n=Or(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Ah||(Ah=!0,_g=r),lg(t,e)},n}function OT(t,e,n){n=Or(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){lg(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){lg(t,e),typeof r!="function"&&(yi===null?yi=new Set([this]):yi.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function sw(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new x4;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=$4.bind(null,t,e,n),e.then(t,t))}function ow(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function aw(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Or(-1,1),e.tag=2,_i(n,e,1))),n.lanes|=1),t)}var b4=Hr.ReactCurrentOwner,rn=!1;function Zt(t,e,n,r){e.child=t===null?cT(e,null,n,r):So(e,t.child,n,r)}function lw(t,e,n,r,i){n=n.render;var s=e.ref;return co(e,i),r=n_(t,e,n,r,s,i),n=r_(),t!==null&&!rn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Fr(t,e,i)):(Be&&n&&Hv(e),e.flags|=1,Zt(t,e,r,i),e.child)}function uw(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!f_(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,LT(t,e,s,r,i)):(t=Hc(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:vl,n(a,r)&&t.ref===e.ref)return Fr(t,e,i)}return e.flags|=1,t=Ei(s,r),t.ref=e.ref,t.return=e,e.child=t}function LT(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(vl(s,r)&&t.ref===e.ref)if(rn=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(rn=!0);else return e.lanes=t.lanes,Fr(t,e,i)}return ug(t,e,n,r,i)}function MT(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},De(ro,hn),hn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,De(ro,hn),hn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,De(ro,hn),hn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,De(ro,hn),hn|=r;return Zt(t,e,i,n),e.child}function NT(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function ug(t,e,n,r,i){var s=on(n)?cs:qt.current;return s=wo(e,s),co(e,i),n=n_(t,e,n,r,s,i),r=r_(),t!==null&&!rn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Fr(t,e,i)):(Be&&r&&Hv(e),e.flags|=1,Zt(t,e,n,i),e.child)}function cw(t,e,n,r,i){if(on(n)){var s=!0;wh(e)}else s=!1;if(co(e,i),e.stateNode===null)$c(t,e),lT(e,n,r),ag(e,n,r,i),r=!0;else if(t===null){var a=e.stateNode,c=e.memoizedProps;a.props=c;var u=a.context,d=n.contextType;typeof d=="object"&&d!==null?d=On(d):(d=on(n)?cs:qt.current,d=wo(e,d));var p=n.getDerivedStateFromProps,m=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function";m||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(c!==r||u!==d)&&tw(e,a,r,d),ri=!1;var v=e.memoizedState;a.state=v,Ph(e,r,a,i),u=e.memoizedState,c!==r||v!==u||sn.current||ri?(typeof p=="function"&&(og(e,n,p,r),u=e.memoizedState),(c=ri||ew(e,n,c,r,v,u,d))?(m||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),a.props=r,a.state=u,a.context=d,r=c):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,oT(t,e),c=e.memoizedProps,d=e.type===e.elementType?c:Fn(e.type,c),a.props=d,m=e.pendingProps,v=a.context,u=n.contextType,typeof u=="object"&&u!==null?u=On(u):(u=on(n)?cs:qt.current,u=wo(e,u));var E=n.getDerivedStateFromProps;(p=typeof E=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(c!==m||v!==u)&&tw(e,a,r,u),ri=!1,v=e.memoizedState,a.state=v,Ph(e,r,a,i);var C=e.memoizedState;c!==m||v!==C||sn.current||ri?(typeof E=="function"&&(og(e,n,E,r),C=e.memoizedState),(d=ri||ew(e,n,d,r,v,C,u)||!1)?(p||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,C,u),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,C,u)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||c===t.memoizedProps&&v===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||c===t.memoizedProps&&v===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=C),a.props=r,a.state=C,a.context=u,r=d):(typeof a.componentDidUpdate!="function"||c===t.memoizedProps&&v===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||c===t.memoizedProps&&v===t.memoizedState||(e.flags|=1024),r=!1)}return cg(t,e,n,r,s,i)}function cg(t,e,n,r,i,s){NT(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return i&&Z0(e,n,!1),Fr(t,e,s);r=e.stateNode,b4.current=e;var c=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=So(e,t.child,null,s),e.child=So(e,null,c,s)):Zt(t,e,c,s),e.memoizedState=r.state,i&&Z0(e,n,!0),e.child}function DT(t){var e=t.stateNode;e.pendingContext?K0(t,e.pendingContext,e.pendingContext!==e.context):e.context&&K0(t,e.context,!1),Xv(t,e.containerInfo)}function hw(t,e,n,r,i){return Eo(),qv(i),e.flags|=256,Zt(t,e,n,r),e.child}var hg={dehydrated:null,treeContext:null,retryLane:0};function dg(t){return{baseLanes:t,cachePool:null,transitions:null}}function VT(t,e,n){var r=e.pendingProps,i=Ge.current,s=!1,a=(e.flags&128)!==0,c;if((c=a)||(c=t!==null&&t.memoizedState===null?!1:(i&2)!==0),c?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),De(Ge,i&1),t===null)return ig(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,s?(r=e.mode,s=e.child,a={mode:"hidden",children:a},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=Od(a,r,0,null),t=as(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=dg(n),e.memoizedState=hg,t):o_(e,a));if(i=t.memoizedState,i!==null&&(c=i.dehydrated,c!==null))return R4(t,e,a,r,c,i,n);if(s){s=r.fallback,a=e.mode,i=t.child,c=i.sibling;var u={mode:"hidden",children:r.children};return!(a&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=Ei(i,u),r.subtreeFlags=i.subtreeFlags&14680064),c!==null?s=Ei(c,s):(s=as(s,a,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,a=t.child.memoizedState,a=a===null?dg(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=t.childLanes&~n,e.memoizedState=hg,r}return s=t.child,t=s.sibling,r=Ei(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function o_(t,e){return e=Od({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function dc(t,e,n,r){return r!==null&&qv(r),So(e,t.child,null,n),t=o_(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function R4(t,e,n,r,i,s,a){if(n)return e.flags&256?(e.flags&=-257,r=qp(Error($(422))),dc(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Od({mode:"visible",children:r.children},i,0,null),s=as(s,i,a,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&So(e,t.child,null,a),e.child.memoizedState=dg(a),e.memoizedState=hg,s);if(!(e.mode&1))return dc(t,e,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var c=r.dgst;return r=c,s=Error($(419)),r=qp(s,r,void 0),dc(t,e,a,r)}if(c=(a&t.childLanes)!==0,rn||c){if(r=Et,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Vr(t,i),Bn(r,t,i,-1))}return d_(),r=qp(Error($(421))),dc(t,e,a,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=U4.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,dn=vi(i.nextSibling),mn=e,Be=!0,jn=null,t!==null&&(xn[bn++]=Cr,xn[bn++]=xr,xn[bn++]=hs,Cr=t.id,xr=t.overflow,hs=e),e=o_(e,r.children),e.flags|=4096,e)}function dw(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),sg(t.return,e,n)}function Gp(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function FT(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Zt(t,e,r.children,n),r=Ge.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&dw(t,n,e);else if(t.tag===19)dw(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(De(Ge,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Ch(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Gp(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Ch(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Gp(e,!0,n,null,s);break;case"together":Gp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function $c(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Fr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),fs|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error($(153));if(e.child!==null){for(t=e.child,n=Ei(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ei(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function A4(t,e,n){switch(e.tag){case 3:DT(e),Eo();break;case 5:hT(e);break;case 1:on(e.type)&&wh(e);break;case 4:Xv(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;De(Th,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(De(Ge,Ge.current&1),e.flags|=128,null):n&e.child.childLanes?VT(t,e,n):(De(Ge,Ge.current&1),t=Fr(t,e,n),t!==null?t.sibling:null);De(Ge,Ge.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return FT(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),De(Ge,Ge.current),r)break;return null;case 22:case 23:return e.lanes=0,MT(t,e,n)}return Fr(t,e,n)}var zT,fg,jT,$T;zT=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};fg=function(){};jT=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,ts(cr.current);var s=null;switch(n){case"input":i=Nm(t,i),r=Nm(t,r),s=[];break;case"select":i=Qe({},i,{value:void 0}),r=Qe({},r,{value:void 0}),s=[];break;case"textarea":i=Fm(t,i),r=Fm(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=_h)}jm(n,r);var a;n=null;for(d in i)if(!r.hasOwnProperty(d)&&i.hasOwnProperty(d)&&i[d]!=null)if(d==="style"){var c=i[d];for(a in c)c.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(cl.hasOwnProperty(d)?s||(s=[]):(s=s||[]).push(d,null));for(d in r){var u=r[d];if(c=i!=null?i[d]:void 0,r.hasOwnProperty(d)&&u!==c&&(u!=null||c!=null))if(d==="style")if(c){for(a in c)!c.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in u)u.hasOwnProperty(a)&&c[a]!==u[a]&&(n||(n={}),n[a]=u[a])}else n||(s||(s=[]),s.push(d,n)),n=u;else d==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,c=c?c.__html:void 0,u!=null&&c!==u&&(s=s||[]).push(d,u)):d==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(d,""+u):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(cl.hasOwnProperty(d)?(u!=null&&d==="onScroll"&&ze("scroll",t),s||c===u||(s=[])):(s=s||[]).push(d,u))}n&&(s=s||[]).push("style",n);var d=s;(e.updateQueue=d)&&(e.flags|=4)}};$T=function(t,e,n,r){n!==r&&(e.flags|=4)};function Sa(t,e){if(!Be)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Vt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function k4(t,e,n){var r=e.pendingProps;switch(Wv(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vt(e),null;case 1:return on(e.type)&&yh(),Vt(e),null;case 3:return r=e.stateNode,To(),Ue(sn),Ue(qt),e_(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(cc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,jn!==null&&(Eg(jn),jn=null))),fg(t,e),Vt(e),null;case 5:Jv(e);var i=ts(Sl.current);if(n=e.type,t!==null&&e.stateNode!=null)jT(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error($(166));return Vt(e),null}if(t=ts(cr.current),cc(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[ir]=e,r[wl]=s,t=(e.mode&1)!==0,n){case"dialog":ze("cancel",r),ze("close",r);break;case"iframe":case"object":case"embed":ze("load",r);break;case"video":case"audio":for(i=0;i<Oa.length;i++)ze(Oa[i],r);break;case"source":ze("error",r);break;case"img":case"image":case"link":ze("error",r),ze("load",r);break;case"details":ze("toggle",r);break;case"input":E0(r,s),ze("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},ze("invalid",r);break;case"textarea":T0(r,s),ze("invalid",r)}jm(n,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var c=s[a];a==="children"?typeof c=="string"?r.textContent!==c&&(s.suppressHydrationWarning!==!0&&uc(r.textContent,c,t),i=["children",c]):typeof c=="number"&&r.textContent!==""+c&&(s.suppressHydrationWarning!==!0&&uc(r.textContent,c,t),i=["children",""+c]):cl.hasOwnProperty(a)&&c!=null&&a==="onScroll"&&ze("scroll",r)}switch(n){case"input":tc(r),S0(r,s,!0);break;case"textarea":tc(r),I0(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=_h)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=pS(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[ir]=e,t[wl]=r,zT(t,e,!1,!1),e.stateNode=t;e:{switch(a=$m(n,r),n){case"dialog":ze("cancel",t),ze("close",t),i=r;break;case"iframe":case"object":case"embed":ze("load",t),i=r;break;case"video":case"audio":for(i=0;i<Oa.length;i++)ze(Oa[i],t);i=r;break;case"source":ze("error",t),i=r;break;case"img":case"image":case"link":ze("error",t),ze("load",t),i=r;break;case"details":ze("toggle",t),i=r;break;case"input":E0(t,r),i=Nm(t,r),ze("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Qe({},r,{value:void 0}),ze("invalid",t);break;case"textarea":T0(t,r),i=Fm(t,r),ze("invalid",t);break;default:i=r}jm(n,i),c=i;for(s in c)if(c.hasOwnProperty(s)){var u=c[s];s==="style"?vS(t,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&mS(t,u)):s==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&hl(t,u):typeof u=="number"&&hl(t,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(cl.hasOwnProperty(s)?u!=null&&s==="onScroll"&&ze("scroll",t):u!=null&&Av(t,s,u,a))}switch(n){case"input":tc(t),S0(t,r,!1);break;case"textarea":tc(t),I0(t);break;case"option":r.value!=null&&t.setAttribute("value",""+xi(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?oo(t,!!r.multiple,s,!1):r.defaultValue!=null&&oo(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=_h)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Vt(e),null;case 6:if(t&&e.stateNode!=null)$T(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error($(166));if(n=ts(Sl.current),ts(cr.current),cc(e)){if(r=e.stateNode,n=e.memoizedProps,r[ir]=e,(s=r.nodeValue!==n)&&(t=mn,t!==null))switch(t.tag){case 3:uc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&uc(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ir]=e,e.stateNode=r}return Vt(e),null;case 13:if(Ue(Ge),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Be&&dn!==null&&e.mode&1&&!(e.flags&128))iT(),Eo(),e.flags|=98560,s=!1;else if(s=cc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error($(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error($(317));s[ir]=e}else Eo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Vt(e),s=!1}else jn!==null&&(Eg(jn),jn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ge.current&1?pt===0&&(pt=3):d_())),e.updateQueue!==null&&(e.flags|=4),Vt(e),null);case 4:return To(),fg(t,e),t===null&&_l(e.stateNode.containerInfo),Vt(e),null;case 10:return Zv(e.type._context),Vt(e),null;case 17:return on(e.type)&&yh(),Vt(e),null;case 19:if(Ue(Ge),s=e.memoizedState,s===null)return Vt(e),null;if(r=(e.flags&128)!==0,a=s.rendering,a===null)if(r)Sa(s,!1);else{if(pt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Ch(t),a!==null){for(e.flags|=128,Sa(s,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,t=a.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return De(Ge,Ge.current&1|2),e.child}t=t.sibling}s.tail!==null&&nt()>Po&&(e.flags|=128,r=!0,Sa(s,!1),e.lanes=4194304)}else{if(!r)if(t=Ch(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Sa(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!Be)return Vt(e),null}else 2*nt()-s.renderingStartTime>Po&&n!==1073741824&&(e.flags|=128,r=!0,Sa(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(n=s.last,n!==null?n.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=nt(),e.sibling=null,n=Ge.current,De(Ge,r?n&1|2:n&1),e):(Vt(e),null);case 22:case 23:return h_(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?hn&1073741824&&(Vt(e),e.subtreeFlags&6&&(e.flags|=8192)):Vt(e),null;case 24:return null;case 25:return null}throw Error($(156,e.tag))}function O4(t,e){switch(Wv(e),e.tag){case 1:return on(e.type)&&yh(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return To(),Ue(sn),Ue(qt),e_(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Jv(e),null;case 13:if(Ue(Ge),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error($(340));Eo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ue(Ge),null;case 4:return To(),null;case 10:return Zv(e.type._context),null;case 22:case 23:return h_(),null;case 24:return null;default:return null}}var fc=!1,$t=!1,L4=typeof WeakSet=="function"?WeakSet:Set,Q=null;function no(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Xe(t,e,r)}else n.current=null}function pg(t,e,n){try{n()}catch(r){Xe(t,e,r)}}var fw=!1;function M4(t,e){if(Ym=mh,t=WS(),Bv(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,c=-1,u=-1,d=0,p=0,m=t,v=null;t:for(;;){for(var E;m!==n||i!==0&&m.nodeType!==3||(c=a+i),m!==s||r!==0&&m.nodeType!==3||(u=a+r),m.nodeType===3&&(a+=m.nodeValue.length),(E=m.firstChild)!==null;)v=m,m=E;for(;;){if(m===t)break t;if(v===n&&++d===i&&(c=a),v===s&&++p===r&&(u=a),(E=m.nextSibling)!==null)break;m=v,v=m.parentNode}m=E}n=c===-1||u===-1?null:{start:c,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Xm={focusedElem:t,selectionRange:n},mh=!1,Q=e;Q!==null;)if(e=Q,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Q=t;else for(;Q!==null;){e=Q;try{var C=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(C!==null){var T=C.memoizedProps,P=C.memoizedState,_=e.stateNode,y=_.getSnapshotBeforeUpdate(e.elementType===e.type?T:Fn(e.type,T),P);_.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error($(163))}}catch(x){Xe(e,e.return,x)}if(t=e.sibling,t!==null){t.return=e.return,Q=t;break}Q=e.return}return C=fw,fw=!1,C}function Za(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&pg(e,n,s)}i=i.next}while(i!==r)}}function Ad(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function mg(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function UT(t){var e=t.alternate;e!==null&&(t.alternate=null,UT(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ir],delete e[wl],delete e[tg],delete e[g4],delete e[v4])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function BT(t){return t.tag===5||t.tag===3||t.tag===4}function pw(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||BT(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function gg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=_h));else if(r!==4&&(t=t.child,t!==null))for(gg(t,e,n),t=t.sibling;t!==null;)gg(t,e,n),t=t.sibling}function vg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(vg(t,e,n),t=t.sibling;t!==null;)vg(t,e,n),t=t.sibling}var xt=null,zn=!1;function ei(t,e,n){for(n=n.child;n!==null;)HT(t,e,n),n=n.sibling}function HT(t,e,n){if(ur&&typeof ur.onCommitFiberUnmount=="function")try{ur.onCommitFiberUnmount(Sd,n)}catch{}switch(n.tag){case 5:$t||no(n,e);case 6:var r=xt,i=zn;xt=null,ei(t,e,n),xt=r,zn=i,xt!==null&&(zn?(t=xt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):xt.removeChild(n.stateNode));break;case 18:xt!==null&&(zn?(t=xt,n=n.stateNode,t.nodeType===8?jp(t.parentNode,n):t.nodeType===1&&jp(t,n),ml(t)):jp(xt,n.stateNode));break;case 4:r=xt,i=zn,xt=n.stateNode.containerInfo,zn=!0,ei(t,e,n),xt=r,zn=i;break;case 0:case 11:case 14:case 15:if(!$t&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&pg(n,e,a),i=i.next}while(i!==r)}ei(t,e,n);break;case 1:if(!$t&&(no(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(c){Xe(n,e,c)}ei(t,e,n);break;case 21:ei(t,e,n);break;case 22:n.mode&1?($t=(r=$t)||n.memoizedState!==null,ei(t,e,n),$t=r):ei(t,e,n);break;default:ei(t,e,n)}}function mw(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new L4),e.forEach(function(r){var i=B4.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Vn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,a=e,c=a;e:for(;c!==null;){switch(c.tag){case 5:xt=c.stateNode,zn=!1;break e;case 3:xt=c.stateNode.containerInfo,zn=!0;break e;case 4:xt=c.stateNode.containerInfo,zn=!0;break e}c=c.return}if(xt===null)throw Error($(160));HT(s,a,i),xt=null,zn=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(d){Xe(i,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)WT(e,t),e=e.sibling}function WT(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Vn(e,t),er(t),r&4){try{Za(3,t,t.return),Ad(3,t)}catch(T){Xe(t,t.return,T)}try{Za(5,t,t.return)}catch(T){Xe(t,t.return,T)}}break;case 1:Vn(e,t),er(t),r&512&&n!==null&&no(n,n.return);break;case 5:if(Vn(e,t),er(t),r&512&&n!==null&&no(n,n.return),t.flags&32){var i=t.stateNode;try{hl(i,"")}catch(T){Xe(t,t.return,T)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,a=n!==null?n.memoizedProps:s,c=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{c==="input"&&s.type==="radio"&&s.name!=null&&dS(i,s),$m(c,a);var d=$m(c,s);for(a=0;a<u.length;a+=2){var p=u[a],m=u[a+1];p==="style"?vS(i,m):p==="dangerouslySetInnerHTML"?mS(i,m):p==="children"?hl(i,m):Av(i,p,m,d)}switch(c){case"input":Dm(i,s);break;case"textarea":fS(i,s);break;case"select":var v=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var E=s.value;E!=null?oo(i,!!s.multiple,E,!1):v!==!!s.multiple&&(s.defaultValue!=null?oo(i,!!s.multiple,s.defaultValue,!0):oo(i,!!s.multiple,s.multiple?[]:"",!1))}i[wl]=s}catch(T){Xe(t,t.return,T)}}break;case 6:if(Vn(e,t),er(t),r&4){if(t.stateNode===null)throw Error($(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(T){Xe(t,t.return,T)}}break;case 3:if(Vn(e,t),er(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ml(e.containerInfo)}catch(T){Xe(t,t.return,T)}break;case 4:Vn(e,t),er(t);break;case 13:Vn(e,t),er(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(u_=nt())),r&4&&mw(t);break;case 22:if(p=n!==null&&n.memoizedState!==null,t.mode&1?($t=(d=$t)||p,Vn(e,t),$t=d):Vn(e,t),er(t),r&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!p&&t.mode&1)for(Q=t,p=t.child;p!==null;){for(m=Q=p;Q!==null;){switch(v=Q,E=v.child,v.tag){case 0:case 11:case 14:case 15:Za(4,v,v.return);break;case 1:no(v,v.return);var C=v.stateNode;if(typeof C.componentWillUnmount=="function"){r=v,n=v.return;try{e=r,C.props=e.memoizedProps,C.state=e.memoizedState,C.componentWillUnmount()}catch(T){Xe(r,n,T)}}break;case 5:no(v,v.return);break;case 22:if(v.memoizedState!==null){vw(m);continue}}E!==null?(E.return=v,Q=E):vw(m)}p=p.sibling}e:for(p=null,m=t;;){if(m.tag===5){if(p===null){p=m;try{i=m.stateNode,d?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(c=m.stateNode,u=m.memoizedProps.style,a=u!=null&&u.hasOwnProperty("display")?u.display:null,c.style.display=gS("display",a))}catch(T){Xe(t,t.return,T)}}}else if(m.tag===6){if(p===null)try{m.stateNode.nodeValue=d?"":m.memoizedProps}catch(T){Xe(t,t.return,T)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===t)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;p===m&&(p=null),m=m.return}p===m&&(p=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:Vn(e,t),er(t),r&4&&mw(t);break;case 21:break;default:Vn(e,t),er(t)}}function er(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(BT(n)){var r=n;break e}n=n.return}throw Error($(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(hl(i,""),r.flags&=-33);var s=pw(t);vg(t,s,i);break;case 3:case 4:var a=r.stateNode.containerInfo,c=pw(t);gg(t,c,a);break;default:throw Error($(161))}}catch(u){Xe(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function N4(t,e,n){Q=t,qT(t)}function qT(t,e,n){for(var r=(t.mode&1)!==0;Q!==null;){var i=Q,s=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||fc;if(!a){var c=i.alternate,u=c!==null&&c.memoizedState!==null||$t;c=fc;var d=$t;if(fc=a,($t=u)&&!d)for(Q=i;Q!==null;)a=Q,u=a.child,a.tag===22&&a.memoizedState!==null?_w(i):u!==null?(u.return=a,Q=u):_w(i);for(;s!==null;)Q=s,qT(s),s=s.sibling;Q=i,fc=c,$t=d}gw(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Q=s):gw(t)}}function gw(t){for(;Q!==null;){var e=Q;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:$t||Ad(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!$t)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Fn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&J0(e,s,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}J0(e,a,n)}break;case 5:var c=e.stateNode;if(n===null&&e.flags&4){n=c;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var p=d.memoizedState;if(p!==null){var m=p.dehydrated;m!==null&&ml(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error($(163))}$t||e.flags&512&&mg(e)}catch(v){Xe(e,e.return,v)}}if(e===t){Q=null;break}if(n=e.sibling,n!==null){n.return=e.return,Q=n;break}Q=e.return}}function vw(t){for(;Q!==null;){var e=Q;if(e===t){Q=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Q=n;break}Q=e.return}}function _w(t){for(;Q!==null;){var e=Q;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Ad(4,e)}catch(u){Xe(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(u){Xe(e,i,u)}}var s=e.return;try{mg(e)}catch(u){Xe(e,s,u)}break;case 5:var a=e.return;try{mg(e)}catch(u){Xe(e,a,u)}}}catch(u){Xe(e,e.return,u)}if(e===t){Q=null;break}var c=e.sibling;if(c!==null){c.return=e.return,Q=c;break}Q=e.return}}var D4=Math.ceil,Rh=Hr.ReactCurrentDispatcher,a_=Hr.ReactCurrentOwner,kn=Hr.ReactCurrentBatchConfig,Ce=0,Et=null,ut=null,Ot=0,hn=0,ro=Di(0),pt=0,Cl=null,fs=0,kd=0,l_=0,Qa=null,tn=null,u_=0,Po=1/0,Ir=null,Ah=!1,_g=null,yi=null,pc=!1,hi=null,kh=0,Ya=0,yg=null,Uc=-1,Bc=0;function Yt(){return Ce&6?nt():Uc!==-1?Uc:Uc=nt()}function wi(t){return t.mode&1?Ce&2&&Ot!==0?Ot&-Ot:y4.transition!==null?(Bc===0&&(Bc=RS()),Bc):(t=ke,t!==0||(t=window.event,t=t===void 0?16:DS(t.type)),t):1}function Bn(t,e,n,r){if(50<Ya)throw Ya=0,yg=null,Error($(185));eu(t,n,r),(!(Ce&2)||t!==Et)&&(t===Et&&(!(Ce&2)&&(kd|=n),pt===4&&si(t,Ot)),an(t,r),n===1&&Ce===0&&!(e.mode&1)&&(Po=nt()+500,xd&&Vi()))}function an(t,e){var n=t.callbackNode;yk(t,e);var r=ph(t,t===Et?Ot:0);if(r===0)n!==null&&x0(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&x0(n),e===1)t.tag===0?_4(yw.bind(null,t)):tT(yw.bind(null,t)),p4(function(){!(Ce&6)&&Vi()}),n=null;else{switch(AS(r)){case 1:n=Nv;break;case 4:n=xS;break;case 16:n=fh;break;case 536870912:n=bS;break;default:n=fh}n=eI(n,GT.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function GT(t,e){if(Uc=-1,Bc=0,Ce&6)throw Error($(327));var n=t.callbackNode;if(ho()&&t.callbackNode!==n)return null;var r=ph(t,t===Et?Ot:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Oh(t,r);else{e=r;var i=Ce;Ce|=2;var s=ZT();(Et!==t||Ot!==e)&&(Ir=null,Po=nt()+500,os(t,e));do try{z4();break}catch(c){KT(t,c)}while(!0);Kv(),Rh.current=s,Ce=i,ut!==null?e=0:(Et=null,Ot=0,e=pt)}if(e!==0){if(e===2&&(i=qm(t),i!==0&&(r=i,e=wg(t,i))),e===1)throw n=Cl,os(t,0),si(t,r),an(t,nt()),n;if(e===6)si(t,r);else{if(i=t.current.alternate,!(r&30)&&!V4(i)&&(e=Oh(t,r),e===2&&(s=qm(t),s!==0&&(r=s,e=wg(t,s))),e===1))throw n=Cl,os(t,0),si(t,r),an(t,nt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error($(345));case 2:Zi(t,tn,Ir);break;case 3:if(si(t,r),(r&130023424)===r&&(e=u_+500-nt(),10<e)){if(ph(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Yt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=eg(Zi.bind(null,t,tn,Ir),e);break}Zi(t,tn,Ir);break;case 4:if(si(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var a=31-Un(r);s=1<<a,a=e[a],a>i&&(i=a),r&=~s}if(r=i,r=nt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*D4(r/1960))-r,10<r){t.timeoutHandle=eg(Zi.bind(null,t,tn,Ir),r);break}Zi(t,tn,Ir);break;case 5:Zi(t,tn,Ir);break;default:throw Error($(329))}}}return an(t,nt()),t.callbackNode===n?GT.bind(null,t):null}function wg(t,e){var n=Qa;return t.current.memoizedState.isDehydrated&&(os(t,e).flags|=256),t=Oh(t,e),t!==2&&(e=tn,tn=n,e!==null&&Eg(e)),t}function Eg(t){tn===null?tn=t:tn.push.apply(tn,t)}function V4(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Wn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function si(t,e){for(e&=~l_,e&=~kd,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Un(e),r=1<<n;t[n]=-1,e&=~r}}function yw(t){if(Ce&6)throw Error($(327));ho();var e=ph(t,0);if(!(e&1))return an(t,nt()),null;var n=Oh(t,e);if(t.tag!==0&&n===2){var r=qm(t);r!==0&&(e=r,n=wg(t,r))}if(n===1)throw n=Cl,os(t,0),si(t,e),an(t,nt()),n;if(n===6)throw Error($(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Zi(t,tn,Ir),an(t,nt()),null}function c_(t,e){var n=Ce;Ce|=1;try{return t(e)}finally{Ce=n,Ce===0&&(Po=nt()+500,xd&&Vi())}}function ps(t){hi!==null&&hi.tag===0&&!(Ce&6)&&ho();var e=Ce;Ce|=1;var n=kn.transition,r=ke;try{if(kn.transition=null,ke=1,t)return t()}finally{ke=r,kn.transition=n,Ce=e,!(Ce&6)&&Vi()}}function h_(){hn=ro.current,Ue(ro)}function os(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,f4(n)),ut!==null)for(n=ut.return;n!==null;){var r=n;switch(Wv(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&yh();break;case 3:To(),Ue(sn),Ue(qt),e_();break;case 5:Jv(r);break;case 4:To();break;case 13:Ue(Ge);break;case 19:Ue(Ge);break;case 10:Zv(r.type._context);break;case 22:case 23:h_()}n=n.return}if(Et=t,ut=t=Ei(t.current,null),Ot=hn=e,pt=0,Cl=null,l_=kd=fs=0,tn=Qa=null,es!==null){for(e=0;e<es.length;e++)if(n=es[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var a=s.next;s.next=i,r.next=a}n.pending=r}es=null}return t}function KT(t,e){do{var n=ut;try{if(Kv(),zc.current=bh,xh){for(var r=Ke.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}xh=!1}if(ds=0,wt=ft=Ke=null,Ka=!1,Tl=0,a_.current=null,n===null||n.return===null){pt=1,Cl=e,ut=null;break}e:{var s=t,a=n.return,c=n,u=e;if(e=Ot,c.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var d=u,p=c,m=p.tag;if(!(p.mode&1)&&(m===0||m===11||m===15)){var v=p.alternate;v?(p.updateQueue=v.updateQueue,p.memoizedState=v.memoizedState,p.lanes=v.lanes):(p.updateQueue=null,p.memoizedState=null)}var E=ow(a);if(E!==null){E.flags&=-257,aw(E,a,c,s,e),E.mode&1&&sw(s,d,e),e=E,u=d;var C=e.updateQueue;if(C===null){var T=new Set;T.add(u),e.updateQueue=T}else C.add(u);break e}else{if(!(e&1)){sw(s,d,e),d_();break e}u=Error($(426))}}else if(Be&&c.mode&1){var P=ow(a);if(P!==null){!(P.flags&65536)&&(P.flags|=256),aw(P,a,c,s,e),qv(Io(u,c));break e}}s=u=Io(u,c),pt!==4&&(pt=2),Qa===null?Qa=[s]:Qa.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var _=kT(s,u,e);X0(s,_);break e;case 1:c=u;var y=s.type,S=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(yi===null||!yi.has(S)))){s.flags|=65536,e&=-e,s.lanes|=e;var x=OT(s,c,e);X0(s,x);break e}}s=s.return}while(s!==null)}YT(n)}catch(A){e=A,ut===n&&n!==null&&(ut=n=n.return);continue}break}while(!0)}function ZT(){var t=Rh.current;return Rh.current=bh,t===null?bh:t}function d_(){(pt===0||pt===3||pt===2)&&(pt=4),Et===null||!(fs&268435455)&&!(kd&268435455)||si(Et,Ot)}function Oh(t,e){var n=Ce;Ce|=2;var r=ZT();(Et!==t||Ot!==e)&&(Ir=null,os(t,e));do try{F4();break}catch(i){KT(t,i)}while(!0);if(Kv(),Ce=n,Rh.current=r,ut!==null)throw Error($(261));return Et=null,Ot=0,pt}function F4(){for(;ut!==null;)QT(ut)}function z4(){for(;ut!==null&&!ck();)QT(ut)}function QT(t){var e=JT(t.alternate,t,hn);t.memoizedProps=t.pendingProps,e===null?YT(t):ut=e,a_.current=null}function YT(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=O4(n,e),n!==null){n.flags&=32767,ut=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{pt=6,ut=null;return}}else if(n=k4(n,e,hn),n!==null){ut=n;return}if(e=e.sibling,e!==null){ut=e;return}ut=e=t}while(e!==null);pt===0&&(pt=5)}function Zi(t,e,n){var r=ke,i=kn.transition;try{kn.transition=null,ke=1,j4(t,e,n,r)}finally{kn.transition=i,ke=r}return null}function j4(t,e,n,r){do ho();while(hi!==null);if(Ce&6)throw Error($(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error($(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(wk(t,s),t===Et&&(ut=Et=null,Ot=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||pc||(pc=!0,eI(fh,function(){return ho(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=kn.transition,kn.transition=null;var a=ke;ke=1;var c=Ce;Ce|=4,a_.current=null,M4(t,n),WT(n,t),o4(Xm),mh=!!Ym,Xm=Ym=null,t.current=n,N4(n),hk(),Ce=c,ke=a,kn.transition=s}else t.current=n;if(pc&&(pc=!1,hi=t,kh=i),s=t.pendingLanes,s===0&&(yi=null),pk(n.stateNode),an(t,nt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ah)throw Ah=!1,t=_g,_g=null,t;return kh&1&&t.tag!==0&&ho(),s=t.pendingLanes,s&1?t===yg?Ya++:(Ya=0,yg=t):Ya=0,Vi(),null}function ho(){if(hi!==null){var t=AS(kh),e=kn.transition,n=ke;try{if(kn.transition=null,ke=16>t?16:t,hi===null)var r=!1;else{if(t=hi,hi=null,kh=0,Ce&6)throw Error($(331));var i=Ce;for(Ce|=4,Q=t.current;Q!==null;){var s=Q,a=s.child;if(Q.flags&16){var c=s.deletions;if(c!==null){for(var u=0;u<c.length;u++){var d=c[u];for(Q=d;Q!==null;){var p=Q;switch(p.tag){case 0:case 11:case 15:Za(8,p,s)}var m=p.child;if(m!==null)m.return=p,Q=m;else for(;Q!==null;){p=Q;var v=p.sibling,E=p.return;if(UT(p),p===d){Q=null;break}if(v!==null){v.return=E,Q=v;break}Q=E}}}var C=s.alternate;if(C!==null){var T=C.child;if(T!==null){C.child=null;do{var P=T.sibling;T.sibling=null,T=P}while(T!==null)}}Q=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,Q=a;else e:for(;Q!==null;){if(s=Q,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Za(9,s,s.return)}var _=s.sibling;if(_!==null){_.return=s.return,Q=_;break e}Q=s.return}}var y=t.current;for(Q=y;Q!==null;){a=Q;var S=a.child;if(a.subtreeFlags&2064&&S!==null)S.return=a,Q=S;else e:for(a=y;Q!==null;){if(c=Q,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:Ad(9,c)}}catch(A){Xe(c,c.return,A)}if(c===a){Q=null;break e}var x=c.sibling;if(x!==null){x.return=c.return,Q=x;break e}Q=c.return}}if(Ce=i,Vi(),ur&&typeof ur.onPostCommitFiberRoot=="function")try{ur.onPostCommitFiberRoot(Sd,t)}catch{}r=!0}return r}finally{ke=n,kn.transition=e}}return!1}function ww(t,e,n){e=Io(n,e),e=kT(t,e,1),t=_i(t,e,1),e=Yt(),t!==null&&(eu(t,1,e),an(t,e))}function Xe(t,e,n){if(t.tag===3)ww(t,t,n);else for(;e!==null;){if(e.tag===3){ww(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(yi===null||!yi.has(r))){t=Io(n,t),t=OT(e,t,1),e=_i(e,t,1),t=Yt(),e!==null&&(eu(e,1,t),an(e,t));break}}e=e.return}}function $4(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Yt(),t.pingedLanes|=t.suspendedLanes&n,Et===t&&(Ot&n)===n&&(pt===4||pt===3&&(Ot&130023424)===Ot&&500>nt()-u_?os(t,0):l_|=n),an(t,e)}function XT(t,e){e===0&&(t.mode&1?(e=ic,ic<<=1,!(ic&130023424)&&(ic=4194304)):e=1);var n=Yt();t=Vr(t,e),t!==null&&(eu(t,e,n),an(t,n))}function U4(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),XT(t,n)}function B4(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error($(314))}r!==null&&r.delete(e),XT(t,n)}var JT;JT=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||sn.current)rn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return rn=!1,A4(t,e,n);rn=!!(t.flags&131072)}else rn=!1,Be&&e.flags&1048576&&nT(e,Sh,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;$c(t,e),t=e.pendingProps;var i=wo(e,qt.current);co(e,n),i=n_(null,e,r,t,i,n);var s=r_();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,on(r)?(s=!0,wh(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Yv(e),i.updater=bd,e.stateNode=i,i._reactInternals=e,ag(e,r,t,n),e=cg(null,e,r,!0,s,n)):(e.tag=0,Be&&s&&Hv(e),Zt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch($c(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=W4(r),t=Fn(r,t),i){case 0:e=ug(null,e,r,t,n);break e;case 1:e=cw(null,e,r,t,n);break e;case 11:e=lw(null,e,r,t,n);break e;case 14:e=uw(null,e,r,Fn(r.type,t),n);break e}throw Error($(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Fn(r,i),ug(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Fn(r,i),cw(t,e,r,i,n);case 3:e:{if(DT(e),t===null)throw Error($(387));r=e.pendingProps,s=e.memoizedState,i=s.element,oT(t,e),Ph(e,r,null,n);var a=e.memoizedState;if(r=a.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Io(Error($(423)),e),e=hw(t,e,r,n,i);break e}else if(r!==i){i=Io(Error($(424)),e),e=hw(t,e,r,n,i);break e}else for(dn=vi(e.stateNode.containerInfo.firstChild),mn=e,Be=!0,jn=null,n=cT(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Eo(),r===i){e=Fr(t,e,n);break e}Zt(t,e,r,n)}e=e.child}return e;case 5:return hT(e),t===null&&ig(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,a=i.children,Jm(r,i)?a=null:s!==null&&Jm(r,s)&&(e.flags|=32),NT(t,e),Zt(t,e,a,n),e.child;case 6:return t===null&&ig(e),null;case 13:return VT(t,e,n);case 4:return Xv(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=So(e,null,r,n):Zt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Fn(r,i),lw(t,e,r,i,n);case 7:return Zt(t,e,e.pendingProps,n),e.child;case 8:return Zt(t,e,e.pendingProps.children,n),e.child;case 12:return Zt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,a=i.value,De(Th,r._currentValue),r._currentValue=a,s!==null)if(Wn(s.value,a)){if(s.children===i.children&&!sn.current){e=Fr(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var c=s.dependencies;if(c!==null){a=s.child;for(var u=c.firstContext;u!==null;){if(u.context===r){if(s.tag===1){u=Or(-1,n&-n),u.tag=2;var d=s.updateQueue;if(d!==null){d=d.shared;var p=d.pending;p===null?u.next=u:(u.next=p.next,p.next=u),d.pending=u}}s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),sg(s.return,n,e),c.lanes|=n;break}u=u.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error($(341));a.lanes|=n,c=a.alternate,c!==null&&(c.lanes|=n),sg(a,n,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}Zt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,co(e,n),i=On(i),r=r(i),e.flags|=1,Zt(t,e,r,n),e.child;case 14:return r=e.type,i=Fn(r,e.pendingProps),i=Fn(r.type,i),uw(t,e,r,i,n);case 15:return LT(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Fn(r,i),$c(t,e),e.tag=1,on(r)?(t=!0,wh(e)):t=!1,co(e,n),lT(e,r,i),ag(e,r,i,n),cg(null,e,r,!0,t,n);case 19:return FT(t,e,n);case 22:return MT(t,e,n)}throw Error($(156,e.tag))};function eI(t,e){return CS(t,e)}function H4(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function An(t,e,n,r){return new H4(t,e,n,r)}function f_(t){return t=t.prototype,!(!t||!t.isReactComponent)}function W4(t){if(typeof t=="function")return f_(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Ov)return 11;if(t===Lv)return 14}return 2}function Ei(t,e){var n=t.alternate;return n===null?(n=An(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Hc(t,e,n,r,i,s){var a=2;if(r=t,typeof t=="function")f_(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Gs:return as(n.children,i,s,e);case kv:a=8,i|=8;break;case km:return t=An(12,n,e,i|2),t.elementType=km,t.lanes=s,t;case Om:return t=An(13,n,e,i),t.elementType=Om,t.lanes=s,t;case Lm:return t=An(19,n,e,i),t.elementType=Lm,t.lanes=s,t;case uS:return Od(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case aS:a=10;break e;case lS:a=9;break e;case Ov:a=11;break e;case Lv:a=14;break e;case ni:a=16,r=null;break e}throw Error($(130,t==null?t:typeof t,""))}return e=An(a,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function as(t,e,n,r){return t=An(7,t,r,e),t.lanes=n,t}function Od(t,e,n,r){return t=An(22,t,r,e),t.elementType=uS,t.lanes=n,t.stateNode={isHidden:!1},t}function Kp(t,e,n){return t=An(6,t,null,e),t.lanes=n,t}function Zp(t,e,n){return e=An(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function q4(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Rp(0),this.expirationTimes=Rp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Rp(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function p_(t,e,n,r,i,s,a,c,u){return t=new q4(t,e,n,c,u),e===1?(e=1,s===!0&&(e|=8)):e=0,s=An(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Yv(s),t}function G4(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:qs,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function tI(t){if(!t)return bi;t=t._reactInternals;e:{if(Cs(t)!==t||t.tag!==1)throw Error($(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(on(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error($(171))}if(t.tag===1){var n=t.type;if(on(n))return eT(t,n,e)}return e}function nI(t,e,n,r,i,s,a,c,u){return t=p_(n,r,!0,t,i,s,a,c,u),t.context=tI(null),n=t.current,r=Yt(),i=wi(n),s=Or(r,i),s.callback=e??null,_i(n,s,i),t.current.lanes=i,eu(t,i,r),an(t,r),t}function Ld(t,e,n,r){var i=e.current,s=Yt(),a=wi(i);return n=tI(n),e.context===null?e.context=n:e.pendingContext=n,e=Or(s,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=_i(i,e,a),t!==null&&(Bn(t,i,a,s),Fc(t,i,a)),a}function Lh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Ew(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function m_(t,e){Ew(t,e),(t=t.alternate)&&Ew(t,e)}function K4(){return null}var rI=typeof reportError=="function"?reportError:function(t){console.error(t)};function g_(t){this._internalRoot=t}Md.prototype.render=g_.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error($(409));Ld(t,e,null,null)};Md.prototype.unmount=g_.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ps(function(){Ld(null,t,null,null)}),e[Dr]=null}};function Md(t){this._internalRoot=t}Md.prototype.unstable_scheduleHydration=function(t){if(t){var e=LS();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ii.length&&e!==0&&e<ii[n].priority;n++);ii.splice(n,0,t),n===0&&NS(t)}};function v_(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Nd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Sw(){}function Z4(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var d=Lh(a);s.call(d)}}var a=nI(e,r,t,0,null,!1,!1,"",Sw);return t._reactRootContainer=a,t[Dr]=a.current,_l(t.nodeType===8?t.parentNode:t),ps(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var c=r;r=function(){var d=Lh(u);c.call(d)}}var u=p_(t,0,!1,null,null,!1,!1,"",Sw);return t._reactRootContainer=u,t[Dr]=u.current,_l(t.nodeType===8?t.parentNode:t),ps(function(){Ld(e,u,n,r)}),u}function Dd(t,e,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var c=i;i=function(){var u=Lh(a);c.call(u)}}Ld(e,a,t,i)}else a=Z4(n,e,t,i,r);return Lh(a)}kS=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ka(e.pendingLanes);n!==0&&(Dv(e,n|1),an(e,nt()),!(Ce&6)&&(Po=nt()+500,Vi()))}break;case 13:ps(function(){var r=Vr(t,1);if(r!==null){var i=Yt();Bn(r,t,1,i)}}),m_(t,1)}};Vv=function(t){if(t.tag===13){var e=Vr(t,134217728);if(e!==null){var n=Yt();Bn(e,t,134217728,n)}m_(t,134217728)}};OS=function(t){if(t.tag===13){var e=wi(t),n=Vr(t,e);if(n!==null){var r=Yt();Bn(n,t,e,r)}m_(t,e)}};LS=function(){return ke};MS=function(t,e){var n=ke;try{return ke=t,e()}finally{ke=n}};Bm=function(t,e,n){switch(e){case"input":if(Dm(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Cd(r);if(!i)throw Error($(90));hS(r),Dm(r,i)}}}break;case"textarea":fS(t,n);break;case"select":e=n.value,e!=null&&oo(t,!!n.multiple,e,!1)}};wS=c_;ES=ps;var Q4={usingClientEntryPoint:!1,Events:[nu,Ys,Cd,_S,yS,c_]},Ta={findFiberByHostInstance:Ji,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},Y4={bundleType:Ta.bundleType,version:Ta.version,rendererPackageName:Ta.rendererPackageName,rendererConfig:Ta.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Hr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=IS(t),t===null?null:t.stateNode},findFiberByHostInstance:Ta.findFiberByHostInstance||K4,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var mc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mc.isDisabled&&mc.supportsFiber)try{Sd=mc.inject(Y4),ur=mc}catch{}}En.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Q4;En.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v_(e))throw Error($(200));return G4(t,e,null,n)};En.createRoot=function(t,e){if(!v_(t))throw Error($(299));var n=!1,r="",i=rI;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=p_(t,1,!1,null,null,n,!1,r,i),t[Dr]=e.current,_l(t.nodeType===8?t.parentNode:t),new g_(e)};En.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error($(188)):(t=Object.keys(t).join(","),Error($(268,t)));return t=IS(e),t=t===null?null:t.stateNode,t};En.flushSync=function(t){return ps(t)};En.hydrate=function(t,e,n){if(!Nd(e))throw Error($(200));return Dd(null,t,e,!0,n)};En.hydrateRoot=function(t,e,n){if(!v_(t))throw Error($(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",a=rI;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=nI(e,null,t,1,n??null,i,!1,s,a),t[Dr]=e.current,_l(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Md(e)};En.render=function(t,e,n){if(!Nd(e))throw Error($(200));return Dd(null,t,e,!1,n)};En.unmountComponentAtNode=function(t){if(!Nd(t))throw Error($(40));return t._reactRootContainer?(ps(function(){Dd(null,null,t,!1,function(){t._reactRootContainer=null,t[Dr]=null})}),!0):!1};En.unstable_batchedUpdates=c_;En.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Nd(n))throw Error($(200));if(t==null||t._reactInternals===void 0)throw Error($(38));return Dd(t,e,n,!1,r)};En.version="18.2.0-next-9e3b772b8-20220608";function iI(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(iI)}catch(t){console.error(t)}}iI(),nS.exports=En;var sI=nS.exports,Tw=sI;Rm.createRoot=Tw.createRoot,Rm.hydrateRoot=Tw.hydrateRoot;/**
 * @remix-run/router v1.15.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function xl(){return xl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xl.apply(this,arguments)}var di;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(di||(di={}));const Iw="popstate";function X4(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:a,hash:c}=r.location;return Sg("",{pathname:s,search:a,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Mh(i)}return eO(e,n,null,t)}function Ze(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function oI(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function J4(){return Math.random().toString(36).substr(2,8)}function Pw(t,e){return{usr:t.state,key:t.key,idx:e}}function Sg(t,e,n,r){return n===void 0&&(n=null),xl({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Uo(e):e,{state:n,key:e&&e.key||r||J4()})}function Mh(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Uo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function eO(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,c=di.Pop,u=null,d=p();d==null&&(d=0,a.replaceState(xl({},a.state,{idx:d}),""));function p(){return(a.state||{idx:null}).idx}function m(){c=di.Pop;let P=p(),_=P==null?null:P-d;d=P,u&&u({action:c,location:T.location,delta:_})}function v(P,_){c=di.Push;let y=Sg(T.location,P,_);n&&n(y,P),d=p()+1;let S=Pw(y,d),x=T.createHref(y);try{a.pushState(S,"",x)}catch(A){if(A instanceof DOMException&&A.name==="DataCloneError")throw A;i.location.assign(x)}s&&u&&u({action:c,location:T.location,delta:1})}function E(P,_){c=di.Replace;let y=Sg(T.location,P,_);n&&n(y,P),d=p();let S=Pw(y,d),x=T.createHref(y);a.replaceState(S,"",x),s&&u&&u({action:c,location:T.location,delta:0})}function C(P){let _=i.location.origin!=="null"?i.location.origin:i.location.href,y=typeof P=="string"?P:Mh(P);return y=y.replace(/ $/,"%20"),Ze(_,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,_)}let T={get action(){return c},get location(){return t(i,a)},listen(P){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(Iw,m),u=P,()=>{i.removeEventListener(Iw,m),u=null}},createHref(P){return e(i,P)},createURL:C,encodeLocation(P){let _=C(P);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:v,replace:E,go(P){return a.go(P)}};return T}var Cw;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Cw||(Cw={}));function tO(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?Uo(e):e,i=Co(r.pathname||"/",n);if(i==null)return null;let s=aI(t);nO(s);let a=null;for(let c=0;a==null&&c<s.length;++c){let u=fO(i);a=hO(s[c],u)}return a}function aI(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,a,c)=>{let u={relativePath:c===void 0?s.path||"":c,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};u.relativePath.startsWith("/")&&(Ze(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let d=Si([r,u.relativePath]),p=n.concat(u);s.children&&s.children.length>0&&(Ze(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),aI(s.children,e,p,d)),!(s.path==null&&!s.index)&&e.push({path:d,score:uO(d,s.index),routesMeta:p})};return t.forEach((s,a)=>{var c;if(s.path===""||!((c=s.path)!=null&&c.includes("?")))i(s,a);else for(let u of lI(s.path))i(s,a,u)}),e}function lI(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let a=lI(r.join("/")),c=[];return c.push(...a.map(u=>u===""?s:[s,u].join("/"))),i&&c.push(...a),c.map(u=>t.startsWith("/")&&u===""?"/":u)}function nO(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:cO(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const rO=/^:[\w-]+$/,iO=3,sO=2,oO=1,aO=10,lO=-2,xw=t=>t==="*";function uO(t,e){let n=t.split("/"),r=n.length;return n.some(xw)&&(r+=lO),e&&(r+=sO),n.filter(i=>!xw(i)).reduce((i,s)=>i+(rO.test(s)?iO:s===""?oO:aO),r)}function cO(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function hO(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let a=0;a<n.length;++a){let c=n[a],u=a===n.length-1,d=i==="/"?e:e.slice(i.length)||"/",p=Tg({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d);if(!p)return null;Object.assign(r,p.params);let m=c.route;s.push({params:r,pathname:Si([i,p.pathname]),pathnameBase:vO(Si([i,p.pathnameBase])),route:m}),p.pathnameBase!=="/"&&(i=Si([i,p.pathnameBase]))}return s}function Tg(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=dO(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:r.reduce((d,p,m)=>{let{paramName:v,isOptional:E}=p;if(v==="*"){let T=c[m]||"";a=s.slice(0,s.length-T.length).replace(/(.)\/+$/,"$1")}const C=c[m];return E&&!C?d[v]=void 0:d[v]=(C||"").replace(/%2F/g,"/"),d},{}),pathname:s,pathnameBase:a,pattern:t}}function dO(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),oI(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,c,u)=>(r.push({paramName:c,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function fO(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return oI(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Co(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function pO(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Uo(t):t;return{pathname:n?n.startsWith("/")?n:mO(n,e):e,search:_O(r),hash:yO(i)}}function mO(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Qp(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function gO(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function __(t,e){let n=gO(t);return e?n.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function y_(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Uo(t):(i=xl({},t),Ze(!i.pathname||!i.pathname.includes("?"),Qp("?","pathname","search",i)),Ze(!i.pathname||!i.pathname.includes("#"),Qp("#","pathname","hash",i)),Ze(!i.search||!i.search.includes("#"),Qp("#","search","hash",i)));let s=t===""||i.pathname==="",a=s?"/":i.pathname,c;if(a==null)c=n;else{let m=e.length-1;if(!r&&a.startsWith("..")){let v=a.split("/");for(;v[0]==="..";)v.shift(),m-=1;i.pathname=v.join("/")}c=m>=0?e[m]:"/"}let u=pO(i,c),d=a&&a!=="/"&&a.endsWith("/"),p=(s||a===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(d||p)&&(u.pathname+="/"),u}const Si=t=>t.join("/").replace(/\/\/+/g,"/"),vO=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),_O=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,yO=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function wO(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const uI=["post","put","patch","delete"];new Set(uI);const EO=["get",...uI];new Set(EO);/**
 * React Router v6.22.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function bl(){return bl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bl.apply(this,arguments)}const Vd=R.createContext(null),cI=R.createContext(null),Wr=R.createContext(null),Fd=R.createContext(null),qr=R.createContext({outlet:null,matches:[],isDataRoute:!1}),hI=R.createContext(null);function SO(t,e){let{relative:n}=e===void 0?{}:e;Bo()||Ze(!1);let{basename:r,navigator:i}=R.useContext(Wr),{hash:s,pathname:a,search:c}=zd(t,{relative:n}),u=a;return r!=="/"&&(u=a==="/"?r:Si([r,a])),i.createHref({pathname:u,search:c,hash:s})}function Bo(){return R.useContext(Fd)!=null}function Ho(){return Bo()||Ze(!1),R.useContext(Fd).location}function dI(t){R.useContext(Wr).static||R.useLayoutEffect(t)}function Wo(){let{isDataRoute:t}=R.useContext(qr);return t?DO():TO()}function TO(){Bo()||Ze(!1);let t=R.useContext(Vd),{basename:e,future:n,navigator:r}=R.useContext(Wr),{matches:i}=R.useContext(qr),{pathname:s}=Ho(),a=JSON.stringify(__(i,n.v7_relativeSplatPath)),c=R.useRef(!1);return dI(()=>{c.current=!0}),R.useCallback(function(d,p){if(p===void 0&&(p={}),!c.current)return;if(typeof d=="number"){r.go(d);return}let m=y_(d,JSON.parse(a),s,p.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:Si([e,m.pathname])),(p.replace?r.replace:r.push)(m,p.state,p)},[e,r,a,s,t])}function IO(){let{matches:t}=R.useContext(qr),e=t[t.length-1];return e?e.params:{}}function zd(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=R.useContext(Wr),{matches:i}=R.useContext(qr),{pathname:s}=Ho(),a=JSON.stringify(__(i,r.v7_relativeSplatPath));return R.useMemo(()=>y_(t,JSON.parse(a),s,n==="path"),[t,a,s,n])}function PO(t,e){return CO(t,e)}function CO(t,e,n,r){Bo()||Ze(!1);let{navigator:i}=R.useContext(Wr),{matches:s}=R.useContext(qr),a=s[s.length-1],c=a?a.params:{};a&&a.pathname;let u=a?a.pathnameBase:"/";a&&a.route;let d=Ho(),p;if(e){var m;let P=typeof e=="string"?Uo(e):e;u==="/"||(m=P.pathname)!=null&&m.startsWith(u)||Ze(!1),p=P}else p=d;let v=p.pathname||"/",E=v;if(u!=="/"){let P=u.replace(/^\//,"").split("/");E="/"+v.replace(/^\//,"").split("/").slice(P.length).join("/")}let C=tO(t,{pathname:E}),T=kO(C&&C.map(P=>Object.assign({},P,{params:Object.assign({},c,P.params),pathname:Si([u,i.encodeLocation?i.encodeLocation(P.pathname).pathname:P.pathname]),pathnameBase:P.pathnameBase==="/"?u:Si([u,i.encodeLocation?i.encodeLocation(P.pathnameBase).pathname:P.pathnameBase])})),s,n,r);return e&&T?R.createElement(Fd.Provider,{value:{location:bl({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:di.Pop}},T):T}function xO(){let t=NO(),e=wO(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return R.createElement(R.Fragment,null,R.createElement("h2",null,"Unexpected Application Error!"),R.createElement("h3",{style:{fontStyle:"italic"}},e),n?R.createElement("pre",{style:i},n):null,null)}const bO=R.createElement(xO,null);class RO extends R.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?R.createElement(qr.Provider,{value:this.props.routeContext},R.createElement(hI.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function AO(t){let{routeContext:e,match:n,children:r}=t,i=R.useContext(Vd);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),R.createElement(qr.Provider,{value:e},r)}function kO(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if((s=n)!=null&&s.errors)t=n.matches;else return null}let a=t,c=(i=n)==null?void 0:i.errors;if(c!=null){let p=a.findIndex(m=>m.route.id&&(c==null?void 0:c[m.route.id]));p>=0||Ze(!1),a=a.slice(0,Math.min(a.length,p+1))}let u=!1,d=-1;if(n&&r&&r.v7_partialHydration)for(let p=0;p<a.length;p++){let m=a[p];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(d=p),m.route.id){let{loaderData:v,errors:E}=n,C=m.route.loader&&v[m.route.id]===void 0&&(!E||E[m.route.id]===void 0);if(m.route.lazy||C){u=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((p,m,v)=>{let E,C=!1,T=null,P=null;n&&(E=c&&m.route.id?c[m.route.id]:void 0,T=m.route.errorElement||bO,u&&(d<0&&v===0?(VO("route-fallback",!1),C=!0,P=null):d===v&&(C=!0,P=m.route.hydrateFallbackElement||null)));let _=e.concat(a.slice(0,v+1)),y=()=>{let S;return E?S=T:C?S=P:m.route.Component?S=R.createElement(m.route.Component,null):m.route.element?S=m.route.element:S=p,R.createElement(AO,{match:m,routeContext:{outlet:p,matches:_,isDataRoute:n!=null},children:S})};return n&&(m.route.ErrorBoundary||m.route.errorElement||v===0)?R.createElement(RO,{location:n.location,revalidation:n.revalidation,component:T,error:E,children:y(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):y()},null)}var fI=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(fI||{}),Nh=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Nh||{});function OO(t){let e=R.useContext(Vd);return e||Ze(!1),e}function LO(t){let e=R.useContext(cI);return e||Ze(!1),e}function MO(t){let e=R.useContext(qr);return e||Ze(!1),e}function pI(t){let e=MO(),n=e.matches[e.matches.length-1];return n.route.id||Ze(!1),n.route.id}function NO(){var t;let e=R.useContext(hI),n=LO(Nh.UseRouteError),r=pI(Nh.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function DO(){let{router:t}=OO(fI.UseNavigateStable),e=pI(Nh.UseNavigateStable),n=R.useRef(!1);return dI(()=>{n.current=!0}),R.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,bl({fromRouteId:e},s)))},[t,e])}const bw={};function VO(t,e,n){!e&&!bw[t]&&(bw[t]=!0)}function FO(t){let{to:e,replace:n,state:r,relative:i}=t;Bo()||Ze(!1);let{future:s,static:a}=R.useContext(Wr),{matches:c}=R.useContext(qr),{pathname:u}=Ho(),d=Wo(),p=y_(e,__(c,s.v7_relativeSplatPath),u,i==="path"),m=JSON.stringify(p);return R.useEffect(()=>d(JSON.parse(m),{replace:n,state:r,relative:i}),[d,m,i,n,r]),null}function La(t){Ze(!1)}function zO(t){let{basename:e="/",children:n=null,location:r,navigationType:i=di.Pop,navigator:s,static:a=!1,future:c}=t;Bo()&&Ze(!1);let u=e.replace(/^\/*/,"/"),d=R.useMemo(()=>({basename:u,navigator:s,static:a,future:bl({v7_relativeSplatPath:!1},c)}),[u,c,s,a]);typeof r=="string"&&(r=Uo(r));let{pathname:p="/",search:m="",hash:v="",state:E=null,key:C="default"}=r,T=R.useMemo(()=>{let P=Co(p,u);return P==null?null:{location:{pathname:P,search:m,hash:v,state:E,key:C},navigationType:i}},[u,p,m,v,E,C,i]);return T==null?null:R.createElement(Wr.Provider,{value:d},R.createElement(Fd.Provider,{children:n,value:T}))}function jO(t){let{children:e,location:n}=t;return PO(Ig(e),n)}new Promise(()=>{});function Ig(t,e){e===void 0&&(e=[]);let n=[];return R.Children.forEach(t,(r,i)=>{if(!R.isValidElement(r))return;let s=[...e,i];if(r.type===R.Fragment){n.push.apply(n,Ig(r.props.children,s));return}r.type!==La&&Ze(!1),!r.props.index||!r.props.children||Ze(!1);let a={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=Ig(r.props.children,s)),n.push(a)}),n}/**
 * React Router DOM v6.22.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Dh(){return Dh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Dh.apply(this,arguments)}function mI(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function $O(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function UO(t,e){return t.button===0&&(!e||e==="_self")&&!$O(t)}const BO=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],HO=["aria-current","caseSensitive","className","end","style","to","unstable_viewTransition","children"],WO="6";try{window.__reactRouterVersion=WO}catch{}const qO=R.createContext({isTransitioning:!1}),GO="startTransition",Rw=ul[GO];function KO(t){let{basename:e,children:n,future:r,window:i}=t,s=R.useRef();s.current==null&&(s.current=X4({window:i,v5Compat:!0}));let a=s.current,[c,u]=R.useState({action:a.action,location:a.location}),{v7_startTransition:d}=r||{},p=R.useCallback(m=>{d&&Rw?Rw(()=>u(m)):u(m)},[u,d]);return R.useLayoutEffect(()=>a.listen(p),[a,p]),R.createElement(zO,{basename:e,children:n,location:c.location,navigationType:c.action,navigator:a,future:r})}const ZO=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",QO=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,iu=R.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:a,state:c,target:u,to:d,preventScrollReset:p,unstable_viewTransition:m}=e,v=mI(e,BO),{basename:E}=R.useContext(Wr),C,T=!1;if(typeof d=="string"&&QO.test(d)&&(C=d,ZO))try{let S=new URL(window.location.href),x=d.startsWith("//")?new URL(S.protocol+d):new URL(d),A=Co(x.pathname,E);x.origin===S.origin&&A!=null?d=A+x.search+x.hash:T=!0}catch{}let P=SO(d,{relative:i}),_=XO(d,{replace:a,state:c,target:u,preventScrollReset:p,relative:i,unstable_viewTransition:m});function y(S){r&&r(S),S.defaultPrevented||_(S)}return R.createElement("a",Dh({},v,{href:C||P,onClick:T||s?r:y,ref:n,target:u}))}),Yp=R.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:a=!1,style:c,to:u,unstable_viewTransition:d,children:p}=e,m=mI(e,HO),v=zd(u,{relative:m.relative}),E=Ho(),C=R.useContext(cI),{navigator:T,basename:P}=R.useContext(Wr),_=C!=null&&JO(v)&&d===!0,y=T.encodeLocation?T.encodeLocation(v).pathname:v.pathname,S=E.pathname,x=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;i||(S=S.toLowerCase(),x=x?x.toLowerCase():null,y=y.toLowerCase()),x&&P&&(x=Co(x,P)||x);const A=y!=="/"&&y.endsWith("/")?y.length-1:y.length;let O=S===y||!a&&S.startsWith(y)&&S.charAt(A)==="/",M=x!=null&&(x===y||!a&&x.startsWith(y)&&x.charAt(y.length)==="/"),D={isActive:O,isPending:M,isTransitioning:_},Z=O?r:void 0,G;typeof s=="function"?G=s(D):G=[s,O?"active":null,M?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let le=typeof c=="function"?c(D):c;return R.createElement(iu,Dh({},m,{"aria-current":Z,className:G,ref:n,style:le,to:u,unstable_viewTransition:d}),typeof p=="function"?p(D):p)});var Pg;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Pg||(Pg={}));var Aw;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Aw||(Aw={}));function YO(t){let e=R.useContext(Vd);return e||Ze(!1),e}function XO(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:a,unstable_viewTransition:c}=e===void 0?{}:e,u=Wo(),d=Ho(),p=zd(t,{relative:a});return R.useCallback(m=>{if(UO(m,n)){m.preventDefault();let v=r!==void 0?r:Mh(d)===Mh(p);u(t,{replace:v,state:i,preventScrollReset:s,relative:a,unstable_viewTransition:c})}},[d,u,p,r,i,n,t,s,a,c])}function JO(t,e){e===void 0&&(e={});let n=R.useContext(qO);n==null&&Ze(!1);let{basename:r}=YO(Pg.useViewTransitionState),i=zd(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=Co(n.currentLocation.pathname,r)||n.currentLocation.pathname,a=Co(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Tg(i.pathname,a)!=null||Tg(i.pathname,s)!=null}var gI={exports:{}},vI={};/**
 * @license React
 * use-sync-external-store-with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var su=R;function eL(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var tL=typeof Object.is=="function"?Object.is:eL,nL=su.useSyncExternalStore,rL=su.useRef,iL=su.useEffect,sL=su.useMemo,oL=su.useDebugValue;vI.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=rL(null);if(s.current===null){var a={hasValue:!1,value:null};s.current=a}else a=s.current;s=sL(function(){function u(E){if(!d){if(d=!0,p=E,E=r(E),i!==void 0&&a.hasValue){var C=a.value;if(i(C,E))return m=C}return m=E}if(C=m,tL(p,E))return C;var T=r(E);return i!==void 0&&i(C,T)?C:(p=E,m=T)}var d=!1,p,m,v=n===void 0?null:n;return[function(){return u(e())},v===null?void 0:function(){return u(v())}]},[e,n,r,i]);var c=nL(t,s[0],s[1]);return iL(function(){a.hasValue=!0,a.value=c},[c]),oL(c),c};gI.exports=vI;var aL=gI.exports,fn="default"in ul?lr:ul,kw=Symbol.for("react-redux-context"),Ow=typeof globalThis<"u"?globalThis:{};function lL(){if(!fn.createContext)return{};const t=Ow[kw]??(Ow[kw]=new Map);let e=t.get(fn.createContext);return e||(e=fn.createContext(null),t.set(fn.createContext,e)),e}var Ri=lL(),uL=()=>{throw new Error("uSES not initialized!")};function w_(t=Ri){return function(){return fn.useContext(t)}}var _I=w_(),yI=uL,cL=t=>{yI=t},hL=(t,e)=>t===e;function dL(t=Ri){const e=t===Ri?_I:w_(t),n=(r,i={})=>{const{equalityFn:s=hL,devModeChecks:a={}}=typeof i=="function"?{equalityFn:i}:i,{store:c,subscription:u,getServerState:d,stabilityCheck:p,identityFunctionCheck:m}=e();fn.useRef(!0);const v=fn.useCallback({[r.name](C){return r(C)}}[r.name],[r,p,a.stabilityCheck]),E=yI(u.addNestedSub,c.getState,d||c.getState,v,s);return fn.useDebugValue(E),E};return Object.assign(n,{withTypes:()=>n}),n}var ct=dL();function fL(t){t()}function pL(){let t=null,e=null;return{clear(){t=null,e=null},notify(){fL(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var Lw={notify(){},get:()=>[]};function mL(t,e){let n,r=Lw,i=0,s=!1;function a(T){p();const P=r.subscribe(T);let _=!1;return()=>{_||(_=!0,P(),m())}}function c(){r.notify()}function u(){C.onStateChange&&C.onStateChange()}function d(){return s}function p(){i++,n||(n=e?e.addNestedSub(u):t.subscribe(u),r=pL())}function m(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=Lw)}function v(){s||(s=!0,p())}function E(){s&&(s=!1,m())}const C={addNestedSub:a,notifyNestedSubs:c,handleChangeWrapper:u,isSubscribed:d,trySubscribe:v,tryUnsubscribe:E,getListeners:()=>r};return C}var gL=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",vL=gL?fn.useLayoutEffect:fn.useEffect;function _L({store:t,context:e,children:n,serverState:r,stabilityCheck:i="once",identityFunctionCheck:s="once"}){const a=fn.useMemo(()=>{const d=mL(t);return{store:t,subscription:d,getServerState:r?()=>r:void 0,stabilityCheck:i,identityFunctionCheck:s}},[t,r,i,s]),c=fn.useMemo(()=>t.getState(),[t]);vL(()=>{const{subscription:d}=a;return d.onStateChange=d.notifyNestedSubs,d.trySubscribe(),c!==t.getState()&&d.notifyNestedSubs(),()=>{d.tryUnsubscribe(),d.onStateChange=void 0}},[a,c]);const u=e||Ri;return fn.createElement(u.Provider,{value:a},n)}var yL=_L;function wI(t=Ri){const e=t===Ri?_I:w_(t),n=()=>{const{store:r}=e();return r};return Object.assign(n,{withTypes:()=>n}),n}var wL=wI();function EL(t=Ri){const e=t===Ri?wL:wI(t),n=()=>e().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var Zn=EL();cL(aL.useSyncExternalStoreWithSelector);var EI={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Mw=lr.createContext&&lr.createContext(EI),SL=["attr","size","title"];function TL(t,e){if(t==null)return{};var n=IL(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function IL(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Vh(){return Vh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vh.apply(this,arguments)}function Nw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Nw(Object(n),!0).forEach(function(r){PL(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Nw(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function PL(t,e,n){return e=CL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function CL(t){var e=xL(t,"string");return typeof e=="symbol"?e:String(e)}function xL(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function SI(t){return t&&t.map((e,n)=>lr.createElement(e.tag,Fh({key:n},e.attr),SI(e.child)))}function Me(t){return e=>lr.createElement(bL,Vh({attr:Fh({},t.attr)},e),SI(t.child))}function bL(t){var e=n=>{var{attr:r,size:i,title:s}=t,a=TL(t,SL),c=i||n.size||"1em",u;return n.className&&(u=n.className),t.className&&(u=(u?u+" ":"")+t.className),lr.createElement("svg",Vh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,a,{className:u,style:Fh(Fh({color:t.color||n.color},n.style),t.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),s&&lr.createElement("title",null,s),t.children)};return Mw!==void 0?lr.createElement(Mw.Consumer,null,n=>e(n)):e(EI)}function RL(t){return Me({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m17 7-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.58L17 17l5-5zM4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4V5z"},child:[]}]})(t)}function AL(t){return Me({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4-8 5-8-5V6l8 5 8-5v2z"},child:[]}]})(t)}function kL(t){return Me({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6z"},child:[]}]})(t)}function OL(t){return Me({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M2 19h20l-2 2H4l-2-2zM5 6h1v1H5V6zm0-2h1v1H5V4zm4 0v1H7V4h2zm0 3H7V6h2v1zm-3 8.23c-.36.11-.69.28-1 .47V8h1v7.23zm-2 1.29c-.38.44-.68.93-.84 1.48h16.82c.01-.16.03-.33.03-.5a5.497 5.497 0 0 0-10.58-2.1c-.59-.25-1.24-.4-1.93-.4-.17 0-.33.02-.5.04V8h2c1.03.06 1.9-.96 2-2h10V5H11c-.1-1.05-.97-1.97-2-2H3v1h1v1H3v1h1v1H3v1h1v8.52z"},child:[]}]})(t)}function TI(t){return Me({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"},child:[]}]})(t)}function LL(t){return Me({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M16 6v8h3v8h2V2c-2.76 0-5 2.24-5 4zm-5 3H9V2H7v7H5V2H3v7c0 2.21 1.79 4 4 4v9h2v-9c2.21 0 4-1.79 4-4V2h-2v7z"},child:[]}]})(t)}function ML(t){return Me({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m12 5.5 6 4.5v9H6v-9l6-4.5M12 3 4 9v12h16V9l-8-6zm-.5 6.5v3H11v-3h-1v3h-.5v-3h-1v3c0 .83.67 1.5 1.5 1.5v4h1v-4c.83 0 1.5-.67 1.5-1.5v-3h-1zm1.5 2v3h1V18h1V9.5c-1.1 0-2 .9-2 2z"},child:[]}]})(t)}function Ct(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var NL=typeof Symbol=="function"&&Symbol.observable||"@@observable",Dw=NL,Xp=()=>Math.random().toString(36).substring(7).split("").join("."),DL={INIT:`@@redux/INIT${Xp()}`,REPLACE:`@@redux/REPLACE${Xp()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Xp()}`},zh=DL;function E_(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function II(t,e,n){if(typeof t!="function")throw new Error(Ct(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Ct(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Ct(1));return n(II)(t,e)}let r=t,i=e,s=new Map,a=s,c=0,u=!1;function d(){a===s&&(a=new Map,s.forEach((P,_)=>{a.set(_,P)}))}function p(){if(u)throw new Error(Ct(3));return i}function m(P){if(typeof P!="function")throw new Error(Ct(4));if(u)throw new Error(Ct(5));let _=!0;d();const y=c++;return a.set(y,P),function(){if(_){if(u)throw new Error(Ct(6));_=!1,d(),a.delete(y),s=null}}}function v(P){if(!E_(P))throw new Error(Ct(7));if(typeof P.type>"u")throw new Error(Ct(8));if(typeof P.type!="string")throw new Error(Ct(17));if(u)throw new Error(Ct(9));try{u=!0,i=r(i,P)}finally{u=!1}return(s=a).forEach(y=>{y()}),P}function E(P){if(typeof P!="function")throw new Error(Ct(10));r=P,v({type:zh.REPLACE})}function C(){const P=m;return{subscribe(_){if(typeof _!="object"||_===null)throw new Error(Ct(11));function y(){const x=_;x.next&&x.next(p())}return y(),{unsubscribe:P(y)}},[Dw](){return this}}}return v({type:zh.INIT}),{dispatch:v,subscribe:m,getState:p,replaceReducer:E,[Dw]:C}}function VL(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:zh.INIT})>"u")throw new Error(Ct(12));if(typeof n(void 0,{type:zh.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Ct(13))})}function FL(t){const e=Object.keys(t),n={};for(let s=0;s<e.length;s++){const a=e[s];typeof t[a]=="function"&&(n[a]=t[a])}const r=Object.keys(n);let i;try{VL(n)}catch(s){i=s}return function(a={},c){if(i)throw i;let u=!1;const d={};for(let p=0;p<r.length;p++){const m=r[p],v=n[m],E=a[m],C=v(E,c);if(typeof C>"u")throw c&&c.type,new Error(Ct(14));d[m]=C,u=u||C!==E}return u=u||r.length!==Object.keys(a).length,u?d:a}}function jh(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function zL(...t){return e=>(n,r)=>{const i=e(n,r);let s=()=>{throw new Error(Ct(15))};const a={getState:i.getState,dispatch:(u,...d)=>s(u,...d)},c=t.map(u=>u(a));return s=jh(...c)(i.dispatch),{...i,dispatch:s}}}function jL(t){return E_(t)&&"type"in t&&typeof t.type=="string"}var PI=Symbol.for("immer-nothing"),Vw=Symbol.for("immer-draftable"),_n=Symbol.for("immer-state");function $n(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var xo=Object.getPrototypeOf;function Ai(t){return!!t&&!!t[_n]}function zr(t){var e;return t?CI(t)||Array.isArray(t)||!!t[Vw]||!!((e=t.constructor)!=null&&e[Vw])||$d(t)||Ud(t):!1}var $L=Object.prototype.constructor.toString();function CI(t){if(!t||typeof t!="object")return!1;const e=xo(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===$L}function $h(t,e){jd(t)===0?Reflect.ownKeys(t).forEach(n=>{e(n,t[n],t)}):t.forEach((n,r)=>e(r,n,t))}function jd(t){const e=t[_n];return e?e.type_:Array.isArray(t)?1:$d(t)?2:Ud(t)?3:0}function Cg(t,e){return jd(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function xI(t,e,n){const r=jd(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function UL(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function $d(t){return t instanceof Map}function Ud(t){return t instanceof Set}function Qi(t){return t.copy_||t.base_}function xg(t,e){if($d(t))return new Map(t);if(Ud(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);if(!e&&CI(t))return xo(t)?{...t}:Object.assign(Object.create(null),t);const n=Object.getOwnPropertyDescriptors(t);delete n[_n];let r=Reflect.ownKeys(n);for(let i=0;i<r.length;i++){const s=r[i],a=n[s];a.writable===!1&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(n[s]={configurable:!0,writable:!0,enumerable:a.enumerable,value:t[s]})}return Object.create(xo(t),n)}function S_(t,e=!1){return Bd(t)||Ai(t)||!zr(t)||(jd(t)>1&&(t.set=t.add=t.clear=t.delete=BL),Object.freeze(t),e&&Object.entries(t).forEach(([n,r])=>S_(r,!0))),t}function BL(){$n(2)}function Bd(t){return Object.isFrozen(t)}var HL={};function ms(t){const e=HL[t];return e||$n(0,t),e}var Rl;function bI(){return Rl}function WL(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Fw(t,e){e&&(ms("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function bg(t){Rg(t),t.drafts_.forEach(qL),t.drafts_=null}function Rg(t){t===Rl&&(Rl=t.parent_)}function zw(t){return Rl=WL(Rl,t)}function qL(t){const e=t[_n];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function jw(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[_n].modified_&&(bg(e),$n(4)),zr(t)&&(t=Uh(e,t),e.parent_||Bh(e,t)),e.patches_&&ms("Patches").generateReplacementPatches_(n[_n].base_,t,e.patches_,e.inversePatches_)):t=Uh(e,n,[]),bg(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==PI?t:void 0}function Uh(t,e,n){if(Bd(e))return e;const r=e[_n];if(!r)return $h(e,(i,s)=>$w(t,r,e,i,s,n)),e;if(r.scope_!==t)return e;if(!r.modified_)return Bh(t,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let s=i,a=!1;r.type_===3&&(s=new Set(i),i.clear(),a=!0),$h(s,(c,u)=>$w(t,r,i,c,u,n,a)),Bh(t,i,!1),n&&t.patches_&&ms("Patches").generatePatches_(r,n,t.patches_,t.inversePatches_)}return r.copy_}function $w(t,e,n,r,i,s,a){if(Ai(i)){const c=s&&e&&e.type_!==3&&!Cg(e.assigned_,r)?s.concat(r):void 0,u=Uh(t,i,c);if(xI(n,r,u),Ai(u))t.canAutoFreeze_=!1;else return}else a&&n.add(i);if(zr(i)&&!Bd(i)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;Uh(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,r)&&Bh(t,i)}}function Bh(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&S_(e,n)}function GL(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:bI(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=T_;n&&(i=[r],s=Al);const{revoke:a,proxy:c}=Proxy.revocable(i,s);return r.draft_=c,r.revoke_=a,c}var T_={get(t,e){if(e===_n)return t;const n=Qi(t);if(!Cg(n,e))return KL(t,n,e);const r=n[e];return t.finalized_||!zr(r)?r:r===Jp(t.base_,e)?(em(t),t.copy_[e]=kg(r,t)):r},has(t,e){return e in Qi(t)},ownKeys(t){return Reflect.ownKeys(Qi(t))},set(t,e,n){const r=RI(Qi(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=Jp(Qi(t),e),s=i==null?void 0:i[_n];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(UL(n,i)&&(n!==void 0||Cg(t.base_,e)))return!0;em(t),Ag(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return Jp(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,em(t),Ag(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Qi(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){$n(11)},getPrototypeOf(t){return xo(t.base_)},setPrototypeOf(){$n(12)}},Al={};$h(T_,(t,e)=>{Al[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Al.deleteProperty=function(t,e){return Al.set.call(this,t,e,void 0)};Al.set=function(t,e,n){return T_.set.call(this,t[0],e,n,t[0])};function Jp(t,e){const n=t[_n];return(n?Qi(n):t)[e]}function KL(t,e,n){var i;const r=RI(e,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function RI(t,e){if(!(e in t))return;let n=xo(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=xo(n)}}function Ag(t){t.modified_||(t.modified_=!0,t.parent_&&Ag(t.parent_))}function em(t){t.copy_||(t.copy_=xg(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var ZL=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const s=n;n=e;const a=this;return function(u=s,...d){return a.produce(u,p=>n.call(this,p,...d))}}typeof n!="function"&&$n(6),r!==void 0&&typeof r!="function"&&$n(7);let i;if(zr(e)){const s=zw(this),a=kg(e,void 0);let c=!0;try{i=n(a),c=!1}finally{c?bg(s):Rg(s)}return Fw(s,r),jw(i,s)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===PI&&(i=void 0),this.autoFreeze_&&S_(i,!0),r){const s=[],a=[];ms("Patches").generateReplacementPatches_(e,i,s,a),r(s,a)}return i}else $n(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(a,...c)=>this.produceWithPatches(a,u=>e(u,...c));let r,i;return[this.produce(e,n,(a,c)=>{r=a,i=c}),r,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){zr(t)||$n(8),Ai(t)&&(t=AI(t));const e=zw(this),n=kg(t,void 0);return n[_n].isManual_=!0,Rg(e),n}finishDraft(t,e){const n=t&&t[_n];(!n||!n.isManual_)&&$n(9);const{scope_:r}=n;return Fw(r,e),jw(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=ms("Patches").applyPatches_;return Ai(t)?r(t,e):this.produce(t,i=>r(i,e))}};function kg(t,e){const n=$d(t)?ms("MapSet").proxyMap_(t,e):Ud(t)?ms("MapSet").proxySet_(t,e):GL(t,e);return(e?e.scope_:bI()).drafts_.push(n),n}function AI(t){return Ai(t)||$n(10,t),kI(t)}function kI(t){if(!zr(t)||Bd(t))return t;const e=t[_n];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=xg(t,e.scope_.immer_.useStrictShallowCopy_)}else n=xg(t,!0);return $h(n,(r,i)=>{xI(n,r,kI(i))}),e&&(e.finalized_=!1),n}var yn=new ZL,OI=yn.produce;yn.produceWithPatches.bind(yn);yn.setAutoFreeze.bind(yn);yn.setUseStrictShallowCopy.bind(yn);yn.applyPatches.bind(yn);yn.createDraft.bind(yn);yn.finishDraft.bind(yn);function QL(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function YL(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function XL(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var Uw=t=>Array.isArray(t)?t:[t];function JL(t){const e=Array.isArray(t[0])?t[0]:t;return XL(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function e3(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var t3=class{constructor(t){this.value=t}deref(){return this.value}},n3=typeof WeakRef<"u"?WeakRef:t3,r3=0,Bw=1;function gc(){return{s:r3,v:void 0,o:null,p:null}}function I_(t,e={}){let n=gc();const{resultEqualityCheck:r}=e;let i,s=0;function a(){var m;let c=n;const{length:u}=arguments;for(let v=0,E=u;v<E;v++){const C=arguments[v];if(typeof C=="function"||typeof C=="object"&&C!==null){let T=c.o;T===null&&(c.o=T=new WeakMap);const P=T.get(C);P===void 0?(c=gc(),T.set(C,c)):c=P}else{let T=c.p;T===null&&(c.p=T=new Map);const P=T.get(C);P===void 0?(c=gc(),T.set(C,c)):c=P}}const d=c;let p;if(c.s===Bw?p=c.v:(p=t.apply(null,arguments),s++),d.s=Bw,r){const v=((m=i==null?void 0:i.deref)==null?void 0:m.call(i))??i;v!=null&&r(v,p)&&(p=v,s!==0&&s--),i=typeof p=="object"&&p!==null||typeof p=="function"?new n3(p):p}return d.v=p,p}return a.clearCache=()=>{n=gc(),a.resetResultsCount()},a.resultsCount=()=>s,a.resetResultsCount=()=>{s=0},a}function LI(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let s=0,a=0,c,u={},d=i.pop();typeof d=="object"&&(u=d,d=i.pop()),QL(d,`createSelector expects an output function after the inputs, but received: [${typeof d}]`);const p={...n,...u},{memoize:m,memoizeOptions:v=[],argsMemoize:E=I_,argsMemoizeOptions:C=[],devModeChecks:T={}}=p,P=Uw(v),_=Uw(C),y=JL(i),S=m(function(){return s++,d.apply(null,arguments)},...P),x=E(function(){a++;const O=e3(y,arguments);return c=S.apply(null,O),c},..._);return Object.assign(x,{resultFunc:d,memoizedResultFunc:S,dependencies:y,dependencyRecomputations:()=>a,resetDependencyRecomputations:()=>{a=0},lastResult:()=>c,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:m,argsMemoize:E})};return Object.assign(r,{withTypes:()=>r}),r}var i3=LI(I_),s3=Object.assign((t,e=i3)=>{YL(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(s=>t[s]);return e(r,(...s)=>s.reduce((a,c,u)=>(a[n[u]]=c,a),{}))},{withTypes:()=>s3});function MI(t){return({dispatch:n,getState:r})=>i=>s=>typeof s=="function"?s(n,r,t):i(s)}var o3=MI(),a3=MI,l3=(...t)=>{const e=LI(...t),n=Object.assign((...r)=>{const i=e(...r),s=(a,...c)=>i(Ai(a)?AI(a):a,...c);return Object.assign(s,i),s},{withTypes:()=>n});return n};l3(I_);var u3=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?jh:jh.apply(null,arguments)},c3=t=>t&&typeof t.match=="function";function Lr(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(ln(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>jL(r)&&r.type===t,n}var NI=class Ma extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Ma.prototype)}static get[Symbol.species](){return Ma}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Ma(...e[0].concat(this)):new Ma(...e.concat(this))}};function Hw(t){return zr(t)?OI(t,()=>{}):t}function Ww(t,e,n){if(t.has(e)){let i=t.get(e);return n.update&&(i=n.update(i,e,t),t.set(e,i)),i}if(!n.insert)throw new Error(ln(10));const r=n.insert(e,t);return t.set(e,r),r}function h3(t){return typeof t=="boolean"}var d3=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=e??{};let a=new NI;return n&&(h3(n)?a.push(o3):a.push(a3(n.extraArgument))),a},f3="RTK_autoBatch",DI=t=>e=>{setTimeout(e,t)},p3=typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:DI(10),m3=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,s=!1,a=!1;const c=new Set,u=t.type==="tick"?queueMicrotask:t.type==="raf"?p3:t.type==="callback"?t.queueNotification:DI(t.timeout),d=()=>{a=!1,s&&(s=!1,c.forEach(p=>p()))};return Object.assign({},r,{subscribe(p){const m=()=>i&&p(),v=r.subscribe(m);return c.add(p),()=>{v(),c.delete(p)}},dispatch(p){var m;try{return i=!((m=p==null?void 0:p.meta)!=null&&m[f3]),s=!i,s&&(a||(a=!0,u(d))),r.dispatch(p)}finally{i=!0}}})},g3=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new NI(t);return r&&i.push(m3(typeof r=="object"?r:void 0)),i},v3=!0;function _3(t){const e=d3(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:s=void 0,enhancers:a=void 0}=t||{};let c;if(typeof n=="function")c=n;else if(E_(n))c=FL(n);else throw new Error(ln(1));let u;typeof r=="function"?u=r(e):u=e();let d=jh;i&&(d=u3({trace:!v3,...typeof i=="object"&&i}));const p=zL(...u),m=g3(p);let v=typeof a=="function"?a(m):m();const E=d(...v);return II(c,s,E)}function VI(t){const e={},n=[];let r;const i={addCase(s,a){const c=typeof s=="string"?s:s.type;if(!c)throw new Error(ln(28));if(c in e)throw new Error(ln(29));return e[c]=a,i},addMatcher(s,a){return n.push({matcher:s,reducer:a}),i},addDefaultCase(s){return r=s,i}};return t(i),[e,n,r]}function y3(t){return typeof t=="function"}function w3(t,e){let[n,r,i]=VI(e),s;if(y3(t))s=()=>Hw(t());else{const c=Hw(t);s=()=>c}function a(c=s(),u){let d=[n[u.type],...r.filter(({matcher:p})=>p(u)).map(({reducer:p})=>p)];return d.filter(p=>!!p).length===0&&(d=[i]),d.reduce((p,m)=>{if(m)if(Ai(p)){const E=m(p,u);return E===void 0?p:E}else{if(zr(p))return OI(p,v=>m(v,u));{const v=m(p,u);if(v===void 0){if(p===null)return p;throw new Error(ln(9))}return v}}return p},c)}return a.getInitialState=s,a}var E3="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",FI=(t=21)=>{let e="",n=t;for(;n--;)e+=E3[Math.random()*64|0];return e},S3=(t,e)=>c3(t)?t.match(e):t(e);function T3(...t){return e=>t.some(n=>S3(n,e))}var I3=["name","message","stack","code"],tm=class{constructor(t,e){Tp(this,"_type");this.payload=t,this.meta=e}},qw=class{constructor(t,e){Tp(this,"_type");this.payload=t,this.meta=e}},P3=t=>{if(typeof t=="object"&&t!==null){const e={};for(const n of I3)typeof t[n]=="string"&&(e[n]=t[n]);return e}return{message:String(t)}},Mn=(()=>{function t(e,n,r){const i=Lr(e+"/fulfilled",(u,d,p,m)=>({payload:u,meta:{...m||{},arg:p,requestId:d,requestStatus:"fulfilled"}})),s=Lr(e+"/pending",(u,d,p)=>({payload:void 0,meta:{...p||{},arg:d,requestId:u,requestStatus:"pending"}})),a=Lr(e+"/rejected",(u,d,p,m,v)=>({payload:m,error:(r&&r.serializeError||P3)(u||"Rejected"),meta:{...v||{},arg:p,requestId:d,rejectedWithValue:!!m,requestStatus:"rejected",aborted:(u==null?void 0:u.name)==="AbortError",condition:(u==null?void 0:u.name)==="ConditionError"}}));function c(u){return(d,p,m)=>{const v=r!=null&&r.idGenerator?r.idGenerator(u):FI(),E=new AbortController;let C,T;function P(y){T=y,E.abort()}const _=async function(){var x,A;let y;try{let O=(x=r==null?void 0:r.condition)==null?void 0:x.call(r,u,{getState:p,extra:m});if(x3(O)&&(O=await O),O===!1||E.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const M=new Promise((D,Z)=>{C=()=>{Z({name:"AbortError",message:T||"Aborted"})},E.signal.addEventListener("abort",C)});d(s(v,u,(A=r==null?void 0:r.getPendingMeta)==null?void 0:A.call(r,{requestId:v,arg:u},{getState:p,extra:m}))),y=await Promise.race([M,Promise.resolve(n(u,{dispatch:d,getState:p,extra:m,requestId:v,signal:E.signal,abort:P,rejectWithValue:(D,Z)=>new tm(D,Z),fulfillWithValue:(D,Z)=>new qw(D,Z)})).then(D=>{if(D instanceof tm)throw D;return D instanceof qw?i(D.payload,v,u,D.meta):i(D,v,u)})])}catch(O){y=O instanceof tm?a(null,v,u,O.payload,O.meta):a(O,v,u)}finally{C&&E.signal.removeEventListener("abort",C)}return r&&!r.dispatchConditionRejection&&a.match(y)&&y.meta.condition||d(y),y}();return Object.assign(_,{abort:P,requestId:v,arg:u,unwrap(){return _.then(C3)}})}}return Object.assign(c,{pending:s,rejected:a,fulfilled:i,settled:T3(a,i),typePrefix:e})}return t.withTypes=()=>t,t})();function C3(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}function x3(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}var b3=Symbol.for("rtk-slice-createasyncthunk");function R3(t,e){return`${t}/${e}`}function A3({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[b3];return function(i){const{name:s,reducerPath:a=s}=i;if(!s)throw new Error(ln(11));typeof process<"u";const c=(typeof i.reducers=="function"?i.reducers(O3()):i.reducers)||{},u=Object.keys(c),d={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},p={addCase(S,x){const A=typeof S=="string"?S:S.type;if(!A)throw new Error(ln(12));if(A in d.sliceCaseReducersByType)throw new Error(ln(13));return d.sliceCaseReducersByType[A]=x,p},addMatcher(S,x){return d.sliceMatchers.push({matcher:S,reducer:x}),p},exposeAction(S,x){return d.actionCreators[S]=x,p},exposeCaseReducer(S,x){return d.sliceCaseReducersByName[S]=x,p}};u.forEach(S=>{const x=c[S],A={reducerName:S,type:R3(s,S),createNotation:typeof i.reducers=="function"};M3(x)?D3(A,x,p,e):L3(A,x,p)});function m(){const[S={},x=[],A=void 0]=typeof i.extraReducers=="function"?VI(i.extraReducers):[i.extraReducers],O={...S,...d.sliceCaseReducersByType};return w3(i.initialState,M=>{for(let D in O)M.addCase(D,O[D]);for(let D of d.sliceMatchers)M.addMatcher(D.matcher,D.reducer);for(let D of x)M.addMatcher(D.matcher,D.reducer);A&&M.addDefaultCase(A)})}const v=S=>S,E=new Map;let C;function T(S,x){return C||(C=m()),C(S,x)}function P(){return C||(C=m()),C.getInitialState()}function _(S,x=!1){function A(M){let D=M[S];return typeof D>"u"&&x&&(D=P()),D}function O(M=v){const D=Ww(E,x,{insert:()=>new WeakMap});return Ww(D,M,{insert:()=>{const Z={};for(const[G,le]of Object.entries(i.selectors??{}))Z[G]=k3(le,M,P,x);return Z}})}return{reducerPath:S,getSelectors:O,get selectors(){return O(A)},selectSlice:A}}const y={name:s,reducer:T,actions:d.actionCreators,caseReducers:d.sliceCaseReducersByName,getInitialState:P,..._(a),injectInto(S,{reducerPath:x,...A}={}){const O=x??a;return S.inject({reducerPath:O,reducer:T},A),{...y,..._(O,!0)}}};return y}}function k3(t,e,n,r){function i(s,...a){let c=e(s);return typeof c>"u"&&r&&(c=n()),t(c,...a)}return i.unwrapped=t,i}var Hd=A3();function O3(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function L3({type:t,reducerName:e,createNotation:n},r,i){let s,a;if("reducer"in r){if(n&&!N3(r))throw new Error(ln(17));s=r.reducer,a=r.prepare}else s=r;i.addCase(t,s).exposeCaseReducer(e,s).exposeAction(e,a?Lr(t,a):Lr(t))}function M3(t){return t._reducerDefinitionType==="asyncThunk"}function N3(t){return t._reducerDefinitionType==="reducerWithPrepare"}function D3({type:t,reducerName:e},n,r,i){if(!i)throw new Error(ln(18));const{payloadCreator:s,fulfilled:a,pending:c,rejected:u,settled:d,options:p}=n,m=i(t,s,p);r.exposeAction(e,m),a&&r.addCase(m.fulfilled,a),c&&r.addCase(m.pending,c),u&&r.addCase(m.rejected,u),d&&r.addMatcher(m.settled,d),r.exposeCaseReducer(e,{fulfilled:a||vc,pending:c||vc,rejected:u||vc,settled:d||vc})}function vc(){}var V3=(t,e)=>{if(typeof t!="function")throw new Error(ln(32))},P_="listenerMiddleware",F3=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:s}=t;if(e)i=Lr(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(ln(21));return V3(s),{predicate:i,type:e,effect:s}},z3=Object.assign(t=>{const{type:e,predicate:n,effect:r}=F3(t);return{id:FI(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(ln(22))}}},{withTypes:()=>z3}),j3=Object.assign(Lr(`${P_}/add`),{withTypes:()=>j3});Lr(`${P_}/removeAll`);var $3=Object.assign(Lr(`${P_}/remove`),{withTypes:()=>$3});function ln(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var Gw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zI=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},U3=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],a=t[n++],c=t[n++],u=((i&7)<<18|(s&63)<<12|(a&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const s=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return e.join("")},jI={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],a=i+1<t.length,c=a?t[i+1]:0,u=i+2<t.length,d=u?t[i+2]:0,p=s>>2,m=(s&3)<<4|c>>4;let v=(c&15)<<2|d>>6,E=d&63;u||(E=64,a||(v=64)),r.push(n[p],n[m],n[v],n[E])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(zI(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):U3(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;const d=i<t.length?n[t.charAt(i)]:64;++i;const m=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||c==null||d==null||m==null)throw new B3;const v=s<<2|c>>4;if(r.push(v),d!==64){const E=c<<4&240|d>>2;if(r.push(E),m!==64){const C=d<<6&192|m;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class B3 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const H3=function(t){const e=zI(t);return jI.encodeByteArray(e,!0)},Hh=function(t){return H3(t).replace(/\./g,"")},$I=function(t){try{return jI.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W3(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q3=()=>W3().__FIREBASE_DEFAULTS__,G3=()=>{if(typeof process>"u"||typeof Gw>"u")return;const t=Gw.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},K3=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&$I(t[1]);return e&&JSON.parse(e)},Wd=()=>{try{return q3()||G3()||K3()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},UI=t=>{var e,n;return(n=(e=Wd())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Z3=t=>{const e=UI(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},BI=()=>{var t;return(t=Wd())===null||t===void 0?void 0:t.config},HI=t=>{var e;return(e=Wd())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q3{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y3(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Hh(JSON.stringify(n)),Hh(JSON.stringify(a)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function X3(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(dt())}function J3(){var t;const e=(t=Wd())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function eM(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function tM(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function nM(){const t=dt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function rM(){return!J3()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function WI(){try{return typeof indexedDB=="object"}catch{return!1}}function iM(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sM="FirebaseError";class Gr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=sM,Object.setPrototypeOf(this,Gr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ou.prototype.create)}}class ou{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],a=s?oM(s,r):"Error",c=`${this.serviceName}: ${a} (${i}).`;return new Gr(i,c,r)}}function oM(t,e){return t.replace(aM,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const aM=/\{\$([^}]+)}/g;function lM(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Wh(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],a=e[i];if(Kw(s)&&Kw(a)){if(!Wh(s,a))return!1}else if(s!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Kw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function au(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Na(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Da(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function uM(t,e){const n=new cM(t,e);return n.subscribe.bind(n)}class cM{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");hM(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=nm),i.error===void 0&&(i.error=nm),i.complete===void 0&&(i.complete=nm);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function hM(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function nm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gt(t){return t&&t._delegate?t._delegate:t}class gs{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dM{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Q3;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(pM(e))try{this.getOrInitializeService({instanceIdentifier:Yi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Yi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Yi){return this.instances.has(e)}getOptions(e=Yi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,a]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(s);r===c&&a.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const a=this.instances.get(i);return a&&e(a,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:fM(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Yi){return this.component?this.component.multipleInstances?e:Yi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function fM(t){return t===Yi?void 0:t}function pM(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mM{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new dM(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Se;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Se||(Se={}));const gM={debug:Se.DEBUG,verbose:Se.VERBOSE,info:Se.INFO,warn:Se.WARN,error:Se.ERROR,silent:Se.SILENT},vM=Se.INFO,_M={[Se.DEBUG]:"log",[Se.VERBOSE]:"log",[Se.INFO]:"info",[Se.WARN]:"warn",[Se.ERROR]:"error"},yM=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=_M[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class C_{constructor(e){this.name=e,this._logLevel=vM,this._logHandler=yM,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Se))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?gM[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Se.DEBUG,...e),this._logHandler(this,Se.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Se.VERBOSE,...e),this._logHandler(this,Se.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Se.INFO,...e),this._logHandler(this,Se.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Se.WARN,...e),this._logHandler(this,Se.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Se.ERROR,...e),this._logHandler(this,Se.ERROR,...e)}}const wM=(t,e)=>e.some(n=>t instanceof n);let Zw,Qw;function EM(){return Zw||(Zw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function SM(){return Qw||(Qw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const qI=new WeakMap,Og=new WeakMap,GI=new WeakMap,rm=new WeakMap,x_=new WeakMap;function TM(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{n(Ti(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&qI.set(n,t)}).catch(()=>{}),x_.set(e,t),e}function IM(t){if(Og.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});Og.set(t,e)}let Lg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Og.get(t);if(e==="objectStoreNames")return t.objectStoreNames||GI.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ti(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function PM(t){Lg=t(Lg)}function CM(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(im(this),e,...n);return GI.set(r,e.sort?e.sort():[e]),Ti(r)}:SM().includes(t)?function(...e){return t.apply(im(this),e),Ti(qI.get(this))}:function(...e){return Ti(t.apply(im(this),e))}}function xM(t){return typeof t=="function"?CM(t):(t instanceof IDBTransaction&&IM(t),wM(t,EM())?new Proxy(t,Lg):t)}function Ti(t){if(t instanceof IDBRequest)return TM(t);if(rm.has(t))return rm.get(t);const e=xM(t);return e!==t&&(rm.set(t,e),x_.set(e,t)),e}const im=t=>x_.get(t);function bM(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const a=indexedDB.open(t,e),c=Ti(a);return r&&a.addEventListener("upgradeneeded",u=>{r(Ti(a.result),u.oldVersion,u.newVersion,Ti(a.transaction),u)}),n&&a.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),c.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),c}const RM=["get","getKey","getAll","getAllKeys","count"],AM=["put","add","delete","clear"],sm=new Map;function Yw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(sm.get(e))return sm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=AM.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||RM.includes(n)))return;const s=async function(a,...c){const u=this.transaction(a,i?"readwrite":"readonly");let d=u.store;return r&&(d=d.index(c.shift())),(await Promise.all([d[n](...c),i&&u.done]))[0]};return sm.set(e,s),s}PM(t=>({...t,get:(e,n,r)=>Yw(e,n)||t.get(e,n,r),has:(e,n)=>!!Yw(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kM{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(OM(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function OM(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Mg="@firebase/app",Xw="0.9.29";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vs=new C_("@firebase/app"),LM="@firebase/app-compat",MM="@firebase/analytics-compat",NM="@firebase/analytics",DM="@firebase/app-check-compat",VM="@firebase/app-check",FM="@firebase/auth",zM="@firebase/auth-compat",jM="@firebase/database",$M="@firebase/database-compat",UM="@firebase/functions",BM="@firebase/functions-compat",HM="@firebase/installations",WM="@firebase/installations-compat",qM="@firebase/messaging",GM="@firebase/messaging-compat",KM="@firebase/performance",ZM="@firebase/performance-compat",QM="@firebase/remote-config",YM="@firebase/remote-config-compat",XM="@firebase/storage",JM="@firebase/storage-compat",eN="@firebase/firestore",tN="@firebase/firestore-compat",nN="firebase",rN="10.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ng="[DEFAULT]",iN={[Mg]:"fire-core",[LM]:"fire-core-compat",[NM]:"fire-analytics",[MM]:"fire-analytics-compat",[VM]:"fire-app-check",[DM]:"fire-app-check-compat",[FM]:"fire-auth",[zM]:"fire-auth-compat",[jM]:"fire-rtdb",[$M]:"fire-rtdb-compat",[UM]:"fire-fn",[BM]:"fire-fn-compat",[HM]:"fire-iid",[WM]:"fire-iid-compat",[qM]:"fire-fcm",[GM]:"fire-fcm-compat",[KM]:"fire-perf",[ZM]:"fire-perf-compat",[QM]:"fire-rc",[YM]:"fire-rc-compat",[XM]:"fire-gcs",[JM]:"fire-gcs-compat",[eN]:"fire-fst",[tN]:"fire-fst-compat","fire-js":"fire-js",[nN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qh=new Map,Dg=new Map;function sN(t,e){try{t.container.addComponent(e)}catch(n){vs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function bo(t){const e=t.name;if(Dg.has(e))return vs.debug(`There were multiple attempts to register component ${e}.`),!1;Dg.set(e,t);for(const n of qh.values())sN(n,t);return!0}function b_(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Ii=new ou("app","Firebase",oN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aN{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new gs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ii.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qo=rN;function KI(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Ng,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Ii.create("bad-app-name",{appName:String(i)});if(n||(n=BI()),!n)throw Ii.create("no-options");const s=qh.get(i);if(s){if(Wh(n,s.options)&&Wh(r,s.config))return s;throw Ii.create("duplicate-app",{appName:i})}const a=new mM(i);for(const u of Dg.values())a.addComponent(u);const c=new aN(n,r,a);return qh.set(i,c),c}function ZI(t=Ng){const e=qh.get(t);if(!e&&t===Ng&&BI())return KI();if(!e)throw Ii.create("no-app",{appName:t});return e}function Pi(t,e,n){var r;let i=(r=iN[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const c=[`Unable to register library "${i}" with version "${e}":`];s&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&c.push("and"),a&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),vs.warn(c.join(" "));return}bo(new gs(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lN="firebase-heartbeat-database",uN=1,kl="firebase-heartbeat-store";let om=null;function QI(){return om||(om=bM(lN,uN,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(kl)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ii.create("idb-open",{originalErrorMessage:t.message})})),om}async function cN(t){try{const n=(await QI()).transaction(kl),r=await n.objectStore(kl).get(YI(t));return await n.done,r}catch(e){if(e instanceof Gr)vs.warn(e.message);else{const n=Ii.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});vs.warn(n.message)}}}async function Jw(t,e){try{const r=(await QI()).transaction(kl,"readwrite");await r.objectStore(kl).put(e,YI(t)),await r.done}catch(n){if(n instanceof Gr)vs.warn(n.message);else{const r=Ii.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});vs.warn(r.message)}}}function YI(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hN=1024,dN=30*24*60*60*1e3;class fN{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new mN(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=eE();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const c=new Date(a.date).valueOf();return Date.now()-c<=dN}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=eE(),{heartbeatsToSend:r,unsentEntries:i}=pN(this._heartbeatsCache.heartbeats),s=Hh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function eE(){return new Date().toISOString().substring(0,10)}function pN(t,e=hN){const n=[];let r=t.slice();for(const i of t){const s=n.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),tE(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),tE(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class mN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return WI()?iM().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await cN(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Jw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Jw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function tE(t){return Hh(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gN(t){bo(new gs("platform-logger",e=>new kM(e),"PRIVATE")),bo(new gs("heartbeat",e=>new fN(e),"PRIVATE")),Pi(Mg,Xw,t),Pi(Mg,Xw,"esm2017"),Pi("fire-js","")}gN("");function R_(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function XI(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const vN=XI,JI=new ou("auth","Firebase",XI());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gh=new C_("@firebase/auth");function _N(t,...e){Gh.logLevel<=Se.WARN&&Gh.warn(`Auth (${qo}): ${t}`,...e)}function Wc(t,...e){Gh.logLevel<=Se.ERROR&&Gh.error(`Auth (${qo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qn(t,...e){throw A_(t,...e)}function hr(t,...e){return A_(t,...e)}function yN(t,e,n){const r=Object.assign(Object.assign({},vN()),{[e]:n});return new ou("auth","Firebase",r).create(e,{appName:t.name})}function A_(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return JI.create(t,...e)}function oe(t,e,...n){if(!t)throw A_(e,...n)}function br(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Wc(e),new Error(e)}function jr(t,e){t||br(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vg(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function wN(){return nE()==="http:"||nE()==="https:"}function nE(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(wN()||eM()||"connection"in navigator)?navigator.onLine:!0}function SN(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu{constructor(e,n){this.shortDelay=e,this.longDelay=n,jr(n>e,"Short delay should be less than long delay!"),this.isMobile=X3()||tM()}get(){return EN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k_(t,e){jr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eP{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;br("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;br("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;br("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IN=new lu(3e4,6e4);function Kr(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Zr(t,e,n,r,i={}){return tP(t,i,async()=>{let s={},a={};r&&(e==="GET"?a=r:s={body:JSON.stringify(r)});const c=au(Object.assign({key:t.config.apiKey},a)).slice(1),u=await t._getAdditionalHeaders();return u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),eP.fetch()(nP(t,t.config.apiHost,n,c),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},s))})}async function tP(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},TN),e);try{const i=new CN(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw _c(t,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const c=s.ok?a.errorMessage:a.error.message,[u,d]=c.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw _c(t,"credential-already-in-use",a);if(u==="EMAIL_EXISTS")throw _c(t,"email-already-in-use",a);if(u==="USER_DISABLED")throw _c(t,"user-disabled",a);const p=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw yN(t,p,d);qn(t,p)}}catch(i){if(i instanceof Gr)throw i;qn(t,"network-request-failed",{message:String(i)})}}async function uu(t,e,n,r,i={}){const s=await Zr(t,e,n,r,i);return"mfaPendingCredential"in s&&qn(t,"multi-factor-auth-required",{_serverResponse:s}),s}function nP(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?k_(t.config,i):`${t.config.apiScheme}://${i}`}function PN(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class CN{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(hr(this.auth,"network-request-failed")),IN.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function _c(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=hr(t,e,r);return i.customData._tokenResponse=n,i}function rE(t){return t!==void 0&&t.enterprise!==void 0}class xN{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return PN(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function bN(t,e){return Zr(t,"GET","/v2/recaptchaConfig",Kr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RN(t,e){return Zr(t,"POST","/v1/accounts:delete",e)}async function AN(t,e){return Zr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xa(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function kN(t,e=!1){const n=gt(t),r=await n.getIdToken(e),i=O_(r);oe(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,a=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Xa(am(i.auth_time)),issuedAtTime:Xa(am(i.iat)),expirationTime:Xa(am(i.exp)),signInProvider:a||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function am(t){return Number(t)*1e3}function O_(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Wc("JWT malformed, contained fewer than 3 sections"),null;try{const i=$I(n);return i?JSON.parse(i):(Wc("Failed to decode base64 JWT payload"),null)}catch(i){return Wc("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function ON(t){const e=O_(t);return oe(e,"internal-error"),oe(typeof e.exp<"u","internal-error"),oe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ol(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Gr&&LN(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function LN({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rP{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Xa(this.lastLoginAt),this.creationTime=Xa(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kh(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Ol(t,AN(n,{idToken:r}));oe(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const a=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?VN(s.providerUserInfo):[],c=DN(t.providerData,a),u=t.isAnonymous,d=!(t.email&&s.passwordHash)&&!(c!=null&&c.length),p=u?d:!1,m={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:c,metadata:new rP(s.createdAt,s.lastLoginAt),isAnonymous:p};Object.assign(t,m)}async function NN(t){const e=gt(t);await Kh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function DN(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function VN(t){return t.map(e=>{var{providerId:n}=e,r=R_(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FN(t,e){const n=await tP(t,{},async()=>{const r=au({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,a=nP(t,i,"/v1/token",`key=${s}`),c=await t._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",eP.fetch()(a,{method:"POST",headers:c,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function zN(t,e){return Zr(t,"POST","/v2/accounts:revokeToken",Kr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){oe(e.idToken,"internal-error"),oe(typeof e.idToken<"u","internal-error"),oe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):ON(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return oe(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await FN(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,a=new Ll;return r&&(oe(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),i&&(oe(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),s&&(oe(typeof s=="number","internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ll,this.toJSON())}_performRefresh(){return br("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ti(t,e){oe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ls{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=R_(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new MN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new rP(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Ol(this,this.stsTokenManager.getToken(this.auth,e));return oe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return kN(this,e)}reload(){return NN(this)}_assign(e){this!==e&&(oe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ls(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Kh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Ol(this,RN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,a,c,u,d,p;const m=(r=n.displayName)!==null&&r!==void 0?r:void 0,v=(i=n.email)!==null&&i!==void 0?i:void 0,E=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,C=(a=n.photoURL)!==null&&a!==void 0?a:void 0,T=(c=n.tenantId)!==null&&c!==void 0?c:void 0,P=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,_=(d=n.createdAt)!==null&&d!==void 0?d:void 0,y=(p=n.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:S,emailVerified:x,isAnonymous:A,providerData:O,stsTokenManager:M}=n;oe(S&&M,e,"internal-error");const D=Ll.fromJSON(this.name,M);oe(typeof S=="string",e,"internal-error"),ti(m,e.name),ti(v,e.name),oe(typeof x=="boolean",e,"internal-error"),oe(typeof A=="boolean",e,"internal-error"),ti(E,e.name),ti(C,e.name),ti(T,e.name),ti(P,e.name),ti(_,e.name),ti(y,e.name);const Z=new ls({uid:S,auth:e,email:v,emailVerified:x,displayName:m,isAnonymous:A,photoURL:C,phoneNumber:E,tenantId:T,stsTokenManager:D,createdAt:_,lastLoginAt:y});return O&&Array.isArray(O)&&(Z.providerData=O.map(G=>Object.assign({},G))),P&&(Z._redirectEventId=P),Z}static async _fromIdTokenResponse(e,n,r=!1){const i=new Ll;i.updateFromServerResponse(n);const s=new ls({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Kh(s),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iE=new Map;function Rr(t){jr(t instanceof Function,"Expected a class definition");let e=iE.get(t);return e?(jr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,iE.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iP{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}iP.type="NONE";const sE=iP;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qc(t,e,n){return`firebase:${t}:${e}:${n}`}class fo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=qc(this.userKey,i.apiKey,s),this.fullPersistenceKey=qc("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ls._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new fo(Rr(sE),e,r);const i=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let s=i[0]||Rr(sE);const a=qc(r,e.config.apiKey,e.name);let c=null;for(const d of n)try{const p=await d._get(a);if(p){const m=ls._fromJSON(e,p);d!==s&&(c=m),s=d;break}}catch{}const u=i.filter(d=>d._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new fo(s,e,r):(s=u[0],c&&await s._set(a,c.toJSON()),await Promise.all(n.map(async d=>{if(d!==s)try{await d._remove(a)}catch{}})),new fo(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(aP(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(sP(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(uP(e))return"Blackberry";if(cP(e))return"Webos";if(L_(e))return"Safari";if((e.includes("chrome/")||oP(e))&&!e.includes("edge/"))return"Chrome";if(lP(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function sP(t=dt()){return/firefox\//i.test(t)}function L_(t=dt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function oP(t=dt()){return/crios\//i.test(t)}function aP(t=dt()){return/iemobile/i.test(t)}function lP(t=dt()){return/android/i.test(t)}function uP(t=dt()){return/blackberry/i.test(t)}function cP(t=dt()){return/webos/i.test(t)}function qd(t=dt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function jN(t=dt()){var e;return qd(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function $N(){return nM()&&document.documentMode===10}function hP(t=dt()){return qd(t)||lP(t)||cP(t)||uP(t)||/windows phone/i.test(t)||aP(t)}function UN(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dP(t,e=[]){let n;switch(t){case"Browser":n=oE(dt());break;case"Worker":n=`${oE(dt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${qo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((a,c)=>{try{const u=e(s);a(u)}catch(u){c(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HN(t,e={}){return Zr(t,"GET","/v2/passwordPolicy",Kr(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WN=6;class qN{constructor(e){var n,r,i,s;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:WN,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,a,c;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNumericCharacter)!==null&&a!==void 0?a:!0),u.isValid&&(u.isValid=(c=u.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),u}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GN{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new aE(this),this.idTokenSubscription=new aE(this),this.beforeStateQueue=new BN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=JI,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Rr(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await fo.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=i==null?void 0:i._redirectEventId,u=await this.tryRedirectSignIn(e);(!a||a===c)&&(u!=null&&u.user)&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return oe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Kh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=SN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?gt(e):null;return n&&oe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&oe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Rr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await HN(this),n=new qN(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ou("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await zN(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Rr(e)||this._popupRedirectResolver;oe(n,this,"argument-error"),this.redirectPersistenceManager=await fo.create(this,[Rr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let a=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(oe(c,this,"internal-error"),c.then(()=>{a||s(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,r,i);return()=>{a=!0,u()}}else{const u=e.addObserver(n);return()=>{a=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=dP(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&_N(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Fi(t){return gt(t)}class aE{constructor(e){this.auth=e,this.observer=null,this.addObserver=uM(n=>this.observer=n)}get next(){return oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function KN(t){Gd=t}function fP(t){return Gd.loadJS(t)}function ZN(){return Gd.recaptchaEnterpriseScript}function QN(){return Gd.gapiScript}function YN(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const XN="recaptcha-enterprise",JN="NO_RECAPTCHA";class e6{constructor(e){this.type=XN,this.auth=Fi(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(a,c)=>{bN(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const d=new xN(u);return s.tenantId==null?s._agentRecaptchaConfig=d:s._tenantRecaptchaConfigs[s.tenantId]=d,a(d.siteKey)}}).catch(u=>{c(u)})})}function i(s,a,c){const u=window.grecaptcha;rE(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:e}).then(d=>{a(d)}).catch(()=>{a(JN)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,a)=>{r(this.auth).then(c=>{if(!n&&rE(window.grecaptcha))i(c,s,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let u=ZN();u.length!==0&&(u+=c),fP(u).then(()=>{i(c,s,a)}).catch(d=>{a(d)})}}).catch(c=>{a(c)})})}}async function lE(t,e,n,r=!1){const i=new e6(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const a=Object.assign({},e);return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Zh(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await lE(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await lE(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t6(t,e){const n=b_(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Wh(s,e??{}))return i;qn(i,"already-initialized")}return n.initialize({options:e})}function n6(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Rr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function r6(t,e,n){const r=Fi(t);oe(r._canInitEmulator,r,"emulator-config-failed"),oe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=pP(e),{host:a,port:c}=i6(e),u=c===null?"":`:${c}`;r.config.emulator={url:`${s}//${a}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:c,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||s6()}function pP(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function i6(t){const e=pP(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:uE(r.substr(s.length+1))}}else{const[s,a]=r.split(":");return{host:s,port:uE(a)}}}function uE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function s6(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M_{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return br("not implemented")}_getIdTokenResponse(e){return br("not implemented")}_linkToIdToken(e,n){return br("not implemented")}_getReauthenticationResolver(e){return br("not implemented")}}async function o6(t,e){return Zr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a6(t,e){return uu(t,"POST","/v1/accounts:signInWithPassword",Kr(t,e))}async function mP(t,e){return Zr(t,"POST","/v1/accounts:sendOobCode",Kr(t,e))}async function l6(t,e){return mP(t,e)}async function u6(t,e){return mP(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c6(t,e){return uu(t,"POST","/v1/accounts:signInWithEmailLink",Kr(t,e))}async function h6(t,e){return uu(t,"POST","/v1/accounts:signInWithEmailLink",Kr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml extends M_{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Ml(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Ml(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Zh(e,n,"signInWithPassword",a6);case"emailLink":return c6(e,{email:this._email,oobCode:this._password});default:qn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Zh(e,r,"signUpPassword",o6);case"emailLink":return h6(e,{idToken:n,email:this._email,oobCode:this._password});default:qn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function po(t,e){return uu(t,"POST","/v1/accounts:signInWithIdp",Kr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d6="http://localhost";class _s extends M_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new _s(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):qn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=R_(n,["providerId","signInMethod"]);if(!r||!i)return null;const a=new _s(r,i);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return po(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,po(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,po(e,n)}buildRequest(){const e={requestUri:d6,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=au(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f6(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function p6(t){const e=Na(Da(t)).link,n=e?Na(Da(e)).deep_link_id:null,r=Na(Da(t)).deep_link_id;return(r?Na(Da(r)).link:null)||r||n||e||t}class N_{constructor(e){var n,r,i,s,a,c;const u=Na(Da(e)),d=(n=u.apiKey)!==null&&n!==void 0?n:null,p=(r=u.oobCode)!==null&&r!==void 0?r:null,m=f6((i=u.mode)!==null&&i!==void 0?i:null);oe(d&&p&&m,"argument-error"),this.apiKey=d,this.operation=m,this.code=p,this.continueUrl=(s=u.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(a=u.languageCode)!==null&&a!==void 0?a:null,this.tenantId=(c=u.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){const n=p6(e);try{return new N_(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(){this.providerId=Go.PROVIDER_ID}static credential(e,n){return Ml._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=N_.parseLink(n);return oe(r,"argument-error"),Ml._fromEmailAndCode(e,r.code,r.tenantId)}}Go.PROVIDER_ID="password";Go.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Go.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gP{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu extends gP{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi extends cu{constructor(){super("facebook.com")}static credential(e){return _s._fromParams({providerId:oi.PROVIDER_ID,signInMethod:oi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return oi.credentialFromTaggedObject(e)}static credentialFromError(e){return oi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return oi.credential(e.oauthAccessToken)}catch{return null}}}oi.FACEBOOK_SIGN_IN_METHOD="facebook.com";oi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai extends cu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return _s._fromParams({providerId:ai.PROVIDER_ID,signInMethod:ai.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ai.credentialFromTaggedObject(e)}static credentialFromError(e){return ai.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ai.credential(n,r)}catch{return null}}}ai.GOOGLE_SIGN_IN_METHOD="google.com";ai.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li extends cu{constructor(){super("github.com")}static credential(e){return _s._fromParams({providerId:li.PROVIDER_ID,signInMethod:li.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return li.credentialFromTaggedObject(e)}static credentialFromError(e){return li.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return li.credential(e.oauthAccessToken)}catch{return null}}}li.GITHUB_SIGN_IN_METHOD="github.com";li.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui extends cu{constructor(){super("twitter.com")}static credential(e,n){return _s._fromParams({providerId:ui.PROVIDER_ID,signInMethod:ui.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ui.credentialFromTaggedObject(e)}static credentialFromError(e){return ui.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ui.credential(n,r)}catch{return null}}}ui.TWITTER_SIGN_IN_METHOD="twitter.com";ui.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m6(t,e){return uu(t,"POST","/v1/accounts:signUp",Kr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await ls._fromIdTokenResponse(e,r,i),a=cE(r);return new ys({user:s,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=cE(r);return new ys({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function cE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh extends Gr{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Qh.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Qh(e,n,r,i)}}function vP(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Qh._fromErrorAndOperation(t,s,e,r):s})}async function g6(t,e,n=!1){const r=await Ol(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ys._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v6(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await Ol(t,vP(r,i,e,t),n);oe(s.idToken,r,"internal-error");const a=O_(s.idToken);oe(a,r,"internal-error");const{sub:c}=a;return oe(t.uid===c,r,"user-mismatch"),ys._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&qn(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _P(t,e,n=!1){const r="signIn",i=await vP(t,r,e),s=await ys._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function _6(t,e){return _P(Fi(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yP(t,e,n){var r;oe(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),oe(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(oe(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(oe(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wP(t){const e=Fi(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function y6(t,e,n){const r=Fi(t),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&yP(r,i,n),await Zh(r,i,"getOobCode",u6)}async function w6(t,e,n){const r=Fi(t),a=await Zh(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",m6).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&wP(t),u}),c=await ys._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(c.user),c}function E6(t,e,n){return _6(gt(t),Go.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&wP(t),r})}async function S6(t,e){const n=gt(t),i={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()};e&&yP(n.auth,i,e);const{email:s}=await l6(n.auth,i);s!==t.email&&await t.reload()}function T6(t,e,n,r){return gt(t).onIdTokenChanged(e,n,r)}function I6(t,e,n){return gt(t).beforeAuthStateChanged(e,n)}function P6(t,e,n,r){return gt(t).onAuthStateChanged(e,n,r)}function C6(t){return gt(t).signOut()}const Yh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EP{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Yh,"1"),this.storage.removeItem(Yh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x6(){const t=dt();return L_(t)||qd(t)}const b6=1e3,R6=10;class SP extends EP{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=x6()&&UN(),this.fallbackToPolling=hP(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,c,u)=>{this.notifyListeners(a,u)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(r);if(e.newValue!==a)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},s=this.storage.getItem(r);$N()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,R6):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},b6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}SP.type="LOCAL";const A6=SP;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TP extends EP{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}TP.type="SESSION";const IP=TP;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k6(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Kd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const c=Array.from(a).map(async d=>d(n.origin,s)),u=await k6(c);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Kd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D_(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O6{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,a;return new Promise((c,u)=>{const d=D_("",20);i.port1.start();const p=setTimeout(()=>{u(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(m){const v=m;if(v.data.eventId===d)switch(v.data.status){case"ack":clearTimeout(p),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),c(v.data.response);break;default:clearTimeout(p),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dr(){return window}function L6(t){dr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PP(){return typeof dr().WorkerGlobalScope<"u"&&typeof dr().importScripts=="function"}async function M6(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function N6(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function D6(){return PP()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CP="firebaseLocalStorageDb",V6=1,Xh="firebaseLocalStorage",xP="fbase_key";class hu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Zd(t,e){return t.transaction([Xh],e?"readwrite":"readonly").objectStore(Xh)}function F6(){const t=indexedDB.deleteDatabase(CP);return new hu(t).toPromise()}function Fg(){const t=indexedDB.open(CP,V6);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Xh,{keyPath:xP})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Xh)?e(r):(r.close(),await F6(),e(await Fg()))})})}async function hE(t,e,n){const r=Zd(t,!0).put({[xP]:e,value:n});return new hu(r).toPromise()}async function z6(t,e){const n=Zd(t,!1).get(e),r=await new hu(n).toPromise();return r===void 0?null:r.value}function dE(t,e){const n=Zd(t,!0).delete(e);return new hu(n).toPromise()}const j6=800,$6=3;class bP{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Fg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>$6)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return PP()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Kd._getInstance(D6()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await M6(),!this.activeServiceWorker)return;this.sender=new O6(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||N6()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Fg();return await hE(e,Yh,"1"),await dE(e,Yh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>hE(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>z6(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>dE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Zd(i,!1).getAll();return new hu(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),j6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}bP.type="LOCAL";const U6=bP;new lu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B6(t,e){return e?Rr(e):(oe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V_ extends M_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return po(e,this._buildIdpRequest())}_linkToIdToken(e,n){return po(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return po(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function H6(t){return _P(t.auth,new V_(t),t.bypassAuthState)}function W6(t){const{auth:e,user:n}=t;return oe(n,e,"internal-error"),v6(n,new V_(t),t.bypassAuthState)}async function q6(t){const{auth:e,user:n}=t;return oe(n,e,"internal-error"),g6(n,new V_(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RP{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:a,type:c}=e;if(a){this.reject(a);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(u))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return H6;case"linkViaPopup":case"linkViaRedirect":return q6;case"reauthViaPopup":case"reauthViaRedirect":return W6;default:qn(this.auth,"internal-error")}}resolve(e){jr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){jr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G6=new lu(2e3,1e4);class io extends RP{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,io.currentPopupAction&&io.currentPopupAction.cancel(),io.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return oe(e,this.auth,"internal-error"),e}async onExecution(){jr(this.filter.length===1,"Popup operations only handle one event");const e=D_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(hr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(hr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,io.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(hr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,G6.get())};e()}}io.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K6="pendingRedirect",Gc=new Map;class Z6 extends RP{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Gc.get(this.auth._key());if(!e){try{const r=await Q6(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Gc.set(this.auth._key(),e)}return this.bypassAuthState||Gc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Q6(t,e){const n=J6(e),r=X6(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function Y6(t,e){Gc.set(t._key(),e)}function X6(t){return Rr(t._redirectPersistence)}function J6(t){return qc(K6,t.config.apiKey,t.name)}async function eD(t,e,n=!1){const r=Fi(t),i=B6(r,e),a=await new Z6(r,i,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tD=10*60*1e3;class nD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!rD(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!AP(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(hr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=tD&&this.cachedEventUids.clear(),this.cachedEventUids.has(fE(e))}saveEventToCache(e){this.cachedEventUids.add(fE(e)),this.lastProcessedEventTime=Date.now()}}function fE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function AP({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function rD(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return AP(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iD(t,e={}){return Zr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,oD=/^https?/;async function aD(t){if(t.config.emulator)return;const{authorizedDomains:e}=await iD(t);for(const n of e)try{if(lD(n))return}catch{}qn(t,"unauthorized-domain")}function lD(t){const e=Vg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!oD.test(n))return!1;if(sD.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uD=new lu(3e4,6e4);function pE(){const t=dr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function cD(t){return new Promise((e,n)=>{var r,i,s;function a(){pE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{pE(),n(hr(t,"network-request-failed"))},timeout:uD.get()})}if(!((i=(r=dr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=dr().gapi)===null||s===void 0)&&s.load)a();else{const c=YN("iframefcb");return dr()[c]=()=>{gapi.load?a():n(hr(t,"network-request-failed"))},fP(`${QN()}?onload=${c}`).catch(u=>n(u))}}).catch(e=>{throw Kc=null,e})}let Kc=null;function hD(t){return Kc=Kc||cD(t),Kc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dD=new lu(5e3,15e3),fD="__/auth/iframe",pD="emulator/auth/iframe",mD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},gD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function vD(t){const e=t.config;oe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?k_(e,pD):`https://${t.config.authDomain}/${fD}`,r={apiKey:e.apiKey,appName:t.name,v:qo},i=gD.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${au(r).slice(1)}`}async function _D(t){const e=await hD(t),n=dr().gapi;return oe(n,t,"internal-error"),e.open({where:document.body,url:vD(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:mD,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const a=hr(t,"network-request-failed"),c=dr().setTimeout(()=>{s(a)},dD.get());function u(){dr().clearTimeout(c),i(r)}r.ping(u).then(u,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},wD=500,ED=600,SD="_blank",TD="http://localhost";class mE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function ID(t,e,n,r=wD,i=ED){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const u=Object.assign(Object.assign({},yD),{width:r.toString(),height:i.toString(),top:s,left:a}),d=dt().toLowerCase();n&&(c=oP(d)?SD:n),sP(d)&&(e=e||TD,u.scrollbars="yes");const p=Object.entries(u).reduce((v,[E,C])=>`${v}${E}=${C},`,"");if(jN(d)&&c!=="_self")return PD(e||"",c),new mE(null);const m=window.open(e||"",c,p);oe(m,t,"popup-blocked");try{m.focus()}catch{}return new mE(m)}function PD(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CD="__/auth/handler",xD="emulator/auth/handler",bD=encodeURIComponent("fac");async function gE(t,e,n,r,i,s){oe(t.config.authDomain,t,"auth-domain-config-required"),oe(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:qo,eventId:i};if(e instanceof gP){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",lM(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,m]of Object.entries(s||{}))a[p]=m}if(e instanceof cu){const p=e.getScopes().filter(m=>m!=="");p.length>0&&(a.scopes=p.join(","))}t.tenantId&&(a.tid=t.tenantId);const c=a;for(const p of Object.keys(c))c[p]===void 0&&delete c[p];const u=await t._getAppCheckToken(),d=u?`#${bD}=${encodeURIComponent(u)}`:"";return`${RD(t)}?${au(c).slice(1)}${d}`}function RD({config:t}){return t.emulator?k_(t,xD):`https://${t.authDomain}/${CD}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lm="webStorageSupport";class AD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=IP,this._completeRedirectFn=eD,this._overrideRedirectResult=Y6}async _openPopup(e,n,r,i){var s;jr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const a=await gE(e,n,r,Vg(),i);return ID(e,a,D_())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await gE(e,n,r,Vg(),i);return L6(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(jr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await _D(e),r=new nD(e);return n.register("authEvent",i=>(oe(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(lm,{type:lm},i=>{var s;const a=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[lm];a!==void 0&&n(!!a),qn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=aD(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return hP()||L_()||qd()}}const kD=AD;var vE="@firebase/auth",_E="1.6.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LD(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function MD(t){bo(new gs("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:c}=r.options;oe(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:a,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:dP(t)},d=new GN(r,i,s,u);return n6(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),bo(new gs("auth-internal",e=>{const n=Fi(e.getProvider("auth").getImmediate());return(r=>new OD(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Pi(vE,_E,LD(t)),Pi(vE,_E,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ND=5*60,DD=HI("authIdTokenMaxAge")||ND;let yE=null;const VD=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>DD)return;const i=n==null?void 0:n.token;yE!==i&&(yE=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function FD(t=ZI()){const e=b_(t,"auth");if(e.isInitialized())return e.getImmediate();const n=t6(t,{popupRedirectResolver:kD,persistence:[U6,A6,IP]}),r=HI("authTokenSyncURL");if(r&&r.match(/^\/[^\/].*/)){const s=VD(r);I6(n,s,()=>s(n.currentUser)),T6(n,a=>s(a))}const i=UI("auth");return i&&r6(n,`http://${i}`),n}function zD(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}KN({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=hr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",zD().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});MD("Browser");var jD="firebase",$D="10.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Pi(jD,$D,"app");var UD=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},H,F_=F_||{},ce=UD||self;function Qd(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function du(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function BD(t){return Object.prototype.hasOwnProperty.call(t,um)&&t[um]||(t[um]=++HD)}var um="closure_uid_"+(1e9*Math.random()>>>0),HD=0;function WD(t,e,n){return t.call.apply(t.bind,arguments)}function qD(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Ht(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Ht=WD:Ht=qD,Ht.apply(null,arguments)}function yc(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Tt(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var a=Array(arguments.length-2),c=2;c<arguments.length;c++)a[c-2]=arguments[c];return e.prototype[i].apply(r,a)}}function zi(){this.s=this.s,this.o=this.o}var GD=0;zi.prototype.s=!1;zi.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),GD!=0)&&BD(this)};zi.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const kP=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function z_(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function wE(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Qd(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let a=0;a<s;a++)t[i+a]=r[a]}else t.push(r)}}function Wt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Wt.prototype.h=function(){this.defaultPrevented=!0};var KD=function(){if(!ce.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const n=()=>{};ce.addEventListener("test",n,e),ce.removeEventListener("test",n,e)}catch{}return t}();function Nl(t){return/^[\s\xa0]*$/.test(t)}function Yd(){var t=ce.navigator;return t&&(t=t.userAgent)?t:""}function sr(t){return Yd().indexOf(t)!=-1}function j_(t){return j_[" "](t),t}j_[" "]=function(){};function ZD(t,e){var n=$5;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var QD=sr("Opera"),Ro=sr("Trident")||sr("MSIE"),OP=sr("Edge"),zg=OP||Ro,LP=sr("Gecko")&&!(Yd().toLowerCase().indexOf("webkit")!=-1&&!sr("Edge"))&&!(sr("Trident")||sr("MSIE"))&&!sr("Edge"),YD=Yd().toLowerCase().indexOf("webkit")!=-1&&!sr("Edge");function MP(){var t=ce.document;return t?t.documentMode:void 0}var jg;e:{var cm="",hm=function(){var t=Yd();if(LP)return/rv:([^\);]+)(\)|;)/.exec(t);if(OP)return/Edge\/([\d\.]+)/.exec(t);if(Ro)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(YD)return/WebKit\/(\S+)/.exec(t);if(QD)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(hm&&(cm=hm?hm[1]:""),Ro){var dm=MP();if(dm!=null&&dm>parseFloat(cm)){jg=String(dm);break e}}jg=cm}var $g;if(ce.document&&Ro){var EE=MP();$g=EE||parseInt(jg,10)||void 0}else $g=void 0;var XD=$g;function Dl(t,e){if(Wt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(LP){e:{try{j_(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:JD[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Dl.$.h.call(this)}}Tt(Dl,Wt);var JD={2:"touch",3:"pen",4:"mouse"};Dl.prototype.h=function(){Dl.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var fu="closure_listenable_"+(1e6*Math.random()|0),e5=0;function t5(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++e5,this.fa=this.ia=!1}function Xd(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function $_(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function n5(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function NP(t){const e={};for(const n in t)e[n]=t[n];return e}const SE="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function DP(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<SE.length;s++)n=SE[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Jd(t){this.src=t,this.g={},this.h=0}Jd.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var a=Bg(t,e,r,i);return-1<a?(e=t[a],n||(e.ia=!1)):(e=new t5(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function Ug(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=kP(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Xd(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Bg(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var U_="closure_lm_"+(1e6*Math.random()|0),fm={};function VP(t,e,n,r,i){if(r&&r.once)return zP(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)VP(t,e[s],n,r,i);return null}return n=W_(n),t&&t[fu]?t.O(e,n,du(r)?!!r.capture:!!r,i):FP(t,e,n,!1,r,i)}function FP(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var a=du(i)?!!i.capture:!!i,c=H_(t);if(c||(t[U_]=c=new Jd(t)),n=c.add(e,n,r,a,s),n.proxy)return n;if(r=r5(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)KD||(i=a),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent($P(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function r5(){function t(n){return e.call(t.src,t.listener,n)}const e=i5;return t}function zP(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)zP(t,e[s],n,r,i);return null}return n=W_(n),t&&t[fu]?t.P(e,n,du(r)?!!r.capture:!!r,i):FP(t,e,n,!0,r,i)}function jP(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)jP(t,e[s],n,r,i);else r=du(r)?!!r.capture:!!r,n=W_(n),t&&t[fu]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=Bg(s,n,r,i),-1<n&&(Xd(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=H_(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Bg(e,n,r,i)),(n=-1<t?e[t]:null)&&B_(n))}function B_(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[fu])Ug(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent($P(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=H_(e))?(Ug(n,t),n.h==0&&(n.src=null,e[U_]=null)):Xd(t)}}}function $P(t){return t in fm?fm[t]:fm[t]="on"+t}function i5(t,e){if(t.fa)t=!0;else{e=new Dl(e,this);var n=t.listener,r=t.la||t.src;t.ia&&B_(t),t=n.call(r,e)}return t}function H_(t){return t=t[U_],t instanceof Jd?t:null}var pm="__closure_events_fn_"+(1e9*Math.random()>>>0);function W_(t){return typeof t=="function"?t:(t[pm]||(t[pm]=function(e){return t.handleEvent(e)}),t[pm])}function St(){zi.call(this),this.i=new Jd(this),this.S=this,this.J=null}Tt(St,zi);St.prototype[fu]=!0;St.prototype.removeEventListener=function(t,e,n,r){jP(this,t,e,n,r)};function Lt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new Wt(e,t);else if(e instanceof Wt)e.target=e.target||t;else{var i=e;e=new Wt(r,t),DP(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var a=e.g=n[s];i=wc(a,r,!0,e)&&i}if(a=e.g=t,i=wc(a,r,!0,e)&&i,i=wc(a,r,!1,e)&&i,n)for(s=0;s<n.length;s++)a=e.g=n[s],i=wc(a,r,!1,e)&&i}St.prototype.N=function(){if(St.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Xd(n[r]);delete t.g[e],t.h--}}this.J=null};St.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};St.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function wc(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var a=e[s];if(a&&!a.fa&&a.capture==n){var c=a.listener,u=a.la||a.src;a.ia&&Ug(t.i,a),i=c.call(u,r)!==!1&&i}}return i&&!r.defaultPrevented}var q_=ce.JSON.stringify;class s5{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function o5(){var t=G_;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class a5{constructor(){this.h=this.g=null}add(e,n){const r=UP.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var UP=new s5(()=>new l5,t=>t.reset());class l5{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function u5(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function c5(t){ce.setTimeout(()=>{throw t},0)}let Vl,Fl=!1,G_=new a5,BP=()=>{const t=ce.Promise.resolve(void 0);Vl=()=>{t.then(h5)}};var h5=()=>{for(var t;t=o5();){try{t.h.call(t.g)}catch(n){c5(n)}var e=UP;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Fl=!1};function ef(t,e){St.call(this),this.h=t||1,this.g=e||ce,this.j=Ht(this.qb,this),this.l=Date.now()}Tt(ef,St);H=ef.prototype;H.ga=!1;H.T=null;H.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Lt(this,"tick"),this.ga&&(K_(this),this.start()))}};H.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function K_(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}H.N=function(){ef.$.N.call(this),K_(this),delete this.g};function Z_(t,e,n){if(typeof t=="function")n&&(t=Ht(t,n));else if(t&&typeof t.handleEvent=="function")t=Ht(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:ce.setTimeout(t,e||0)}function HP(t){t.g=Z_(()=>{t.g=null,t.i&&(t.i=!1,HP(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class d5 extends zi{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:HP(this)}N(){super.N(),this.g&&(ce.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function zl(t){zi.call(this),this.h=t,this.g={}}Tt(zl,zi);var TE=[];function WP(t,e,n,r){Array.isArray(n)||(n&&(TE[0]=n.toString()),n=TE);for(var i=0;i<n.length;i++){var s=VP(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function qP(t){$_(t.g,function(e,n){this.g.hasOwnProperty(n)&&B_(e)},t),t.g={}}zl.prototype.N=function(){zl.$.N.call(this),qP(this)};zl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function tf(){this.g=!0}tf.prototype.Ea=function(){this.g=!1};function f5(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var a="",c=s.split("&"),u=0;u<c.length;u++){var d=c[u].split("=");if(1<d.length){var p=d[0];d=d[1];var m=p.split("_");a=2<=m.length&&m[1]=="type"?a+(p+"="+d+"&"):a+(p+"=redacted&")}}else a=null;else a=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+a})}function p5(t,e,n,r,i,s,a){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+a})}function so(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+g5(t,n)+(r?" "+r:"")})}function m5(t,e){t.info(function(){return"TIMEOUT: "+e})}tf.prototype.info=function(){};function g5(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var a=1;a<i.length;a++)i[a]=""}}}}return q_(n)}catch{return e}}var xs={},IE=null;function nf(){return IE=IE||new St}xs.Ta="serverreachability";function GP(t){Wt.call(this,xs.Ta,t)}Tt(GP,Wt);function jl(t){const e=nf();Lt(e,new GP(e))}xs.STAT_EVENT="statevent";function KP(t,e){Wt.call(this,xs.STAT_EVENT,t),this.stat=e}Tt(KP,Wt);function Qt(t){const e=nf();Lt(e,new KP(e,t))}xs.Ua="timingevent";function ZP(t,e){Wt.call(this,xs.Ua,t),this.size=e}Tt(ZP,Wt);function pu(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return ce.setTimeout(function(){t()},e)}var rf={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},QP={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Q_(){}Q_.prototype.h=null;function PE(t){return t.h||(t.h=t.i())}function YP(){}var mu={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Y_(){Wt.call(this,"d")}Tt(Y_,Wt);function X_(){Wt.call(this,"c")}Tt(X_,Wt);var Hg;function sf(){}Tt(sf,Q_);sf.prototype.g=function(){return new XMLHttpRequest};sf.prototype.i=function(){return{}};Hg=new sf;function gu(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new zl(this),this.P=v5,t=zg?125:void 0,this.V=new ef(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new XP}function XP(){this.i=null,this.g="",this.h=!1}var v5=45e3,JP={},Wg={};H=gu.prototype;H.setTimeout=function(t){this.P=t};function qg(t,e,n){t.L=1,t.A=af($r(e)),t.u=n,t.S=!0,eC(t,null)}function eC(t,e){t.G=Date.now(),vu(t),t.B=$r(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),lC(n.i,"t",r),t.o=0,n=t.l.J,t.h=new XP,t.g=RC(t.l,n?e:null,!t.u),0<t.O&&(t.M=new d5(Ht(t.Pa,t,t.g),t.O)),WP(t.U,t.g,"readystatechange",t.nb),e=t.I?NP(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),jl(),f5(t.j,t.v,t.B,t.m,t.W,t.u)}H.nb=function(t){t=t.target;const e=this.M;e&&or(t)==3?e.l():this.Pa(t)};H.Pa=function(t){try{if(t==this.g)e:{const p=or(this.g);var e=this.g.Ia();const m=this.g.da();if(!(3>p)&&(p!=3||zg||this.g&&(this.h.h||this.g.ja()||RE(this.g)))){this.J||p!=4||e==7||(e==8||0>=m?jl(3):jl(2)),of(this);var n=this.g.da();this.ca=n;t:if(tC(this)){var r=RE(this.g);t="";var i=r.length,s=or(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ns(this),Ja(this);var a="";break t}this.h.i=new ce.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.length=0,this.h.g+=t,this.o=0,a=this.h.g}else a=this.g.ja();if(this.i=n==200,p5(this.j,this.v,this.B,this.m,this.W,p,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var c,u=this.g;if((c=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Nl(c)){var d=c;break t}}d=null}if(n=d)so(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Gg(this,n);else{this.i=!1,this.s=3,Qt(12),ns(this),Ja(this);break e}}this.S?(nC(this,p,a),zg&&this.i&&p==3&&(WP(this.U,this.V,"tick",this.mb),this.V.start())):(so(this.j,this.m,a,null),Gg(this,a)),p==4&&ns(this),this.i&&!this.J&&(p==4?PC(this.l,this):(this.i=!1,vu(this)))}else F5(this.g),n==400&&0<a.indexOf("Unknown SID")?(this.s=3,Qt(12)):(this.s=0,Qt(13)),ns(this),Ja(this)}}}catch{}finally{}};function tC(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function nC(t,e,n){let r=!0,i;for(;!t.J&&t.o<n.length;)if(i=_5(t,n),i==Wg){e==4&&(t.s=4,Qt(14),r=!1),so(t.j,t.m,null,"[Incomplete Response]");break}else if(i==JP){t.s=4,Qt(15),so(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else so(t.j,t.m,i,null),Gg(t,i);tC(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,Qt(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),iy(e),e.M=!0,Qt(11))):(so(t.j,t.m,n,"[Invalid Chunked Response]"),ns(t),Ja(t))}H.mb=function(){if(this.g){var t=or(this.g),e=this.g.ja();this.o<e.length&&(of(this),nC(this,t,e),this.i&&t!=4&&vu(this))}};function _5(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?Wg:(n=Number(e.substring(n,r)),isNaN(n)?JP:(r+=1,r+n>e.length?Wg:(e=e.slice(r,r+n),t.o=r+n,e)))}H.cancel=function(){this.J=!0,ns(this)};function vu(t){t.Y=Date.now()+t.P,rC(t,t.P)}function rC(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=pu(Ht(t.lb,t),e)}function of(t){t.C&&(ce.clearTimeout(t.C),t.C=null)}H.lb=function(){this.C=null;const t=Date.now();0<=t-this.Y?(m5(this.j,this.B),this.L!=2&&(jl(),Qt(17)),ns(this),this.s=2,Ja(this)):rC(this,this.Y-t)};function Ja(t){t.l.H==0||t.J||PC(t.l,t)}function ns(t){of(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,K_(t.V),qP(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Gg(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Kg(n.i,t))){if(!t.K&&Kg(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)td(n),hf(n);else break e;ry(n),Qt(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=pu(Ht(n.ib,n),6e3));if(1>=hC(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else rs(n,11)}else if((t.K||n.g==t)&&td(n),!Nl(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let d=i[e];if(n.V=d[0],d=d[1],n.H==2)if(d[0]=="c"){n.K=d[1],n.pa=d[2];const p=d[3];p!=null&&(n.ra=p,n.l.info("VER="+n.ra));const m=d[4];m!=null&&(n.Ga=m,n.l.info("SVER="+n.Ga));const v=d[5];v!=null&&typeof v=="number"&&0<v&&(r=1.5*v,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const E=t.g;if(E){const C=E.g?E.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(C){var s=r.i;s.g||C.indexOf("spdy")==-1&&C.indexOf("quic")==-1&&C.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(J_(s,s.h),s.h=null))}if(r.F){const T=E.g?E.g.getResponseHeader("X-HTTP-Session-Id"):null;T&&(r.Da=T,je(r.I,r.F,T))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var a=t;if(r.wa=bC(r,r.J?r.pa:null,r.Y),a.K){dC(r.i,a);var c=a,u=r.L;u&&c.setTimeout(u),c.C&&(of(c),vu(c)),r.g=a}else TC(r);0<n.j.length&&df(n)}else d[0]!="stop"&&d[0]!="close"||rs(n,7);else n.H==3&&(d[0]=="stop"||d[0]=="close"?d[0]=="stop"?rs(n,7):ny(n):d[0]!="noop"&&n.h&&n.h.Aa(d),n.A=0)}}jl(4)}catch{}}function y5(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Qd(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function w5(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Qd(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function iC(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Qd(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=w5(t),r=y5(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var sC=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function E5(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function us(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof us){this.h=t.h,Jh(this,t.j),this.s=t.s,this.g=t.g,ed(this,t.m),this.l=t.l;var e=t.i,n=new $l;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),CE(this,n),this.o=t.o}else t&&(e=String(t).match(sC))?(this.h=!1,Jh(this,e[1]||"",!0),this.s=Va(e[2]||""),this.g=Va(e[3]||"",!0),ed(this,e[4]),this.l=Va(e[5]||"",!0),CE(this,e[6]||"",!0),this.o=Va(e[7]||"")):(this.h=!1,this.i=new $l(null,this.h))}us.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Fa(e,xE,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Fa(e,xE,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Fa(n,n.charAt(0)=="/"?I5:T5,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Fa(n,C5)),t.join("")};function $r(t){return new us(t)}function Jh(t,e,n){t.j=n?Va(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function ed(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function CE(t,e,n){e instanceof $l?(t.i=e,x5(t.i,t.h)):(n||(e=Fa(e,P5)),t.i=new $l(e,t.h))}function je(t,e,n){t.i.set(e,n)}function af(t){return je(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Va(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Fa(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,S5),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function S5(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var xE=/[#\/\?@]/g,T5=/[#\?:]/g,I5=/[#\?]/g,P5=/[#\?@]/g,C5=/#/g;function $l(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function ji(t){t.g||(t.g=new Map,t.h=0,t.i&&E5(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}H=$l.prototype;H.add=function(t,e){ji(this),this.i=null,t=Ko(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function oC(t,e){ji(t),e=Ko(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function aC(t,e){return ji(t),e=Ko(t,e),t.g.has(e)}H.forEach=function(t,e){ji(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};H.ta=function(){ji(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};H.Z=function(t){ji(this);let e=[];if(typeof t=="string")aC(this,t)&&(e=e.concat(this.g.get(Ko(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};H.set=function(t,e){return ji(this),this.i=null,t=Ko(this,t),aC(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};H.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function lC(t,e,n){oC(t,e),0<n.length&&(t.i=null,t.g.set(Ko(t,e),z_(n)),t.h+=n.length)}H.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),a=this.Z(r);for(r=0;r<a.length;r++){var i=s;a[r]!==""&&(i+="="+encodeURIComponent(String(a[r]))),t.push(i)}}return this.i=t.join("&")};function Ko(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function x5(t,e){e&&!t.j&&(ji(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(oC(this,r),lC(this,i,n))},t)),t.j=e}var b5=class{constructor(t,e){this.g=t,this.map=e}};function uC(t){this.l=t||R5,ce.PerformanceNavigationTiming?(t=ce.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(ce.g&&ce.g.Ka&&ce.g.Ka()&&ce.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var R5=10;function cC(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function hC(t){return t.h?1:t.g?t.g.size:0}function Kg(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function J_(t,e){t.g?t.g.add(e):t.h=e}function dC(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}uC.prototype.cancel=function(){if(this.i=fC(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function fC(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return z_(t.i)}var A5=class{stringify(t){return ce.JSON.stringify(t,void 0)}parse(t){return ce.JSON.parse(t,void 0)}};function k5(){this.g=new A5}function O5(t,e,n){const r=n||"";try{iC(t,function(i,s){let a=i;du(i)&&(a=q_(i)),e.push(r+s+"="+encodeURIComponent(a))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function L5(t,e){const n=new tf;if(ce.Image){const r=new Image;r.onload=yc(Ec,n,r,"TestLoadImage: loaded",!0,e),r.onerror=yc(Ec,n,r,"TestLoadImage: error",!1,e),r.onabort=yc(Ec,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=yc(Ec,n,r,"TestLoadImage: timeout",!1,e),ce.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Ec(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function lf(t){this.l=t.ec||null,this.j=t.ob||!1}Tt(lf,Q_);lf.prototype.g=function(){return new uf(this.l,this.j)};lf.prototype.i=function(t){return function(){return t}}({});function uf(t,e){St.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=ey,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Tt(uf,St);var ey=0;H=uf.prototype;H.open=function(t,e){if(this.readyState!=ey)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Ul(this)};H.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||ce).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};H.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,_u(this)),this.readyState=ey};H.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Ul(this)),this.g&&(this.readyState=3,Ul(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ce.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;pC(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function pC(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}H.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?_u(this):Ul(this),this.readyState==3&&pC(this)}};H.Za=function(t){this.g&&(this.response=this.responseText=t,_u(this))};H.Ya=function(t){this.g&&(this.response=t,_u(this))};H.ka=function(){this.g&&_u(this)};function _u(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Ul(t)}H.setRequestHeader=function(t,e){this.v.append(t,e)};H.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};H.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Ul(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(uf.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var M5=ce.JSON.parse;function et(t){St.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=mC,this.L=this.M=!1}Tt(et,St);var mC="",N5=/^https?$/i,D5=["POST","PUT"];H=et.prototype;H.Oa=function(t){this.M=t};H.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Hg.g(),this.C=this.u?PE(this.u):PE(Hg),this.g.onreadystatechange=Ht(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){bE(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=ce.FormData&&t instanceof ce.FormData,!(0<=kP(D5,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,a]of n)this.g.setRequestHeader(s,a);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{_C(this),0<this.B&&((this.L=V5(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ht(this.ua,this)):this.A=Z_(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){bE(this,s)}};function V5(t){return Ro&&typeof t.timeout=="number"&&t.ontimeout!==void 0}H.ua=function(){typeof F_<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Lt(this,"timeout"),this.abort(8))};function bE(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,gC(t),cf(t)}function gC(t){t.F||(t.F=!0,Lt(t,"complete"),Lt(t,"error"))}H.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Lt(this,"complete"),Lt(this,"abort"),cf(this))};H.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),cf(this,!0)),et.$.N.call(this)};H.La=function(){this.s||(this.G||this.v||this.l?vC(this):this.kb())};H.kb=function(){vC(this)};function vC(t){if(t.h&&typeof F_<"u"&&(!t.C[1]||or(t)!=4||t.da()!=2)){if(t.v&&or(t)==4)Z_(t.La,0,t);else if(Lt(t,"readystatechange"),or(t)==4){t.h=!1;try{const a=t.da();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=a===0){var i=String(t.I).match(sC)[1]||null;!i&&ce.self&&ce.self.location&&(i=ce.self.location.protocol.slice(0,-1)),r=!N5.test(i?i.toLowerCase():"")}n=r}if(n)Lt(t,"complete"),Lt(t,"success");else{t.m=6;try{var s=2<or(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",gC(t)}}finally{cf(t)}}}}function cf(t,e){if(t.g){_C(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Lt(t,"ready");try{n.onreadystatechange=r}catch{}}}function _C(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(ce.clearTimeout(t.A),t.A=null)}H.isActive=function(){return!!this.g};function or(t){return t.g?t.g.readyState:0}H.da=function(){try{return 2<or(this)?this.g.status:-1}catch{return-1}};H.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};H.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),M5(e)}};function RE(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case mC:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function F5(t){const e={};t=(t.g&&2<=or(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(Nl(t[r]))continue;var n=u5(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}n5(e,function(r){return r.join(", ")})}H.Ia=function(){return this.m};H.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function yC(t){let e="";return $_(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function ty(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=yC(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):je(t,e,n))}function Ia(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function wC(t){this.Ga=0,this.j=[],this.l=new tf,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Ia("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Ia("baseRetryDelayMs",5e3,t),this.hb=Ia("retryDelaySeedMs",1e4,t),this.eb=Ia("forwardChannelMaxRetries",2,t),this.xa=Ia("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new uC(t&&t.concurrentRequestLimit),this.Ja=new k5,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}H=wC.prototype;H.ra=8;H.H=1;function ny(t){if(EC(t),t.H==3){var e=t.W++,n=$r(t.I);if(je(n,"SID",t.K),je(n,"RID",e),je(n,"TYPE","terminate"),yu(t,n),e=new gu(t,t.l,e),e.L=2,e.A=af($r(n)),n=!1,ce.navigator&&ce.navigator.sendBeacon)try{n=ce.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&ce.Image&&(new Image().src=e.A,n=!0),n||(e.g=RC(e.l,null),e.g.ha(e.A)),e.G=Date.now(),vu(e)}xC(t)}function hf(t){t.g&&(iy(t),t.g.cancel(),t.g=null)}function EC(t){hf(t),t.u&&(ce.clearTimeout(t.u),t.u=null),td(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&ce.clearTimeout(t.m),t.m=null)}function df(t){if(!cC(t.i)&&!t.m){t.m=!0;var e=t.Na;Vl||BP(),Fl||(Vl(),Fl=!0),G_.add(e,t),t.C=0}}function z5(t,e){return hC(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=pu(Ht(t.Na,t,e),CC(t,t.C)),t.C++,!0)}H.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new gu(this,this.l,t);let s=this.s;if(this.U&&(s?(s=NP(s),DP(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=SC(this,i,e),n=$r(this.I),je(n,"RID",t),je(n,"CVER",22),this.F&&je(n,"X-HTTP-Session-Id",this.F),yu(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(yC(s)))+"&"+e:this.o&&ty(n,this.o,s)),J_(this.i,i),this.bb&&je(n,"TYPE","init"),this.P?(je(n,"$req",e),je(n,"SID","null"),i.aa=!0,qg(i,n,null)):qg(i,n,e),this.H=2}}else this.H==3&&(t?AE(this,t):this.j.length==0||cC(this.i)||AE(this))};function AE(t,e){var n;e?n=e.m:n=t.W++;const r=$r(t.I);je(r,"SID",t.K),je(r,"RID",n),je(r,"AID",t.V),yu(t,r),t.o&&t.s&&ty(r,t.o,t.s),n=new gu(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=SC(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),J_(t.i,n),qg(n,r,e)}function yu(t,e){t.na&&$_(t.na,function(n,r){je(e,r,n)}),t.h&&iC({},function(n,r){je(e,r,n)})}function SC(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Ht(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const a=["count="+n];s==-1?0<n?(s=i[0].g,a.push("ofs="+s)):s=0:a.push("ofs="+s);let c=!0;for(let u=0;u<n;u++){let d=i[u].g;const p=i[u].map;if(d-=s,0>d)s=Math.max(0,i[u].g-100),c=!1;else try{O5(p,a,"req"+d+"_")}catch{r&&r(p)}}if(c){r=a.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function TC(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Vl||BP(),Fl||(Vl(),Fl=!0),G_.add(e,t),t.A=0}}function ry(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=pu(Ht(t.Ma,t),CC(t,t.A)),t.A++,!0)}H.Ma=function(){if(this.u=null,IC(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=pu(Ht(this.jb,this),t)}};H.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Qt(10),hf(this),IC(this))};function iy(t){t.B!=null&&(ce.clearTimeout(t.B),t.B=null)}function IC(t){t.g=new gu(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=$r(t.wa);je(e,"RID","rpc"),je(e,"SID",t.K),je(e,"AID",t.V),je(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&je(e,"TO",t.qa),je(e,"TYPE","xmlhttp"),yu(t,e),t.o&&t.s&&ty(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=af($r(e)),n.u=null,n.S=!0,eC(n,t)}H.ib=function(){this.v!=null&&(this.v=null,hf(this),ry(this),Qt(19))};function td(t){t.v!=null&&(ce.clearTimeout(t.v),t.v=null)}function PC(t,e){var n=null;if(t.g==e){td(t),iy(t),t.g=null;var r=2}else if(Kg(t.i,e))n=e.F,dC(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;r=nf(),Lt(r,new ZP(r,n)),df(t)}else TC(t);else if(i=e.s,i==3||i==0&&0<e.ca||!(r==1&&z5(t,e)||r==2&&ry(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:rs(t,5);break;case 4:rs(t,10);break;case 3:rs(t,6);break;default:rs(t,2)}}}function CC(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function rs(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=Ht(t.pb,t);n||(n=new us("//www.google.com/images/cleardot.gif"),ce.location&&ce.location.protocol=="http"||Jh(n,"https"),af(n)),L5(n.toString(),r)}else Qt(2);t.H=0,t.h&&t.h.za(e),xC(t),EC(t)}H.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Qt(2)):(this.l.info("Failed to ping google.com"),Qt(1))};function xC(t){if(t.H=0,t.ma=[],t.h){const e=fC(t.i);(e.length!=0||t.j.length!=0)&&(wE(t.ma,e),wE(t.ma,t.j),t.i.i.length=0,z_(t.j),t.j.length=0),t.h.ya()}}function bC(t,e,n){var r=n instanceof us?$r(n):new us(n);if(r.g!="")e&&(r.g=e+"."+r.g),ed(r,r.m);else{var i=ce.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new us(null);r&&Jh(s,r),e&&(s.g=e),i&&ed(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&je(r,n,e),je(r,"VER",t.ra),yu(t,r),r}function RC(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new et(new lf({ob:n})):new et(t.va),e.Oa(t.J),e}H.isActive=function(){return!!this.h&&this.h.isActive(this)};function AC(){}H=AC.prototype;H.Ba=function(){};H.Aa=function(){};H.za=function(){};H.ya=function(){};H.isActive=function(){return!0};H.Va=function(){};function nd(){if(Ro&&!(10<=Number(XD)))throw Error("Environmental error: no available transport.")}nd.prototype.g=function(t,e){return new wn(t,e)};function wn(t,e){St.call(this),this.g=new wC(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Nl(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Nl(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Zo(this)}Tt(wn,St);wn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Qt(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=bC(t,null,t.Y),df(t)};wn.prototype.close=function(){ny(this.g)};wn.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=q_(t),t=n);e.j.push(new b5(e.fb++,t)),e.H==3&&df(e)};wn.prototype.N=function(){this.g.h=null,delete this.j,ny(this.g),delete this.g,wn.$.N.call(this)};function kC(t){Y_.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Tt(kC,Y_);function OC(){X_.call(this),this.status=1}Tt(OC,X_);function Zo(t){this.g=t}Tt(Zo,AC);Zo.prototype.Ba=function(){Lt(this.g,"a")};Zo.prototype.Aa=function(t){Lt(this.g,new kC(t))};Zo.prototype.za=function(t){Lt(this.g,new OC)};Zo.prototype.ya=function(){Lt(this.g,"b")};function j5(){this.blockSize=-1}function Gn(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Tt(Gn,j5);Gn.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function mm(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],a=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(a<<7&4294967295|a>>>25),a=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(a<<12&4294967295|a>>>20),a=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(a<<17&4294967295|a>>>15),a=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(a<<22&4294967295|a>>>10),a=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(a<<7&4294967295|a>>>25),a=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(a<<12&4294967295|a>>>20),a=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(a<<17&4294967295|a>>>15),a=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(a<<22&4294967295|a>>>10),a=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(a<<7&4294967295|a>>>25),a=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(a<<12&4294967295|a>>>20),a=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(a<<17&4294967295|a>>>15),a=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(a<<22&4294967295|a>>>10),a=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(a<<7&4294967295|a>>>25),a=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(a<<12&4294967295|a>>>20),a=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(a<<17&4294967295|a>>>15),a=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(a<<22&4294967295|a>>>10),a=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(a<<5&4294967295|a>>>27),a=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(a<<9&4294967295|a>>>23),a=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(a<<14&4294967295|a>>>18),a=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(a<<20&4294967295|a>>>12),a=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(a<<5&4294967295|a>>>27),a=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(a<<9&4294967295|a>>>23),a=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(a<<14&4294967295|a>>>18),a=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(a<<20&4294967295|a>>>12),a=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(a<<5&4294967295|a>>>27),a=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(a<<9&4294967295|a>>>23),a=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(a<<14&4294967295|a>>>18),a=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(a<<20&4294967295|a>>>12),a=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(a<<5&4294967295|a>>>27),a=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(a<<9&4294967295|a>>>23),a=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(a<<14&4294967295|a>>>18),a=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(a<<20&4294967295|a>>>12),a=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(a<<4&4294967295|a>>>28),a=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(a<<11&4294967295|a>>>21),a=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(a<<16&4294967295|a>>>16),a=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(a<<23&4294967295|a>>>9),a=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(a<<4&4294967295|a>>>28),a=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(a<<11&4294967295|a>>>21),a=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(a<<16&4294967295|a>>>16),a=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(a<<23&4294967295|a>>>9),a=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(a<<4&4294967295|a>>>28),a=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(a<<11&4294967295|a>>>21),a=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(a<<16&4294967295|a>>>16),a=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(a<<23&4294967295|a>>>9),a=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(a<<4&4294967295|a>>>28),a=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(a<<11&4294967295|a>>>21),a=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(a<<16&4294967295|a>>>16),a=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(a<<23&4294967295|a>>>9),a=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(a<<6&4294967295|a>>>26),a=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(a<<10&4294967295|a>>>22),a=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(a<<15&4294967295|a>>>17),a=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(a<<21&4294967295|a>>>11),a=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(a<<6&4294967295|a>>>26),a=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(a<<10&4294967295|a>>>22),a=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(a<<15&4294967295|a>>>17),a=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(a<<21&4294967295|a>>>11),a=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(a<<6&4294967295|a>>>26),a=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(a<<10&4294967295|a>>>22),a=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(a<<15&4294967295|a>>>17),a=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(a<<21&4294967295|a>>>11),a=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(a<<6&4294967295|a>>>26),a=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(a<<10&4294967295|a>>>22),a=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(a<<15&4294967295|a>>>17),a=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(a<<21&4294967295|a>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}Gn.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)mm(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){mm(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){mm(this,r),i=0;break}}this.h=i,this.i+=e};Gn.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function Oe(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var $5={};function sy(t){return-128<=t&&128>t?ZD(t,function(e){return new Oe([e|0],0>e?-1:0)}):new Oe([t|0],0>t?-1:0)}function ar(t){if(isNaN(t)||!isFinite(t))return mo;if(0>t)return At(ar(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=Zg;return new Oe(e,0)}function LC(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return At(LC(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=ar(Math.pow(e,8)),r=mo,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),a=parseInt(t.substring(i,i+s),e);8>s?(s=ar(Math.pow(e,s)),r=r.R(s).add(ar(a))):(r=r.R(n),r=r.add(ar(a)))}return r}var Zg=4294967296,mo=sy(0),Qg=sy(1),kE=sy(16777216);H=Oe.prototype;H.ea=function(){if(Rn(this))return-At(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:Zg+r)*e,e*=Zg}return t};H.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Ar(this))return"0";if(Rn(this))return"-"+At(this).toString(t);for(var e=ar(Math.pow(t,6)),n=this,r="";;){var i=id(n,e).g;n=rd(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,Ar(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};H.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Ar(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Rn(t){return t.h==-1}H.X=function(t){return t=rd(this,t),Rn(t)?-1:Ar(t)?0:1};function At(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Oe(n,~t.h).add(Qg)}H.abs=function(){return Rn(this)?At(this):this};H.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),a=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=a>>>16,s&=65535,a&=65535,n[i]=a<<16|s}return new Oe(n,n[n.length-1]&-2147483648?-1:0)};function rd(t,e){return t.add(At(e))}H.R=function(t){if(Ar(this)||Ar(t))return mo;if(Rn(this))return Rn(t)?At(this).R(At(t)):At(At(this).R(t));if(Rn(t))return At(this.R(At(t)));if(0>this.X(kE)&&0>t.X(kE))return ar(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,a=this.D(r)&65535,c=t.D(i)>>>16,u=t.D(i)&65535;n[2*r+2*i]+=a*u,Sc(n,2*r+2*i),n[2*r+2*i+1]+=s*u,Sc(n,2*r+2*i+1),n[2*r+2*i+1]+=a*c,Sc(n,2*r+2*i+1),n[2*r+2*i+2]+=s*c,Sc(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Oe(n,0)};function Sc(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Pa(t,e){this.g=t,this.h=e}function id(t,e){if(Ar(e))throw Error("division by zero");if(Ar(t))return new Pa(mo,mo);if(Rn(t))return e=id(At(t),e),new Pa(At(e.g),At(e.h));if(Rn(e))return e=id(t,At(e)),new Pa(At(e.g),e.h);if(30<t.g.length){if(Rn(t)||Rn(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Qg,r=e;0>=r.X(t);)n=OE(n),r=OE(r);var i=$s(n,1),s=$s(r,1);for(r=$s(r,2),n=$s(n,2);!Ar(r);){var a=s.add(r);0>=a.X(t)&&(i=i.add(n),s=a),r=$s(r,1),n=$s(n,1)}return e=rd(t,i.R(e)),new Pa(i,e)}for(i=mo;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=ar(n),a=s.R(e);Rn(a)||0<a.X(t);)n-=r,s=ar(n),a=s.R(e);Ar(s)&&(s=Qg),i=i.add(s),t=rd(t,a)}return new Pa(i,t)}H.gb=function(t){return id(this,t).h};H.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Oe(n,this.h&t.h)};H.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Oe(n,this.h|t.h)};H.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Oe(n,this.h^t.h)};function OE(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Oe(n,t.h)}function $s(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new Oe(i,t.h)}nd.prototype.createWebChannel=nd.prototype.g;wn.prototype.send=wn.prototype.u;wn.prototype.open=wn.prototype.m;wn.prototype.close=wn.prototype.close;rf.NO_ERROR=0;rf.TIMEOUT=8;rf.HTTP_ERROR=6;QP.COMPLETE="complete";YP.EventType=mu;mu.OPEN="a";mu.CLOSE="b";mu.ERROR="c";mu.MESSAGE="d";St.prototype.listen=St.prototype.O;et.prototype.listenOnce=et.prototype.P;et.prototype.getLastError=et.prototype.Sa;et.prototype.getLastErrorCode=et.prototype.Ia;et.prototype.getStatus=et.prototype.da;et.prototype.getResponseJson=et.prototype.Wa;et.prototype.getResponseText=et.prototype.ja;et.prototype.send=et.prototype.ha;et.prototype.setWithCredentials=et.prototype.Oa;Gn.prototype.digest=Gn.prototype.l;Gn.prototype.reset=Gn.prototype.reset;Gn.prototype.update=Gn.prototype.j;Oe.prototype.add=Oe.prototype.add;Oe.prototype.multiply=Oe.prototype.R;Oe.prototype.modulo=Oe.prototype.gb;Oe.prototype.compare=Oe.prototype.X;Oe.prototype.toNumber=Oe.prototype.ea;Oe.prototype.toString=Oe.prototype.toString;Oe.prototype.getBits=Oe.prototype.D;Oe.fromNumber=ar;Oe.fromString=LC;var U5=function(){return new nd},B5=function(){return nf()},gm=rf,H5=QP,W5=xs,LE={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Tc=YP,q5=et,G5=Gn,go=Oe;const ME="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}jt.UNAUTHENTICATED=new jt(null),jt.GOOGLE_CREDENTIALS=new jt("google-credentials-uid"),jt.FIRST_PARTY=new jt("first-party-uid"),jt.MOCK_USER=new jt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qo="10.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ws=new C_("@firebase/firestore");function Ca(){return ws.logLevel}function B(t,...e){if(ws.logLevel<=Se.DEBUG){const n=e.map(oy);ws.debug(`Firestore (${Qo}): ${t}`,...n)}}function _r(t,...e){if(ws.logLevel<=Se.ERROR){const n=e.map(oy);ws.error(`Firestore (${Qo}): ${t}`,...n)}}function Ao(t,...e){if(ws.logLevel<=Se.WARN){const n=e.map(oy);ws.warn(`Firestore (${Qo}): ${t}`,...n)}}function oy(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ue(t="Unexpected state"){const e=`FIRESTORE (${Qo}) INTERNAL ASSERTION FAILED: `+t;throw _r(e),new Error(e)}function Ve(t,e){t||ue()}function de(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class q extends Gr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class K5{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(jt.UNAUTHENTICATED))}shutdown(){}}class Z5{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Q5{constructor(e){this.t=e,this.currentUser=jt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let s=new fr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new fr,e.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const u=s;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},c=u=>{B("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(u=>c(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?c(u):(B("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new fr)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(B("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ve(typeof r.accessToken=="string"),new MC(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ve(e===null||typeof e=="string"),new jt(e)}}class Y5{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=jt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class X5{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Y5(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(jt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class J5{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class eV{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&B("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.R;return this.R=s.token,B("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{B("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):B("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ve(typeof n.token=="string"),this.R=n.token,new J5(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tV(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=tV(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Ae(t,e){return t<e?-1:t>e?1:0}function ko(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new q(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new q(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new q(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new q(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return mt.fromMillis(Date.now())}static fromDate(e){return mt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new mt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ae(this.nanoseconds,e.nanoseconds):Ae(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(e){this.timestamp=e}static fromTimestamp(e){return new he(e)}static min(){return new he(new mt(0,0))}static max(){return new he(new mt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{constructor(e,n,r){n===void 0?n=0:n>e.length&&ue(),r===void 0?r=e.length-n:r>e.length-n&&ue(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Bl.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Bl?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),a=n.get(i);if(s<a)return-1;if(s>a)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class $e extends Bl{construct(e,n,r){return new $e(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new q(F.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new $e(n)}static emptyPath(){return new $e([])}}const nV=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class kt extends Bl{construct(e,n,r){return new kt(e,n,r)}static isValidIdentifier(e){return nV.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),kt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new kt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new q(F.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;i<e.length;){const c=e[i];if(c==="\\"){if(i+1===e.length)throw new q(F.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new q(F.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else c==="`"?(a=!a,i++):c!=="."||a?(r+=c,i++):(s(),i++)}if(s(),a)throw new q(F.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new kt(n)}static emptyPath(){return new kt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.path=e}static fromPath(e){return new J($e.fromString(e))}static fromName(e){return new J($e.fromString(e).popFirst(5))}static empty(){return new J($e.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&$e.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return $e.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new J(new $e(e.slice()))}}function rV(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=he.fromTimestamp(r===1e9?new mt(n+1,0):new mt(n,r));return new ki(i,J.empty(),e)}function iV(t){return new ki(t.readTime,t.key,-1)}class ki{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ki(he.min(),J.empty(),-1)}static max(){return new ki(he.max(),J.empty(),-1)}}function sV(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=J.comparator(t.documentKey,e.documentKey),n!==0?n:Ae(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class aV{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wu(t){if(t.code!==F.FAILED_PRECONDITION||t.message!==oV)throw t;B("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ue(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new z((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof z?n:z.resolve(n)}catch(n){return z.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):z.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):z.reject(n)}static resolve(e){return new z((n,r)=>{n(e)})}static reject(e){return new z((n,r)=>{r(e)})}static waitFor(e){return new z((n,r)=>{let i=0,s=0,a=!1;e.forEach(c=>{++i,c.next(()=>{++s,a&&s===i&&n()},u=>r(u))}),a=!0,s===i&&n()})}static or(e){let n=z.resolve(!1);for(const r of e)n=n.next(i=>i?z.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new z((r,i)=>{const s=e.length,a=new Array(s);let c=0;for(let u=0;u<s;u++){const d=u;n(e[d]).next(p=>{a[d]=p,++c,c===s&&r(a)},p=>i(p))}})}static doWhile(e,n){return new z((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ay{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new fr,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new el(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=ly(r.target.error);this.V.reject(new el(e,i))}}static open(e,n,r,i){try{return new ay(n,e.transaction(i,r))}catch(s){throw new el(n,s)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(B("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new uV(n)}}class is{constructor(e,n,r){this.name=e,this.version=n,this.p=r,is.S(dt())===12.2&&_r("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return B("SimpleDb","Removing database:",e),Xi(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!WI())return!1;if(is.C())return!0;const e=dt(),n=is.S(e),r=0<n&&n<10,i=is.v(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static C(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.F)==="YES"}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(e){const n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}async O(e){return this.db||(B("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const a=s.target.result;n(a)},i.onblocked=()=>{r(new el(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const a=s.target.error;a.name==="VersionError"?r(new q(F.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):a.name==="InvalidStateError"?r(new q(F.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a)):r(new el(e,a))},i.onupgradeneeded=s=>{B("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const a=s.target.result;this.p.N(a,i.transaction,s.oldVersion,this.version).next(()=>{B("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.L&&(this.db.onversionchange=n=>this.L(n)),this.db}B(e){this.L=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const s=n==="readonly";let a=0;for(;;){++a;try{this.db=await this.O(e);const c=ay.open(this.db,e,s?"readonly":"readwrite",r),u=i(c).next(d=>(c.g(),d)).catch(d=>(c.abort(d),z.reject(d))).toPromise();return u.catch(()=>{}),await c.m,u}catch(c){const u=c,d=u.name!=="FirebaseError"&&a<3;if(B("SimpleDb","Transaction failed with error:",u.message,"Retrying:",d),this.close(),!d)return Promise.reject(u)}}}close(){this.db&&this.db.close(),this.db=void 0}}class lV{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return Xi(this.k.delete())}}class el extends q{constructor(e,n){super(F.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Eu(t){return t.name==="IndexedDbTransactionError"}class uV{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(B("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(B("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Xi(r)}add(e){return B("SimpleDb","ADD",this.store.name,e,e),Xi(this.store.add(e))}get(e){return Xi(this.store.get(e)).next(n=>(n===void 0&&(n=null),B("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return B("SimpleDb","DELETE",this.store.name,e),Xi(this.store.delete(e))}count(){return B("SimpleDb","COUNT",this.store.name),Xi(this.store.count())}W(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const s=i.getAll(r.range);return new z((a,c)=>{s.onerror=u=>{c(u.target.error)},s.onsuccess=u=>{a(u.target.result)}})}{const s=this.cursor(r),a=[];return this.G(s,(c,u)=>{a.push(u)}).next(()=>a)}}j(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new z((i,s)=>{r.onerror=a=>{s(a.target.error)},r.onsuccess=a=>{i(a.target.result)}})}H(e,n){B("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.J=!1;const i=this.cursor(r);return this.G(i,(s,a,c)=>c.delete())}Y(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.G(i,n)}Z(e){const n=this.cursor({});return new z((r,i)=>{n.onerror=s=>{const a=ly(s.target.error);i(a)},n.onsuccess=s=>{const a=s.target.result;a?e(a.primaryKey,a.value).next(c=>{c?a.continue():r()}):r()}})}G(e,n){const r=[];return new z((i,s)=>{e.onerror=a=>{s(a.target.error)},e.onsuccess=a=>{const c=a.target.result;if(!c)return void i();const u=new lV(c),d=n(c.primaryKey,c.value,u);if(d instanceof z){const p=d.catch(m=>(u.done(),z.reject(m)));r.push(p)}u.isDone?i():u.$===null?c.continue():c.continue(u.$)}}).next(()=>z.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.J?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function Xi(t){return new z((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=ly(r.target.error);n(i)}})}let NE=!1;function ly(t){const e=is.S(dt());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new q("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return NE||(NE=!0,setTimeout(()=>{throw r},0)),r}}return t}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uy{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.se(r),this.oe=r=>n.writeSequenceNumber(r))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}uy._e=-1;function ff(t){return t==null}function sd(t){return t===0&&1/t==-1/0}function cV(t){return typeof t=="number"&&Number.isInteger(t)&&!sd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DE(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function bs(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function DC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(e,n){this.comparator=e,this.root=n||bt.EMPTY}insert(e,n){return new Ye(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,bt.BLACK,null,null))}remove(e){return new Ye(this.comparator,this.root.remove(e,this.comparator).copy(null,null,bt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ic(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ic(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ic(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ic(this.root,e,this.comparator,!0)}}class Ic{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class bt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??bt.RED,this.left=i??bt.EMPTY,this.right=s??bt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new bt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return bt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return bt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,bt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,bt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ue();const e=this.left.check();if(e!==this.right.check())throw ue();return e+(this.isRed()?0:1)}}bt.EMPTY=null,bt.RED=!0,bt.BLACK=!1;bt.EMPTY=new class{constructor(){this.size=0}get key(){throw ue()}get value(){throw ue()}get color(){throw ue()}get left(){throw ue()}get right(){throw ue()}copy(e,n,r,i,s){return this}insert(e,n,r){return new bt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e){this.comparator=e,this.data=new Ye(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new VE(this.data.getIterator())}getIteratorFrom(e){return new VE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Mt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Mt(this.comparator);return n.data=e,n}}class VE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e){this.fields=e,e.sort(kt.comparator)}static empty(){return new pn([])}unionWith(e){let n=new Mt(kt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new pn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ko(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new VC("Invalid base64 string: "+s):s}}(e);return new Gt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let a=0;a<i.length;++a)s+=String.fromCharCode(i[a]);return s}(e);return new Gt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ae(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Gt.EMPTY_BYTE_STRING=new Gt("");const hV=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Oi(t){if(Ve(!!t),typeof t=="string"){let e=0;const n=hV.exec(t);if(Ve(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:at(t.seconds),nanos:at(t.nanos)}}function at(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Es(t){return typeof t=="string"?Gt.fromBase64String(t):Gt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cy(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function hy(t){const e=t.mapValue.fields.__previous_value__;return cy(e)?hy(e):e}function Hl(t){const e=Oi(t.mapValue.fields.__local_write_time__.timestampValue);return new mt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dV{constructor(e,n,r,i,s,a,c,u,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=c,this.longPollingOptions=u,this.useFetchStreams=d}}class Wl{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Wl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Wl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ss(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?cy(t)?4:fV(t)?9007199254740991:10:ue()}function yr(t,e){if(t===e)return!0;const n=Ss(t);if(n!==Ss(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Hl(t).isEqual(Hl(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const a=Oi(i.timestampValue),c=Oi(s.timestampValue);return a.seconds===c.seconds&&a.nanos===c.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Es(i.bytesValue).isEqual(Es(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return at(i.geoPointValue.latitude)===at(s.geoPointValue.latitude)&&at(i.geoPointValue.longitude)===at(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return at(i.integerValue)===at(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const a=at(i.doubleValue),c=at(s.doubleValue);return a===c?sd(a)===sd(c):isNaN(a)&&isNaN(c)}return!1}(t,e);case 9:return ko(t.arrayValue.values||[],e.arrayValue.values||[],yr);case 10:return function(i,s){const a=i.mapValue.fields||{},c=s.mapValue.fields||{};if(DE(a)!==DE(c))return!1;for(const u in a)if(a.hasOwnProperty(u)&&(c[u]===void 0||!yr(a[u],c[u])))return!1;return!0}(t,e);default:return ue()}}function ql(t,e){return(t.values||[]).find(n=>yr(n,e))!==void 0}function Oo(t,e){if(t===e)return 0;const n=Ss(t),r=Ss(e);if(n!==r)return Ae(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ae(t.booleanValue,e.booleanValue);case 2:return function(s,a){const c=at(s.integerValue||s.doubleValue),u=at(a.integerValue||a.doubleValue);return c<u?-1:c>u?1:c===u?0:isNaN(c)?isNaN(u)?0:-1:1}(t,e);case 3:return FE(t.timestampValue,e.timestampValue);case 4:return FE(Hl(t),Hl(e));case 5:return Ae(t.stringValue,e.stringValue);case 6:return function(s,a){const c=Es(s),u=Es(a);return c.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,a){const c=s.split("/"),u=a.split("/");for(let d=0;d<c.length&&d<u.length;d++){const p=Ae(c[d],u[d]);if(p!==0)return p}return Ae(c.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,a){const c=Ae(at(s.latitude),at(a.latitude));return c!==0?c:Ae(at(s.longitude),at(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,a){const c=s.values||[],u=a.values||[];for(let d=0;d<c.length&&d<u.length;++d){const p=Oo(c[d],u[d]);if(p)return p}return Ae(c.length,u.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,a){if(s===Pc.mapValue&&a===Pc.mapValue)return 0;if(s===Pc.mapValue)return 1;if(a===Pc.mapValue)return-1;const c=s.fields||{},u=Object.keys(c),d=a.fields||{},p=Object.keys(d);u.sort(),p.sort();for(let m=0;m<u.length&&m<p.length;++m){const v=Ae(u[m],p[m]);if(v!==0)return v;const E=Oo(c[u[m]],d[p[m]]);if(E!==0)return E}return Ae(u.length,p.length)}(t.mapValue,e.mapValue);default:throw ue()}}function FE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ae(t,e);const n=Oi(t),r=Oi(e),i=Ae(n.seconds,r.seconds);return i!==0?i:Ae(n.nanos,r.nanos)}function Lo(t){return Yg(t)}function Yg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Oi(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Es(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return J.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Yg(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const a of r)s?s=!1:i+=",",i+=`${a}:${Yg(n.fields[a])}`;return i+"}"}(t.mapValue):ue()}function zE(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Xg(t){return!!t&&"integerValue"in t}function dy(t){return!!t&&"arrayValue"in t}function jE(t){return!!t&&"nullValue"in t}function $E(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Zc(t){return!!t&&"mapValue"in t}function tl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return bs(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=tl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=tl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function fV(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.value=e}static empty(){return new nn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Zc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=tl(n)}setAll(e){let n=kt.emptyPath(),r={},i=[];e.forEach((a,c)=>{if(!n.isImmediateParentOf(c)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=c.popLast()}a?r[c.lastSegment()]=tl(a):i.push(c.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Zc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return yr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Zc(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){bs(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new nn(tl(this.value))}}function FC(t){const e=[];return bs(t.fields,(n,r)=>{const i=new kt([n]);if(Zc(r)){const s=FC(r.mapValue).fields;if(s.length===0)e.push(i);else for(const a of s)e.push(i.child(a))}else e.push(i)}),new pn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e,n,r,i,s,a,c){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=a,this.documentState=c}static newInvalidDocument(e){return new Ut(e,0,he.min(),he.min(),he.min(),nn.empty(),0)}static newFoundDocument(e,n,r,i){return new Ut(e,1,n,he.min(),r,i,0)}static newNoDocument(e,n){return new Ut(e,2,n,he.min(),he.min(),nn.empty(),0)}static newUnknownDocument(e,n){return new Ut(e,3,n,he.min(),he.min(),nn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(he.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=nn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=he.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ut&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ut(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(e,n){this.position=e,this.inclusive=n}}function UE(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],a=t.position[i];if(s.field.isKeyField()?r=J.comparator(J.fromName(a.referenceValue),n.key):r=Oo(a,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function BE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!yr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(e,n="asc"){this.field=e,this.dir=n}}function pV(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zC{}class ht extends zC{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new gV(e,n,r):n==="array-contains"?new yV(e,r):n==="in"?new wV(e,r):n==="not-in"?new EV(e,r):n==="array-contains-any"?new SV(e,r):new ht(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new vV(e,r):new _V(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Oo(n,this.value)):n!==null&&Ss(this.value)===Ss(n)&&this.matchesComparison(Oo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ue()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Kn extends zC{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new Kn(e,n)}matches(e){return jC(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function jC(t){return t.op==="and"}function $C(t){return mV(t)&&jC(t)}function mV(t){for(const e of t.filters)if(e instanceof Kn)return!1;return!0}function Jg(t){if(t instanceof ht)return t.field.canonicalString()+t.op.toString()+Lo(t.value);if($C(t))return t.filters.map(e=>Jg(e)).join(",");{const e=t.filters.map(n=>Jg(n)).join(",");return`${t.op}(${e})`}}function UC(t,e){return t instanceof ht?function(r,i){return i instanceof ht&&r.op===i.op&&r.field.isEqual(i.field)&&yr(r.value,i.value)}(t,e):t instanceof Kn?function(r,i){return i instanceof Kn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,a,c)=>s&&UC(a,i.filters[c]),!0):!1}(t,e):void ue()}function BC(t){return t instanceof ht?function(n){return`${n.field.canonicalString()} ${n.op} ${Lo(n.value)}`}(t):t instanceof Kn?function(n){return n.op.toString()+" {"+n.getFilters().map(BC).join(" ,")+"}"}(t):"Filter"}class gV extends ht{constructor(e,n,r){super(e,n,r),this.key=J.fromName(r.referenceValue)}matches(e){const n=J.comparator(e.key,this.key);return this.matchesComparison(n)}}class vV extends ht{constructor(e,n){super(e,"in",n),this.keys=HC("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class _V extends ht{constructor(e,n){super(e,"not-in",n),this.keys=HC("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function HC(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>J.fromName(r.referenceValue))}class yV extends ht{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return dy(n)&&ql(n.arrayValue,this.value)}}class wV extends ht{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ql(this.value.arrayValue,n)}}class EV extends ht{constructor(e,n){super(e,"not-in",n)}matches(e){if(ql(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!ql(this.value.arrayValue,n)}}class SV extends ht{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!dy(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ql(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TV{constructor(e,n=null,r=[],i=[],s=null,a=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=a,this.endAt=c,this.ce=null}}function HE(t,e=null,n=[],r=[],i=null,s=null,a=null){return new TV(t,e,n,r,i,s,a)}function fy(t){const e=de(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Jg(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),ff(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Lo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Lo(r)).join(",")),e.ce=n}return e.ce}function py(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!pV(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!UC(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!BE(t.startAt,e.startAt)&&BE(t.endAt,e.endAt)}function ev(t){return J.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su{constructor(e,n=null,r=[],i=[],s=null,a="F",c=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=a,this.startAt=c,this.endAt=u,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function IV(t,e,n,r,i,s,a,c){return new Su(t,e,n,r,i,s,a,c)}function my(t){return new Su(t)}function WE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function WC(t){return t.collectionGroup!==null}function nl(t){const e=de(t);if(e.le===null){e.le=[];const n=new Set;for(const s of e.explicitOrderBy)e.le.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let c=new Mt(kt.comparator);return a.filters.forEach(u=>{u.getFlattenedFilters().forEach(d=>{d.isInequality()&&(c=c.add(d.field))})}),c})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.le.push(new ad(s,r))}),n.has(kt.keyField().canonicalString())||e.le.push(new ad(kt.keyField(),r))}return e.le}function pr(t){const e=de(t);return e.he||(e.he=PV(e,nl(t))),e.he}function PV(t,e){if(t.limitType==="F")return HE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new ad(i.field,s)});const n=t.endAt?new od(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new od(t.startAt.position,t.startAt.inclusive):null;return HE(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function tv(t,e){const n=t.filters.concat([e]);return new Su(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function nv(t,e,n){return new Su(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function pf(t,e){return py(pr(t),pr(e))&&t.limitType===e.limitType}function qC(t){return`${fy(pr(t))}|lt:${t.limitType}`}function Bs(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>BC(i)).join(", ")}]`),ff(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Lo(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Lo(i)).join(",")),`Target(${r})`}(pr(t))}; limitType=${t.limitType})`}function mf(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):J.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of nl(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(a,c,u){const d=UE(a,c,u);return a.inclusive?d<=0:d<0}(r.startAt,nl(r),i)||r.endAt&&!function(a,c,u){const d=UE(a,c,u);return a.inclusive?d>=0:d>0}(r.endAt,nl(r),i))}(t,e)}function CV(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function GC(t){return(e,n)=>{let r=!1;for(const i of nl(t)){const s=xV(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function xV(t,e,n){const r=t.field.isKeyField()?J.comparator(e.key,n.key):function(s,a,c){const u=a.data.field(s),d=c.data.field(s);return u!==null&&d!==null?Oo(u,d):ue()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ue()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){bs(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return DC(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bV=new Ye(J.comparator);function Ur(){return bV}const KC=new Ye(J.comparator);function za(...t){let e=KC;for(const n of t)e=e.insert(n.key,n);return e}function ZC(t){let e=KC;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ss(){return rl()}function QC(){return rl()}function rl(){return new Yo(t=>t.toString(),(t,e)=>t.isEqual(e))}const RV=new Ye(J.comparator),AV=new Mt(J.comparator);function we(...t){let e=AV;for(const n of t)e=e.add(n);return e}const kV=new Mt(Ae);function OV(){return kV}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YC(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sd(e)?"-0":e}}function XC(t){return{integerValue:""+t}}function LV(t,e){return cV(e)?XC(e):YC(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf{constructor(){this._=void 0}}function MV(t,e,n){return t instanceof Gl?function(i,s){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&cy(s)&&(s=hy(s)),s&&(a.fields.__previous_value__=s),{mapValue:a}}(n,e):t instanceof Kl?ex(t,e):t instanceof Zl?tx(t,e):function(i,s){const a=JC(i,s),c=qE(a)+qE(i.Ie);return Xg(a)&&Xg(i.Ie)?XC(c):YC(i.serializer,c)}(t,e)}function NV(t,e,n){return t instanceof Kl?ex(t,e):t instanceof Zl?tx(t,e):n}function JC(t,e){return t instanceof ld?function(r){return Xg(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Gl extends gf{}class Kl extends gf{constructor(e){super(),this.elements=e}}function ex(t,e){const n=nx(e);for(const r of t.elements)n.some(i=>yr(i,r))||n.push(r);return{arrayValue:{values:n}}}class Zl extends gf{constructor(e){super(),this.elements=e}}function tx(t,e){let n=nx(e);for(const r of t.elements)n=n.filter(i=>!yr(i,r));return{arrayValue:{values:n}}}class ld extends gf{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function qE(t){return at(t.integerValue||t.doubleValue)}function nx(t){return dy(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DV{constructor(e,n){this.field=e,this.transform=n}}function VV(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Kl&&i instanceof Kl||r instanceof Zl&&i instanceof Zl?ko(r.elements,i.elements,yr):r instanceof ld&&i instanceof ld?yr(r.Ie,i.Ie):r instanceof Gl&&i instanceof Gl}(t.transform,e.transform)}class FV{constructor(e,n){this.version=e,this.transformResults=n}}class mr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new mr}static exists(e){return new mr(void 0,e)}static updateTime(e){return new mr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Qc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class vf{}function rx(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new sx(t.key,mr.none()):new Tu(t.key,t.data,mr.none());{const n=t.data,r=nn.empty();let i=new Mt(kt.comparator);for(let s of e.fields)if(!i.has(s)){let a=n.field(s);a===null&&s.length>1&&(s=s.popLast(),a=n.field(s)),a===null?r.delete(s):r.set(s,a),i=i.add(s)}return new $i(t.key,r,new pn(i.toArray()),mr.none())}}function zV(t,e,n){t instanceof Tu?function(i,s,a){const c=i.value.clone(),u=KE(i.fieldTransforms,s,a.transformResults);c.setAll(u),s.convertToFoundDocument(a.version,c).setHasCommittedMutations()}(t,e,n):t instanceof $i?function(i,s,a){if(!Qc(i.precondition,s))return void s.convertToUnknownDocument(a.version);const c=KE(i.fieldTransforms,s,a.transformResults),u=s.data;u.setAll(ix(i)),u.setAll(c),s.convertToFoundDocument(a.version,u).setHasCommittedMutations()}(t,e,n):function(i,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function il(t,e,n,r){return t instanceof Tu?function(s,a,c,u){if(!Qc(s.precondition,a))return c;const d=s.value.clone(),p=ZE(s.fieldTransforms,u,a);return d.setAll(p),a.convertToFoundDocument(a.version,d).setHasLocalMutations(),null}(t,e,n,r):t instanceof $i?function(s,a,c,u){if(!Qc(s.precondition,a))return c;const d=ZE(s.fieldTransforms,u,a),p=a.data;return p.setAll(ix(s)),p.setAll(d),a.convertToFoundDocument(a.version,p).setHasLocalMutations(),c===null?null:c.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(m=>m.field))}(t,e,n,r):function(s,a,c){return Qc(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):c}(t,e,n)}function jV(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=JC(r.transform,i||null);s!=null&&(n===null&&(n=nn.empty()),n.set(r.field,s))}return n||null}function GE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ko(r,i,(s,a)=>VV(s,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Tu extends vf{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class $i extends vf{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function ix(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function KE(t,e,n){const r=new Map;Ve(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],a=s.transform,c=e.data.field(s.field);r.set(s.field,NV(a,c,n[i]))}return r}function ZE(t,e,n){const r=new Map;for(const i of t){const s=i.transform,a=n.data.field(i.field);r.set(i.field,MV(s,a,e))}return r}class sx extends vf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class $V extends vf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UV{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&zV(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=il(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=il(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=QC();return this.mutations.forEach(i=>{const s=e.get(i.key),a=s.overlayedDocument;let c=this.applyToLocalView(a,s.mutatedFields);c=n.has(i.key)?null:c;const u=rx(a,c);u!==null&&r.set(i.key,u),a.isValidDocument()||a.convertToNoDocument(he.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),we())}isEqual(e){return this.batchId===e.batchId&&ko(this.mutations,e.mutations,(n,r)=>GE(n,r))&&ko(this.baseMutations,e.baseMutations,(n,r)=>GE(n,r))}}class gy{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ve(e.mutations.length===r.length);let i=function(){return RV}();const s=e.mutations;for(let a=0;a<s.length;a++)i=i.insert(s[a].key,r[a].version);return new gy(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BV{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HV{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ot,Ie;function WV(t){switch(t){default:return ue();case F.CANCELLED:case F.UNKNOWN:case F.DEADLINE_EXCEEDED:case F.RESOURCE_EXHAUSTED:case F.INTERNAL:case F.UNAVAILABLE:case F.UNAUTHENTICATED:return!1;case F.INVALID_ARGUMENT:case F.NOT_FOUND:case F.ALREADY_EXISTS:case F.PERMISSION_DENIED:case F.FAILED_PRECONDITION:case F.ABORTED:case F.OUT_OF_RANGE:case F.UNIMPLEMENTED:case F.DATA_LOSS:return!0}}function ox(t){if(t===void 0)return _r("GRPC error has no .code"),F.UNKNOWN;switch(t){case ot.OK:return F.OK;case ot.CANCELLED:return F.CANCELLED;case ot.UNKNOWN:return F.UNKNOWN;case ot.DEADLINE_EXCEEDED:return F.DEADLINE_EXCEEDED;case ot.RESOURCE_EXHAUSTED:return F.RESOURCE_EXHAUSTED;case ot.INTERNAL:return F.INTERNAL;case ot.UNAVAILABLE:return F.UNAVAILABLE;case ot.UNAUTHENTICATED:return F.UNAUTHENTICATED;case ot.INVALID_ARGUMENT:return F.INVALID_ARGUMENT;case ot.NOT_FOUND:return F.NOT_FOUND;case ot.ALREADY_EXISTS:return F.ALREADY_EXISTS;case ot.PERMISSION_DENIED:return F.PERMISSION_DENIED;case ot.FAILED_PRECONDITION:return F.FAILED_PRECONDITION;case ot.ABORTED:return F.ABORTED;case ot.OUT_OF_RANGE:return F.OUT_OF_RANGE;case ot.UNIMPLEMENTED:return F.UNIMPLEMENTED;case ot.DATA_LOSS:return F.DATA_LOSS;default:return ue()}}(Ie=ot||(ot={}))[Ie.OK=0]="OK",Ie[Ie.CANCELLED=1]="CANCELLED",Ie[Ie.UNKNOWN=2]="UNKNOWN",Ie[Ie.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ie[Ie.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ie[Ie.NOT_FOUND=5]="NOT_FOUND",Ie[Ie.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ie[Ie.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ie[Ie.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ie[Ie.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ie[Ie.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ie[Ie.ABORTED=10]="ABORTED",Ie[Ie.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ie[Ie.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ie[Ie.INTERNAL=13]="INTERNAL",Ie[Ie.UNAVAILABLE=14]="UNAVAILABLE",Ie[Ie.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qV(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GV=new go([4294967295,4294967295],0);function QE(t){const e=qV().encode(t),n=new G5;return n.update(e),new Uint8Array(n.digest())}function YE(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new go([n,r],0),new go([i,s],0)]}class vy{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ja(`Invalid padding: ${n}`);if(r<0)throw new ja(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ja(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ja(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=go.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(go.fromNumber(r)));return i.compare(GV)===1&&(i=new go([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=QE(e),[r,i]=YE(n);for(let s=0;s<this.hashCount;s++){const a=this.de(r,i,s);if(!this.Ae(a))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),a=new vy(s,i,n);return r.forEach(c=>a.insert(c)),a}insert(e){if(this.Te===0)return;const n=QE(e),[r,i]=YE(n);for(let s=0;s<this.hashCount;s++){const a=this.de(r,i,s);this.Re(a)}}Re(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ja extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Iu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new _f(he.min(),i,new Ye(Ae),Ur(),we())}}class Iu{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Iu(r,n,we(),we(),we())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}}class ax{constructor(e,n){this.targetId=e,this.fe=n}}class lx{constructor(e,n,r=Gt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class XE{constructor(){this.ge=0,this.pe=e2(),this.ye=Gt.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=we(),n=we(),r=we();return this.pe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ue()}}),new Iu(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=e2()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,Ve(this.ge>=0)}Le(){this.Se=!0,this.we=!0}}class KV{constructor(e){this.Be=e,this.ke=new Map,this.qe=Ur(),this.Qe=JE(),this.Ke=new Ye(Ae)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:ue()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){const n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){const s=i.target;if(ev(s))if(r===0){const a=new J(s.path);this.We(n,a,Ut.newNoDocument(a,he.min()))}else Ve(r===1);else{const a=this.Ze(n);if(a!==r){const c=this.Xe(e),u=c?this.et(c,e,a):1;if(u!==0){this.He(n);const d=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,d)}}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let a,c;try{a=Es(r).toUint8Array()}catch(u){if(u instanceof VC)return Ao("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{c=new vy(a,i,s)}catch(u){return Ao(u instanceof ja?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return c.Te===0?null:c}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Be.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const a=this.Be.nt(),c=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;e.mightContain(c)||(this.We(n,s,null),i++)}),i}it(e){const n=new Map;this.ke.forEach((s,a)=>{const c=this.Ye(a);if(c){if(s.current&&ev(c.target)){const u=new J(c.target.path);this.qe.get(u)!==null||this.st(a,u)||this.We(a,u,Ut.newNoDocument(u,e))}s.De&&(n.set(a,s.ve()),s.Fe())}});let r=we();this.Qe.forEach((s,a)=>{let c=!0;a.forEachWhile(u=>{const d=this.Ye(u);return!d||d.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(s))}),this.qe.forEach((s,a)=>a.setReadTime(e));const i=new _f(e,n,this.Ke,this.qe,r);return this.qe=Ur(),this.Qe=JE(),this.Ke=new Ye(Ae),i}Ue(e,n){if(!this.je(e))return;const r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Be.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new XE,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new Mt(Ae),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||B("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Be._t(e)}He(e){this.ke.set(e,new XE),this.Be.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Be.getRemoteKeysForTarget(e).has(n)}}function JE(){return new Ye(J.comparator)}function e2(){return new Ye(J.comparator)}const ZV={asc:"ASCENDING",desc:"DESCENDING"},QV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},YV={and:"AND",or:"OR"};class XV{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function rv(t,e){return t.useProto3Json||ff(e)?e:{value:e}}function ud(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ux(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function JV(t,e){return ud(t,e.toTimestamp())}function gr(t){return Ve(!!t),he.fromTimestamp(function(n){const r=Oi(n);return new mt(r.seconds,r.nanos)}(t))}function _y(t,e){return iv(t,e).canonicalString()}function iv(t,e){const n=function(i){return new $e(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function cx(t){const e=$e.fromString(t);return Ve(mx(e)),e}function sv(t,e){return _y(t.databaseId,e.path)}function vm(t,e){const n=cx(e);if(n.get(1)!==t.databaseId.projectId)throw new q(F.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new q(F.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new J(dx(n))}function hx(t,e){return _y(t.databaseId,e)}function e9(t){const e=cx(t);return e.length===4?$e.emptyPath():dx(e)}function ov(t){return new $e(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function dx(t){return Ve(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function t2(t,e,n){return{name:sv(t,e),fields:n.value.mapValue.fields}}function t9(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:ue()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(d,p){return d.useProto3Json?(Ve(p===void 0||typeof p=="string"),Gt.fromBase64String(p||"")):(Ve(p===void 0||p instanceof Uint8Array),Gt.fromUint8Array(p||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,c=a&&function(d){const p=d.code===void 0?F.UNKNOWN:ox(d.code);return new q(p,d.message||"")}(a);n=new lx(r,i,s,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=vm(t,r.document.name),s=gr(r.document.updateTime),a=r.document.createTime?gr(r.document.createTime):he.min(),c=new nn({mapValue:{fields:r.document.fields}}),u=Ut.newFoundDocument(i,s,a,c),d=r.targetIds||[],p=r.removedTargetIds||[];n=new Yc(d,p,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=vm(t,r.document),s=r.readTime?gr(r.readTime):he.min(),a=Ut.newNoDocument(i,s),c=r.removedTargetIds||[];n=new Yc([],c,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=vm(t,r.document),s=r.removedTargetIds||[];n=new Yc([],s,i,null)}else{if(!("filter"in e))return ue();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,a=new HV(i,s),c=r.targetId;n=new ax(c,a)}}return n}function n9(t,e){let n;if(e instanceof Tu)n={update:t2(t,e.key,e.value)};else if(e instanceof sx)n={delete:sv(t,e.key)};else if(e instanceof $i)n={update:t2(t,e.key,e.data),updateMask:h9(e.fieldMask)};else{if(!(e instanceof $V))return ue();n={verify:sv(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,a){const c=a.transform;if(c instanceof Gl)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Kl)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Zl)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof ld)return{fieldPath:a.field.canonicalString(),increment:c.Ie};throw ue()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:JV(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ue()}(t,e.precondition)),n}function r9(t,e){return t&&t.length>0?(Ve(e!==void 0),t.map(n=>function(i,s){let a=i.updateTime?gr(i.updateTime):gr(s);return a.isEqual(he.min())&&(a=gr(s)),new FV(a,i.transformResults||[])}(n,e))):[]}function i9(t,e){return{documents:[hx(t,e.path)]}}function s9(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=hx(t,i);const s=function(d){if(d.length!==0)return px(Kn.create(d,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const a=function(d){if(d.length!==0)return d.map(p=>function(v){return{field:Hs(v.field),direction:l9(v.dir)}}(p))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const c=rv(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{ut:n,parent:i}}function o9(t){let e=e9(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ve(r===1);const p=n.from[0];p.allDescendants?i=p.collectionId:e=e.child(p.collectionId)}let s=[];n.where&&(s=function(m){const v=fx(m);return v instanceof Kn&&$C(v)?v.getFilters():[v]}(n.where));let a=[];n.orderBy&&(a=function(m){return m.map(v=>function(C){return new ad(Ws(C.field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(v))}(n.orderBy));let c=null;n.limit&&(c=function(m){let v;return v=typeof m=="object"?m.value:m,ff(v)?null:v}(n.limit));let u=null;n.startAt&&(u=function(m){const v=!!m.before,E=m.values||[];return new od(E,v)}(n.startAt));let d=null;return n.endAt&&(d=function(m){const v=!m.before,E=m.values||[];return new od(E,v)}(n.endAt)),IV(e,i,a,s,c,"F",u,d)}function a9(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ue()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function fx(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ws(n.unaryFilter.field);return ht.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Ws(n.unaryFilter.field);return ht.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Ws(n.unaryFilter.field);return ht.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Ws(n.unaryFilter.field);return ht.create(a,"!=",{nullValue:"NULL_VALUE"});default:return ue()}}(t):t.fieldFilter!==void 0?function(n){return ht.create(Ws(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ue()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Kn.create(n.compositeFilter.filters.map(r=>fx(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ue()}}(n.compositeFilter.op))}(t):ue()}function l9(t){return ZV[t]}function u9(t){return QV[t]}function c9(t){return YV[t]}function Hs(t){return{fieldPath:t.canonicalString()}}function Ws(t){return kt.fromServerFormat(t.fieldPath)}function px(t){return t instanceof ht?function(n){if(n.op==="=="){if($E(n.value))return{unaryFilter:{field:Hs(n.field),op:"IS_NAN"}};if(jE(n.value))return{unaryFilter:{field:Hs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if($E(n.value))return{unaryFilter:{field:Hs(n.field),op:"IS_NOT_NAN"}};if(jE(n.value))return{unaryFilter:{field:Hs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Hs(n.field),op:u9(n.op),value:n.value}}}(t):t instanceof Kn?function(n){const r=n.getFilters().map(i=>px(i));return r.length===1?r[0]:{compositeFilter:{op:c9(n.op),filters:r}}}(t):ue()}function h9(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function mx(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(e,n,r,i,s=he.min(),a=he.min(),c=Gt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=c,this.expectedCount=u}withSequenceNumber(e){return new fi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new fi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new fi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new fi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d9{constructor(e){this.ct=e}}function f9(t){const e=o9({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?nv(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p9{constructor(){this._n=new m9}addToCollectionParentIndex(e,n){return this._n.add(n),z.resolve()}getCollectionParents(e,n){return z.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return z.resolve()}deleteFieldIndex(e,n){return z.resolve()}deleteAllFieldIndexes(e){return z.resolve()}createTargetIndexes(e,n){return z.resolve()}getDocumentsMatchingTarget(e,n){return z.resolve(null)}getIndexType(e,n){return z.resolve(0)}getFieldIndexes(e,n){return z.resolve([])}getNextCollectionGroupToUpdate(e){return z.resolve(null)}getMinOffset(e,n){return z.resolve(ki.min())}getMinOffsetFromCollectionGroup(e,n){return z.resolve(ki.min())}updateCollectionGroup(e,n,r){return z.resolve()}updateIndexEntries(e,n){return z.resolve()}}class m9{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Mt($e.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Mt($e.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new Mo(0)}static Ln(){return new Mo(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g9{constructor(){this.changes=new Yo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ut.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?z.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v9{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _9{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&il(r.mutation,i,pn.empty(),mt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,we()).next(()=>r))}getLocalViewOfDocuments(e,n,r=we()){const i=ss();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let a=za();return s.forEach((c,u)=>{a=a.insert(c,u.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const r=ss();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,we()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((a,c)=>{n.set(a,c)})})}computeViews(e,n,r,i){let s=Ur();const a=rl(),c=function(){return rl()}();return n.forEach((u,d)=>{const p=r.get(d.key);i.has(d.key)&&(p===void 0||p.mutation instanceof $i)?s=s.insert(d.key,d):p!==void 0?(a.set(d.key,p.mutation.getFieldMask()),il(p.mutation,d,p.mutation.getFieldMask(),mt.now())):a.set(d.key,pn.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((d,p)=>a.set(d,p)),n.forEach((d,p)=>{var m;return c.set(d,new v9(p,(m=a.get(d))!==null&&m!==void 0?m:null))}),c))}recalculateAndSaveOverlays(e,n){const r=rl();let i=new Ye((a,c)=>a-c),s=we();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const c of a)c.keys().forEach(u=>{const d=n.get(u);if(d===null)return;let p=r.get(u)||pn.empty();p=c.applyToLocalView(d,p),r.set(u,p);const m=(i.get(c.batchId)||we()).add(u);i=i.insert(c.batchId,m)})}).next(()=>{const a=[],c=i.getReverseIterator();for(;c.hasNext();){const u=c.getNext(),d=u.key,p=u.value,m=QC();p.forEach(v=>{if(!s.has(v)){const E=rx(n.get(v),r.get(v));E!==null&&m.set(v,E),s=s.add(v)}}),a.push(this.documentOverlayCache.saveOverlays(e,d,m))}return z.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(a){return J.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):WC(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const a=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):z.resolve(ss());let c=-1,u=s;return a.next(d=>z.forEach(d,(p,m)=>(c<m.largestBatchId&&(c=m.largestBatchId),s.get(p)?z.resolve():this.remoteDocumentCache.getEntry(e,p).next(v=>{u=u.insert(p,v)}))).next(()=>this.populateOverlays(e,d,s)).next(()=>this.computeViews(e,u,d,we())).next(p=>({batchId:c,changes:ZC(p)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new J(n)).next(r=>{let i=za();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let a=za();return this.indexManager.getCollectionParents(e,s).next(c=>z.forEach(c,u=>{const d=function(m,v){return new Su(v,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,d,r,i).next(p=>{p.forEach((m,v)=>{a=a.insert(m,v)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(a=>{s.forEach((u,d)=>{const p=d.getKey();a.get(p)===null&&(a=a.insert(p,Ut.newInvalidDocument(p)))});let c=za();return a.forEach((u,d)=>{const p=s.get(u);p!==void 0&&il(p.mutation,d,pn.empty(),mt.now()),mf(n,d)&&(c=c.insert(u,d))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y9{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return z.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:gr(i.createTime)}}(n)),z.resolve()}getNamedQuery(e,n){return z.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:f9(i.bundledQuery),readTime:gr(i.readTime)}}(n)),z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w9{constructor(){this.overlays=new Ye(J.comparator),this.hr=new Map}getOverlay(e,n){return z.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ss();return z.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),z.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.hr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(r)),z.resolve()}getOverlaysForCollection(e,n,r){const i=ss(),s=n.length+1,a=new J(n.child("")),c=this.overlays.getIteratorFrom(a);for(;c.hasNext();){const u=c.getNext().value,d=u.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return z.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Ye((d,p)=>d-p);const a=this.overlays.getIterator();for(;a.hasNext();){const d=a.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let p=s.get(d.largestBatchId);p===null&&(p=ss(),s=s.insert(d.largestBatchId,p)),p.set(d.getKey(),d)}}const c=ss(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((d,p)=>c.set(d,p)),!(c.size()>=i)););return z.resolve(c)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const a=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new BV(n,r));let s=this.hr.get(n);s===void 0&&(s=we(),this.hr.set(n,s)),this.hr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yy{constructor(){this.Pr=new Mt(yt.Ir),this.Tr=new Mt(yt.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new yt(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new yt(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new J(new $e([])),r=new yt(n,e),i=new yt(n,e+1),s=[];return this.Tr.forEachInRange([r,i],a=>{this.Ar(a),s.push(a.key)}),s}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new J(new $e([])),r=new yt(n,e),i=new yt(n,e+1);let s=we();return this.Tr.forEachInRange([r,i],a=>{s=s.add(a.key)}),s}containsKey(e){const n=new yt(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class yt{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return J.comparator(e.key,n.key)||Ae(e.pr,n.pr)}static Er(e,n){return Ae(e.pr,n.pr)||J.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E9{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new Mt(yt.Ir)}checkEmpty(e){return z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new UV(s,n,r,i);this.mutationQueue.push(a);for(const c of i)this.wr=this.wr.add(new yt(c.key,s)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return z.resolve(a)}lookupMutationBatch(e,n){return z.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.br(r),s=i<0?0:i;return z.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return z.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new yt(n,0),i=new yt(n,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([r,i],a=>{const c=this.Sr(a.pr);s.push(c)}),z.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Mt(Ae);return n.forEach(i=>{const s=new yt(i,0),a=new yt(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,a],c=>{r=r.add(c.pr)})}),z.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;J.isDocumentKey(s)||(s=s.child(""));const a=new yt(new J(s),0);let c=new Mt(Ae);return this.wr.forEachWhile(u=>{const d=u.key.path;return!!r.isPrefixOf(d)&&(d.length===i&&(c=c.add(u.pr)),!0)},a),z.resolve(this.Dr(c))}Dr(e){const n=[];return e.forEach(r=>{const i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ve(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return z.forEach(n.mutations,i=>{const s=new yt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new yt(n,0),i=this.wr.firstAfterOrEqual(r);return z.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,z.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S9{constructor(e){this.vr=e,this.docs=function(){return new Ye(J.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,a=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return z.resolve(r?r.document.mutableCopy():Ut.newInvalidDocument(n))}getEntries(e,n){let r=Ur();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Ut.newInvalidDocument(i))}),z.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Ur();const a=n.path,c=new J(a.child("")),u=this.docs.getIteratorFrom(c);for(;u.hasNext();){const{key:d,value:{document:p}}=u.getNext();if(!a.isPrefixOf(d.path))break;d.path.length>a.length+1||sV(iV(p),r)<=0||(i.has(p.key)||mf(n,p))&&(s=s.insert(p.key,p.mutableCopy()))}return z.resolve(s)}getAllFromCollectionGroup(e,n,r,i){ue()}Fr(e,n){return z.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new T9(this)}getSize(e){return z.resolve(this.size)}}class T9 extends g9{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),z.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I9{constructor(e){this.persistence=e,this.Mr=new Yo(n=>fy(n),py),this.lastRemoteSnapshotVersion=he.min(),this.highestTargetId=0,this.Or=0,this.Nr=new yy,this.targetCount=0,this.Lr=Mo.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),z.resolve()}getLastRemoteSnapshotVersion(e){return z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return z.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),z.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),z.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Lr=new Mo(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,z.resolve()}updateTargetData(e,n){return this.qn(n),z.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,z.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Mr.forEach((a,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.Mr.delete(a),s.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),z.waitFor(s).next(()=>i)}getTargetCount(e){return z.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return z.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),z.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(a=>{s.push(i.markPotentiallyOrphaned(e,a))}),z.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),z.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return z.resolve(r)}containsKey(e,n){return z.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P9{constructor(e,n){this.Br={},this.overlays={},this.kr=new uy(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new I9(this),this.indexManager=new p9,this.remoteDocumentCache=function(i){return new S9(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new d9(n),this.$r=new y9(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new w9,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new E9(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){B("MemoryPersistence","Starting transaction:",e);const i=new C9(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(s=>this.referenceDelegate.Wr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gr(e,n){return z.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class C9 extends aV{constructor(e){super(),this.currentSequenceNumber=e}}class wy{constructor(e){this.persistence=e,this.zr=new yy,this.jr=null}static Hr(e){return new wy(e)}get Jr(){if(this.jr)return this.jr;throw ue()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),z.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),z.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),z.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Jr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return z.forEach(this.Jr,r=>{const i=J.fromPath(r);return this.Yr(e,i).next(s=>{s||n.removeEntry(i,he.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return z.or([()=>z.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ey{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=we(),i=we();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Ey(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x9{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b9{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return rM()?8:is.v(dt())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ji(e,n).next(a=>{s.result=a}).next(()=>{if(!s.result)return this.Hi(e,n,i,r).next(a=>{s.result=a})}).next(()=>{if(s.result)return;const a=new x9;return this.Ji(e,n,a).next(c=>{if(s.result=c,this.Ui)return this.Yi(e,n,a,c.size)})}).next(()=>s.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(Ca()<=Se.DEBUG&&B("QueryEngine","SDK will not create cache indexes for query:",Bs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),z.resolve()):(Ca()<=Se.DEBUG&&B("QueryEngine","Query:",Bs(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(Ca()<=Se.DEBUG&&B("QueryEngine","The SDK decides to create cache indexes for query:",Bs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,pr(n))):z.resolve())}ji(e,n){if(WE(n))return z.resolve(null);let r=pr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=nv(n,null,"F"),r=pr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const a=we(...s);return this.zi.getDocuments(e,a).next(c=>this.indexManager.getMinOffset(e,r).next(u=>{const d=this.Zi(n,c);return this.Xi(n,d,a,u.readTime)?this.ji(e,nv(n,null,"F")):this.es(e,d,n,u)}))})))}Hi(e,n,r,i){return WE(n)||i.isEqual(he.min())?z.resolve(null):this.zi.getDocuments(e,r).next(s=>{const a=this.Zi(n,s);return this.Xi(n,a,r,i)?z.resolve(null):(Ca()<=Se.DEBUG&&B("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Bs(n)),this.es(e,a,n,rV(i,-1)).next(c=>c))})}Zi(e,n){let r=new Mt(GC(e));return n.forEach((i,s)=>{mf(e,s)&&(r=r.add(s))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ji(e,n,r){return Ca()<=Se.DEBUG&&B("QueryEngine","Using full collection scan to execute query:",Bs(n)),this.zi.getDocumentsMatchingQuery(e,n,ki.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(a=>{s=s.insert(a.key,a)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R9{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new Ye(Ae),this.rs=new Yo(s=>fy(s),py),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new _9(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function A9(t,e,n,r){return new R9(t,e,n,r)}async function gx(t,e){const n=de(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const a=[],c=[];let u=we();for(const d of i){a.push(d.batchId);for(const p of d.mutations)u=u.add(p.key)}for(const d of s){c.push(d.batchId);for(const p of d.mutations)u=u.add(p.key)}return n.localDocuments.getDocuments(r,u).next(d=>({us:d,removedBatchIds:a,addedBatchIds:c}))})})}function k9(t,e){const n=de(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.os.newChangeBuffer({trackRemovals:!0});return function(c,u,d,p){const m=d.batch,v=m.keys();let E=z.resolve();return v.forEach(C=>{E=E.next(()=>p.getEntry(u,C)).next(T=>{const P=d.docVersions.get(C);Ve(P!==null),T.version.compareTo(P)<0&&(m.applyToRemoteDocument(T,d),T.isValidDocument()&&(T.setReadTime(d.commitVersion),p.addEntry(T)))})}),E.next(()=>c.mutationQueue.removeMutationBatch(u,m))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let u=we();for(let d=0;d<c.mutationResults.length;++d)c.mutationResults[d].transformResults.length>0&&(u=u.add(c.batch.mutations[d].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function vx(t){const e=de(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function O9(t,e){const n=de(t),r=e.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const a=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const c=[];e.targetChanges.forEach((p,m)=>{const v=i.get(m);if(!v)return;c.push(n.Qr.removeMatchingKeys(s,p.removedDocuments,m).next(()=>n.Qr.addMatchingKeys(s,p.addedDocuments,m)));let E=v.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(m)!==null?E=E.withResumeToken(Gt.EMPTY_BYTE_STRING,he.min()).withLastLimboFreeSnapshotVersion(he.min()):p.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(p.resumeToken,r)),i=i.insert(m,E),function(T,P,_){return T.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-T.snapshotVersion.toMicroseconds()>=3e8?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(v,E,p)&&c.push(n.Qr.updateTargetData(s,E))});let u=Ur(),d=we();if(e.documentUpdates.forEach(p=>{e.resolvedLimboDocuments.has(p)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(s,p))}),c.push(L9(s,a,e.documentUpdates).next(p=>{u=p.cs,d=p.ls})),!r.isEqual(he.min())){const p=n.Qr.getLastRemoteSnapshotVersion(s).next(m=>n.Qr.setTargetsMetadata(s,s.currentSequenceNumber,r));c.push(p)}return z.waitFor(c).next(()=>a.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,d)).next(()=>u)}).then(s=>(n.ns=i,s))}function L9(t,e,n){let r=we(),i=we();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let a=Ur();return n.forEach((c,u)=>{const d=s.get(c);u.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(c)),u.isNoDocument()&&u.version.isEqual(he.min())?(e.removeEntry(c,u.readTime),a=a.insert(c,u)):!d.isValidDocument()||u.version.compareTo(d.version)>0||u.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(u),a=a.insert(c,u)):B("LocalStore","Ignoring outdated watch update for ",c,". Current version:",d.version," Watch version:",u.version)}),{cs:a,ls:i}})}function M9(t,e){const n=de(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function N9(t,e){const n=de(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(s=>s?(i=s,z.resolve(i)):n.Qr.allocateTargetId(r).next(a=>(i=new fi(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}async function av(t,e,n){const r=de(t),i=r.ns.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,a=>r.persistence.referenceDelegate.removeTarget(a,i))}catch(a){if(!Eu(a))throw a;B("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)}function n2(t,e,n){const r=de(t);let i=he.min(),s=we();return r.persistence.runTransaction("Execute query","readwrite",a=>function(u,d,p){const m=de(u),v=m.rs.get(p);return v!==void 0?z.resolve(m.ns.get(v)):m.Qr.getTargetData(d,p)}(r,a,pr(e)).next(c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(a,c.targetId).next(u=>{s=u})}).next(()=>r.ts.getDocumentsMatchingQuery(a,e,n?i:he.min(),n?s:we())).next(c=>(D9(r,CV(e),c),{documents:c,hs:s})))}function D9(t,e,n){let r=t.ss.get(e)||he.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.ss.set(e,r)}class r2{constructor(){this.activeTargetIds=OV()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class V9{constructor(){this.no=new r2,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new r2,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F9{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){B("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){B("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cc=null;function _m(){return Cc===null?Cc=function(){return 268435456+Math.round(2147483648*Math.random())}():Cc++,"0x"+Cc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z9={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j9{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ft="WebChannelConnection";class $9 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.fo=r+"://"+n.host,this.po=`projects/${i}/databases/${s}`,this.yo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get wo(){return!1}So(n,r,i,s,a){const c=_m(),u=this.bo(n,r.toUriEncodedString());B("RestConnection",`Sending RPC '${n}' ${c}:`,u,i);const d={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(d,s,a),this.Co(n,u,d,i).then(p=>(B("RestConnection",`Received RPC '${n}' ${c}: `,p),p),p=>{throw Ao("RestConnection",`RPC '${n}' ${c} failed with error: `,p,"url: ",u,"request:",i),p})}vo(n,r,i,s,a,c){return this.So(n,r,i,s,a)}Do(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Qo}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,a)=>n[a]=s),i&&i.headers.forEach((s,a)=>n[a]=s)}bo(n,r){const i=z9[n];return`${this.fo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,n,r,i){const s=_m();return new Promise((a,c)=>{const u=new q5;u.setWithCredentials(!0),u.listenOnce(H5.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case gm.NO_ERROR:const p=u.getResponseJson();B(Ft,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),a(p);break;case gm.TIMEOUT:B(Ft,`RPC '${e}' ${s} timed out`),c(new q(F.DEADLINE_EXCEEDED,"Request time out"));break;case gm.HTTP_ERROR:const m=u.getStatus();if(B(Ft,`RPC '${e}' ${s} failed with status:`,m,"response text:",u.getResponseText()),m>0){let v=u.getResponseJson();Array.isArray(v)&&(v=v[0]);const E=v==null?void 0:v.error;if(E&&E.status&&E.message){const C=function(P){const _=P.toLowerCase().replace(/_/g,"-");return Object.values(F).indexOf(_)>=0?_:F.UNKNOWN}(E.status);c(new q(C,E.message))}else c(new q(F.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new q(F.UNAVAILABLE,"Connection failed."));break;default:ue()}}finally{B(Ft,`RPC '${e}' ${s} completed.`)}});const d=JSON.stringify(i);B(Ft,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",d,r,15)})}Fo(e,n,r){const i=_m(),s=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=U5(),c=B5(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(u.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Do(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const p=s.join("");B(Ft,`Creating RPC '${e}' stream ${i}: ${p}`,u);const m=a.createWebChannel(p,u);let v=!1,E=!1;const C=new j9({lo:P=>{E?B(Ft,`Not sending because RPC '${e}' stream ${i} is closed:`,P):(v||(B(Ft,`Opening RPC '${e}' stream ${i} transport.`),m.open(),v=!0),B(Ft,`RPC '${e}' stream ${i} sending:`,P),m.send(P))},ho:()=>m.close()}),T=(P,_,y)=>{P.listen(_,S=>{try{y(S)}catch(x){setTimeout(()=>{throw x},0)}})};return T(m,Tc.EventType.OPEN,()=>{E||B(Ft,`RPC '${e}' stream ${i} transport opened.`)}),T(m,Tc.EventType.CLOSE,()=>{E||(E=!0,B(Ft,`RPC '${e}' stream ${i} transport closed`),C.Vo())}),T(m,Tc.EventType.ERROR,P=>{E||(E=!0,Ao(Ft,`RPC '${e}' stream ${i} transport errored:`,P),C.Vo(new q(F.UNAVAILABLE,"The operation could not be completed")))}),T(m,Tc.EventType.MESSAGE,P=>{var _;if(!E){const y=P.data[0];Ve(!!y);const S=y,x=S.error||((_=S[0])===null||_===void 0?void 0:_.error);if(x){B(Ft,`RPC '${e}' stream ${i} received error:`,x);const A=x.status;let O=function(Z){const G=ot[Z];if(G!==void 0)return ox(G)}(A),M=x.message;O===void 0&&(O=F.INTERNAL,M="Unknown error status: "+A+" with message "+x.message),E=!0,C.Vo(new q(O,M)),m.close()}else B(Ft,`RPC '${e}' stream ${i} received:`,y),C.mo(y)}}),T(c,W5.STAT_EVENT,P=>{P.stat===LE.PROXY?B(Ft,`RPC '${e}' stream ${i} detected buffering proxy`):P.stat===LE.NOPROXY&&B(Ft,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{C.Ro()},0),C}}function ym(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yf(t){return new XV(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _x{constructor(e,n,r=1e3,i=1.5,s=6e4){this.oi=e,this.timerId=n,this.Mo=r,this.xo=i,this.Oo=s,this.No=0,this.Lo=null,this.Bo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,n-r);i>0&&B("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Lo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Lo!==null&&(this.Lo.skipDelay(),this.Lo=null)}cancel(){this.Lo!==null&&(this.Lo.cancel(),this.Lo=null)}Qo(){return(Math.random()-.5)*this.No}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yx{constructor(e,n,r,i,s,a,c,u){this.oi=e,this.$o=r,this.Uo=i,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=c,this.listener=u,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new _x(e,n)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(e,n){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,e!==4?this.jo.reset():n&&n.code===F.RESOURCE_EXHAUSTED?(_r(n.toString()),_r("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===F.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.To(n)}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Wo===n&&this.o_(r,i)},r=>{e(()=>{const i=new q(F.UNKNOWN,"Fetching auth token failed: "+r.message);return this.__(i)})})}o_(e,n){const r=this.s_(this.Wo);this.stream=this.a_(e,n),this.stream.Po(()=>{r(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(i=>{r(()=>this.__(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Yo(){this.state=5,this.jo.qo(async()=>{this.state=0,this.start()})}__(e){return B("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return n=>{this.oi.enqueueAndForget(()=>this.Wo===e?n():(B("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class U9 extends yx{constructor(e,n,r,i,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s}a_(e,n){return this.connection.Fo("Listen",e,n)}onMessage(e){this.jo.reset();const n=t9(this.serializer,e),r=function(s){if(!("targetChange"in s))return he.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?he.min():a.readTime?gr(a.readTime):he.min()}(e);return this.listener.u_(n,r)}c_(e){const n={};n.database=ov(this.serializer),n.addTarget=function(s,a){let c;const u=a.target;if(c=ev(u)?{documents:i9(s,u)}:{query:s9(s,u).ut},c.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){c.resumeToken=ux(s,a.resumeToken);const d=rv(s,a.expectedCount);d!==null&&(c.expectedCount=d)}else if(a.snapshotVersion.compareTo(he.min())>0){c.readTime=ud(s,a.snapshotVersion.toTimestamp());const d=rv(s,a.expectedCount);d!==null&&(c.expectedCount=d)}return c}(this.serializer,e);const r=a9(this.serializer,e);r&&(n.labels=r),this.t_(n)}l_(e){const n={};n.database=ov(this.serializer),n.removeTarget=e,this.t_(n)}}class B9 extends yx{constructor(e,n,r,i,s,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,n){return this.connection.Fo("Write",e,n)}onMessage(e){if(Ve(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const n=r9(e.writeResults,e.commitTime),r=gr(e.commitTime);return this.listener.T_(r,n)}return Ve(!e.writeResults||e.writeResults.length===0),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=ov(this.serializer),this.t_(e)}I_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>n9(this.serializer,r))};this.t_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H9 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.A_=!1}R_(){if(this.A_)throw new q(F.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.So(e,iv(n,r),i,s,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new q(F.UNKNOWN,s.toString())})}vo(e,n,r,i,s){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,c])=>this.connection.vo(e,iv(n,r),i,a,c,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new q(F.UNKNOWN,a.toString())})}terminate(){this.A_=!0,this.connection.terminate()}}class W9{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,e==="Online"&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(_r(n),this.g_=!1):B("OnlineStateTracker",n)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q9{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=s,this.M_.io(a=>{r.enqueueAndForget(async()=>{Rs(this)&&(B("RemoteStore","Restarting streams for network reachability change."),await async function(u){const d=de(u);d.v_.add(4),await Pu(d),d.x_.set("Unknown"),d.v_.delete(4),await wf(d)}(this))})}),this.x_=new W9(r,i)}}async function wf(t){if(Rs(t))for(const e of t.F_)await e(!0)}async function Pu(t){for(const e of t.F_)await e(!1)}function wx(t,e){const n=de(t);n.C_.has(e.targetId)||(n.C_.set(e.targetId,e),Py(n)?Iy(n):Xo(n).Jo()&&Ty(n,e))}function Sy(t,e){const n=de(t),r=Xo(n);n.C_.delete(e),r.Jo()&&Ex(n,e),n.C_.size===0&&(r.Jo()?r.Xo():Rs(n)&&n.x_.set("Unknown"))}function Ty(t,e){if(t.O_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(he.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Xo(t).c_(e)}function Ex(t,e){t.O_.Oe(e),Xo(t).l_(e)}function Iy(t){t.O_=new KV({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.C_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),Xo(t).start(),t.x_.p_()}function Py(t){return Rs(t)&&!Xo(t).Ho()&&t.C_.size>0}function Rs(t){return de(t).v_.size===0}function Sx(t){t.O_=void 0}async function G9(t){t.C_.forEach((e,n)=>{Ty(t,e)})}async function K9(t,e){Sx(t),Py(t)?(t.x_.S_(e),Iy(t)):t.x_.set("Unknown")}async function Z9(t,e,n){if(t.x_.set("Online"),e instanceof lx&&e.state===2&&e.cause)try{await async function(i,s){const a=s.cause;for(const c of s.targetIds)i.C_.has(c)&&(await i.remoteSyncer.rejectListen(c,a),i.C_.delete(c),i.O_.removeTarget(c))}(t,e)}catch(r){B("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await cd(t,r)}else if(e instanceof Yc?t.O_.$e(e):e instanceof ax?t.O_.Je(e):t.O_.Ge(e),!n.isEqual(he.min()))try{const r=await vx(t.localStore);n.compareTo(r)>=0&&await function(s,a){const c=s.O_.it(a);return c.targetChanges.forEach((u,d)=>{if(u.resumeToken.approximateByteSize()>0){const p=s.C_.get(d);p&&s.C_.set(d,p.withResumeToken(u.resumeToken,a))}}),c.targetMismatches.forEach((u,d)=>{const p=s.C_.get(u);if(!p)return;s.C_.set(u,p.withResumeToken(Gt.EMPTY_BYTE_STRING,p.snapshotVersion)),Ex(s,u);const m=new fi(p.target,u,d,p.sequenceNumber);Ty(s,m)}),s.remoteSyncer.applyRemoteEvent(c)}(t,n)}catch(r){B("RemoteStore","Failed to raise snapshot:",r),await cd(t,r)}}async function cd(t,e,n){if(!Eu(e))throw e;t.v_.add(1),await Pu(t),t.x_.set("Offline"),n||(n=()=>vx(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{B("RemoteStore","Retrying IndexedDB access"),await n(),t.v_.delete(1),await wf(t)})}function Tx(t,e){return e().catch(n=>cd(t,n,e))}async function Ef(t){const e=de(t),n=Li(e);let r=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;Q9(e);)try{const i=await M9(e.localStore,r);if(i===null){e.D_.length===0&&n.Xo();break}r=i.batchId,Y9(e,i)}catch(i){await cd(e,i)}Ix(e)&&Px(e)}function Q9(t){return Rs(t)&&t.D_.length<10}function Y9(t,e){t.D_.push(e);const n=Li(t);n.Jo()&&n.P_&&n.I_(e.mutations)}function Ix(t){return Rs(t)&&!Li(t).Ho()&&t.D_.length>0}function Px(t){Li(t).start()}async function X9(t){Li(t).d_()}async function J9(t){const e=Li(t);for(const n of t.D_)e.I_(n.mutations)}async function e8(t,e,n){const r=t.D_.shift(),i=gy.from(r,e,n);await Tx(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Ef(t)}async function t8(t,e){e&&Li(t).P_&&await async function(r,i){if(function(a){return WV(a)&&a!==F.ABORTED}(i.code)){const s=r.D_.shift();Li(r).Zo(),await Tx(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Ef(r)}}(t,e),Ix(t)&&Px(t)}async function s2(t,e){const n=de(t);n.asyncQueue.verifyOperationInProgress(),B("RemoteStore","RemoteStore received new credentials");const r=Rs(n);n.v_.add(3),await Pu(n),r&&n.x_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.v_.delete(3),await wf(n)}async function n8(t,e){const n=de(t);e?(n.v_.delete(2),await wf(n)):e||(n.v_.add(2),await Pu(n),n.x_.set("Unknown"))}function Xo(t){return t.N_||(t.N_=function(n,r,i){const s=de(n);return s.R_(),new U9(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:G9.bind(null,t),To:K9.bind(null,t),u_:Z9.bind(null,t)}),t.F_.push(async e=>{e?(t.N_.Zo(),Py(t)?Iy(t):t.x_.set("Unknown")):(await t.N_.stop(),Sx(t))})),t.N_}function Li(t){return t.L_||(t.L_=function(n,r,i){const s=de(n);return s.R_(),new B9(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:X9.bind(null,t),To:t8.bind(null,t),E_:J9.bind(null,t),T_:e8.bind(null,t)}),t.F_.push(async e=>{e?(t.L_.Zo(),await Ef(t)):(await t.L_.stop(),t.D_.length>0&&(B("RemoteStore",`Stopping write stream with ${t.D_.length} pending writes`),t.D_=[]))})),t.L_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cy{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new fr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const a=Date.now()+r,c=new Cy(e,n,a,i,s);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new q(F.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function xy(t,e){if(_r("AsyncQueue",`${e}: ${t}`),Eu(t))return new q(F.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(e){this.comparator=e?(n,r)=>e(n,r)||J.comparator(n.key,r.key):(n,r)=>J.comparator(n.key,r.key),this.keyedMap=za(),this.sortedSet=new Ye(this.comparator)}static emptySet(e){return new vo(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof vo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new vo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o2{constructor(){this.B_=new Ye(J.comparator)}track(e){const n=e.doc.key,r=this.B_.get(n);r?e.type!==0&&r.type===3?this.B_=this.B_.insert(n,e):e.type===3&&r.type!==1?this.B_=this.B_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.B_=this.B_.remove(n):e.type===1&&r.type===2?this.B_=this.B_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):ue():this.B_=this.B_.insert(n,e)}k_(){const e=[];return this.B_.inorderTraversal((n,r)=>{e.push(r)}),e}}class No{constructor(e,n,r,i,s,a,c,u,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=c,this.excludesMetadataChanges=u,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,i,s){const a=[];return n.forEach(c=>{a.push({type:0,doc:c})}),new No(e,n,vo.emptySet(n),a,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&pf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r8{constructor(){this.q_=void 0,this.Q_=[]}K_(){return this.Q_.some(e=>e.U_())}}class i8{constructor(){this.queries=new Yo(e=>qC(e),pf),this.onlineState="Unknown",this.W_=new Set}}async function Cx(t,e){const n=de(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.K_()&&e.U_()&&(r=2):(s=new r8,r=e.U_()?0:1);try{switch(r){case 0:s.q_=await n.onListen(i,!0);break;case 1:s.q_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(a){const c=xy(a,`Initialization of query '${Bs(e.query)}' failed`);return void e.onError(c)}n.queries.set(i,s),s.Q_.push(e),e.G_(n.onlineState),s.q_&&e.z_(s.q_)&&by(n)}async function xx(t,e){const n=de(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const a=s.Q_.indexOf(e);a>=0&&(s.Q_.splice(a,1),s.Q_.length===0?i=e.U_()?0:1:!s.K_()&&e.U_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function s8(t,e){const n=de(t);let r=!1;for(const i of e){const s=i.query,a=n.queries.get(s);if(a){for(const c of a.Q_)c.z_(i)&&(r=!0);a.q_=i}}r&&by(n)}function o8(t,e,n){const r=de(t),i=r.queries.get(e);if(i)for(const s of i.Q_)s.onError(n);r.queries.delete(e)}function by(t){t.W_.forEach(e=>{e.next()})}var lv,a2;(a2=lv||(lv={})).j_="default",a2.Cache="cache";class bx{constructor(e,n,r){this.query=e,this.H_=n,this.J_=!1,this.Y_=null,this.onlineState="Unknown",this.options=r||{}}z_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new No(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.J_?this.Z_(e)&&(this.H_.next(e),n=!0):this.X_(e,this.onlineState)&&(this.ea(e),n=!0),this.Y_=e,n}onError(e){this.H_.error(e)}G_(e){this.onlineState=e;let n=!1;return this.Y_&&!this.J_&&this.X_(this.Y_,e)&&(this.ea(this.Y_),n=!0),n}X_(e,n){if(!e.fromCache||!this.U_())return!0;const r=n!=="Offline";return(!this.options.ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Z_(e){if(e.docChanges.length>0)return!0;const n=this.Y_&&this.Y_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ea(e){e=No.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.J_=!0,this.H_.next(e)}U_(){return this.options.source!==lv.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rx{constructor(e){this.key=e}}class Ax{constructor(e){this.key=e}}class a8{constructor(e,n){this.query=e,this.ua=n,this.ca=null,this.hasCachedResults=!1,this.current=!1,this.la=we(),this.mutatedKeys=we(),this.ha=GC(e),this.Pa=new vo(this.ha)}get Ia(){return this.ua}Ta(e,n){const r=n?n.Ea:new o2,i=n?n.Pa:this.Pa;let s=n?n.mutatedKeys:this.mutatedKeys,a=i,c=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,d=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((p,m)=>{const v=i.get(p),E=mf(this.query,m)?m:null,C=!!v&&this.mutatedKeys.has(v.key),T=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations);let P=!1;v&&E?v.data.isEqual(E.data)?C!==T&&(r.track({type:3,doc:E}),P=!0):this.da(v,E)||(r.track({type:2,doc:E}),P=!0,(u&&this.ha(E,u)>0||d&&this.ha(E,d)<0)&&(c=!0)):!v&&E?(r.track({type:0,doc:E}),P=!0):v&&!E&&(r.track({type:1,doc:v}),P=!0,(u||d)&&(c=!0)),P&&(E?(a=a.add(E),s=T?s.add(p):s.delete(p)):(a=a.delete(p),s=s.delete(p)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const p=this.query.limitType==="F"?a.last():a.first();a=a.delete(p.key),s=s.delete(p.key),r.track({type:1,doc:p})}return{Pa:a,Ea:r,Xi:c,mutatedKeys:s}}da(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Pa;this.Pa=e.Pa,this.mutatedKeys=e.mutatedKeys;const a=e.Ea.k_();a.sort((p,m)=>function(E,C){const T=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ue()}};return T(E)-T(C)}(p.type,m.type)||this.ha(p.doc,m.doc)),this.Aa(r),i=i!=null&&i;const c=n&&!i?this.Ra():[],u=this.la.size===0&&this.current&&!i?1:0,d=u!==this.ca;return this.ca=u,a.length!==0||d?{snapshot:new No(this.query,e.Pa,s,a,e.mutatedKeys,u===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),Va:c}:{Va:c}}G_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Pa:this.Pa,Ea:new o2,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{Va:[]}}ma(e){return!this.ua.has(e)&&!!this.Pa.has(e)&&!this.Pa.get(e).hasLocalMutations}Aa(e){e&&(e.addedDocuments.forEach(n=>this.ua=this.ua.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ua=this.ua.delete(n)),this.current=e.current)}Ra(){if(!this.current)return[];const e=this.la;this.la=we(),this.Pa.forEach(r=>{this.ma(r.key)&&(this.la=this.la.add(r.key))});const n=[];return e.forEach(r=>{this.la.has(r)||n.push(new Ax(r))}),this.la.forEach(r=>{e.has(r)||n.push(new Rx(r))}),n}fa(e){this.ua=e.hs,this.la=we();const n=this.Ta(e.documents);return this.applyChanges(n,!0)}ga(){return No.fromInitialDocuments(this.query,this.Pa,this.mutatedKeys,this.ca===0,this.hasCachedResults)}}class l8{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class u8{constructor(e){this.key=e,this.pa=!1}}class c8{constructor(e,n,r,i,s,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.ya={},this.wa=new Yo(c=>qC(c),pf),this.Sa=new Map,this.ba=new Set,this.Da=new Ye(J.comparator),this.Ca=new Map,this.va=new yy,this.Fa={},this.Ma=new Map,this.xa=Mo.Ln(),this.onlineState="Unknown",this.Oa=void 0}get isPrimaryClient(){return this.Oa===!0}}async function h8(t,e,n=!0){const r=Dx(t);let i;const s=r.wa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.ga()):i=await kx(r,e,n,!0),i}async function d8(t,e){const n=Dx(t);await kx(n,e,!0,!1)}async function kx(t,e,n,r){const i=await N9(t.localStore,pr(e)),s=i.targetId,a=n?t.sharedClientState.addLocalQueryTarget(s):"not-current";let c;return r&&(c=await f8(t,e,s,a==="current",i.resumeToken)),t.isPrimaryClient&&n&&wx(t.remoteStore,i),c}async function f8(t,e,n,r,i){t.Na=(m,v,E)=>async function(T,P,_,y){let S=P.view.Ta(_);S.Xi&&(S=await n2(T.localStore,P.query,!1).then(({documents:M})=>P.view.Ta(M,S)));const x=y&&y.targetChanges.get(P.targetId),A=y&&y.targetMismatches.get(P.targetId)!=null,O=P.view.applyChanges(S,T.isPrimaryClient,x,A);return u2(T,P.targetId,O.Va),O.snapshot}(t,m,v,E);const s=await n2(t.localStore,e,!0),a=new a8(e,s.hs),c=a.Ta(s.documents),u=Iu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),d=a.applyChanges(c,t.isPrimaryClient,u);u2(t,n,d.Va);const p=new l8(e,n,a);return t.wa.set(e,p),t.Sa.has(n)?t.Sa.get(n).push(e):t.Sa.set(n,[e]),d.snapshot}async function p8(t,e,n){const r=de(t),i=r.wa.get(e),s=r.Sa.get(i.targetId);if(s.length>1)return r.Sa.set(i.targetId,s.filter(a=>!pf(a,e))),void r.wa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await av(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Sy(r.remoteStore,i.targetId),uv(r,i.targetId)}).catch(wu)):(uv(r,i.targetId),await av(r.localStore,i.targetId,!0))}async function m8(t,e){const n=de(t),r=n.wa.get(e),i=n.Sa.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Sy(n.remoteStore,r.targetId))}async function g8(t,e,n){const r=T8(t);try{const i=await function(a,c){const u=de(a),d=mt.now(),p=c.reduce((E,C)=>E.add(C.key),we());let m,v;return u.persistence.runTransaction("Locally write mutations","readwrite",E=>{let C=Ur(),T=we();return u.os.getEntries(E,p).next(P=>{C=P,C.forEach((_,y)=>{y.isValidDocument()||(T=T.add(_))})}).next(()=>u.localDocuments.getOverlayedDocuments(E,C)).next(P=>{m=P;const _=[];for(const y of c){const S=jV(y,m.get(y.key).overlayedDocument);S!=null&&_.push(new $i(y.key,S,FC(S.value.mapValue),mr.exists(!0)))}return u.mutationQueue.addMutationBatch(E,d,_,c)}).next(P=>{v=P;const _=P.applyToLocalDocumentSet(m,T);return u.documentOverlayCache.saveOverlays(E,P.batchId,_)})}).then(()=>({batchId:v.batchId,changes:ZC(m)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,c,u){let d=a.Fa[a.currentUser.toKey()];d||(d=new Ye(Ae)),d=d.insert(c,u),a.Fa[a.currentUser.toKey()]=d}(r,i.batchId,n),await Cu(r,i.changes),await Ef(r.remoteStore)}catch(i){const s=xy(i,"Failed to persist write");n.reject(s)}}async function Ox(t,e){const n=de(t);try{const r=await O9(n.localStore,e);e.targetChanges.forEach((i,s)=>{const a=n.Ca.get(s);a&&(Ve(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?a.pa=!0:i.modifiedDocuments.size>0?Ve(a.pa):i.removedDocuments.size>0&&(Ve(a.pa),a.pa=!1))}),await Cu(n,r,e)}catch(r){await wu(r)}}function l2(t,e,n){const r=de(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.wa.forEach((s,a)=>{const c=a.view.G_(e);c.snapshot&&i.push(c.snapshot)}),function(a,c){const u=de(a);u.onlineState=c;let d=!1;u.queries.forEach((p,m)=>{for(const v of m.Q_)v.G_(c)&&(d=!0)}),d&&by(u)}(r.eventManager,e),i.length&&r.ya.u_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function v8(t,e,n){const r=de(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Ca.get(e),s=i&&i.key;if(s){let a=new Ye(J.comparator);a=a.insert(s,Ut.newNoDocument(s,he.min()));const c=we().add(s),u=new _f(he.min(),new Map,new Ye(Ae),a,c);await Ox(r,u),r.Da=r.Da.remove(s),r.Ca.delete(e),Ry(r)}else await av(r.localStore,e,!1).then(()=>uv(r,e,n)).catch(wu)}async function _8(t,e){const n=de(t),r=e.batch.batchId;try{const i=await k9(n.localStore,e);Mx(n,r,null),Lx(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Cu(n,i)}catch(i){await wu(i)}}async function y8(t,e,n){const r=de(t);try{const i=await function(a,c){const u=de(a);return u.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let p;return u.mutationQueue.lookupMutationBatch(d,c).next(m=>(Ve(m!==null),p=m.keys(),u.mutationQueue.removeMutationBatch(d,m))).next(()=>u.mutationQueue.performConsistencyCheck(d)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(d,p,c)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,p)).next(()=>u.localDocuments.getDocuments(d,p))})}(r.localStore,e);Mx(r,e,n),Lx(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Cu(r,i)}catch(i){await wu(i)}}function Lx(t,e){(t.Ma.get(e)||[]).forEach(n=>{n.resolve()}),t.Ma.delete(e)}function Mx(t,e,n){const r=de(t);let i=r.Fa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Fa[r.currentUser.toKey()]=i}}function uv(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Sa.get(e))t.wa.delete(r),n&&t.ya.La(r,n);t.Sa.delete(e),t.isPrimaryClient&&t.va.Vr(e).forEach(r=>{t.va.containsKey(r)||Nx(t,r)})}function Nx(t,e){t.ba.delete(e.path.canonicalString());const n=t.Da.get(e);n!==null&&(Sy(t.remoteStore,n),t.Da=t.Da.remove(e),t.Ca.delete(n),Ry(t))}function u2(t,e,n){for(const r of n)r instanceof Rx?(t.va.addReference(r.key,e),w8(t,r)):r instanceof Ax?(B("SyncEngine","Document no longer in limbo: "+r.key),t.va.removeReference(r.key,e),t.va.containsKey(r.key)||Nx(t,r.key)):ue()}function w8(t,e){const n=e.key,r=n.path.canonicalString();t.Da.get(n)||t.ba.has(r)||(B("SyncEngine","New document in limbo: "+n),t.ba.add(r),Ry(t))}function Ry(t){for(;t.ba.size>0&&t.Da.size<t.maxConcurrentLimboResolutions;){const e=t.ba.values().next().value;t.ba.delete(e);const n=new J($e.fromString(e)),r=t.xa.next();t.Ca.set(r,new u8(n)),t.Da=t.Da.insert(n,r),wx(t.remoteStore,new fi(pr(my(n.path)),r,"TargetPurposeLimboResolution",uy._e))}}async function Cu(t,e,n){const r=de(t),i=[],s=[],a=[];r.wa.isEmpty()||(r.wa.forEach((c,u)=>{a.push(r.Na(u,e,n).then(d=>{if((d||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,d!=null&&d.fromCache?"not-current":"current"),d){i.push(d);const p=Ey.Ki(u.targetId,d);s.push(p)}}))}),await Promise.all(a),r.ya.u_(i),await async function(u,d){const p=de(u);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>z.forEach(d,v=>z.forEach(v.qi,E=>p.persistence.referenceDelegate.addReference(m,v.targetId,E)).next(()=>z.forEach(v.Qi,E=>p.persistence.referenceDelegate.removeReference(m,v.targetId,E)))))}catch(m){if(!Eu(m))throw m;B("LocalStore","Failed to update sequence numbers: "+m)}for(const m of d){const v=m.targetId;if(!m.fromCache){const E=p.ns.get(v),C=E.snapshotVersion,T=E.withLastLimboFreeSnapshotVersion(C);p.ns=p.ns.insert(v,T)}}}(r.localStore,s))}async function E8(t,e){const n=de(t);if(!n.currentUser.isEqual(e)){B("SyncEngine","User change. New user:",e.toKey());const r=await gx(n.localStore,e);n.currentUser=e,function(s,a){s.Ma.forEach(c=>{c.forEach(u=>{u.reject(new q(F.CANCELLED,a))})}),s.Ma.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Cu(n,r.us)}}function S8(t,e){const n=de(t),r=n.Ca.get(e);if(r&&r.pa)return we().add(r.key);{let i=we();const s=n.Sa.get(e);if(!s)return i;for(const a of s){const c=n.wa.get(a);i=i.unionWith(c.view.Ia)}return i}}function Dx(t){const e=de(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Ox.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=S8.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=v8.bind(null,e),e.ya.u_=s8.bind(null,e.eventManager),e.ya.La=o8.bind(null,e.eventManager),e}function T8(t){const e=de(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=_8.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=y8.bind(null,e),e}class c2{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=yf(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return A9(this.persistence,new b9,e.initialUser,this.serializer)}createPersistence(e){return new P9(wy.Hr,this.serializer)}createSharedClientState(e){return new V9}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class I8{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>l2(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=E8.bind(null,this.syncEngine),await n8(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new i8}()}createDatastore(e){const n=yf(e.databaseInfo.databaseId),r=function(s){return new $9(s)}(e.databaseInfo);return function(s,a,c,u){return new H9(s,a,c,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,a,c){return new q9(r,i,s,a,c)}(this.localStore,this.datastore,e.asyncQueue,n=>l2(this.syncEngine,n,0),function(){return i2.D()?new i2:new F9}())}createSyncEngine(e,n){return function(i,s,a,c,u,d,p){const m=new c8(i,s,a,c,u,d);return p&&(m.Oa=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(r){const i=de(r);B("RemoteStore","RemoteStore shutting down."),i.v_.add(5),await Pu(i),i.M_.shutdown(),i.x_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vx{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.qa(this.observer.next,e)}error(e){this.observer.error?this.qa(this.observer.error,e):_r("Uncaught Error in snapshot listener:",e.toString())}Qa(){this.muted=!0}qa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P8{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=jt.UNAUTHENTICATED,this.clientId=NC.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{B("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(B("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new q(F.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new fr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=xy(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function wm(t,e){t.asyncQueue.verifyOperationInProgress(),B("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await gx(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function h2(t,e){t.asyncQueue.verifyOperationInProgress();const n=await x8(t);B("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>s2(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>s2(e.remoteStore,i)),t._onlineComponents=e}function C8(t){return t.name==="FirebaseError"?t.code===F.FAILED_PRECONDITION||t.code===F.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function x8(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){B("FirestoreClient","Using user provided OfflineComponentProvider");try{await wm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!C8(n))throw n;Ao("Error using user provided cache. Falling back to memory cache: "+n),await wm(t,new c2)}}else B("FirestoreClient","Using default OfflineComponentProvider"),await wm(t,new c2);return t._offlineComponents}async function Fx(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(B("FirestoreClient","Using user provided OnlineComponentProvider"),await h2(t,t._uninitializedComponentsProvider._online)):(B("FirestoreClient","Using default OnlineComponentProvider"),await h2(t,new I8))),t._onlineComponents}function b8(t){return Fx(t).then(e=>e.syncEngine)}async function zx(t){const e=await Fx(t),n=e.eventManager;return n.onListen=h8.bind(null,e.syncEngine),n.onUnlisten=p8.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=d8.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=m8.bind(null,e.syncEngine),n}function R8(t,e,n={}){const r=new fr;return t.asyncQueue.enqueueAndForget(async()=>function(s,a,c,u,d){const p=new Vx({next:v=>{a.enqueueAndForget(()=>xx(s,m));const E=v.docs.has(c);!E&&v.fromCache?d.reject(new q(F.UNAVAILABLE,"Failed to get document because the client is offline.")):E&&v.fromCache&&u&&u.source==="server"?d.reject(new q(F.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(v)},error:v=>d.reject(v)}),m=new bx(my(c.path),p,{includeMetadataChanges:!0,ta:!0});return Cx(s,m)}(await zx(t),t.asyncQueue,e,n,r)),r.promise}function A8(t,e,n={}){const r=new fr;return t.asyncQueue.enqueueAndForget(async()=>function(s,a,c,u,d){const p=new Vx({next:v=>{a.enqueueAndForget(()=>xx(s,m)),v.fromCache&&u.source==="server"?d.reject(new q(F.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(v)},error:v=>d.reject(v)}),m=new bx(c,p,{includeMetadataChanges:!0,ta:!0});return Cx(s,m)}(await zx(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jx(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d2=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $x(t,e,n){if(!n)throw new q(F.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function k8(t,e,n,r){if(e===!0&&r===!0)throw new q(F.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function f2(t){if(!J.isDocumentKey(t))throw new q(F.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function p2(t){if(J.isDocumentKey(t))throw new q(F.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Sf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ue()}function Mi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new q(F.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Sf(t);throw new q(F.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new q(F.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new q(F.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}k8("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=jx((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new q(F.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new q(F.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new q(F.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Tf{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new m2({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new q(F.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new q(F.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new m2(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new K5;switch(r.type){case"firstParty":return new X5(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new q(F.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=d2.get(n);r&&(B("ComponentProvider","Removing Datastore"),d2.delete(n),r.terminate())}(this),Promise.resolve()}}function O8(t,e,n,r={}){var i;const s=(t=Mi(t,Tf))._getSettings(),a=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==a&&Ao("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:a,ssl:!1})),r.mockUserToken){let c,u;if(typeof r.mockUserToken=="string")c=r.mockUserToken,u=jt.MOCK_USER;else{c=Y3(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const d=r.mockUserToken.sub||r.mockUserToken.user_id;if(!d)throw new q(F.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new jt(d)}t._authCredentials=new Z5(new MC(c,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Jo(this.firestore,e,this._query)}}class un{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ci(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new un(this.firestore,e,this._key)}}class Ci extends Jo{constructor(e,n,r){super(e,n,my(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new un(this.firestore,null,new J(e))}withConverter(e){return new Ci(this.firestore,e,this._path)}}function Ts(t,e,...n){if(t=gt(t),$x("collection","path",e),t instanceof Tf){const r=$e.fromString(e,...n);return p2(r),new Ci(t,null,r)}{if(!(t instanceof un||t instanceof Ci))throw new q(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child($e.fromString(e,...n));return p2(r),new Ci(t.firestore,null,r)}}function Ay(t,e,...n){if(t=gt(t),arguments.length===1&&(e=NC.newId()),$x("doc","path",e),t instanceof Tf){const r=$e.fromString(e,...n);return f2(r),new un(t,null,new J(r))}{if(!(t instanceof un||t instanceof Ci))throw new q(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child($e.fromString(e,...n));return f2(r),new un(t.firestore,t instanceof Ci?t.converter:null,new J(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L8{constructor(){this.nu=Promise.resolve(),this.ru=[],this.iu=!1,this.su=[],this.ou=null,this._u=!1,this.au=!1,this.uu=[],this.jo=new _x(this,"async_queue_retry"),this.cu=()=>{const n=ym();n&&B("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};const e=ym();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.cu)}get isShuttingDown(){return this.iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.lu(),this.hu(e)}enterRestrictedMode(e){if(!this.iu){this.iu=!0,this.au=e||!1;const n=ym();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.cu)}}enqueue(e){if(this.lu(),this.iu)return new Promise(()=>{});const n=new fr;return this.hu(()=>this.iu&&this.au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.ru.push(e),this.Pu()))}async Pu(){if(this.ru.length!==0){try{await this.ru[0](),this.ru.shift(),this.jo.reset()}catch(e){if(!Eu(e))throw e;B("AsyncQueue","Operation failed with retryable error: "+e)}this.ru.length>0&&this.jo.qo(()=>this.Pu())}}hu(e){const n=this.nu.then(()=>(this._u=!0,e().catch(r=>{this.ou=r,this._u=!1;const i=function(a){let c=a.message||"";return a.stack&&(c=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),c}(r);throw _r("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this._u=!1,r))));return this.nu=n,n}enqueueAfterDelay(e,n,r){this.lu(),this.uu.indexOf(e)>-1&&(n=0);const i=Cy.createAndSchedule(this,e,n,r,s=>this.Iu(s));return this.su.push(i),i}lu(){this.ou&&ue()}verifyOperationInProgress(){}async Tu(){let e;do e=this.nu,await e;while(e!==this.nu)}Eu(e){for(const n of this.su)if(n.timerId===e)return!0;return!1}du(e){return this.Tu().then(()=>{this.su.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.su)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tu()})}Au(e){this.uu.push(e)}Iu(e){const n=this.su.indexOf(e);this.su.splice(n,1)}}class xu extends Tf{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new L8}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Ux(this),this._firestoreClient.terminate()}}function M8(t,e){const n=typeof t=="object"?t:ZI(),r=typeof t=="string"?t:e||"(default)",i=b_(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=Z3("firestore");s&&O8(i,...s)}return i}function ky(t){return t._firestoreClient||Ux(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Ux(t){var e,n,r;const i=t._freezeSettings(),s=function(c,u,d,p){return new dV(c,u,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,jx(p.experimentalLongPollingOptions),p.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new P8(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Do(Gt.fromBase64String(e))}catch(n){throw new q(F.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Do(Gt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new q(F.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new kt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oy{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new q(F.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new q(F.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ae(this._lat,e._lat)||Ae(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N8=/^__.*__$/;class D8{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new $i(e,this.data,this.fieldMask,n,this.fieldTransforms):new Tu(e,this.data,n,this.fieldTransforms)}}class Bx{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new $i(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Hx(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ue()}}class Ly{constructor(e,n,r,i,s,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Ru(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Vu(){return this.settings.Vu}mu(e){return new Ly(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}fu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.mu({path:r,gu:!1});return i.pu(e),i}yu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.mu({path:r,gu:!1});return i.Ru(),i}wu(e){return this.mu({path:void 0,gu:!0})}Su(e){return hd(e,this.settings.methodName,this.settings.bu||!1,this.path,this.settings.Du)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ru(){if(this.path)for(let e=0;e<this.path.length;e++)this.pu(this.path.get(e))}pu(e){if(e.length===0)throw this.Su("Document fields must not be empty");if(Hx(this.Vu)&&N8.test(e))throw this.Su('Document fields cannot begin and end with "__"')}}class V8{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||yf(e)}Cu(e,n,r,i=!1){return new Ly({Vu:e,methodName:n,Du:r,path:kt.emptyPath(),gu:!1,bu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function My(t){const e=t._freezeSettings(),n=yf(t._databaseId);return new V8(t._databaseId,!!e.ignoreUndefinedProperties,n)}function F8(t,e,n,r,i,s={}){const a=t.Cu(s.merge||s.mergeFields?2:0,e,n,i);Dy("Data must be an object, but it was:",a,r);const c=Wx(r,a);let u,d;if(s.merge)u=new pn(a.fieldMask),d=a.fieldTransforms;else if(s.mergeFields){const p=[];for(const m of s.mergeFields){const v=cv(e,m,n);if(!a.contains(v))throw new q(F.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);Gx(p,v)||p.push(v)}u=new pn(p),d=a.fieldTransforms.filter(m=>u.covers(m.field))}else u=null,d=a.fieldTransforms;return new D8(new nn(c),u,d)}class Cf extends Pf{_toFieldTransform(e){if(e.Vu!==2)throw e.Vu===1?e.Su(`${this._methodName}() can only appear at the top level of your update data`):e.Su(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Cf}}class Ny extends Pf{_toFieldTransform(e){return new DV(e.path,new Gl)}isEqual(e){return e instanceof Ny}}function z8(t,e,n,r){const i=t.Cu(1,e,n);Dy("Data must be an object, but it was:",i,r);const s=[],a=nn.empty();bs(r,(u,d)=>{const p=Vy(e,u,n);d=gt(d);const m=i.yu(p);if(d instanceof Cf)s.push(p);else{const v=bu(d,m);v!=null&&(s.push(p),a.set(p,v))}});const c=new pn(s);return new Bx(a,c,i.fieldTransforms)}function j8(t,e,n,r,i,s){const a=t.Cu(1,e,n),c=[cv(e,r,n)],u=[i];if(s.length%2!=0)throw new q(F.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<s.length;v+=2)c.push(cv(e,s[v])),u.push(s[v+1]);const d=[],p=nn.empty();for(let v=c.length-1;v>=0;--v)if(!Gx(d,c[v])){const E=c[v];let C=u[v];C=gt(C);const T=a.yu(E);if(C instanceof Cf)d.push(E);else{const P=bu(C,T);P!=null&&(d.push(E),p.set(E,P))}}const m=new pn(d);return new Bx(p,m,a.fieldTransforms)}function $8(t,e,n,r=!1){return bu(n,t.Cu(r?4:3,e))}function bu(t,e){if(qx(t=gt(t)))return Dy("Unsupported field value:",e,t),Wx(t,e);if(t instanceof Pf)return function(r,i){if(!Hx(i.Vu))throw i.Su(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Su(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.gu&&e.Vu!==4)throw e.Su("Nested arrays are not supported");return function(r,i){const s=[];let a=0;for(const c of r){let u=bu(c,i.wu(a));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),a++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=gt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return LV(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=mt.fromDate(r);return{timestampValue:ud(i.serializer,s)}}if(r instanceof mt){const s=new mt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ud(i.serializer,s)}}if(r instanceof Oy)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Do)return{bytesValue:ux(i.serializer,r._byteString)};if(r instanceof un){const s=i.databaseId,a=r.firestore._databaseId;if(!a.isEqual(s))throw i.Su(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:_y(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Su(`Unsupported field value: ${Sf(r)}`)}(t,e)}function Wx(t,e){const n={};return DC(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):bs(t,(r,i)=>{const s=bu(i,e.fu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function qx(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof mt||t instanceof Oy||t instanceof Do||t instanceof un||t instanceof Pf)}function Dy(t,e,n){if(!qx(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Sf(n);throw r==="an object"?e.Su(t+" a custom object"):e.Su(t+" "+r)}}function cv(t,e,n){if((e=gt(e))instanceof If)return e._internalPath;if(typeof e=="string")return Vy(t,e);throw hd("Field path arguments must be of type string or ",t,!1,void 0,n)}const U8=new RegExp("[~\\*/\\[\\]]");function Vy(t,e,n){if(e.search(U8)>=0)throw hd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new If(...e.split("."))._internalPath}catch{throw hd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function hd(t,e,n,r,i){const s=r&&!r.isEmpty(),a=i!==void 0;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let u="";return(s||a)&&(u+=" (found",s&&(u+=` in field ${r}`),a&&(u+=` in document ${i}`),u+=")"),new q(F.INVALID_ARGUMENT,c+t+u)}function Gx(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kx{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new un(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new B8(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Fy("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class B8 extends Kx{data(){return super.data()}}function Fy(t,e){return typeof e=="string"?Vy(t,e):e instanceof If?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H8(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new q(F.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class zy{}class W8 extends zy{}function jy(t,e,...n){let r=[];e instanceof zy&&r.push(e),r=r.concat(n),function(s){const a=s.filter(u=>u instanceof $y).length,c=s.filter(u=>u instanceof xf).length;if(a>1||a>0&&c>0)throw new q(F.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class xf extends W8{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new xf(e,n,r)}_apply(e){const n=this._parse(e);return Zx(e._query,n),new Jo(e.firestore,e.converter,tv(e._query,n))}_parse(e){const n=My(e.firestore);return function(s,a,c,u,d,p,m){let v;if(d.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new q(F.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){v2(m,p);const E=[];for(const C of m)E.push(g2(u,s,C));v={arrayValue:{values:E}}}else v=g2(u,s,m)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||v2(m,p),v=$8(c,a,m,p==="in"||p==="not-in");return ht.create(d,p,v)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function dd(t,e,n){const r=e,i=Fy("where",t);return xf._create(i,r,n)}class $y extends zy{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new $y(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Kn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let a=i;const c=s.getFlattenedFilters();for(const u of c)Zx(a,u),a=tv(a,u)}(e._query,n),new Jo(e.firestore,e.converter,tv(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function g2(t,e,n){if(typeof(n=gt(n))=="string"){if(n==="")throw new q(F.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!WC(e)&&n.indexOf("/")!==-1)throw new q(F.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child($e.fromString(n));if(!J.isDocumentKey(r))throw new q(F.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return zE(t,new J(r))}if(n instanceof un)return zE(t,n._key);throw new q(F.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Sf(n)}.`)}function v2(t,e){if(!Array.isArray(t)||t.length===0)throw new q(F.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Zx(t,e){const n=function(i,s){for(const a of i)for(const c of a.getFlattenedFilters())if(s.indexOf(c.op)>=0)return c.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new q(F.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new q(F.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class q8{convertValue(e,n="none"){switch(Ss(e)){case 0:return null;case 1:return e.booleanValue;case 2:return at(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Es(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw ue()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return bs(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new Oy(at(e.latitude),at(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=hy(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Hl(e));default:return null}}convertTimestamp(e){const n=Oi(e);return new mt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=$e.fromString(e);Ve(mx(r));const i=new Wl(r.get(1),r.get(3)),s=new J(r.popFirst(5));return i.isEqual(n)||_r(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G8(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Qx extends Kx{constructor(e,n,r,i,s,a){super(e,n,r,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Xc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Fy("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Xc extends Qx{data(e={}){return super.data(e)}}class K8{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new $a(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Xc(this._firestore,this._userDataWriter,r.key,r,new $a(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new q(F.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(c=>{const u=new Xc(i._firestore,i._userDataWriter,c.doc.key,c.doc,new $a(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:u,oldIndex:-1,newIndex:a++}})}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>s||c.type!==3).map(c=>{const u=new Xc(i._firestore,i._userDataWriter,c.doc.key,c.doc,new $a(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let d=-1,p=-1;return c.type!==0&&(d=a.indexOf(c.doc.key),a=a.delete(c.doc.key)),c.type!==1&&(a=a.add(c.doc),p=a.indexOf(c.doc.key)),{type:Z8(c.type),doc:u,oldIndex:d,newIndex:p}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Z8(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ue()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yx(t){t=Mi(t,un);const e=Mi(t.firestore,xu);return R8(ky(e),t._key).then(n=>Y8(e,t,n))}class Xx extends q8{constructor(e){super(),this.firestore=e}convertBytes(e){return new Do(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new un(this.firestore,null,n)}}function Ru(t){t=Mi(t,Jo);const e=Mi(t.firestore,xu),n=ky(e),r=new Xx(e);return H8(t._query),A8(n,t._query).then(i=>new K8(e,r,t,i))}function Q8(t,e,n,...r){t=Mi(t,un);const i=Mi(t.firestore,xu),s=My(i);let a;return a=typeof(e=gt(e))=="string"||e instanceof If?j8(s,"updateDoc",t._key,e,n,r):z8(s,"updateDoc",t._key,e),eb(i,[a.toMutation(t._key,mr.exists(!0))])}function Jx(t,e){const n=Mi(t.firestore,xu),r=Ay(t),i=G8(t.converter,e);return eb(n,[F8(My(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,mr.exists(!1))]).then(()=>r)}function eb(t,e){return function(r,i){const s=new fr;return r.asyncQueue.enqueueAndForget(async()=>g8(await b8(r),i,s)),s.promise}(ky(t),e)}function Y8(t,e,n){const r=n.docs.get(e._key),i=new Xx(t);return new Qx(t,i,e._key,r,new $a(n.hasPendingWrites,n.fromCache),e.converter)}function X8(){return new Ny("serverTimestamp")}(function(e,n=!0){(function(i){Qo=i})(qo),bo(new gs("firestore",(r,{instanceIdentifier:i,options:s})=>{const a=r.getProvider("app").getImmediate(),c=new xu(new Q5(r.getProvider("auth-internal")),new eV(r.getProvider("app-check-internal")),function(d,p){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new q(F.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Wl(d.options.projectId,p)}(a,i),a);return s=Object.assign({useFetchStreams:n},s),c._setSettings(s),c},"PUBLIC").setMultipleInstances(!0)),Pi(ME,"4.5.0",e),Pi(ME,"4.5.0","esm2017")})();const J8={apiKey:"AIzaSyCQDNyTiYEYjO7DxHeQ-Vq2Y7xjK0gh1GU",authDomain:"lunch-77c6b.firebaseapp.com",projectId:"lunch-77c6b",storageBucket:"lunch-77c6b.appspot.com",messagingSenderId:"263423518503",appId:"1:263423518503:web:1a627d336b1112f99b2b02"};KI(J8);const Br=M8(),Au=FD(),eF=async(t,e)=>{const n=await w6(Au,t,e),r={uid:n.user.uid,email:n.user.email,verifiedEmail:n.user.emailVerified};return await S6(n.user),r},tF=async(t,e)=>{const n=await E6(Au,t,e),r={uid:n.user.uid,email:n.user.email,verifiedEmail:n.user.emailVerified};return localStorage.setItem(`verifiedEmail${n.user.uid}`,n.user.emailVerified),r},nF=async()=>await C6(Au),rF=async t=>y6(Au,t),bf={signup:eF,login:tF,logout:nF,resetPassword:rF},iF={user:null,loading:!1,error:null,authIsReady:!1,verifiedEmail:!1},Jc=Mn("auth/register",async(t,e)=>{try{return await bf.signup(t.email,t.password)}catch(n){return e.rejectWithValue(n.message)}}),eh=Mn("auth/login",async(t,e)=>{try{return await bf.login(t.email,t.password)}catch(n){return e.rejectWithValue(n.message)}}),tb=Mn("auth/logout",async(t,e)=>{try{return await bf.logout()}catch(n){return e.rejectWithValue(n.message)}}),sF=Mn("auth/forgot-password",async(t,e)=>{try{return await bf.resetPassword(t)}catch(n){return e.rejectWithValue(n.message)}}),nb=Hd({name:"auth",initialState:iF,reducers:{setError:(t,e)=>{t.error=e.payload},authReady:(t,e)=>{t.user=e.payload,t.authIsReady=!0}},extraReducers:t=>{t.addCase(Jc.pending,e=>{e.loading=!0}).addCase(Jc.fulfilled,(e,n)=>{e.user=n.payload,e.verifiedEmail=n.payload.verifiedEmail,e.loading=!1,e.error=null}).addCase(Jc.rejected,(e,n)=>{e.loading=!1,e.error=n.payload}).addCase(eh.pending,e=>{e.loading=!0}).addCase(eh.fulfilled,(e,n)=>{e.user=n.payload,e.verifiedEmail=n.payload.verifiedEmail,e.loading=!1,e.error=null}).addCase(eh.rejected,(e,n)=>{e.loading=!1,e.error=n.payload}).addCase(tb.fulfilled,e=>{e.user=null})}}),{setError:sl,authReady:oF}=nb.actions,aF=nb.reducer,lF={loginModalOpen:!1,registerModalOpen:!1,forgotPasswordModalOpen:!1,confirmationModalOpen:!1},rb=Hd({name:"Modal",initialState:lF,reducers:{openLoginModal(t){t.loginModalOpen=!0},openRegisterModal(t){t.registerModalOpen=!0},openForgotPasswordModal(t){t.forgotPasswordModalOpen=!0},openConfirmationModal(t){t.confirmationModalOpen=!0},closeModal(t){t.loginModalOpen=!1,t.registerModalOpen=!1,t.forgotPasswordModalOpen=!1,t.confirmationModalOpen=!1}}}),{openLoginModal:Uy,openRegisterModal:uF,openForgotPasswordModal:cF,closeModal:kr,openConfirmationModal:hF}=rb.actions,dF=rb.reducer,fF=()=>{const{user:t,loading:e,error:n}=ct(v=>v.auth),r=Zn(),[i,s]=R.useState(!1),[a,c]=R.useState({email:"",password:""}),u=v=>{const{id:E,value:C}=v.target;c(T=>({...T,[E]:C}))},d=async v=>{v.preventDefault(),await r(eh(a)),s(!0)};R.useEffect(()=>{r(sl(""))},[]),R.useEffect(()=>{t&&i&&r(kr())},[i,t]);const p=()=>{r(kr())},m=v=>{v==="forgot"?(r(kr()),r(cF())):v==="register"&&(r(kr()),r(uF()))};return I.jsx("div",{className:"Login padding-top-navbar",children:I.jsxs("div",{className:"btn-and-form",children:[I.jsxs("div",{className:"login-form-container",children:[I.jsxs("p",{className:"register-link",children:["Don't have an account?",I.jsx("span",{onClick:()=>m("register"),className:"underline",children:"Register"})]}),I.jsxs("form",{noValidate:!0,className:"login-form",children:[I.jsx("label",{htmlFor:"email",children:"Email"}),I.jsx("input",{type:"email",className:"form-control",id:"email",value:a.email,onChange:u}),I.jsx("label",{htmlFor:"password",children:"Password"}),I.jsx("input",{type:"password",className:"form-control",id:"password",value:a.password,onChange:u}),e&&I.jsx("p",{children:"Loading..."}),n&&I.jsx("p",{children:n}),I.jsx("div",{onClick:()=>m("forgot"),className:"forgot-password",children:"Forgot password?"}),I.jsx("button",{className:"btn",onClick:d,children:"Log in to your account"})]})]}),I.jsx("button",{className:"btn btn-close-modal",onClick:p,children:"Close"})]})})},pF=({text:t})=>{const e=Zn(),n=()=>{e(kr())};return I.jsx("div",{className:"ConfirmationModal",children:I.jsxs("div",{className:"inner-modal",children:[I.jsx("p",{children:t}),I.jsx("button",{className:"btn",onClick:n,children:"Got it!"})]})})},mF=()=>{const{loading:t,error:e}=ct(p=>p.modal),{confirmationModalOpen:n}=ct(p=>p.modal),r=Zn(),[i,s]=R.useState({email:""}),a=p=>{const{id:m,value:v}=p.target;s(E=>({...E,[m]:v}))},c=async p=>{p.preventDefault(),await r(sF(i.email)),i.email&&r(hF())};R.useEffect(()=>{r(sl(""))},[]);const u=()=>{r(kr())},d=()=>{r(kr()),r(Uy())};return I.jsxs("div",{className:"ForgotPassword padding-top-navbar",children:[n&&I.jsx(pF,{text:"Check your inbox for an email!"}),I.jsxs("div",{className:"btn-and-form",children:[I.jsxs("div",{className:"form-container",children:[I.jsx("h1",{children:"Reset Password"}),I.jsxs("form",{noValidate:!0,className:"reset-form",children:[I.jsx("label",{htmlFor:"email",children:"Email"}),I.jsx("input",{type:"email",className:"form-control",id:"email",value:i.email,onChange:a}),t&&I.jsx("p",{children:"Loading..."}),e&&I.jsx("p",{children:e}),I.jsx("div",{className:"link-to-login",onClick:d,children:"Go back to login"}),I.jsx("button",{className:"btn",onClick:c,children:"Reset Password"})]})]}),I.jsx("button",{className:"btn btn-close-modal",onClick:u,children:"Close"})]})]})},gF=()=>{const{user:t,loading:e,error:n}=ct(E=>E.auth),r=Zn(),i=Wo(),[s,a]=R.useState(!1),[c,u]=R.useState({email:"",password:"",confirmPassword:""}),d=E=>{const{id:C,value:T}=E.target;u(P=>({...P,[C]:T}))};R.useEffect(()=>{r(sl(""))},[]);const p=async E=>{if(E.preventDefault(),c.password!=c.confirmPassword){r(sl("The passwords do not match"));return}if(!c.email.endsWith("@seenthis.se")){r(sl("This is only for SeenThis employes (and their emails)."));return}await r(Jc(c)),a(!0)};R.useEffect(()=>{t&&s&&i("/")},[s,t]);const m=()=>{r(kr())},v=()=>{r(kr()),r(Uy())};return I.jsx("div",{className:"Register padding-top-navbar",children:I.jsxs("div",{className:"btn-and-form",children:[I.jsxs("div",{className:"register-form-container",children:[I.jsxs("p",{children:["Already registered?",I.jsx("span",{onClick:v,className:"underline",children:"Login"})]}),I.jsxs("form",{noValidate:!0,className:"register-form",children:[I.jsx("label",{htmlFor:"email",children:"Email"}),I.jsx("input",{type:"email",className:"form-control",id:"email",value:c.email,onChange:d}),I.jsx("label",{htmlFor:"password",children:"Password"}),I.jsx("input",{type:"password",className:"form-control",id:"password",value:c.password,onChange:d}),I.jsx("label",{htmlFor:"confirmPassword",children:"Confirm password"}),I.jsx("input",{type:"password",className:"form-control",id:"confirmPassword",value:c.confirmPassword,onChange:d}),e&&I.jsx("p",{children:"Loading..."}),n&&I.jsx("p",{children:n}),I.jsx("button",{className:"btn",onClick:p,children:"Register"})]})]}),I.jsx("button",{className:"btn btn-close-modal",onClick:m,children:"Close"})]})})},vF=()=>{const{user:t}=ct(C=>C.auth),{loginModalOpen:e,forgotPasswordModalOpen:n,registerModalOpen:r}=ct(C=>C.modal),i=Zn(),s=Wo(),[a,c]=R.useState(!1),[u,d]=R.useState(!1),p=()=>{d(!1)},m=async()=>{s("/"),i(tb()),d(!1)},v=()=>{d(!u)};R.useEffect(()=>{const C=localStorage.getItem(`verifiedEmail${t==null?void 0:t.uid}`);C&&c(JSON.parse(C))},[t]);const E=()=>{i(Uy()),d(!1)};return I.jsxs("nav",{className:"Navbar",children:[e&&I.jsx(fF,{}),n&&I.jsx(mF,{}),r&&I.jsx(gF,{}),I.jsxs("div",{className:"container",children:[I.jsxs("div",{className:`hamburger-menu ${u?"openMenu":""}`,onClick:v,children:[I.jsx("div",{className:"bar"}),I.jsx("div",{className:"bar"}),I.jsx("div",{className:"bar"})]}),I.jsx(iu,{to:"/",children:I.jsxs("div",{className:"logo",children:[I.jsx("p",{children:"SEENTHIS"}),I.jsx("p",{children:"LUNCH"})]})}),I.jsxs("ul",{className:`ul-list ${u?"openMenu":""}`,children:[t&&!a&&I.jsx("p",{className:"not-verified-prompt",children:"To get full access, please verify your emailadress."}),I.jsx("li",{className:"list-item",onClick:p,children:I.jsx(Yp,{to:"/",children:"Restaurants"})}),t&&a&&I.jsxs(I.Fragment,{children:[I.jsx("li",{className:"list-item",onClick:p,children:I.jsx(Yp,{to:"/add",children:"Add Restaurant"})}),I.jsx("li",{className:"list-item",onClick:p,children:I.jsx(Yp,{to:"/profile",children:"Profile"})})]}),t?I.jsxs("li",{className:"list-item list-item-logout",onClick:m,children:["Logout ",I.jsx("span",{className:"logout-icon",children:I.jsx(RL,{})})]}):I.jsx("li",{className:"list-item",onClick:E,children:"Login"})]})]})]})},_F=async t=>{const e={...t,ratings:[]},n=Ts(Br,"restaurants"),r=await Jx(n,e);if(!r.id)throw new Error("Something went wrong");return{id:r.id,...e}},yF=async()=>{const t=Ts(Br,"restaurants"),e=await Ru(t),n=[];return e.forEach(r=>{n.push({id:r.id,...r.data()})}),n},wF=async t=>{const e=[];for(const n of t){const r=Ay(Br,"restaurants",n),i=await Yx(r);i.exists()&&e.push({id:i.id,...i.data()})}return e},EF=async(t,e)=>{const n=Ay(Br,t,e),r=await Yx(n);return{id:r.id,...r.data()}},Rf={createRestaurant:_F,getAllRestaurants:yF,getRestaurant:EF,getRestaurantsByIds:wF},SF={restaurants:[],restaurantsById:[],error:null,loading:!1,restaurant:null},th=Mn("restaurants/add",async(t,e)=>{try{return await Rf.createRestaurant(t)}catch(n){return e.rejectWithValue(n.message)}}),ol=Mn("/",async(t,e)=>{try{return await Rf.getAllRestaurants()}catch(n){return e.rejectWithValue(n.message)}}),nh=Mn("/profile",async({ids:t},e)=>{try{return await Rf.getRestaurantsByIds(t)}catch(n){return e.rejectWithValue(n.message)}}),rh=Mn("/restaurants/fetchById",async({collection:t,id:e},n)=>{try{return await Rf.getRestaurant(t,e)}catch(r){return n.rejectWithValue(r.message)}}),TF=Hd({name:"Restaurants",initialState:SF,reducers:{},extraReducers:t=>{t.addCase(th.pending,e=>{e.loading=!0}).addCase(th.fulfilled,(e,n)=>{e.loading=!1,e.error=null,e.restaurants=[...e.restaurants,n.payload]}).addCase(th.rejected,(e,n)=>{e.loading=!1,e.error=n.payload}).addCase(ol.pending,e=>{e.loading=!0}).addCase(ol.fulfilled,(e,n)=>{e.loading=!1,e.error=null,e.restaurants=n.payload}).addCase(ol.rejected,(e,n)=>{e.loading=!1,e.error=n.payload}).addCase(rh.pending,e=>{e.loading=!0}).addCase(rh.fulfilled,(e,n)=>{e.loading=!1,e.error=null,e.restaurant=n.payload}).addCase(rh.rejected,(e,n)=>{e.loading=!1,e.error=n.payload}).addCase(nh.pending,e=>{e.loading=!0}).addCase(nh.fulfilled,(e,n)=>{e.loading=!1,e.error=null,e.restaurantsById=n.payload}).addCase(nh.rejected,(e,n)=>{e.loading=!1,e.error=n.payload})}}),IF=TF.reducer,PF=async(t,e,n)=>{try{const r=Ts(Br,"ratings"),i=jy(Ts(Br,"ratings"),dd("restaurantId","==",e),dd("userId","==",t)),s=await Ru(i);s.empty?await Jx(r,{userId:t,restaurantId:e,rating:n,createdAt:X8()}):s.forEach(async a=>{const c=a.ref;await Q8(c,{rating:n})})}catch(r){throw console.error("Error adding/updating rating: ",r),r}},CF=async t=>{try{const e=jy(Ts(Br,"ratings"),dd("restaurantId","==",t)),n=await Ru(e);let r=[];return n.forEach(i=>{r.push(i.data().rating)}),r}catch(e){console.log(e)}},xF=async()=>{try{const t=await Ru(Ts(Br,"ratings"));let e=[];return t.forEach(n=>{const r=n.data();r.restaurantId&&r.rating&&e.push({restaurantId:r.restaurantId,rating:r.rating})}),e}catch(t){throw console.error(t),t}},bF=async t=>{try{const e=jy(Ts(Br,"ratings"),dd("userId","==",t)),n=await Ru(e);let r=[];return n.forEach(i=>{const s=i.data(),a=s.createdAt?s.createdAt.toDate():null;r.push({rating:s.rating,createdAt:a,restaurant:s.restaurantId})}),r}catch(e){console.log(e)}},Af={addRatingAsync:PF,getRatingsByRestaurantAsync:CF,getRatingsByUserAsync:bF,getAllRatingsAsync:xF},RF={ratings:[],error:null,loading:!1,userRatings:[],allRatings:[]},ih=Mn("ratings/addRating",async({userId:t,restaurantId:e,rating:n},r)=>{try{return await Af.addRatingAsync(t,e,n),{userId:t,restaurantId:e,rating:n}}catch(i){return r.rejectWithValue(i.message)}}),sh=Mn("ratings/getRatingsByRestaurant",async({restaurantId:t},e)=>{try{return await Af.getRatingsByRestaurantAsync(t)}catch(n){return e.rejectWithValue(n.message)}}),al=Mn("ratings/getAllRatings",async(t,e)=>{try{return await Af.getAllRatingsAsync()}catch(n){return e.rejectWithValue(n.message)}}),ll=Mn("ratings/getUserRatings",async({userId:t},e)=>{try{return(await Af.getRatingsByUserAsync(t)).map(i=>({...i,createdAt:i.createdAt?i.createdAt.toISOString():null}))}catch(n){return e.rejectWithValue(n.message)}}),AF=Hd({name:"Ratings",initialState:RF,reducers:{},extraReducers:t=>{t.addCase(ih.pending,e=>{e.loading=!0}).addCase(ih.fulfilled,(e,n)=>{e.loading=!1,e.error=null,e.ratings=[...e.ratings,n.payload]}).addCase(ih.rejected,(e,n)=>{e.loading=!1,e.error=n.payload}).addCase(sh.pending,e=>{e.loading=!0}).addCase(sh.fulfilled,(e,n)=>{e.loading=!1,e.error=null,e.ratings=n.payload}).addCase(sh.rejected,(e,n)=>{e.loading=!1,e.error=n.payload}).addCase(ll.pending,e=>{e.loading=!0}).addCase(ll.fulfilled,(e,n)=>{e.loading=!1,e.error=null,e.userRatings=n.payload}).addCase(ll.rejected,(e,n)=>{e.loading=!1,e.error=n.payload}).addCase(al.pending,e=>{e.loading=!0}).addCase(al.fulfilled,(e,n)=>{e.loading=!1,e.error=null,e.allRatings=n.payload}).addCase(al.rejected,(e,n)=>{e.loading=!1,e.error=n.payload})}}),kF=AF.reducer,By=()=>I.jsx("div",{className:"Loader",children:I.jsx("div",{className:"inner-loader"})});function OF(t){return Me({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M298.2 156.6c-52.7-25.7-114.5-10.5-150.2 32.8l55.2 55.2c6.3 6.3 6.3 16.4 0 22.6-3.1 3.1-7.2 4.7-11.3 4.7s-8.2-1.6-11.3-4.7L130.4 217 2.3 479.7c-2.9 6-3.1 13.3 0 19.7 5.4 11.1 18.9 15.7 30 10.3l133.6-65.2-49.2-49.2c-6.3-6.2-6.3-16.4 0-22.6 6.3-6.2 16.4-6.2 22.6 0l57 57 102-49.8c24-11.7 44.5-31.3 57.1-57.1 30.1-61.7 4.5-136.1-57.2-166.2zm92.1-34.9C409.8 81 399.7 32.9 360 0c-50.3 41.7-52.5 107.5-7.9 151.9l8 8c44.4 44.6 110.3 42.4 151.9-7.9-32.9-39.7-81-49.8-121.7-30.3z"},child:[]}]})(t)}function LF(t){return Me({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"},child:[]}]})(t)}function MF(t){return Me({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M575.2 325.7c.2-1.9.8-3.7.8-5.6 0-35.3-28.7-64-64-64-12.6 0-24.2 3.8-34.1 10-17.6-38.8-56.5-66-101.9-66-61.8 0-112 50.1-112 112 0 3 .7 5.8.9 8.7-49.6 3.7-88.9 44.7-88.9 95.3 0 53 43 96 96 96h272c53 0 96-43 96-96 0-42.1-27.2-77.4-64.8-90.4zm-430.4-22.6c-43.7-43.7-43.7-114.7 0-158.3 43.7-43.7 114.7-43.7 158.4 0 9.7 9.7 16.9 20.9 22.3 32.7 9.8-3.7 20.1-6 30.7-7.5L386 81.1c4-11.9-7.3-23.1-19.2-19.2L279 91.2 237.5 8.4C232-2.8 216-2.8 210.4 8.4L169 91.2 81.1 61.9C69.3 58 58 69.3 61.9 81.1l29.3 87.8-82.8 41.5c-11.2 5.6-11.2 21.5 0 27.1l82.8 41.4-29.3 87.8c-4 11.9 7.3 23.1 19.2 19.2l76.1-25.3c6.1-12.4 14-23.7 23.6-33.5-13.1-5.4-25.4-13.4-36-24zm-4.8-79.2c0 40.8 29.3 74.8 67.9 82.3 8-4.7 16.3-8.8 25.2-11.7 5.4-44.3 31-82.5 67.4-105C287.3 160.4 258 140 224 140c-46.3 0-84 37.6-84 83.9z"},child:[]}]})(t)}function NF(t){return Me({tag:"svg",attr:{viewBox:"0 0 288 512"},child:[{tag:"path",attr:{d:"M209.2 233.4l-108-31.6C88.7 198.2 80 186.5 80 173.5c0-16.3 13.2-29.5 29.5-29.5h66.3c12.2 0 24.2 3.7 34.2 10.5 6.1 4.1 14.3 3.1 19.5-2l34.8-34c7.1-6.9 6.1-18.4-1.8-24.5C238 74.8 207.4 64.1 176 64V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48h-2.5C45.8 64-5.4 118.7.5 183.6c4.2 46.1 39.4 83.6 83.8 96.6l102.5 30c12.5 3.7 21.2 15.3 21.2 28.3 0 16.3-13.2 29.5-29.5 29.5h-66.3C100 368 88 364.3 78 357.5c-6.1-4.1-14.3-3.1-19.5 2l-34.8 34c-7.1 6.9-6.1 18.4 1.8 24.5 24.5 19.2 55.1 29.9 86.5 30v48c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-48.2c46.6-.9 90.3-28.6 105.7-72.7 21.5-61.6-14.6-124.8-72.5-141.7z"},child:[]}]})(t)}function DF(t){return Me({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M327.1 96c-89.97 0-168.54 54.77-212.27 101.63L27.5 131.58c-12.13-9.18-30.24.6-27.14 14.66L24.54 256 .35 365.77c-3.1 14.06 15.01 23.83 27.14 14.66l87.33-66.05C158.55 361.23 237.13 416 327.1 416 464.56 416 576 288 576 256S464.56 96 327.1 96zm87.43 184c-13.25 0-24-10.75-24-24 0-13.26 10.75-24 24-24 13.26 0 24 10.74 24 24 0 13.25-10.75 24-24 24z"},child:[]}]})(t)}function VF(t){return Me({tag:"svg",attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M336.5 160C322 70.7 287.8 8 248 8s-74 62.7-88.5 152h177zM152 256c0 22.2 1.2 43.5 3.3 64h185.3c2.1-20.5 3.3-41.8 3.3-64s-1.2-43.5-3.3-64H155.3c-2.1 20.5-3.3 41.8-3.3 64zm324.7-96c-28.6-67.9-86.5-120.4-158-141.6 24.4 33.8 41.2 84.7 50 141.6h108zM177.2 18.4C105.8 39.6 47.8 92.1 19.3 160h108c8.7-56.9 25.5-107.8 49.9-141.6zM487.4 192H372.7c2.1 21 3.3 42.5 3.3 64s-1.2 43-3.3 64h114.6c5.5-20.5 8.6-41.8 8.6-64s-3.1-43.5-8.5-64zM120 256c0-21.5 1.2-43 3.3-64H8.6C3.2 212.5 0 233.8 0 256s3.2 43.5 8.6 64h114.6c-2-21-3.2-42.5-3.2-64zm39.5 96c14.5 89.3 48.7 152 88.5 152s74-62.7 88.5-152h-177zm159.3 141.6c71.4-21.2 129.4-73.7 158-141.6h-108c-8.8 56.9-25.6 107.8-50 141.6zM19.3 352c28.6 67.9 86.5 120.4 158 141.6-24.4-33.8-41.2-84.7-50-141.6h-108z"},child:[]}]})(t)}function FF(t){return Me({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 256H48a48 48 0 0 0 0 96h416a48 48 0 0 0 0-96zm16 128H32a16 16 0 0 0-16 16v16a64 64 0 0 0 64 64h352a64 64 0 0 0 64-64v-16a16 16 0 0 0-16-16zM58.64 224h394.72c34.57 0 54.62-43.9 34.82-75.88C448 83.2 359.55 32.1 256 32c-103.54.1-192 51.2-232.18 116.11C4 180.09 24.07 224 58.64 224zM384 112a16 16 0 1 1-16 16 16 16 0 0 1 16-16zM256 80a16 16 0 1 1-16 16 16 16 0 0 1 16-16zm-128 32a16 16 0 1 1-16 16 16 16 0 0 1 16-16z"},child:[]}]})(t)}function zF(t){return Me({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M546.2 9.7c-5.6-12.5-21.6-13-28.3-1.2C486.9 62.4 431.4 96 368 96h-80C182 96 96 182 96 288c0 7 .8 13.7 1.5 20.5C161.3 262.8 253.4 224 384 224c8.8 0 16 7.2 16 16s-7.2 16-16 16C132.6 256 26 410.1 2.4 468c-6.6 16.3 1.2 34.9 17.5 41.6 16.4 6.8 35-1.1 41.8-17.3 1.5-3.6 20.9-47.9 71.9-90.6 32.4 43.9 94 85.8 174.9 77.2C465.5 467.5 576 326.7 576 154.3c0-50.2-10.8-102.2-29.8-144.6z"},child:[]}]})(t)}function jF(t){return Me({tag:"svg",attr:{viewBox:"0 0 288 512"},child:[{tag:"path",attr:{d:"M112 316.94v156.69l22.02 33.02c4.75 7.12 15.22 7.12 19.97 0L176 473.63V316.94c-10.39 1.92-21.06 3.06-32 3.06s-21.61-1.14-32-3.06zM144 0C64.47 0 0 64.47 0 144s64.47 144 144 144 144-64.47 144-144S223.53 0 144 0zm0 76c-37.5 0-68 30.5-68 68 0 6.62-5.38 12-12 12s-12-5.38-12-12c0-50.73 41.28-92 92-92 6.62 0 12 5.38 12 12s-5.38 12-12 12z"},child:[]}]})(t)}function $F(t){return Me({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497.39 361.8l-112-48a24 24 0 0 0-28 6.9l-49.6 60.6A370.66 370.66 0 0 1 130.6 204.11l60.6-49.6a23.94 23.94 0 0 0 6.9-28l-48-112A24.16 24.16 0 0 0 122.6.61l-104 24A24 24 0 0 0 0 48c0 256.5 207.9 464 464 464a24 24 0 0 0 23.4-18.6l24-104a24.29 24.29 0 0 0-14.01-27.6z"},child:[]}]})(t)}function UF(t){return Me({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M158.87.15c-16.16-1.52-31.2 8.42-35.33 24.12l-14.81 56.27c187.62 5.49 314.54 130.61 322.48 317l56.94-15.78c15.72-4.36 25.49-19.68 23.62-35.9C490.89 165.08 340.78 17.32 158.87.15zm-58.47 112L.55 491.64a16.21 16.21 0 0 0 20 19.75l379-105.1c-4.27-174.89-123.08-292.14-299.15-294.1zM128 416a32 32 0 1 1 32-32 32 32 0 0 1-32 32zm48-152a32 32 0 1 1 32-32 32 32 0 0 1-32 32zm104 104a32 32 0 1 1 32-32 32 32 0 0 1-32 32z"},child:[]}]})(t)}function hv(t){return Me({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"},child:[]}]})(t)}function dv(t){return Me({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528.1 171.5L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6zM388.6 312.3l23.7 138.4L288 385.4l-124.3 65.3 23.7-138.4-100.6-98 139-20.2 62.2-126 62.2 126 139 20.2-100.6 98z"},child:[]}]})(t)}var ib={exports:{}},BF="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",HF=BF,WF=HF;function sb(){}function ob(){}ob.resetWarningCache=sb;var qF=function(){function t(r,i,s,a,c,u){if(u!==WF){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:ob,resetWarningCache:sb};return n.PropTypes=n,n};ib.exports=qF();var GF=ib.exports;const Bt=Tv(GF),Vo="/assets/default-image-DnhzG6aR.jpg",Hy=({restaurant:t,ratings:e})=>{const[n,r]=R.useState(null);return R.useEffect(()=>{if(!t||(e==null?void 0:e.length)===0)r(null);else{const s=(e==null?void 0:e.reduce((a,c)=>typeof c=="number"?a+c:a+c.rating,0))/(e==null?void 0:e.length);r(Math.round(s*100)/100)}},[t,e]),I.jsxs(iu,{className:"RestaurantCard",to:`/restaurants/${t.id}`,children:[I.jsx("img",{src:t.imageURL?t.imageURL:Vo,alt:"picture of food",className:"card-image",onError:i=>{i.target.src=Vo}}),I.jsxs("div",{className:"restaurant-info",children:[I.jsxs("div",{className:"heading-and-rating",children:[I.jsx("h2",{children:t.name?t.name:t.resturant}),n!==null?I.jsxs("div",{className:"rating-star",children:[n.toFixed(1)," ",I.jsx(hv,{})]}):I.jsxs("div",{className:"rating-star",children:[I.jsx(dv,{}),"No ratings"]})]}),I.jsx("p",{children:t.area&&t.area}),I.jsx("p",{children:t.address&&t.address})]})]})};Hy.propTypes={restaurant:Bt.object,ratings:Bt.array};const kf=({header:t})=>I.jsx("div",{className:"Hero",children:t||"ello mate"});kf.propTypes={header:Bt.string};const Wy=({label:t,initState:e,handleChange:n,id:r})=>{const[i,s]=R.useState(e),a=()=>{s(c=>!c)};return I.jsx("div",{className:"checkbox-wrapper",children:I.jsxs("label",{children:[I.jsx("input",{type:"checkbox",checked:i,onChange:n,onClick:a,className:i?"checked":"",id:r}),I.jsx("span",{children:t})]})})};Wy.propTypes={label:Bt.string,initState:Bt.bool,handleChange:Bt.func,id:Bt.string};const qy=({filters:t,handleChange:e,heading:n,randomRestaurantId:r,showSeatingCheckbox:i})=>{const[s,a]=R.useState(!1);return I.jsxs("div",{className:"FoodOptions",children:[I.jsx("h2",{className:"heading-for-filtering-food",children:n}),I.jsx(TI,{className:`icon-arrow-down ${s&&"arrow-down"}`,onClick:()=>a(!s)}),I.jsxs("div",{className:`foodoptions-and-btn ${s?"":"hide-foodoptions"}`,children:[i&&I.jsx("div",{className:"test",children:I.jsx(Wy,{label:"The restaurant should offer outdoor seating",handleChange:e,id:"outdoorSeating",initState:!1})}),I.jsxs("div",{className:"foodoptions-wrapper",children:[I.jsx("button",{type:"button",className:t.foodOption_Buffet?"btn":"btn-disabled",onClick:e,id:"foodOption_Buffet",name:"foodOption_Buffet",children:"Buffet"}),I.jsx("button",{type:"button",className:t.foodOption_Fish?"btn":"btn-disabled",onClick:e,id:"foodOption_Fish",name:"foodOption_Fish",children:"Fish"}),I.jsx("button",{type:"button",className:t.foodOption_Hamburger?"btn":"btn-disabled",onClick:e,id:"foodOption_Hamburger",children:"Hamburger"}),I.jsx("button",{type:"button",className:t.foodOption_Other?"btn":"btn-disabled",onClick:e,id:"foodOption_Other",children:"Other"}),I.jsx("button",{type:"button",className:t.foodOption_Pasta?"btn":"btn-disabled",onClick:e,id:"foodOption_Pasta",children:"Pasta"}),I.jsx("button",{type:"button",className:t.foodOption_Pizza?"btn":"btn-disabled",onClick:e,id:"foodOption_Pizza",children:"Pizza"}),I.jsx("button",{type:"button",className:t.foodOption_Ramen?"btn":"btn-disabled",onClick:e,id:"foodOption_Ramen",children:"Ramen"}),I.jsx("button",{type:"button",className:t.foodOption_Sallad?"btn":"btn-disabled",onClick:e,id:"foodOption_Sallad",children:"Sallad"}),I.jsx("button",{type:"button",className:t.foodOption_Sausage?"btn":"btn-disabled",onClick:e,id:"foodOption_Sausage",children:"Sausage"}),I.jsx("button",{type:"button",className:t.foodOption_Schnitzel?"btn":"btn-disabled",onClick:e,id:"foodOption_Schnitzel",children:"Schnitzel"}),I.jsx("button",{type:"button",className:t.foodOption_Soup?"btn":"btn-disabled",onClick:e,id:"foodOption_Soup",children:"Soup"}),I.jsx("button",{type:"button",className:t.foodOption_Sushi?"btn":"btn-disabled",onClick:e,id:"foodOption_Sushi",children:"Sushi"}),I.jsx("button",{type:"button",className:t.foodOption_Tacos?"btn":"btn-disabled",onClick:e,id:"foodOption_Tacos",children:"Tacos"}),I.jsx("button",{type:"button",className:t.foodOption_Vegan?"btn":"btn-disabled",onClick:e,id:"foodOption_Vegan",children:"Vegan"}),I.jsx("button",{type:"button",className:t.foodOption_Vegetarian?"btn":"btn-disabled",onClick:e,id:"foodOption_Vegetarian",children:"Vegetarian"})]}),r&&I.jsx("div",{className:"random-link-wrapper",children:I.jsx(iu,{to:`/restaurants/${r}`,children:I.jsx("button",{className:"btn-light btn-random",children:"Can't decide? Discover a random restaurant!"})})})]})]})};qy.propTypes={filters:Bt.object,handleChange:Bt.func,heading:Bt.string,randomRestaurantId:Bt.string};const KF=()=>{const t=Zn(),{restaurants:e,loading:n,error:r}=ct(x=>x.restaurants),{allRatings:i}=ct(x=>x.ratings),[s,a]=R.useState([]),[c,u]=R.useState({}),[d,p]=R.useState(!1),[m,v]=R.useState({foodOption_Pizza:!1,foodOption_Fish:!1,foodOption_Pasta:!1,foodOption_Schnitzel:!1,foodOption_Buffet:!1,foodOption_Vegan:!1,foodOption_Vegetarian:!1,foodOption_Hamburger:!1,foodOption_Sallad:!1,foodOption_Ramen:!1,foodOption_Sushi:!1,foodOption_Tacos:!1,foodOption_Other:!1,foodOption_Sausage:!1,outdoorSeating:!1});R.useEffect(()=>{a(i)},[i]),R.useEffect(()=>{t(ol()),t(al())},[t]),R.useEffect(()=>{const x=Object.values(m).some(A=>A);p(!!x)},[m]);const E=x=>{const{id:A}=x.target;v(O=>({...O,[A]:!O[A]}))},C=x=>{u(A=>({...A,[x]:!A[x]}))},T=x=>s==null?void 0:s.filter(O=>O.restaurantId===x);let P;(()=>{if(e&&e.length>0){const x=Math.floor(Math.random()*e.length);P=e[x].id}})();const y=e.filter(x=>Object.entries(m).every(([A,O])=>!O||x[A])),S=[...new Set(y.map(x=>x.area))].sort((x,A)=>x==="Other"?1:A==="Other"?-1:x.localeCompare(A));return I.jsxs("div",{className:"Home padding-top-navbar",children:[I.jsx(kf,{header:"Restaurants"}),I.jsx(qy,{filters:m,handleChange:E,heading:"What should the restaurant offer?",randomRestaurantId:P,showSeatingCheckbox:!0}),n&&I.jsx(By,{}),r&&I.jsx("p",{children:"Something went wrong"}),y&&I.jsxs(I.Fragment,{children:[y.length>1&&d&&I.jsxs("p",{className:"filtered-text",children:["These ",y.length," restaurants match your criteria!"]}),y.length===1&&d&&I.jsx("p",{className:"filtered-text",children:"This restaurant matched your criteria."}),y.length===0&&d&&I.jsx("p",{className:"filtered-text",children:"No restaurants matched your criteria :("}),S.map(x=>I.jsxs("div",{className:"restaurant-area-container",children:[I.jsx("h2",{className:"area-heading",children:x}),I.jsx("div",{className:"card-container",children:y.filter(A=>A.area===x).slice(0,c[x]?y.filter(A=>A.area===x).length:3).map(A=>I.jsx(Hy,{restaurant:A,ratings:T(A.id)},A.id))}),y.filter(A=>A.area===x).length>3&&I.jsxs("div",{className:"view-more-arrow",onClick:()=>C(x),children:[c[x]?"Show Less":"Show More",c[x]?I.jsx(kL,{className:"icon-arrow-down"}):I.jsx(TI,{className:"icon-arrow-down"})]})]},x))]})]})};function Is(t){"@babel/helpers - typeof";return Is=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Is(t)}function ZF(t,e){if(Is(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Is(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ab(t){var e=ZF(t,"string");return Is(e)=="symbol"?e:e+""}function Ua(t,e,n){return e=ab(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function re(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_2(Object(n),!0).forEach(function(r){Ua(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function QF(t){if(Array.isArray(t))return t}function YF(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,c=[],u=!0,d=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=s.call(n)).done)&&(c.push(r.value),c.length!==e);u=!0);}catch(p){d=!0,i=p}finally{try{if(!u&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(d)throw i}}return c}}function fv(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function lb(t,e){if(t){if(typeof t=="string")return fv(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fv(t,e)}}function XF(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mr(t,e){return QF(t)||YF(t,e)||lb(t,e)||XF()}function JF(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Qr(t,e){if(t==null)return{};var n=JF(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}var e7=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function t7(t){var e=t.defaultInputValue,n=e===void 0?"":e,r=t.defaultMenuIsOpen,i=r===void 0?!1:r,s=t.defaultValue,a=s===void 0?null:s,c=t.inputValue,u=t.menuIsOpen,d=t.onChange,p=t.onInputChange,m=t.onMenuClose,v=t.onMenuOpen,E=t.value,C=Qr(t,e7),T=R.useState(c!==void 0?c:n),P=Mr(T,2),_=P[0],y=P[1],S=R.useState(u!==void 0?u:i),x=Mr(S,2),A=x[0],O=x[1],M=R.useState(E!==void 0?E:a),D=Mr(M,2),Z=D[0],G=D[1],le=R.useCallback(function(V,ee){typeof d=="function"&&d(V,ee),G(V)},[d]),ve=R.useCallback(function(V,ee){var U;typeof p=="function"&&(U=p(V,ee)),y(U!==void 0?U:V)},[p]),rt=R.useCallback(function(){typeof v=="function"&&v(),O(!0)},[v]),Fe=R.useCallback(function(){typeof m=="function"&&m(),O(!1)},[m]),K=c!==void 0?c:_,fe=u!==void 0?u:A,He=E!==void 0?E:Z;return re(re({},C),{},{inputValue:K,menuIsOpen:fe,onChange:le,onInputChange:ve,onMenuClose:Fe,onMenuOpen:rt,value:He})}function se(){return se=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},se.apply(this,arguments)}function n7(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function y2(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ab(r.key),r)}}function r7(t,e,n){return e&&y2(t.prototype,e),n&&y2(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function pv(t,e){return pv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},pv(t,e)}function i7(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pv(t,e)}function fd(t){return fd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},fd(t)}function ub(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ub=function(){return!!t})()}function s7(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function o7(t,e){if(e&&(Is(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return s7(t)}function a7(t){var e=ub();return function(){var r=fd(t),i;if(e){var s=fd(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return o7(this,i)}}function l7(t){if(Array.isArray(t))return fv(t)}function u7(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function c7(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gy(t){return l7(t)||u7(t)||lb(t)||c7()}function h7(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function d7(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var f7=function(){function t(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(d7(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=h7(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},t}(),zt="-ms-",pd="-moz-",be="-webkit-",cb="comm",Ky="rule",Zy="decl",p7="@import",hb="@keyframes",m7="@layer",g7=Math.abs,Of=String.fromCharCode,v7=Object.assign;function _7(t,e){return Rt(t,0)^45?(((e<<2^Rt(t,0))<<2^Rt(t,1))<<2^Rt(t,2))<<2^Rt(t,3):0}function db(t){return t.trim()}function y7(t,e){return(t=e.exec(t))?t[0]:t}function Re(t,e,n){return t.replace(e,n)}function mv(t,e){return t.indexOf(e)}function Rt(t,e){return t.charCodeAt(e)|0}function Ql(t,e,n){return t.slice(e,n)}function nr(t){return t.length}function Qy(t){return t.length}function xc(t,e){return e.push(t),t}function w7(t,e){return t.map(e).join("")}var Lf=1,Fo=1,fb=0,cn=0,lt=0,ea="";function Mf(t,e,n,r,i,s,a){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:Lf,column:Fo,length:a,return:""}}function xa(t,e){return v7(Mf("",null,null,"",null,null,0),t,{length:-t.length},e)}function E7(){return lt}function S7(){return lt=cn>0?Rt(ea,--cn):0,Fo--,lt===10&&(Fo=1,Lf--),lt}function gn(){return lt=cn<fb?Rt(ea,cn++):0,Fo++,lt===10&&(Fo=1,Lf++),lt}function vr(){return Rt(ea,cn)}function oh(){return cn}function ku(t,e){return Ql(ea,t,e)}function Yl(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function pb(t){return Lf=Fo=1,fb=nr(ea=t),cn=0,[]}function mb(t){return ea="",t}function ah(t){return db(ku(cn-1,gv(t===91?t+2:t===40?t+1:t)))}function T7(t){for(;(lt=vr())&&lt<33;)gn();return Yl(t)>2||Yl(lt)>3?"":" "}function I7(t,e){for(;--e&&gn()&&!(lt<48||lt>102||lt>57&&lt<65||lt>70&&lt<97););return ku(t,oh()+(e<6&&vr()==32&&gn()==32))}function gv(t){for(;gn();)switch(lt){case t:return cn;case 34:case 39:t!==34&&t!==39&&gv(lt);break;case 40:t===41&&gv(t);break;case 92:gn();break}return cn}function P7(t,e){for(;gn()&&t+lt!==57;)if(t+lt===84&&vr()===47)break;return"/*"+ku(e,cn-1)+"*"+Of(t===47?t:gn())}function C7(t){for(;!Yl(vr());)gn();return ku(t,cn)}function x7(t){return mb(lh("",null,null,null,[""],t=pb(t),0,[0],t))}function lh(t,e,n,r,i,s,a,c,u){for(var d=0,p=0,m=a,v=0,E=0,C=0,T=1,P=1,_=1,y=0,S="",x=i,A=s,O=r,M=S;P;)switch(C=y,y=gn()){case 40:if(C!=108&&Rt(M,m-1)==58){mv(M+=Re(ah(y),"&","&\f"),"&\f")!=-1&&(_=-1);break}case 34:case 39:case 91:M+=ah(y);break;case 9:case 10:case 13:case 32:M+=T7(C);break;case 92:M+=I7(oh()-1,7);continue;case 47:switch(vr()){case 42:case 47:xc(b7(P7(gn(),oh()),e,n),u);break;default:M+="/"}break;case 123*T:c[d++]=nr(M)*_;case 125*T:case 59:case 0:switch(y){case 0:case 125:P=0;case 59+p:_==-1&&(M=Re(M,/\f/g,"")),E>0&&nr(M)-m&&xc(E>32?E2(M+";",r,n,m-1):E2(Re(M," ","")+";",r,n,m-2),u);break;case 59:M+=";";default:if(xc(O=w2(M,e,n,d,p,i,c,S,x=[],A=[],m),s),y===123)if(p===0)lh(M,e,O,O,x,s,m,c,A);else switch(v===99&&Rt(M,3)===110?100:v){case 100:case 108:case 109:case 115:lh(t,O,O,r&&xc(w2(t,O,O,0,0,i,c,S,i,x=[],m),A),i,A,m,c,r?x:A);break;default:lh(M,O,O,O,[""],A,0,c,A)}}d=p=E=0,T=_=1,S=M="",m=a;break;case 58:m=1+nr(M),E=C;default:if(T<1){if(y==123)--T;else if(y==125&&T++==0&&S7()==125)continue}switch(M+=Of(y),y*T){case 38:_=p>0?1:(M+="\f",-1);break;case 44:c[d++]=(nr(M)-1)*_,_=1;break;case 64:vr()===45&&(M+=ah(gn())),v=vr(),p=m=nr(S=M+=C7(oh())),y++;break;case 45:C===45&&nr(M)==2&&(T=0)}}return s}function w2(t,e,n,r,i,s,a,c,u,d,p){for(var m=i-1,v=i===0?s:[""],E=Qy(v),C=0,T=0,P=0;C<r;++C)for(var _=0,y=Ql(t,m+1,m=g7(T=a[C])),S=t;_<E;++_)(S=db(T>0?v[_]+" "+y:Re(y,/&\f/g,v[_])))&&(u[P++]=S);return Mf(t,e,n,i===0?Ky:c,u,d,p)}function b7(t,e,n){return Mf(t,e,n,cb,Of(E7()),Ql(t,2,-2),0)}function E2(t,e,n,r){return Mf(t,e,n,Zy,Ql(t,0,r),Ql(t,r+1,-1),r)}function _o(t,e){for(var n="",r=Qy(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function R7(t,e,n,r){switch(t.type){case m7:if(t.children.length)break;case p7:case Zy:return t.return=t.return||t.value;case cb:return"";case hb:return t.return=t.value+"{"+_o(t.children,r)+"}";case Ky:t.value=t.props.join(",")}return nr(n=_o(t.children,r))?t.return=t.value+"{"+n+"}":""}function A7(t){var e=Qy(t);return function(n,r,i,s){for(var a="",c=0;c<e;c++)a+=t[c](n,r,i,s)||"";return a}}function k7(t){return function(e){e.root||(e=e.return)&&t(e)}}function O7(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var L7=function(e,n,r){for(var i=0,s=0;i=s,s=vr(),i===38&&s===12&&(n[r]=1),!Yl(s);)gn();return ku(e,cn)},M7=function(e,n){var r=-1,i=44;do switch(Yl(i)){case 0:i===38&&vr()===12&&(n[r]=1),e[r]+=L7(cn-1,n,r);break;case 2:e[r]+=ah(i);break;case 4:if(i===44){e[++r]=vr()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=Of(i)}while(i=gn());return e},N7=function(e,n){return mb(M7(pb(e),n))},S2=new WeakMap,D7=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!S2.get(r))&&!i){S2.set(e,!0);for(var s=[],a=N7(n,s),c=r.props,u=0,d=0;u<a.length;u++)for(var p=0;p<c.length;p++,d++)e.props[d]=s[u]?a[u].replace(/&\f/g,c[p]):c[p]+" "+a[u]}}},V7=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function gb(t,e){switch(_7(t,e)){case 5103:return be+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return be+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return be+t+pd+t+zt+t+t;case 6828:case 4268:return be+t+zt+t+t;case 6165:return be+t+zt+"flex-"+t+t;case 5187:return be+t+Re(t,/(\w+).+(:[^]+)/,be+"box-$1$2"+zt+"flex-$1$2")+t;case 5443:return be+t+zt+"flex-item-"+Re(t,/flex-|-self/,"")+t;case 4675:return be+t+zt+"flex-line-pack"+Re(t,/align-content|flex-|-self/,"")+t;case 5548:return be+t+zt+Re(t,"shrink","negative")+t;case 5292:return be+t+zt+Re(t,"basis","preferred-size")+t;case 6060:return be+"box-"+Re(t,"-grow","")+be+t+zt+Re(t,"grow","positive")+t;case 4554:return be+Re(t,/([^-])(transform)/g,"$1"+be+"$2")+t;case 6187:return Re(Re(Re(t,/(zoom-|grab)/,be+"$1"),/(image-set)/,be+"$1"),t,"")+t;case 5495:case 3959:return Re(t,/(image-set\([^]*)/,be+"$1$`$1");case 4968:return Re(Re(t,/(.+:)(flex-)?(.*)/,be+"box-pack:$3"+zt+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+be+t+t;case 4095:case 3583:case 4068:case 2532:return Re(t,/(.+)-inline(.+)/,be+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(nr(t)-1-e>6)switch(Rt(t,e+1)){case 109:if(Rt(t,e+4)!==45)break;case 102:return Re(t,/(.+:)(.+)-([^]+)/,"$1"+be+"$2-$3$1"+pd+(Rt(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~mv(t,"stretch")?gb(Re(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(Rt(t,e+1)!==115)break;case 6444:switch(Rt(t,nr(t)-3-(~mv(t,"!important")&&10))){case 107:return Re(t,":",":"+be)+t;case 101:return Re(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+be+(Rt(t,14)===45?"inline-":"")+"box$3$1"+be+"$2$3$1"+zt+"$2box$3")+t}break;case 5936:switch(Rt(t,e+11)){case 114:return be+t+zt+Re(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return be+t+zt+Re(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return be+t+zt+Re(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return be+t+zt+t+t}return t}var F7=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case Zy:e.return=gb(e.value,e.length);break;case hb:return _o([xa(e,{value:Re(e.value,"@","@"+be)})],i);case Ky:if(e.length)return w7(e.props,function(s){switch(y7(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return _o([xa(e,{props:[Re(s,/:(read-\w+)/,":"+pd+"$1")]})],i);case"::placeholder":return _o([xa(e,{props:[Re(s,/:(plac\w+)/,":"+be+"input-$1")]}),xa(e,{props:[Re(s,/:(plac\w+)/,":"+pd+"$1")]}),xa(e,{props:[Re(s,/:(plac\w+)/,zt+"input-$1")]})],i)}return""})}},z7=[F7],j7=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(T){var P=T.getAttribute("data-emotion");P.indexOf(" ")!==-1&&(document.head.appendChild(T),T.setAttribute("data-s",""))})}var i=e.stylisPlugins||z7,s={},a,c=[];a=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(T){for(var P=T.getAttribute("data-emotion").split(" "),_=1;_<P.length;_++)s[P[_]]=!0;c.push(T)});var u,d=[D7,V7];{var p,m=[R7,k7(function(T){p.insert(T)})],v=A7(d.concat(i,m)),E=function(P){return _o(x7(P),v)};u=function(P,_,y,S){p=y,E(P?P+"{"+_.styles+"}":_.styles),S&&(C.inserted[_.name]=!0)}}var C={key:n,sheet:new f7({key:n,container:a,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:u};return C.sheet.hydrate(c),C},vb={exports:{}},Le={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var It=typeof Symbol=="function"&&Symbol.for,Yy=It?Symbol.for("react.element"):60103,Xy=It?Symbol.for("react.portal"):60106,Nf=It?Symbol.for("react.fragment"):60107,Df=It?Symbol.for("react.strict_mode"):60108,Vf=It?Symbol.for("react.profiler"):60114,Ff=It?Symbol.for("react.provider"):60109,zf=It?Symbol.for("react.context"):60110,Jy=It?Symbol.for("react.async_mode"):60111,jf=It?Symbol.for("react.concurrent_mode"):60111,$f=It?Symbol.for("react.forward_ref"):60112,Uf=It?Symbol.for("react.suspense"):60113,$7=It?Symbol.for("react.suspense_list"):60120,Bf=It?Symbol.for("react.memo"):60115,Hf=It?Symbol.for("react.lazy"):60116,U7=It?Symbol.for("react.block"):60121,B7=It?Symbol.for("react.fundamental"):60117,H7=It?Symbol.for("react.responder"):60118,W7=It?Symbol.for("react.scope"):60119;function Tn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Yy:switch(t=t.type,t){case Jy:case jf:case Nf:case Vf:case Df:case Uf:return t;default:switch(t=t&&t.$$typeof,t){case zf:case $f:case Hf:case Bf:case Ff:return t;default:return e}}case Xy:return e}}}function _b(t){return Tn(t)===jf}Le.AsyncMode=Jy;Le.ConcurrentMode=jf;Le.ContextConsumer=zf;Le.ContextProvider=Ff;Le.Element=Yy;Le.ForwardRef=$f;Le.Fragment=Nf;Le.Lazy=Hf;Le.Memo=Bf;Le.Portal=Xy;Le.Profiler=Vf;Le.StrictMode=Df;Le.Suspense=Uf;Le.isAsyncMode=function(t){return _b(t)||Tn(t)===Jy};Le.isConcurrentMode=_b;Le.isContextConsumer=function(t){return Tn(t)===zf};Le.isContextProvider=function(t){return Tn(t)===Ff};Le.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Yy};Le.isForwardRef=function(t){return Tn(t)===$f};Le.isFragment=function(t){return Tn(t)===Nf};Le.isLazy=function(t){return Tn(t)===Hf};Le.isMemo=function(t){return Tn(t)===Bf};Le.isPortal=function(t){return Tn(t)===Xy};Le.isProfiler=function(t){return Tn(t)===Vf};Le.isStrictMode=function(t){return Tn(t)===Df};Le.isSuspense=function(t){return Tn(t)===Uf};Le.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Nf||t===jf||t===Vf||t===Df||t===Uf||t===$7||typeof t=="object"&&t!==null&&(t.$$typeof===Hf||t.$$typeof===Bf||t.$$typeof===Ff||t.$$typeof===zf||t.$$typeof===$f||t.$$typeof===B7||t.$$typeof===H7||t.$$typeof===W7||t.$$typeof===U7)};Le.typeOf=Tn;vb.exports=Le;var q7=vb.exports,yb=q7,G7={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},K7={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},wb={};wb[yb.ForwardRef]=G7;wb[yb.Memo]=K7;var Z7=!0;function Q7(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):r+=i+" "}),r}var Eb=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||Z7===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},Y7=function(e,n,r){Eb(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var s=n;do e.insert(n===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function X7(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var J7={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},ez=/[A-Z]|^ms/g,tz=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Sb=function(e){return e.charCodeAt(1)===45},T2=function(e){return e!=null&&typeof e!="boolean"},Em=O7(function(t){return Sb(t)?t:t.replace(ez,"-$&").toLowerCase()}),I2=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(tz,function(r,i,s){return rr={name:i,styles:s,next:rr},i})}return J7[e]!==1&&!Sb(e)&&typeof n=="number"&&n!==0?n+"px":n};function Xl(t,e,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return rr={name:n.name,styles:n.styles,next:rr},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)rr={name:r.name,styles:r.styles,next:rr},r=r.next;var i=n.styles+";";return i}return nz(t,e,n)}case"function":{if(t!==void 0){var s=rr,a=n(t);return rr=s,Xl(t,e,a)}break}}if(e==null)return n;var c=e[n];return c!==void 0?c:n}function nz(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Xl(t,e,n[i])+";";else for(var s in n){var a=n[s];if(typeof a!="object")e!=null&&e[a]!==void 0?r+=s+"{"+e[a]+"}":T2(a)&&(r+=Em(s)+":"+I2(s,a)+";");else if(Array.isArray(a)&&typeof a[0]=="string"&&(e==null||e[a[0]]===void 0))for(var c=0;c<a.length;c++)T2(a[c])&&(r+=Em(s)+":"+I2(s,a[c])+";");else{var u=Xl(t,e,a);switch(s){case"animation":case"animationName":{r+=Em(s)+":"+u+";";break}default:r+=s+"{"+u+"}"}}}return r}var P2=/label:\s*([^\s;\n{]+)\s*(;|$)/g,rr,Tb=function(e,n,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var i=!0,s="";rr=void 0;var a=e[0];a==null||a.raw===void 0?(i=!1,s+=Xl(r,n,a)):s+=a[0];for(var c=1;c<e.length;c++)s+=Xl(r,n,e[c]),i&&(s+=a[c]);P2.lastIndex=0;for(var u="",d;(d=P2.exec(s))!==null;)u+="-"+d[1];var p=X7(s)+u;return{name:p,styles:s,next:rr}},rz=function(e){return e()},iz=ul.useInsertionEffect?ul.useInsertionEffect:!1,sz=iz||rz,e1={}.hasOwnProperty,Ib=R.createContext(typeof HTMLElement<"u"?j7({key:"css"}):null);Ib.Provider;var oz=function(e){return R.forwardRef(function(n,r){var i=R.useContext(Ib);return e(n,i,r)})},az=R.createContext({}),vv="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",lz=function(e,n){var r={};for(var i in n)e1.call(n,i)&&(r[i]=n[i]);return r[vv]=e,r},uz=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return Eb(n,r,i),sz(function(){return Y7(n,r,i)}),null},cz=oz(function(t,e,n){var r=t.css;typeof r=="string"&&e.registered[r]!==void 0&&(r=e.registered[r]);var i=t[vv],s=[r],a="";typeof t.className=="string"?a=Q7(e.registered,s,t.className):t.className!=null&&(a=t.className+" ");var c=Tb(s,void 0,R.useContext(az));a+=e.key+"-"+c.name;var u={};for(var d in t)e1.call(t,d)&&d!=="css"&&d!==vv&&(u[d]=t[d]);return u.ref=n,u.className=a,R.createElement(R.Fragment,null,R.createElement(uz,{cache:e,serialized:c,isStringTag:typeof i=="string"}),R.createElement(i,u))}),hz=cz,ne=function(e,n){var r=arguments;if(n==null||!e1.call(n,"css"))return R.createElement.apply(void 0,r);var i=r.length,s=new Array(i);s[0]=hz,s[1]=lz(e,n);for(var a=2;a<i;a++)s[a]=r[a];return R.createElement.apply(null,s)};function t1(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Tb(e)}var dz=function(){var e=t1.apply(void 0,arguments),n="animation-"+e.name;return{name:n,styles:"@keyframes "+n+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};function fz(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}const pz=Math.min,mz=Math.max,md=Math.round,bc=Math.floor,gd=t=>({x:t,y:t});function gz(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}function Pb(t){return xb(t)?(t.nodeName||"").toLowerCase():"#document"}function Hn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Cb(t){var e;return(e=(xb(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function xb(t){return t instanceof Node||t instanceof Hn(t).Node}function _v(t){return t instanceof Element||t instanceof Hn(t).Element}function n1(t){return t instanceof HTMLElement||t instanceof Hn(t).HTMLElement}function C2(t){return typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Hn(t).ShadowRoot}function bb(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=r1(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function vz(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function _z(t){return["html","body","#document"].includes(Pb(t))}function r1(t){return Hn(t).getComputedStyle(t)}function yz(t){if(Pb(t)==="html")return t;const e=t.assignedSlot||t.parentNode||C2(t)&&t.host||Cb(t);return C2(e)?e.host:e}function Rb(t){const e=yz(t);return _z(e)?t.ownerDocument?t.ownerDocument.body:t.body:n1(e)&&bb(e)?e:Rb(e)}function vd(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=Rb(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),a=Hn(i);return s?e.concat(a,a.visualViewport||[],bb(i)?i:[],a.frameElement&&n?vd(a.frameElement):[]):e.concat(i,vd(i,[],n))}function wz(t){const e=r1(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=n1(t),s=i?t.offsetWidth:n,a=i?t.offsetHeight:r,c=md(n)!==s||md(r)!==a;return c&&(n=s,r=a),{width:n,height:r,$:c}}function i1(t){return _v(t)?t:t.contextElement}function Sm(t){const e=i1(t);if(!n1(e))return gd(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=wz(e);let a=(s?md(n.width):n.width)/r,c=(s?md(n.height):n.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!c||!Number.isFinite(c))&&(c=1),{x:a,y:c}}const Ez=gd(0);function Sz(t){const e=Hn(t);return!vz()||!e.visualViewport?Ez:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Tz(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Hn(t)?!1:e}function x2(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=i1(t);let a=gd(1);e&&(r?_v(r)&&(a=Sm(r)):a=Sm(t));const c=Tz(s,n,r)?Sz(s):gd(0);let u=(i.left+c.x)/a.x,d=(i.top+c.y)/a.y,p=i.width/a.x,m=i.height/a.y;if(s){const v=Hn(s),E=r&&_v(r)?Hn(r):r;let C=v,T=C.frameElement;for(;T&&r&&E!==C;){const P=Sm(T),_=T.getBoundingClientRect(),y=r1(T),S=_.left+(T.clientLeft+parseFloat(y.paddingLeft))*P.x,x=_.top+(T.clientTop+parseFloat(y.paddingTop))*P.y;u*=P.x,d*=P.y,p*=P.x,m*=P.y,u+=S,d+=x,C=Hn(T),T=C.frameElement}}return gz({width:p,height:m,x:u,y:d})}function Iz(t,e){let n=null,r;const i=Cb(t);function s(){var c;clearTimeout(r),(c=n)==null||c.disconnect(),n=null}function a(c,u){c===void 0&&(c=!1),u===void 0&&(u=1),s();const{left:d,top:p,width:m,height:v}=t.getBoundingClientRect();if(c||e(),!m||!v)return;const E=bc(p),C=bc(i.clientWidth-(d+m)),T=bc(i.clientHeight-(p+v)),P=bc(d),y={rootMargin:-E+"px "+-C+"px "+-T+"px "+-P+"px",threshold:mz(0,pz(1,u))||1};let S=!0;function x(A){const O=A[0].intersectionRatio;if(O!==u){if(!S)return a();O?a(!1,O):r=setTimeout(()=>{a(!1,1e-7)},100)}S=!1}try{n=new IntersectionObserver(x,{...y,root:i.ownerDocument})}catch{n=new IntersectionObserver(x,y)}n.observe(t)}return a(!0),s}function Pz(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:u=!1}=r,d=i1(t),p=i||s?[...d?vd(d):[],...vd(e)]:[];p.forEach(_=>{i&&_.addEventListener("scroll",n,{passive:!0}),s&&_.addEventListener("resize",n)});const m=d&&c?Iz(d,n):null;let v=-1,E=null;a&&(E=new ResizeObserver(_=>{let[y]=_;y&&y.target===d&&E&&(E.unobserve(e),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{var S;(S=E)==null||S.observe(e)})),n()}),d&&!u&&E.observe(d),E.observe(e));let C,T=u?x2(t):null;u&&P();function P(){const _=x2(t);T&&(_.x!==T.x||_.y!==T.y||_.width!==T.width||_.height!==T.height)&&n(),T=_,C=requestAnimationFrame(P)}return n(),()=>{var _;p.forEach(y=>{i&&y.removeEventListener("scroll",n),s&&y.removeEventListener("resize",n)}),m==null||m(),(_=E)==null||_.disconnect(),E=null,u&&cancelAnimationFrame(C)}}var yv=R.useLayoutEffect,Cz=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],_d=function(){};function xz(t,e){return e?e[0]==="-"?t+e:t+"__"+e:t}function bz(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var s=[].concat(r);if(e&&t)for(var a in e)e.hasOwnProperty(a)&&e[a]&&s.push("".concat(xz(t,a)));return s.filter(function(c){return c}).map(function(c){return String(c).trim()}).join(" ")}var b2=function(e){return Vz(e)?e.filter(Boolean):Is(e)==="object"&&e!==null?[e]:[]},Ab=function(e){e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme;var n=Qr(e,Cz);return re({},n)},Je=function(e,n,r){var i=e.cx,s=e.getStyles,a=e.getClassNames,c=e.className;return{css:s(n,e),className:i(r??{},a(n,e),c)}};function Wf(t){return[document.documentElement,document.body,window].indexOf(t)>-1}function Rz(t){return Wf(t)?window.innerHeight:t.clientHeight}function kb(t){return Wf(t)?window.pageYOffset:t.scrollTop}function yd(t,e){if(Wf(t)){window.scrollTo(0,e);return}t.scrollTop=e}function Az(t){var e=getComputedStyle(t),n=e.position==="absolute",r=/(auto|scroll)/;if(e.position==="fixed")return document.documentElement;for(var i=t;i=i.parentElement;)if(e=getComputedStyle(i),!(n&&e.position==="static")&&r.test(e.overflow+e.overflowY+e.overflowX))return i;return document.documentElement}function kz(t,e,n,r){return n*((t=t/r-1)*t*t+1)+e}function Rc(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:_d,i=kb(t),s=e-i,a=10,c=0;function u(){c+=a;var d=kz(c,i,s,n);yd(t,d),c<n?window.requestAnimationFrame(u):r(t)}u()}function R2(t,e){var n=t.getBoundingClientRect(),r=e.getBoundingClientRect(),i=e.offsetHeight/3;r.bottom+i>n.bottom?yd(t,Math.min(e.offsetTop+e.clientHeight-t.offsetHeight+i,t.scrollHeight)):r.top-i<n.top&&yd(t,Math.max(e.offsetTop-i,0))}function Oz(t){var e=t.getBoundingClientRect();return{bottom:e.bottom,height:e.height,left:e.left,right:e.right,top:e.top,width:e.width}}function A2(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function Lz(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var Ob=!1,Mz={get passive(){return Ob=!0}},Ac=typeof window<"u"?window:{};Ac.addEventListener&&Ac.removeEventListener&&(Ac.addEventListener("p",_d,Mz),Ac.removeEventListener("p",_d,!1));var Nz=Ob;function Dz(t){return t!=null}function Vz(t){return Array.isArray(t)}function kc(t,e,n){return t?e:n}var Fz=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var s=Object.entries(e).filter(function(a){var c=Mr(a,1),u=c[0];return!r.includes(u)});return s.reduce(function(a,c){var u=Mr(c,2),d=u[0],p=u[1];return a[d]=p,a},{})},zz=["children","innerProps"],jz=["children","innerProps"];function $z(t){var e=t.maxHeight,n=t.menuEl,r=t.minHeight,i=t.placement,s=t.shouldScroll,a=t.isFixedPosition,c=t.controlHeight,u=Az(n),d={placement:"bottom",maxHeight:e};if(!n||!n.offsetParent)return d;var p=u.getBoundingClientRect(),m=p.height,v=n.getBoundingClientRect(),E=v.bottom,C=v.height,T=v.top,P=n.offsetParent.getBoundingClientRect(),_=P.top,y=a?window.innerHeight:Rz(u),S=kb(u),x=parseInt(getComputedStyle(n).marginBottom,10),A=parseInt(getComputedStyle(n).marginTop,10),O=_-A,M=y-T,D=O+S,Z=m-S-T,G=E-y+S+x,le=S+T-A,ve=160;switch(i){case"auto":case"bottom":if(M>=C)return{placement:"bottom",maxHeight:e};if(Z>=C&&!a)return s&&Rc(u,G,ve),{placement:"bottom",maxHeight:e};if(!a&&Z>=r||a&&M>=r){s&&Rc(u,G,ve);var rt=a?M-x:Z-x;return{placement:"bottom",maxHeight:rt}}if(i==="auto"||a){var Fe=e,K=a?O:D;return K>=r&&(Fe=Math.min(K-x-c,e)),{placement:"top",maxHeight:Fe}}if(i==="bottom")return s&&yd(u,G),{placement:"bottom",maxHeight:e};break;case"top":if(O>=C)return{placement:"top",maxHeight:e};if(D>=C&&!a)return s&&Rc(u,le,ve),{placement:"top",maxHeight:e};if(!a&&D>=r||a&&O>=r){var fe=e;return(!a&&D>=r||a&&O>=r)&&(fe=a?O-A:D-A),s&&Rc(u,le,ve),{placement:"top",maxHeight:fe}}return{placement:"bottom",maxHeight:e};default:throw new Error('Invalid placement provided "'.concat(i,'".'))}return d}function Uz(t){var e={bottom:"top",top:"bottom"};return t?e[t]:"bottom"}var Lb=function(e){return e==="auto"?"bottom":e},Bz=function(e,n){var r,i=e.placement,s=e.theme,a=s.borderRadius,c=s.spacing,u=s.colors;return re((r={label:"menu"},Ua(r,Uz(i),"100%"),Ua(r,"position","absolute"),Ua(r,"width","100%"),Ua(r,"zIndex",1),r),n?{}:{backgroundColor:u.neutral0,borderRadius:a,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:c.menuGutter,marginTop:c.menuGutter})},Mb=R.createContext(null),Hz=function(e){var n=e.children,r=e.minMenuHeight,i=e.maxMenuHeight,s=e.menuPlacement,a=e.menuPosition,c=e.menuShouldScrollIntoView,u=e.theme,d=R.useContext(Mb)||{},p=d.setPortalPlacement,m=R.useRef(null),v=R.useState(i),E=Mr(v,2),C=E[0],T=E[1],P=R.useState(null),_=Mr(P,2),y=_[0],S=_[1],x=u.spacing.controlHeight;return yv(function(){var A=m.current;if(A){var O=a==="fixed",M=c&&!O,D=$z({maxHeight:i,menuEl:A,minHeight:r,placement:s,shouldScroll:M,isFixedPosition:O,controlHeight:x});T(D.maxHeight),S(D.placement),p==null||p(D.placement)}},[i,s,a,c,r,p,x]),n({ref:m,placerProps:re(re({},e),{},{placement:y||Lb(s),maxHeight:C})})},Wz=function(e){var n=e.children,r=e.innerRef,i=e.innerProps;return ne("div",se({},Je(e,"menu",{menu:!0}),{ref:r},i),n)},qz=Wz,Gz=function(e,n){var r=e.maxHeight,i=e.theme.spacing.baseUnit;return re({maxHeight:r,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},n?{}:{paddingBottom:i,paddingTop:i})},Kz=function(e){var n=e.children,r=e.innerProps,i=e.innerRef,s=e.isMulti;return ne("div",se({},Je(e,"menuList",{"menu-list":!0,"menu-list--is-multi":s}),{ref:i},r),n)},Nb=function(e,n){var r=e.theme,i=r.spacing.baseUnit,s=r.colors;return re({textAlign:"center"},n?{}:{color:s.neutral40,padding:"".concat(i*2,"px ").concat(i*3,"px")})},Zz=Nb,Qz=Nb,Yz=function(e){var n=e.children,r=n===void 0?"No options":n,i=e.innerProps,s=Qr(e,zz);return ne("div",se({},Je(re(re({},s),{},{children:r,innerProps:i}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),i),r)},Xz=function(e){var n=e.children,r=n===void 0?"Loading...":n,i=e.innerProps,s=Qr(e,jz);return ne("div",se({},Je(re(re({},s),{},{children:r,innerProps:i}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),i),r)},Jz=function(e){var n=e.rect,r=e.offset,i=e.position;return{left:n.left,position:i,top:r,width:n.width,zIndex:1}},ej=function(e){var n=e.appendTo,r=e.children,i=e.controlElement,s=e.innerProps,a=e.menuPlacement,c=e.menuPosition,u=R.useRef(null),d=R.useRef(null),p=R.useState(Lb(a)),m=Mr(p,2),v=m[0],E=m[1],C=R.useMemo(function(){return{setPortalPlacement:E}},[]),T=R.useState(null),P=Mr(T,2),_=P[0],y=P[1],S=R.useCallback(function(){if(i){var M=Oz(i),D=c==="fixed"?0:window.pageYOffset,Z=M[v]+D;(Z!==(_==null?void 0:_.offset)||M.left!==(_==null?void 0:_.rect.left)||M.width!==(_==null?void 0:_.rect.width))&&y({offset:Z,rect:M})}},[i,c,v,_==null?void 0:_.offset,_==null?void 0:_.rect.left,_==null?void 0:_.rect.width]);yv(function(){S()},[S]);var x=R.useCallback(function(){typeof d.current=="function"&&(d.current(),d.current=null),i&&u.current&&(d.current=Pz(i,u.current,S,{elementResize:"ResizeObserver"in window}))},[i,S]);yv(function(){x()},[x]);var A=R.useCallback(function(M){u.current=M,x()},[x]);if(!n&&c!=="fixed"||!_)return null;var O=ne("div",se({ref:A},Je(re(re({},e),{},{offset:_.offset,position:c,rect:_.rect}),"menuPortal",{"menu-portal":!0}),s),r);return ne(Mb.Provider,{value:C},n?sI.createPortal(O,n):O)},tj=function(e){var n=e.isDisabled,r=e.isRtl;return{label:"container",direction:r?"rtl":void 0,pointerEvents:n?"none":void 0,position:"relative"}},nj=function(e){var n=e.children,r=e.innerProps,i=e.isDisabled,s=e.isRtl;return ne("div",se({},Je(e,"container",{"--is-disabled":i,"--is-rtl":s}),r),n)},rj=function(e,n){var r=e.theme.spacing,i=e.isMulti,s=e.hasValue,a=e.selectProps.controlShouldRenderValue;return re({alignItems:"center",display:i&&s&&a?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},n?{}:{padding:"".concat(r.baseUnit/2,"px ").concat(r.baseUnit*2,"px")})},ij=function(e){var n=e.children,r=e.innerProps,i=e.isMulti,s=e.hasValue;return ne("div",se({},Je(e,"valueContainer",{"value-container":!0,"value-container--is-multi":i,"value-container--has-value":s}),r),n)},sj=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},oj=function(e){var n=e.children,r=e.innerProps;return ne("div",se({},Je(e,"indicatorsContainer",{indicators:!0}),r),n)},k2,aj=["size"],lj=["innerProps","isRtl","size"],uj={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},Db=function(e){var n=e.size,r=Qr(e,aj);return ne("svg",se({height:n,width:n,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:uj},r))},s1=function(e){return ne(Db,se({size:20},e),ne("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},Vb=function(e){return ne(Db,se({size:20},e),ne("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},Fb=function(e,n){var r=e.isFocused,i=e.theme,s=i.spacing.baseUnit,a=i.colors;return re({label:"indicatorContainer",display:"flex",transition:"color 150ms"},n?{}:{color:r?a.neutral60:a.neutral20,padding:s*2,":hover":{color:r?a.neutral80:a.neutral40}})},cj=Fb,hj=function(e){var n=e.children,r=e.innerProps;return ne("div",se({},Je(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),r),n||ne(Vb,null))},dj=Fb,fj=function(e){var n=e.children,r=e.innerProps;return ne("div",se({},Je(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),r),n||ne(s1,null))},pj=function(e,n){var r=e.isDisabled,i=e.theme,s=i.spacing.baseUnit,a=i.colors;return re({label:"indicatorSeparator",alignSelf:"stretch",width:1},n?{}:{backgroundColor:r?a.neutral10:a.neutral20,marginBottom:s*2,marginTop:s*2})},mj=function(e){var n=e.innerProps;return ne("span",se({},n,Je(e,"indicatorSeparator",{"indicator-separator":!0})))},gj=dz(k2||(k2=fz([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),vj=function(e,n){var r=e.isFocused,i=e.size,s=e.theme,a=s.colors,c=s.spacing.baseUnit;return re({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:i,lineHeight:1,marginRight:i,textAlign:"center",verticalAlign:"middle"},n?{}:{color:r?a.neutral60:a.neutral20,padding:c*2})},Tm=function(e){var n=e.delay,r=e.offset;return ne("span",{css:t1({animation:"".concat(gj," 1s ease-in-out ").concat(n,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:r?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},_j=function(e){var n=e.innerProps,r=e.isRtl,i=e.size,s=i===void 0?4:i,a=Qr(e,lj);return ne("div",se({},Je(re(re({},a),{},{innerProps:n,isRtl:r,size:s}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),n),ne(Tm,{delay:0,offset:r}),ne(Tm,{delay:160,offset:!0}),ne(Tm,{delay:320,offset:!r}))},yj=function(e,n){var r=e.isDisabled,i=e.isFocused,s=e.theme,a=s.colors,c=s.borderRadius,u=s.spacing;return re({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:u.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},n?{}:{backgroundColor:r?a.neutral5:a.neutral0,borderColor:r?a.neutral10:i?a.primary:a.neutral20,borderRadius:c,borderStyle:"solid",borderWidth:1,boxShadow:i?"0 0 0 1px ".concat(a.primary):void 0,"&:hover":{borderColor:i?a.primary:a.neutral30}})},wj=function(e){var n=e.children,r=e.isDisabled,i=e.isFocused,s=e.innerRef,a=e.innerProps,c=e.menuIsOpen;return ne("div",se({ref:s},Je(e,"control",{control:!0,"control--is-disabled":r,"control--is-focused":i,"control--menu-is-open":c}),a,{"aria-disabled":r||void 0}),n)},Ej=wj,Sj=["data"],Tj=function(e,n){var r=e.theme.spacing;return n?{}:{paddingBottom:r.baseUnit*2,paddingTop:r.baseUnit*2}},Ij=function(e){var n=e.children,r=e.cx,i=e.getStyles,s=e.getClassNames,a=e.Heading,c=e.headingProps,u=e.innerProps,d=e.label,p=e.theme,m=e.selectProps;return ne("div",se({},Je(e,"group",{group:!0}),u),ne(a,se({},c,{selectProps:m,theme:p,getStyles:i,getClassNames:s,cx:r}),d),ne("div",null,n))},Pj=function(e,n){var r=e.theme,i=r.colors,s=r.spacing;return re({label:"group",cursor:"default",display:"block"},n?{}:{color:i.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:s.baseUnit*3,paddingRight:s.baseUnit*3,textTransform:"uppercase"})},Cj=function(e){var n=Ab(e);n.data;var r=Qr(n,Sj);return ne("div",se({},Je(e,"groupHeading",{"group-heading":!0}),r))},xj=Ij,bj=["innerRef","isDisabled","isHidden","inputClassName"],Rj=function(e,n){var r=e.isDisabled,i=e.value,s=e.theme,a=s.spacing,c=s.colors;return re(re({visibility:r?"hidden":"visible",transform:i?"translateZ(0)":""},Aj),n?{}:{margin:a.baseUnit/2,paddingBottom:a.baseUnit/2,paddingTop:a.baseUnit/2,color:c.neutral80})},zb={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},Aj={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":re({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},zb)},kj=function(e){return re({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},zb)},Oj=function(e){var n=e.cx,r=e.value,i=Ab(e),s=i.innerRef,a=i.isDisabled,c=i.isHidden,u=i.inputClassName,d=Qr(i,bj);return ne("div",se({},Je(e,"input",{"input-container":!0}),{"data-value":r||""}),ne("input",se({className:n({input:!0},u),ref:s,style:kj(c),disabled:a},d)))},Lj=Oj,Mj=function(e,n){var r=e.theme,i=r.spacing,s=r.borderRadius,a=r.colors;return re({label:"multiValue",display:"flex",minWidth:0},n?{}:{backgroundColor:a.neutral10,borderRadius:s/2,margin:i.baseUnit/2})},Nj=function(e,n){var r=e.theme,i=r.borderRadius,s=r.colors,a=e.cropWithEllipsis;return re({overflow:"hidden",textOverflow:a||a===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},n?{}:{borderRadius:i/2,color:s.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},Dj=function(e,n){var r=e.theme,i=r.spacing,s=r.borderRadius,a=r.colors,c=e.isFocused;return re({alignItems:"center",display:"flex"},n?{}:{borderRadius:s/2,backgroundColor:c?a.dangerLight:void 0,paddingLeft:i.baseUnit,paddingRight:i.baseUnit,":hover":{backgroundColor:a.dangerLight,color:a.danger}})},jb=function(e){var n=e.children,r=e.innerProps;return ne("div",r,n)},Vj=jb,Fj=jb;function zj(t){var e=t.children,n=t.innerProps;return ne("div",se({role:"button"},n),e||ne(s1,{size:14}))}var jj=function(e){var n=e.children,r=e.components,i=e.data,s=e.innerProps,a=e.isDisabled,c=e.removeProps,u=e.selectProps,d=r.Container,p=r.Label,m=r.Remove;return ne(d,{data:i,innerProps:re(re({},Je(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":a})),s),selectProps:u},ne(p,{data:i,innerProps:re({},Je(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:u},n),ne(m,{data:i,innerProps:re(re({},Je(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(n||"option")},c),selectProps:u}))},$j=jj,Uj=function(e,n){var r=e.isDisabled,i=e.isFocused,s=e.isSelected,a=e.theme,c=a.spacing,u=a.colors;return re({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},n?{}:{backgroundColor:s?u.primary:i?u.primary25:"transparent",color:r?u.neutral20:s?u.neutral0:"inherit",padding:"".concat(c.baseUnit*2,"px ").concat(c.baseUnit*3,"px"),":active":{backgroundColor:r?void 0:s?u.primary:u.primary50}})},Bj=function(e){var n=e.children,r=e.isDisabled,i=e.isFocused,s=e.isSelected,a=e.innerRef,c=e.innerProps;return ne("div",se({},Je(e,"option",{option:!0,"option--is-disabled":r,"option--is-focused":i,"option--is-selected":s}),{ref:a,"aria-disabled":r},c),n)},Hj=Bj,Wj=function(e,n){var r=e.theme,i=r.spacing,s=r.colors;return re({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},n?{}:{color:s.neutral50,marginLeft:i.baseUnit/2,marginRight:i.baseUnit/2})},qj=function(e){var n=e.children,r=e.innerProps;return ne("div",se({},Je(e,"placeholder",{placeholder:!0}),r),n)},Gj=qj,Kj=function(e,n){var r=e.isDisabled,i=e.theme,s=i.spacing,a=i.colors;return re({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},n?{}:{color:r?a.neutral40:a.neutral80,marginLeft:s.baseUnit/2,marginRight:s.baseUnit/2})},Zj=function(e){var n=e.children,r=e.isDisabled,i=e.innerProps;return ne("div",se({},Je(e,"singleValue",{"single-value":!0,"single-value--is-disabled":r}),i),n)},Qj=Zj,Yj={ClearIndicator:fj,Control:Ej,DropdownIndicator:hj,DownChevron:Vb,CrossIcon:s1,Group:xj,GroupHeading:Cj,IndicatorsContainer:oj,IndicatorSeparator:mj,Input:Lj,LoadingIndicator:_j,Menu:qz,MenuList:Kz,MenuPortal:ej,LoadingMessage:Xz,NoOptionsMessage:Yz,MultiValue:$j,MultiValueContainer:Vj,MultiValueLabel:Fj,MultiValueRemove:zj,Option:Hj,Placeholder:Gj,SelectContainer:nj,SingleValue:Qj,ValueContainer:ij},Xj=function(e){return re(re({},Yj),e.components)},O2=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function Jj(t,e){return!!(t===e||O2(t)&&O2(e))}function e$(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!Jj(t[n],e[n]))return!1;return!0}function t$(t,e){e===void 0&&(e=e$);var n=null;function r(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];if(n&&n.lastThis===this&&e(i,n.lastArgs))return n.lastResult;var a=t.apply(this,i);return n={lastResult:a,lastArgs:i,lastThis:this},a}return r.clear=function(){n=null},r}var n$={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},r$=function(e){return ne("span",se({css:n$},e))},L2=r$,i$={guidance:function(e){var n=e.isSearchable,r=e.isMulti,i=e.tabSelectsValue,s=e.context,a=e.isInitialFocus;switch(s){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(i?", press Tab to select the option and exit the menu":"",".");case"input":return a?"".concat(e["aria-label"]||"Select"," is focused ").concat(n?",type to refine list":"",", press Down to open the menu, ").concat(r?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var n=e.action,r=e.label,i=r===void 0?"":r,s=e.labels,a=e.isDisabled;switch(n){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(i,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(s.length>1?"s":""," ").concat(s.join(","),", selected.");case"select-option":return a?"option ".concat(i," is disabled. Select another option."):"option ".concat(i,", selected.");default:return""}},onFocus:function(e){var n=e.context,r=e.focused,i=e.options,s=e.label,a=s===void 0?"":s,c=e.selectValue,u=e.isDisabled,d=e.isSelected,p=e.isAppleDevice,m=function(T,P){return T&&T.length?"".concat(T.indexOf(P)+1," of ").concat(T.length):""};if(n==="value"&&c)return"value ".concat(a," focused, ").concat(m(c,r),".");if(n==="menu"&&p){var v=u?" disabled":"",E="".concat(d?" selected":"").concat(v);return"".concat(a).concat(E,", ").concat(m(i,r),".")}return""},onFilter:function(e){var n=e.inputValue,r=e.resultsMessage;return"".concat(r).concat(n?" for search term "+n:"",".")}},s$=function(e){var n=e.ariaSelection,r=e.focusedOption,i=e.focusedValue,s=e.focusableOptions,a=e.isFocused,c=e.selectValue,u=e.selectProps,d=e.id,p=e.isAppleDevice,m=u.ariaLiveMessages,v=u.getOptionLabel,E=u.inputValue,C=u.isMulti,T=u.isOptionDisabled,P=u.isSearchable,_=u.menuIsOpen,y=u.options,S=u.screenReaderStatus,x=u.tabSelectsValue,A=u.isLoading,O=u["aria-label"],M=u["aria-live"],D=R.useMemo(function(){return re(re({},i$),m||{})},[m]),Z=R.useMemo(function(){var K="";if(n&&D.onChange){var fe=n.option,He=n.options,V=n.removedValue,ee=n.removedValues,U=n.value,ie=function(vt){return Array.isArray(vt)?null:vt},te=V||fe||ie(U),Pe=te?v(te):"",_e=He||ee||void 0,me=_e?_e.map(v):[],X=re({isDisabled:te&&T(te,c),label:Pe,labels:me},n);K=D.onChange(X)}return K},[n,D,T,c,v]),G=R.useMemo(function(){var K="",fe=r||i,He=!!(r&&c&&c.includes(r));if(fe&&D.onFocus){var V={focused:fe,label:v(fe),isDisabled:T(fe,c),isSelected:He,options:s,context:fe===r?"menu":"value",selectValue:c,isAppleDevice:p};K=D.onFocus(V)}return K},[r,i,v,T,D,s,c,p]),le=R.useMemo(function(){var K="";if(_&&y.length&&!A&&D.onFilter){var fe=S({count:s.length});K=D.onFilter({inputValue:E,resultsMessage:fe})}return K},[s,E,_,D,y,S,A]),ve=(n==null?void 0:n.action)==="initial-input-focus",rt=R.useMemo(function(){var K="";if(D.guidance){var fe=i?"value":_?"menu":"input";K=D.guidance({"aria-label":O,context:fe,isDisabled:r&&T(r,c),isMulti:C,isSearchable:P,tabSelectsValue:x,isInitialFocus:ve})}return K},[O,r,i,C,T,P,_,D,c,x,ve]),Fe=ne(R.Fragment,null,ne("span",{id:"aria-selection"},Z),ne("span",{id:"aria-focused"},G),ne("span",{id:"aria-results"},le),ne("span",{id:"aria-guidance"},rt));return ne(R.Fragment,null,ne(L2,{id:d},ve&&Fe),ne(L2,{"aria-live":M,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},a&&!ve&&Fe))},o$=s$,wv=[{base:"A",letters:"AⒶＡÀÁÂẦẤẪẨÃĀĂẰẮẴẲȦǠÄǞẢÅǺǍȀȂẠẬẶḀĄȺⱯ"},{base:"AA",letters:"Ꜳ"},{base:"AE",letters:"ÆǼǢ"},{base:"AO",letters:"Ꜵ"},{base:"AU",letters:"Ꜷ"},{base:"AV",letters:"ꜸꜺ"},{base:"AY",letters:"Ꜽ"},{base:"B",letters:"BⒷＢḂḄḆɃƂƁ"},{base:"C",letters:"CⒸＣĆĈĊČÇḈƇȻꜾ"},{base:"D",letters:"DⒹＤḊĎḌḐḒḎĐƋƊƉꝹ"},{base:"DZ",letters:"ǱǄ"},{base:"Dz",letters:"ǲǅ"},{base:"E",letters:"EⒺＥÈÉÊỀẾỄỂẼĒḔḖĔĖËẺĚȄȆẸỆȨḜĘḘḚƐƎ"},{base:"F",letters:"FⒻＦḞƑꝻ"},{base:"G",letters:"GⒼＧǴĜḠĞĠǦĢǤƓꞠꝽꝾ"},{base:"H",letters:"HⒽＨĤḢḦȞḤḨḪĦⱧⱵꞍ"},{base:"I",letters:"IⒾＩÌÍÎĨĪĬİÏḮỈǏȈȊỊĮḬƗ"},{base:"J",letters:"JⒿＪĴɈ"},{base:"K",letters:"KⓀＫḰǨḲĶḴƘⱩꝀꝂꝄꞢ"},{base:"L",letters:"LⓁＬĿĹĽḶḸĻḼḺŁȽⱢⱠꝈꝆꞀ"},{base:"LJ",letters:"Ǉ"},{base:"Lj",letters:"ǈ"},{base:"M",letters:"MⓂＭḾṀṂⱮƜ"},{base:"N",letters:"NⓃＮǸŃÑṄŇṆŅṊṈȠƝꞐꞤ"},{base:"NJ",letters:"Ǌ"},{base:"Nj",letters:"ǋ"},{base:"O",letters:"OⓄＯÒÓÔỒỐỖỔÕṌȬṎŌṐṒŎȮȰÖȪỎŐǑȌȎƠỜỚỠỞỢỌỘǪǬØǾƆƟꝊꝌ"},{base:"OI",letters:"Ƣ"},{base:"OO",letters:"Ꝏ"},{base:"OU",letters:"Ȣ"},{base:"P",letters:"PⓅＰṔṖƤⱣꝐꝒꝔ"},{base:"Q",letters:"QⓆＱꝖꝘɊ"},{base:"R",letters:"RⓇＲŔṘŘȐȒṚṜŖṞɌⱤꝚꞦꞂ"},{base:"S",letters:"SⓈＳẞŚṤŜṠŠṦṢṨȘŞⱾꞨꞄ"},{base:"T",letters:"TⓉＴṪŤṬȚŢṰṮŦƬƮȾꞆ"},{base:"TZ",letters:"Ꜩ"},{base:"U",letters:"UⓊＵÙÚÛŨṸŪṺŬÜǛǗǕǙỦŮŰǓȔȖƯỪỨỮỬỰỤṲŲṶṴɄ"},{base:"V",letters:"VⓋＶṼṾƲꝞɅ"},{base:"VY",letters:"Ꝡ"},{base:"W",letters:"WⓌＷẀẂŴẆẄẈⱲ"},{base:"X",letters:"XⓍＸẊẌ"},{base:"Y",letters:"YⓎＹỲÝŶỸȲẎŸỶỴƳɎỾ"},{base:"Z",letters:"ZⓏＺŹẐŻŽẒẔƵȤⱿⱫꝢ"},{base:"a",letters:"aⓐａẚàáâầấẫẩãāăằắẵẳȧǡäǟảåǻǎȁȃạậặḁąⱥɐ"},{base:"aa",letters:"ꜳ"},{base:"ae",letters:"æǽǣ"},{base:"ao",letters:"ꜵ"},{base:"au",letters:"ꜷ"},{base:"av",letters:"ꜹꜻ"},{base:"ay",letters:"ꜽ"},{base:"b",letters:"bⓑｂḃḅḇƀƃɓ"},{base:"c",letters:"cⓒｃćĉċčçḉƈȼꜿↄ"},{base:"d",letters:"dⓓｄḋďḍḑḓḏđƌɖɗꝺ"},{base:"dz",letters:"ǳǆ"},{base:"e",letters:"eⓔｅèéêềếễểẽēḕḗĕėëẻěȅȇẹệȩḝęḙḛɇɛǝ"},{base:"f",letters:"fⓕｆḟƒꝼ"},{base:"g",letters:"gⓖｇǵĝḡğġǧģǥɠꞡᵹꝿ"},{base:"h",letters:"hⓗｈĥḣḧȟḥḩḫẖħⱨⱶɥ"},{base:"hv",letters:"ƕ"},{base:"i",letters:"iⓘｉìíîĩīĭïḯỉǐȉȋịįḭɨı"},{base:"j",letters:"jⓙｊĵǰɉ"},{base:"k",letters:"kⓚｋḱǩḳķḵƙⱪꝁꝃꝅꞣ"},{base:"l",letters:"lⓛｌŀĺľḷḹļḽḻſłƚɫⱡꝉꞁꝇ"},{base:"lj",letters:"ǉ"},{base:"m",letters:"mⓜｍḿṁṃɱɯ"},{base:"n",letters:"nⓝｎǹńñṅňṇņṋṉƞɲŉꞑꞥ"},{base:"nj",letters:"ǌ"},{base:"o",letters:"oⓞｏòóôồốỗổõṍȭṏōṑṓŏȯȱöȫỏőǒȍȏơờớỡởợọộǫǭøǿɔꝋꝍɵ"},{base:"oi",letters:"ƣ"},{base:"ou",letters:"ȣ"},{base:"oo",letters:"ꝏ"},{base:"p",letters:"pⓟｐṕṗƥᵽꝑꝓꝕ"},{base:"q",letters:"qⓠｑɋꝗꝙ"},{base:"r",letters:"rⓡｒŕṙřȑȓṛṝŗṟɍɽꝛꞧꞃ"},{base:"s",letters:"sⓢｓßśṥŝṡšṧṣṩșşȿꞩꞅẛ"},{base:"t",letters:"tⓣｔṫẗťṭțţṱṯŧƭʈⱦꞇ"},{base:"tz",letters:"ꜩ"},{base:"u",letters:"uⓤｕùúûũṹūṻŭüǜǘǖǚủůűǔȕȗưừứữửựụṳųṷṵʉ"},{base:"v",letters:"vⓥｖṽṿʋꝟʌ"},{base:"vy",letters:"ꝡ"},{base:"w",letters:"wⓦｗẁẃŵẇẅẘẉⱳ"},{base:"x",letters:"xⓧｘẋẍ"},{base:"y",letters:"yⓨｙỳýŷỹȳẏÿỷẙỵƴɏỿ"},{base:"z",letters:"zⓩｚźẑżžẓẕƶȥɀⱬꝣ"}],a$=new RegExp("["+wv.map(function(t){return t.letters}).join("")+"]","g"),$b={};for(var Im=0;Im<wv.length;Im++)for(var Pm=wv[Im],Cm=0;Cm<Pm.letters.length;Cm++)$b[Pm.letters[Cm]]=Pm.base;var Ub=function(e){return e.replace(a$,function(n){return $b[n]})},l$=t$(Ub),M2=function(e){return e.replace(/^\s+|\s+$/g,"")},u$=function(e){return"".concat(e.label," ").concat(e.value)},c$=function(e){return function(n,r){if(n.data.__isNew__)return!0;var i=re({ignoreCase:!0,ignoreAccents:!0,stringify:u$,trim:!0,matchFrom:"any"},e),s=i.ignoreCase,a=i.ignoreAccents,c=i.stringify,u=i.trim,d=i.matchFrom,p=u?M2(r):r,m=u?M2(c(n)):c(n);return s&&(p=p.toLowerCase(),m=m.toLowerCase()),a&&(p=l$(p),m=Ub(m)),d==="start"?m.substr(0,p.length)===p:m.indexOf(p)>-1}},h$=["innerRef"];function d$(t){var e=t.innerRef,n=Qr(t,h$),r=Fz(n,"onExited","in","enter","exit","appear");return ne("input",se({ref:e},r,{css:t1({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var f$=function(e){e.cancelable&&e.preventDefault(),e.stopPropagation()};function p$(t){var e=t.isEnabled,n=t.onBottomArrive,r=t.onBottomLeave,i=t.onTopArrive,s=t.onTopLeave,a=R.useRef(!1),c=R.useRef(!1),u=R.useRef(0),d=R.useRef(null),p=R.useCallback(function(P,_){if(d.current!==null){var y=d.current,S=y.scrollTop,x=y.scrollHeight,A=y.clientHeight,O=d.current,M=_>0,D=x-A-S,Z=!1;D>_&&a.current&&(r&&r(P),a.current=!1),M&&c.current&&(s&&s(P),c.current=!1),M&&_>D?(n&&!a.current&&n(P),O.scrollTop=x,Z=!0,a.current=!0):!M&&-_>S&&(i&&!c.current&&i(P),O.scrollTop=0,Z=!0,c.current=!0),Z&&f$(P)}},[n,r,i,s]),m=R.useCallback(function(P){p(P,P.deltaY)},[p]),v=R.useCallback(function(P){u.current=P.changedTouches[0].clientY},[]),E=R.useCallback(function(P){var _=u.current-P.changedTouches[0].clientY;p(P,_)},[p]),C=R.useCallback(function(P){if(P){var _=Nz?{passive:!1}:!1;P.addEventListener("wheel",m,_),P.addEventListener("touchstart",v,_),P.addEventListener("touchmove",E,_)}},[E,v,m]),T=R.useCallback(function(P){P&&(P.removeEventListener("wheel",m,!1),P.removeEventListener("touchstart",v,!1),P.removeEventListener("touchmove",E,!1))},[E,v,m]);return R.useEffect(function(){if(e){var P=d.current;return C(P),function(){T(P)}}},[e,C,T]),function(P){d.current=P}}var N2=["boxSizing","height","overflow","paddingRight","position"],D2={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function V2(t){t.preventDefault()}function F2(t){t.stopPropagation()}function z2(){var t=this.scrollTop,e=this.scrollHeight,n=t+this.offsetHeight;t===0?this.scrollTop=1:n===e&&(this.scrollTop=t-1)}function j2(){return"ontouchstart"in window||navigator.maxTouchPoints}var $2=!!(typeof window<"u"&&window.document&&window.document.createElement),ba=0,Us={capture:!1,passive:!1};function m$(t){var e=t.isEnabled,n=t.accountForScrollbars,r=n===void 0?!0:n,i=R.useRef({}),s=R.useRef(null),a=R.useCallback(function(u){if($2){var d=document.body,p=d&&d.style;if(r&&N2.forEach(function(C){var T=p&&p[C];i.current[C]=T}),r&&ba<1){var m=parseInt(i.current.paddingRight,10)||0,v=document.body?document.body.clientWidth:0,E=window.innerWidth-v+m||0;Object.keys(D2).forEach(function(C){var T=D2[C];p&&(p[C]=T)}),p&&(p.paddingRight="".concat(E,"px"))}d&&j2()&&(d.addEventListener("touchmove",V2,Us),u&&(u.addEventListener("touchstart",z2,Us),u.addEventListener("touchmove",F2,Us))),ba+=1}},[r]),c=R.useCallback(function(u){if($2){var d=document.body,p=d&&d.style;ba=Math.max(ba-1,0),r&&ba<1&&N2.forEach(function(m){var v=i.current[m];p&&(p[m]=v)}),d&&j2()&&(d.removeEventListener("touchmove",V2,Us),u&&(u.removeEventListener("touchstart",z2,Us),u.removeEventListener("touchmove",F2,Us)))}},[r]);return R.useEffect(function(){if(e){var u=s.current;return a(u),function(){c(u)}}},[e,a,c]),function(u){s.current=u}}var g$=function(e){var n=e.target;return n.ownerDocument.activeElement&&n.ownerDocument.activeElement.blur()},v$={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function _$(t){var e=t.children,n=t.lockEnabled,r=t.captureEnabled,i=r===void 0?!0:r,s=t.onBottomArrive,a=t.onBottomLeave,c=t.onTopArrive,u=t.onTopLeave,d=p$({isEnabled:i,onBottomArrive:s,onBottomLeave:a,onTopArrive:c,onTopLeave:u}),p=m$({isEnabled:n}),m=function(E){d(E),p(E)};return ne(R.Fragment,null,n&&ne("div",{onClick:g$,css:v$}),e(m))}var y$={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},w$=function(e){var n=e.name,r=e.onFocus;return ne("input",{required:!0,name:n,tabIndex:-1,"aria-hidden":"true",onFocus:r,css:y$,value:"",onChange:function(){}})},E$=w$;function o1(t){var e;return typeof window<"u"&&window.navigator!=null?t.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function S$(){return o1(/^iPhone/i)}function Bb(){return o1(/^Mac/i)}function T$(){return o1(/^iPad/i)||Bb()&&navigator.maxTouchPoints>1}function I$(){return S$()||T$()}function P$(){return Bb()||I$()}var C$=function(e){return e.label},x$=function(e){return e.label},b$=function(e){return e.value},R$=function(e){return!!e.isDisabled},A$={clearIndicator:dj,container:tj,control:yj,dropdownIndicator:cj,group:Tj,groupHeading:Pj,indicatorsContainer:sj,indicatorSeparator:pj,input:Rj,loadingIndicator:vj,loadingMessage:Qz,menu:Bz,menuList:Gz,menuPortal:Jz,multiValue:Mj,multiValueLabel:Nj,multiValueRemove:Dj,noOptionsMessage:Zz,option:Uj,placeholder:Wj,singleValue:Kj,valueContainer:rj},k$={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},O$=4,Hb=4,L$=38,M$=Hb*2,N$={baseUnit:Hb,controlHeight:L$,menuGutter:M$},xm={borderRadius:O$,colors:k$,spacing:N$},D$={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:A2(),captureMenuScroll:!A2(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:c$(),formatGroupLabel:C$,getOptionLabel:x$,getOptionValue:b$,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:R$,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!Lz(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var n=e.count;return"".concat(n," result").concat(n!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function U2(t,e,n,r){var i=Gb(t,e,n),s=Kb(t,e,n),a=qb(t,e),c=wd(t,e);return{type:"option",data:e,isDisabled:i,isSelected:s,label:a,value:c,index:r}}function uh(t,e){return t.options.map(function(n,r){if("options"in n){var i=n.options.map(function(a,c){return U2(t,a,e,c)}).filter(function(a){return H2(t,a)});return i.length>0?{type:"group",data:n,options:i,index:r}:void 0}var s=U2(t,n,e,r);return H2(t,s)?s:void 0}).filter(Dz)}function Wb(t){return t.reduce(function(e,n){return n.type==="group"?e.push.apply(e,Gy(n.options.map(function(r){return r.data}))):e.push(n.data),e},[])}function B2(t,e){return t.reduce(function(n,r){return r.type==="group"?n.push.apply(n,Gy(r.options.map(function(i){return{data:i.data,id:"".concat(e,"-").concat(r.index,"-").concat(i.index)}}))):n.push({data:r.data,id:"".concat(e,"-").concat(r.index)}),n},[])}function V$(t,e){return Wb(uh(t,e))}function H2(t,e){var n=t.inputValue,r=n===void 0?"":n,i=e.data,s=e.isSelected,a=e.label,c=e.value;return(!Qb(t)||!s)&&Zb(t,{label:a,value:c,data:i},r)}function F$(t,e){var n=t.focusedValue,r=t.selectValue,i=r.indexOf(n);if(i>-1){var s=e.indexOf(n);if(s>-1)return n;if(i<e.length)return e[i]}return null}function z$(t,e){var n=t.focusedOption;return n&&e.indexOf(n)>-1?n:e[0]}var bm=function(e,n){var r,i=(r=e.find(function(s){return s.data===n}))===null||r===void 0?void 0:r.id;return i||null},qb=function(e,n){return e.getOptionLabel(n)},wd=function(e,n){return e.getOptionValue(n)};function Gb(t,e,n){return typeof t.isOptionDisabled=="function"?t.isOptionDisabled(e,n):!1}function Kb(t,e,n){if(n.indexOf(e)>-1)return!0;if(typeof t.isOptionSelected=="function")return t.isOptionSelected(e,n);var r=wd(t,e);return n.some(function(i){return wd(t,i)===r})}function Zb(t,e,n){return t.filterOption?t.filterOption(e,n):!0}var Qb=function(e){var n=e.hideSelectedOptions,r=e.isMulti;return n===void 0?r:n},j$=1,Yb=function(t){i7(n,t);var e=a7(n);function n(r){var i;if(n7(this,n),i=e.call(this,r),i.state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:""},i.blockOptionHover=!1,i.isComposing=!1,i.commonProps=void 0,i.initialTouchX=0,i.initialTouchY=0,i.openAfterFocus=!1,i.scrollToFocusedOptionOnUpdate=!1,i.userIsDragging=void 0,i.isAppleDevice=P$(),i.controlRef=null,i.getControlRef=function(u){i.controlRef=u},i.focusedOptionRef=null,i.getFocusedOptionRef=function(u){i.focusedOptionRef=u},i.menuListRef=null,i.getMenuListRef=function(u){i.menuListRef=u},i.inputRef=null,i.getInputRef=function(u){i.inputRef=u},i.focus=i.focusInput,i.blur=i.blurInput,i.onChange=function(u,d){var p=i.props,m=p.onChange,v=p.name;d.name=v,i.ariaOnChange(u,d),m(u,d)},i.setValue=function(u,d,p){var m=i.props,v=m.closeMenuOnSelect,E=m.isMulti,C=m.inputValue;i.onInputChange("",{action:"set-value",prevInputValue:C}),v&&(i.setState({inputIsHiddenAfterUpdate:!E}),i.onMenuClose()),i.setState({clearFocusValueOnUpdate:!0}),i.onChange(u,{action:d,option:p})},i.selectOption=function(u){var d=i.props,p=d.blurInputOnSelect,m=d.isMulti,v=d.name,E=i.state.selectValue,C=m&&i.isOptionSelected(u,E),T=i.isOptionDisabled(u,E);if(C){var P=i.getOptionValue(u);i.setValue(E.filter(function(_){return i.getOptionValue(_)!==P}),"deselect-option",u)}else if(!T)m?i.setValue([].concat(Gy(E),[u]),"select-option",u):i.setValue(u,"select-option");else{i.ariaOnChange(u,{action:"select-option",option:u,name:v});return}p&&i.blurInput()},i.removeValue=function(u){var d=i.props.isMulti,p=i.state.selectValue,m=i.getOptionValue(u),v=p.filter(function(C){return i.getOptionValue(C)!==m}),E=kc(d,v,v[0]||null);i.onChange(E,{action:"remove-value",removedValue:u}),i.focusInput()},i.clearValue=function(){var u=i.state.selectValue;i.onChange(kc(i.props.isMulti,[],null),{action:"clear",removedValues:u})},i.popValue=function(){var u=i.props.isMulti,d=i.state.selectValue,p=d[d.length-1],m=d.slice(0,d.length-1),v=kc(u,m,m[0]||null);i.onChange(v,{action:"pop-value",removedValue:p})},i.getFocusedOptionId=function(u){return bm(i.state.focusableOptionsWithIds,u)},i.getFocusableOptionsWithIds=function(){return B2(uh(i.props,i.state.selectValue),i.getElementId("option"))},i.getValue=function(){return i.state.selectValue},i.cx=function(){for(var u=arguments.length,d=new Array(u),p=0;p<u;p++)d[p]=arguments[p];return bz.apply(void 0,[i.props.classNamePrefix].concat(d))},i.getOptionLabel=function(u){return qb(i.props,u)},i.getOptionValue=function(u){return wd(i.props,u)},i.getStyles=function(u,d){var p=i.props.unstyled,m=A$[u](d,p);m.boxSizing="border-box";var v=i.props.styles[u];return v?v(m,d):m},i.getClassNames=function(u,d){var p,m;return(p=(m=i.props.classNames)[u])===null||p===void 0?void 0:p.call(m,d)},i.getElementId=function(u){return"".concat(i.state.instancePrefix,"-").concat(u)},i.getComponents=function(){return Xj(i.props)},i.buildCategorizedOptions=function(){return uh(i.props,i.state.selectValue)},i.getCategorizedOptions=function(){return i.props.menuIsOpen?i.buildCategorizedOptions():[]},i.buildFocusableOptions=function(){return Wb(i.buildCategorizedOptions())},i.getFocusableOptions=function(){return i.props.menuIsOpen?i.buildFocusableOptions():[]},i.ariaOnChange=function(u,d){i.setState({ariaSelection:re({value:u},d)})},i.onMenuMouseDown=function(u){u.button===0&&(u.stopPropagation(),u.preventDefault(),i.focusInput())},i.onMenuMouseMove=function(u){i.blockOptionHover=!1},i.onControlMouseDown=function(u){if(!u.defaultPrevented){var d=i.props.openMenuOnClick;i.state.isFocused?i.props.menuIsOpen?u.target.tagName!=="INPUT"&&u.target.tagName!=="TEXTAREA"&&i.onMenuClose():d&&i.openMenu("first"):(d&&(i.openAfterFocus=!0),i.focusInput()),u.target.tagName!=="INPUT"&&u.target.tagName!=="TEXTAREA"&&u.preventDefault()}},i.onDropdownIndicatorMouseDown=function(u){if(!(u&&u.type==="mousedown"&&u.button!==0)&&!i.props.isDisabled){var d=i.props,p=d.isMulti,m=d.menuIsOpen;i.focusInput(),m?(i.setState({inputIsHiddenAfterUpdate:!p}),i.onMenuClose()):i.openMenu("first"),u.preventDefault()}},i.onClearIndicatorMouseDown=function(u){u&&u.type==="mousedown"&&u.button!==0||(i.clearValue(),u.preventDefault(),i.openAfterFocus=!1,u.type==="touchend"?i.focusInput():setTimeout(function(){return i.focusInput()}))},i.onScroll=function(u){typeof i.props.closeMenuOnScroll=="boolean"?u.target instanceof HTMLElement&&Wf(u.target)&&i.props.onMenuClose():typeof i.props.closeMenuOnScroll=="function"&&i.props.closeMenuOnScroll(u)&&i.props.onMenuClose()},i.onCompositionStart=function(){i.isComposing=!0},i.onCompositionEnd=function(){i.isComposing=!1},i.onTouchStart=function(u){var d=u.touches,p=d&&d.item(0);p&&(i.initialTouchX=p.clientX,i.initialTouchY=p.clientY,i.userIsDragging=!1)},i.onTouchMove=function(u){var d=u.touches,p=d&&d.item(0);if(p){var m=Math.abs(p.clientX-i.initialTouchX),v=Math.abs(p.clientY-i.initialTouchY),E=5;i.userIsDragging=m>E||v>E}},i.onTouchEnd=function(u){i.userIsDragging||(i.controlRef&&!i.controlRef.contains(u.target)&&i.menuListRef&&!i.menuListRef.contains(u.target)&&i.blurInput(),i.initialTouchX=0,i.initialTouchY=0)},i.onControlTouchEnd=function(u){i.userIsDragging||i.onControlMouseDown(u)},i.onClearIndicatorTouchEnd=function(u){i.userIsDragging||i.onClearIndicatorMouseDown(u)},i.onDropdownIndicatorTouchEnd=function(u){i.userIsDragging||i.onDropdownIndicatorMouseDown(u)},i.handleInputChange=function(u){var d=i.props.inputValue,p=u.currentTarget.value;i.setState({inputIsHiddenAfterUpdate:!1}),i.onInputChange(p,{action:"input-change",prevInputValue:d}),i.props.menuIsOpen||i.onMenuOpen()},i.onInputFocus=function(u){i.props.onFocus&&i.props.onFocus(u),i.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(i.openAfterFocus||i.props.openMenuOnFocus)&&i.openMenu("first"),i.openAfterFocus=!1},i.onInputBlur=function(u){var d=i.props.inputValue;if(i.menuListRef&&i.menuListRef.contains(document.activeElement)){i.inputRef.focus();return}i.props.onBlur&&i.props.onBlur(u),i.onInputChange("",{action:"input-blur",prevInputValue:d}),i.onMenuClose(),i.setState({focusedValue:null,isFocused:!1})},i.onOptionHover=function(u){if(!(i.blockOptionHover||i.state.focusedOption===u)){var d=i.getFocusableOptions(),p=d.indexOf(u);i.setState({focusedOption:u,focusedOptionId:p>-1?i.getFocusedOptionId(u):null})}},i.shouldHideSelectedOptions=function(){return Qb(i.props)},i.onValueInputFocus=function(u){u.preventDefault(),u.stopPropagation(),i.focus()},i.onKeyDown=function(u){var d=i.props,p=d.isMulti,m=d.backspaceRemovesValue,v=d.escapeClearsValue,E=d.inputValue,C=d.isClearable,T=d.isDisabled,P=d.menuIsOpen,_=d.onKeyDown,y=d.tabSelectsValue,S=d.openMenuOnFocus,x=i.state,A=x.focusedOption,O=x.focusedValue,M=x.selectValue;if(!T&&!(typeof _=="function"&&(_(u),u.defaultPrevented))){switch(i.blockOptionHover=!0,u.key){case"ArrowLeft":if(!p||E)return;i.focusValue("previous");break;case"ArrowRight":if(!p||E)return;i.focusValue("next");break;case"Delete":case"Backspace":if(E)return;if(O)i.removeValue(O);else{if(!m)return;p?i.popValue():C&&i.clearValue()}break;case"Tab":if(i.isComposing||u.shiftKey||!P||!y||!A||S&&i.isOptionSelected(A,M))return;i.selectOption(A);break;case"Enter":if(u.keyCode===229)break;if(P){if(!A||i.isComposing)return;i.selectOption(A);break}return;case"Escape":P?(i.setState({inputIsHiddenAfterUpdate:!1}),i.onInputChange("",{action:"menu-close",prevInputValue:E}),i.onMenuClose()):C&&v&&i.clearValue();break;case" ":if(E)return;if(!P){i.openMenu("first");break}if(!A)return;i.selectOption(A);break;case"ArrowUp":P?i.focusOption("up"):i.openMenu("last");break;case"ArrowDown":P?i.focusOption("down"):i.openMenu("first");break;case"PageUp":if(!P)return;i.focusOption("pageup");break;case"PageDown":if(!P)return;i.focusOption("pagedown");break;case"Home":if(!P)return;i.focusOption("first");break;case"End":if(!P)return;i.focusOption("last");break;default:return}u.preventDefault()}},i.state.instancePrefix="react-select-"+(i.props.instanceId||++j$),i.state.selectValue=b2(r.value),r.menuIsOpen&&i.state.selectValue.length){var s=i.getFocusableOptionsWithIds(),a=i.buildFocusableOptions(),c=a.indexOf(i.state.selectValue[0]);i.state.focusableOptionsWithIds=s,i.state.focusedOption=a[c],i.state.focusedOptionId=bm(s,a[c])}return i}return r7(n,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&R2(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(i){var s=this.props,a=s.isDisabled,c=s.menuIsOpen,u=this.state.isFocused;(u&&!a&&i.isDisabled||u&&c&&!i.menuIsOpen)&&this.focusInput(),u&&a&&!i.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!u&&!a&&i.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(R2(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(i,s){this.props.onInputChange(i,s)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(i){var s=this,a=this.state,c=a.selectValue,u=a.isFocused,d=this.buildFocusableOptions(),p=i==="first"?0:d.length-1;if(!this.props.isMulti){var m=d.indexOf(c[0]);m>-1&&(p=m)}this.scrollToFocusedOptionOnUpdate=!(u&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:d[p],focusedOptionId:this.getFocusedOptionId(d[p])},function(){return s.onMenuOpen()})}},{key:"focusValue",value:function(i){var s=this.state,a=s.selectValue,c=s.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var u=a.indexOf(c);c||(u=-1);var d=a.length-1,p=-1;if(a.length){switch(i){case"previous":u===0?p=0:u===-1?p=d:p=u-1;break;case"next":u>-1&&u<d&&(p=u+1);break}this.setState({inputIsHidden:p!==-1,focusedValue:a[p]})}}}},{key:"focusOption",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",s=this.props.pageSize,a=this.state.focusedOption,c=this.getFocusableOptions();if(c.length){var u=0,d=c.indexOf(a);a||(d=-1),i==="up"?u=d>0?d-1:c.length-1:i==="down"?u=(d+1)%c.length:i==="pageup"?(u=d-s,u<0&&(u=0)):i==="pagedown"?(u=d+s,u>c.length-1&&(u=c.length-1)):i==="last"&&(u=c.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:c[u],focusedValue:null,focusedOptionId:this.getFocusedOptionId(c[u])})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(xm):re(re({},xm),this.props.theme):xm}},{key:"getCommonProps",value:function(){var i=this.clearValue,s=this.cx,a=this.getStyles,c=this.getClassNames,u=this.getValue,d=this.selectOption,p=this.setValue,m=this.props,v=m.isMulti,E=m.isRtl,C=m.options,T=this.hasValue();return{clearValue:i,cx:s,getStyles:a,getClassNames:c,getValue:u,hasValue:T,isMulti:v,isRtl:E,options:C,selectOption:d,selectProps:m,setValue:p,theme:this.getTheme()}}},{key:"hasValue",value:function(){var i=this.state.selectValue;return i.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var i=this.props,s=i.isClearable,a=i.isMulti;return s===void 0?a:s}},{key:"isOptionDisabled",value:function(i,s){return Gb(this.props,i,s)}},{key:"isOptionSelected",value:function(i,s){return Kb(this.props,i,s)}},{key:"filterOption",value:function(i,s){return Zb(this.props,i,s)}},{key:"formatOptionLabel",value:function(i,s){if(typeof this.props.formatOptionLabel=="function"){var a=this.props.inputValue,c=this.state.selectValue;return this.props.formatOptionLabel(i,{context:s,inputValue:a,selectValue:c})}else return this.getOptionLabel(i)}},{key:"formatGroupLabel",value:function(i){return this.props.formatGroupLabel(i)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var i=this.props,s=i.isDisabled,a=i.isSearchable,c=i.inputId,u=i.inputValue,d=i.tabIndex,p=i.form,m=i.menuIsOpen,v=i.required,E=this.getComponents(),C=E.Input,T=this.state,P=T.inputIsHidden,_=T.ariaSelection,y=this.commonProps,S=c||this.getElementId("input"),x=re(re(re({"aria-autocomplete":"list","aria-expanded":m,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":v,role:"combobox","aria-activedescendant":this.isAppleDevice?void 0:this.state.focusedOptionId||""},m&&{"aria-controls":this.getElementId("listbox")}),!a&&{"aria-readonly":!0}),this.hasValue()?(_==null?void 0:_.action)==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return a?R.createElement(C,se({},y,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:S,innerRef:this.getInputRef,isDisabled:s,isHidden:P,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:d,form:p,type:"text",value:u},x)):R.createElement(d$,se({id:S,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:_d,onFocus:this.onInputFocus,disabled:s,tabIndex:d,inputMode:"none",form:p,value:""},x))}},{key:"renderPlaceholderOrValue",value:function(){var i=this,s=this.getComponents(),a=s.MultiValue,c=s.MultiValueContainer,u=s.MultiValueLabel,d=s.MultiValueRemove,p=s.SingleValue,m=s.Placeholder,v=this.commonProps,E=this.props,C=E.controlShouldRenderValue,T=E.isDisabled,P=E.isMulti,_=E.inputValue,y=E.placeholder,S=this.state,x=S.selectValue,A=S.focusedValue,O=S.isFocused;if(!this.hasValue()||!C)return _?null:R.createElement(m,se({},v,{key:"placeholder",isDisabled:T,isFocused:O,innerProps:{id:this.getElementId("placeholder")}}),y);if(P)return x.map(function(D,Z){var G=D===A,le="".concat(i.getOptionLabel(D),"-").concat(i.getOptionValue(D));return R.createElement(a,se({},v,{components:{Container:c,Label:u,Remove:d},isFocused:G,isDisabled:T,key:le,index:Z,removeProps:{onClick:function(){return i.removeValue(D)},onTouchEnd:function(){return i.removeValue(D)},onMouseDown:function(rt){rt.preventDefault()}},data:D}),i.formatOptionLabel(D,"value"))});if(_)return null;var M=x[0];return R.createElement(p,se({},v,{data:M,isDisabled:T}),this.formatOptionLabel(M,"value"))}},{key:"renderClearIndicator",value:function(){var i=this.getComponents(),s=i.ClearIndicator,a=this.commonProps,c=this.props,u=c.isDisabled,d=c.isLoading,p=this.state.isFocused;if(!this.isClearable()||!s||u||!this.hasValue()||d)return null;var m={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return R.createElement(s,se({},a,{innerProps:m,isFocused:p}))}},{key:"renderLoadingIndicator",value:function(){var i=this.getComponents(),s=i.LoadingIndicator,a=this.commonProps,c=this.props,u=c.isDisabled,d=c.isLoading,p=this.state.isFocused;if(!s||!d)return null;var m={"aria-hidden":"true"};return R.createElement(s,se({},a,{innerProps:m,isDisabled:u,isFocused:p}))}},{key:"renderIndicatorSeparator",value:function(){var i=this.getComponents(),s=i.DropdownIndicator,a=i.IndicatorSeparator;if(!s||!a)return null;var c=this.commonProps,u=this.props.isDisabled,d=this.state.isFocused;return R.createElement(a,se({},c,{isDisabled:u,isFocused:d}))}},{key:"renderDropdownIndicator",value:function(){var i=this.getComponents(),s=i.DropdownIndicator;if(!s)return null;var a=this.commonProps,c=this.props.isDisabled,u=this.state.isFocused,d={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return R.createElement(s,se({},a,{innerProps:d,isDisabled:c,isFocused:u}))}},{key:"renderMenu",value:function(){var i=this,s=this.getComponents(),a=s.Group,c=s.GroupHeading,u=s.Menu,d=s.MenuList,p=s.MenuPortal,m=s.LoadingMessage,v=s.NoOptionsMessage,E=s.Option,C=this.commonProps,T=this.state.focusedOption,P=this.props,_=P.captureMenuScroll,y=P.inputValue,S=P.isLoading,x=P.loadingMessage,A=P.minMenuHeight,O=P.maxMenuHeight,M=P.menuIsOpen,D=P.menuPlacement,Z=P.menuPosition,G=P.menuPortalTarget,le=P.menuShouldBlockScroll,ve=P.menuShouldScrollIntoView,rt=P.noOptionsMessage,Fe=P.onMenuScrollToTop,K=P.onMenuScrollToBottom;if(!M)return null;var fe=function(Pe,_e){var me=Pe.type,X=Pe.data,We=Pe.isDisabled,vt=Pe.isSelected,Ui=Pe.label,ta=Pe.value,As=T===X,Yr=We?void 0:function(){return i.onOptionHover(X)},na=We?void 0:function(){return i.selectOption(X)},Ou="".concat(i.getElementId("option"),"-").concat(_e),Lu={id:Ou,onClick:na,onMouseMove:Yr,onMouseOver:Yr,tabIndex:-1,role:"option","aria-selected":i.isAppleDevice?void 0:vt};return R.createElement(E,se({},C,{innerProps:Lu,data:X,isDisabled:We,isSelected:vt,key:Ou,label:Ui,type:me,value:ta,isFocused:As,innerRef:As?i.getFocusedOptionRef:void 0}),i.formatOptionLabel(Pe.data,"menu"))},He;if(this.hasOptions())He=this.getCategorizedOptions().map(function(te){if(te.type==="group"){var Pe=te.data,_e=te.options,me=te.index,X="".concat(i.getElementId("group"),"-").concat(me),We="".concat(X,"-heading");return R.createElement(a,se({},C,{key:X,data:Pe,options:_e,Heading:c,headingProps:{id:We,data:te.data},label:i.formatGroupLabel(te.data)}),te.options.map(function(vt){return fe(vt,"".concat(me,"-").concat(vt.index))}))}else if(te.type==="option")return fe(te,"".concat(te.index))});else if(S){var V=x({inputValue:y});if(V===null)return null;He=R.createElement(m,C,V)}else{var ee=rt({inputValue:y});if(ee===null)return null;He=R.createElement(v,C,ee)}var U={minMenuHeight:A,maxMenuHeight:O,menuPlacement:D,menuPosition:Z,menuShouldScrollIntoView:ve},ie=R.createElement(Hz,se({},C,U),function(te){var Pe=te.ref,_e=te.placerProps,me=_e.placement,X=_e.maxHeight;return R.createElement(u,se({},C,U,{innerRef:Pe,innerProps:{onMouseDown:i.onMenuMouseDown,onMouseMove:i.onMenuMouseMove},isLoading:S,placement:me}),R.createElement(_$,{captureEnabled:_,onTopArrive:Fe,onBottomArrive:K,lockEnabled:le},function(We){return R.createElement(d,se({},C,{innerRef:function(Ui){i.getMenuListRef(Ui),We(Ui)},innerProps:{role:"listbox","aria-multiselectable":C.isMulti,id:i.getElementId("listbox")},isLoading:S,maxHeight:X,focusedOption:T}),He)}))});return G||Z==="fixed"?R.createElement(p,se({},C,{appendTo:G,controlElement:this.controlRef,menuPlacement:D,menuPosition:Z}),ie):ie}},{key:"renderFormField",value:function(){var i=this,s=this.props,a=s.delimiter,c=s.isDisabled,u=s.isMulti,d=s.name,p=s.required,m=this.state.selectValue;if(p&&!this.hasValue()&&!c)return R.createElement(E$,{name:d,onFocus:this.onValueInputFocus});if(!(!d||c))if(u)if(a){var v=m.map(function(T){return i.getOptionValue(T)}).join(a);return R.createElement("input",{name:d,type:"hidden",value:v})}else{var E=m.length>0?m.map(function(T,P){return R.createElement("input",{key:"i-".concat(P),name:d,type:"hidden",value:i.getOptionValue(T)})}):R.createElement("input",{name:d,type:"hidden",value:""});return R.createElement("div",null,E)}else{var C=m[0]?this.getOptionValue(m[0]):"";return R.createElement("input",{name:d,type:"hidden",value:C})}}},{key:"renderLiveRegion",value:function(){var i=this.commonProps,s=this.state,a=s.ariaSelection,c=s.focusedOption,u=s.focusedValue,d=s.isFocused,p=s.selectValue,m=this.getFocusableOptions();return R.createElement(o$,se({},i,{id:this.getElementId("live-region"),ariaSelection:a,focusedOption:c,focusedValue:u,isFocused:d,selectValue:p,focusableOptions:m,isAppleDevice:this.isAppleDevice}))}},{key:"render",value:function(){var i=this.getComponents(),s=i.Control,a=i.IndicatorsContainer,c=i.SelectContainer,u=i.ValueContainer,d=this.props,p=d.className,m=d.id,v=d.isDisabled,E=d.menuIsOpen,C=this.state.isFocused,T=this.commonProps=this.getCommonProps();return R.createElement(c,se({},T,{className:p,innerProps:{id:m,onKeyDown:this.onKeyDown},isDisabled:v,isFocused:C}),this.renderLiveRegion(),R.createElement(s,se({},T,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:v,isFocused:C,menuIsOpen:E}),R.createElement(u,se({},T,{isDisabled:v}),this.renderPlaceholderOrValue(),this.renderInput()),R.createElement(a,se({},T,{isDisabled:v}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(i,s){var a=s.prevProps,c=s.clearFocusValueOnUpdate,u=s.inputIsHiddenAfterUpdate,d=s.ariaSelection,p=s.isFocused,m=s.prevWasFocused,v=s.instancePrefix,E=i.options,C=i.value,T=i.menuIsOpen,P=i.inputValue,_=i.isMulti,y=b2(C),S={};if(a&&(C!==a.value||E!==a.options||T!==a.menuIsOpen||P!==a.inputValue)){var x=T?V$(i,y):[],A=T?B2(uh(i,y),"".concat(v,"-option")):[],O=c?F$(s,y):null,M=z$(s,x),D=bm(A,M);S={selectValue:y,focusedOption:M,focusedOptionId:D,focusableOptionsWithIds:A,focusedValue:O,clearFocusValueOnUpdate:!1}}var Z=u!=null&&i!==a?{inputIsHidden:u,inputIsHiddenAfterUpdate:void 0}:{},G=d,le=p&&m;return p&&!le&&(G={value:kc(_,y,y[0]||null),options:y,action:"initial-input-focus"},le=!m),(d==null?void 0:d.action)==="initial-input-focus"&&(G=null),re(re(re({},S),Z),{},{prevProps:i,ariaSelection:G,prevWasFocused:le})}}]),n}(R.Component);Yb.defaultProps=D$;var $$=R.forwardRef(function(t,e){var n=t7(t);return R.createElement(Yb,se({ref:e},n))}),Xb=$$;const U$=()=>{const{error:t}=ct(_=>_.restaurants),e=Zn(),n=Wo(),[r,i]=R.useState(!0),[s,a]=R.useState(""),[c,u]=R.useState(""),[d,p]=R.useState(""),[m,v]=R.useState({name:"",website:"",imageURL:"",area:"",address:"",email:"",phoneNumber:"",priceRange:"",foodOption_Buffet:!1,foodOption_Fish:!1,foodOption_Hamburger:!1,foodOption_Other:!1,foodOption_Pasta:!1,foodOption_Pizza:!1,foodOption_Ramen:!1,foodOption_Sallad:!1,foodOption_Sausage:!1,foodOption_Schnitzel:!1,foodOption_Soup:!1,foodOption_Sushi:!1,foodOption_Tacos:!1,foodOption_Vegan:!1,foodOption_Vegetarian:!1,outdoorSeating:!1,openingHours:"",closingHours:""});R.useEffect(()=>{m.name&&m.website?i(!1):i(!0)},[m.name,m.website]);const E=_=>{const{id:y,value:S,type:x,checked:A}=_.target;if(y==="phoneNumber"){const O=S.replace(/[^0-9\-–\s]/g,"");v(M=>({...M,[y]:O}))}else x==="checkbox"?v(O=>({...O,[y]:A})):x==="button"?v(O=>({...O,[y]:!O[y]})):(m.name&&a(""),m.website&&u(""),v(O=>({...O,[y]:S})))},C=_=>{_.preventDefault();let y=!0;try{new URL(m.website)}catch{y=!1}if(!m.name&&!y&&!m.area){a("You need to enter the restaurants name"),u("Invalid website URL"),p("You need to select an area");return}if(!y){u("Invalid website URL");return}if(!m.name){a("You need to enter the restaurants name");return}if(!m.area){p("You need to select an area");return}if(m.name&&m.website&&y&&m.area)a(""),u(""),p(""),e(th(m)).then(()=>{n("/")});else return},T={control:(_,y)=>({..._,border:(y.isFocused,"1px solid grey"),height:"3rem",boxShadow:"none","&:hover":{borderColor:"grey"}}),option:(_,y)=>({..._,backgroundColor:y.isSelected?"#ffccb3;":y.isFocused?"#ffefe7":"transparent",color:(y.isSelected,"#000000")})},P=[{value:"Hammarby Sjöstad",label:"Hammarby Sjöstad"},{value:"Skanstull",label:"Skanstull"},{value:"Medborgarplatsen",label:"Medborgarplatsen"},{value:"Other",label:"Other"}];return I.jsxs("div",{className:"Add padding-top-navbar",children:[I.jsx(kf,{header:"Add Restaurant"}),I.jsxs("div",{className:"add-text",children:[I.jsx("h2",{children:I.jsx("b",{children:"Lunchtime hero needed!"})}),I.jsxs("p",{children:["Think you've found the best spot in town? ",I.jsx("br",{}),"Add a restaurant below! ",I.jsx("br",{})]}),I.jsx("p",{className:"margin-p",children:"The more details you provide, the easier it will be for others to find their next favorite lunch spot."})]}),I.jsxs("form",{className:"add-resturant-form",children:[I.jsx("p",{className:"error",children:s&&s}),I.jsxs("label",{htmlFor:"name",children:["Resturant name *",I.jsx("input",{type:"text",id:"name",className:"resturant-input",autoComplete:"off",value:m.name,onChange:E})]}),I.jsx("p",{className:"error",children:c&&c}),I.jsxs("label",{htmlFor:"website",children:["Website URL *",I.jsx("input",{type:"text",id:"website",className:"resturant-input",autoComplete:"off",value:m.website,onChange:E})]}),I.jsxs("label",{htmlFor:"imageURL",children:["Image URL",I.jsx("input",{type:"text",id:"imageURL",className:"resturant-input",autoComplete:"off",value:m.imageURL,onChange:E})]}),I.jsx("p",{className:"error",children:d&&d}),I.jsxs("label",{htmlFor:"area",children:["Area *",I.jsx(Xb,{id:"area",value:P.find(_=>_.value===m.area),options:P,onChange:_=>E({target:{id:"area",value:_.value}}),className:"select-input",styles:T})]}),I.jsxs("label",{htmlFor:"address",children:["Address",I.jsx("input",{type:"text",id:"address",className:"resturant-input",autoComplete:"off",placeholder:"Street name and number only (e.g., Hammarby kaj 10d)",value:m.address,onChange:E})]}),I.jsxs("label",{htmlFor:"address",children:["Restaurant email",I.jsx("input",{type:"email",id:"email",className:"resturant-input",autoComplete:"off",value:m.email,onChange:E})]}),I.jsxs("label",{htmlFor:"address",children:["Restaurant phone number",I.jsx("input",{type:"text",id:"phoneNumber",className:"resturant-input",autoComplete:"off",value:m.phoneNumber,onChange:E})]}),I.jsxs("label",{htmlFor:"address",children:["Approximate price range",I.jsx("input",{type:"text",id:"priceRange",className:"resturant-input",autoComplete:"off",placeholder:"150-200kr",value:m.priceRange,onChange:E})]}),I.jsxs("label",{htmlFor:"openingHours",children:["What time do they open for lunch?",I.jsx("input",{type:"time",id:"openingHours",className:"resturant-input",placeholder:"Hammarby Kaj 10d",value:m.openingHours,onChange:E})]}),I.jsxs("label",{htmlFor:"closingHours",children:["What time do they close for lunch?",I.jsx("input",{type:"time",id:"closingHours",className:"resturant-input",value:m.closingHours,onChange:E})]}),I.jsx(Wy,{label:"Does the restaurant offer outdoor seating?",initState:m.outdoorSeating,handleChange:E,id:"outdoorSeating"}),I.jsx(qy,{handleChange:E,heading:"What amenities does this restaurant offer?",filters:m}),t&&I.jsx("p",{className:"error",children:t}),I.jsx("button",{className:`btn btn-submit ${r&&"disabled"}`,onClick:C,children:"Add Resturant"})]})]})};function B$(t){return Me({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"m20.35 26.1-2.68 15.78L381.7 103.9l2.6-15.79zm-.55 57.94-1.58 15.92L382.2 136l1.6-16zm212.1 84.36c-2.1-.1-4.2.7-5.9 2.3-3.4 3.1-3.5 8.4-.4 11.7l2.6 2.8-17.7-7.6c-4.2-1.8-9.1.1-10.9 4.3-1.8 4.3.1 9.2 4.4 11l6.8 3c-30.5 1.9-60.3 12-83.5 29l-1.8-3c-2.4-3.9-7.5-5.2-11.5-2.8-3.9 2.4-5.2 7.5-2.8 11.4l3.2 5.3-.4.4-8.2-8.6c-3.2-3.3-8.5-3.5-11.8-.3-3.3 3.2-3.5 8.5-.3 11.8l9.2 9.6c-9.5 12.4-16.3 26.8-19.3 42.9h346.8c5 0 9-3.7 9-8.3 0-4.6-4-8.3-9-8.3h-8l3-.6c5-.7 8-5 7-9.5-1-4.6-5-7.7-10-6.9l-11 1.8c-3-3.3-6-6.2-9-8.8l2-2.1c3-3.2 4-8.4 0-11.8-3-3.3-8.1-3.4-11.4-.2l-5 4.7c-12.9-6.6-26.7-9.8-38.5-11.3 3.7-2.6 4.7-7.8 2-11.6-2.6-3.7-7.8-4.7-11.6-2l-13.3 9.3 3.4-6c2.2-4 .8-9.1-3.2-11.4-4-2.2-9.1-.8-11.3 3.2l-6 10.5c-13-9.4-27.6-16.2-42.9-20.6L237.8 171c-1.6-1.7-3.7-2.5-5.9-2.6zm-52.1 52.1 15.4 5.5c3.3 1.2 4.9 4.8 3.8 8-1.2 3.3-4.8 4.9-8 3.8l-15.4-5.6c-3.3-1.2-5-4.7-3.8-8 1.9-3.5 4.8-4.5 8-3.7zm85.6 22.4c1.5 3.1.2 6.9-2.9 8.3l-14.8 7.1c-3.1 1.5-6.9.1-8.4-3-1.4-3.1-.1-6.8 3-8.3l14.8-7c3.1-1.4 7 .4 8.3 2.9zm98.6 10.6 11.8 11.3c2.5 2.4 2.6 6.4.2 8.9-2.4 2.4-6.3 2.5-8.8.1l-11.8-11.3c-2.5-2.4-2.6-6.4-.2-8.9 2.7-2.2 6.5-2.3 8.8-.1zm-214.3 16.8c1 3.3-.8 6.8-4.1 7.9l-15.6 5c-3.2 1-6.8-.8-7.8-4.1-1.1-3.3.7-6.8 4-7.8l15.6-5c3.3-.9 7 1.5 7.9 4zm145-3.3 15.9 4c3.4.8 5.4 4.2 4.6 7.6-.9 3.3-4.3 5.4-7.6 4.5l-15.9-4c-3.4-.8-5.4-4.2-4.5-7.6 1.5-3.6 4.3-5 7.5-4.5zM39.33 312c1.68 42.5 16.6 76.8 48.58 101.7C121.9 440.1 176.1 456 255 456s133.1-15.9 167.1-42.3c32-24.9 46.9-59.2 48.6-101.7zM191 472v16h128v-16z"},child:[]}]})(t)}function H$(t){return Me({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M255 22.31c-21.2 0-40.5 10.78-50.5 27.63l-4.4 7.42-7.6-4.08c-7.1-3.85-15.2-5.89-23.3-5.89-28.3 0-51.3 23.57-51.3 53.21 0 26.5 18.6 48.6 43.5 52.6l7.6 1.2v53.4c57.9-11.1 116-11.6 174 0v-69.7l4.8-2.6c15.7-8.3 26.1-26.1 26.1-46.15 0-28.8-20.7-51.12-45.4-51.12-6.5 0-13 1.61-18.9 4.72l-6.2 3.2-4.6-5.09C288 29.29 272 22.31 255 22.31zm1 194.79c-25.6 0-51.1 2.4-76.7 7-.9 6-1.3 12.2-1.3 18.6 0 29 9.2 55.2 23.6 73.7 14.4 18.5 33.5 29.3 54.4 29.3s40-10.8 54.4-29.3c14.4-18.5 23.6-44.7 23.6-73.7 0-6.4-.5-12.7-1.3-18.7-25.6-4.7-51.1-7-76.7-6.9zM208.7 348l-89.2 29.7-27.98 112H321.6L307.1 388l17.8-2.6 14.9 104.3h80.7l-28-112-89.2-29.7c-13.8 9.9-30 15.7-47.3 15.7-17.3 0-33.5-5.8-47.3-15.7zm69.3 52.7a9.999 9.999 0 0 1 10 10 9.999 9.999 0 0 1-10 10 9.999 9.999 0 0 1-10-10 9.999 9.999 0 0 1 10-10zm7 46a10 10 0 0 1 10 10 10 10 0 0 1-10 10 10 10 0 0 1-10-10 10 10 0 0 1 10-10z"},child:[]}]})(t)}function W$(t){return Me({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M415.5 20.2c-8.2 0-17 1.12-25.1 3.28 2.5 11.27 4.2 22.1 4.5 33.29 7 1.62 13.6 4.29 19.7 7.79 1.8 1.03 3.5 2.13 5.2 3.28 10.7-4.95 23-8.62 35.8-11.94 10.9-2.85 22-5.3 32.5-7.54-2.9-1.64-6-3.39-8.6-4.76-9.7-5.02-17.9-7.99-32.6-4.92l-12.3 2.58 2.3-18.36c-5.9-1.81-13.4-2.7-21.4-2.7zm-35.7 52.73c-5.5 0-11.2 1-17.1 3.14-15.5 5.72-32.8 20.21-48.9 49.23-5.8 10.4-11.2 20.3-16.4 29.6h.6c6.2-.1 11.9.7 17.3 2.5 10.9 3.6 19.7 10.6 28.5 19.3l-12.6 12.8c-8-7.9-14.6-12.7-21.5-15-6.2-2.1-13.2-2.4-23.1 0-27.5 50.1-46.4 84.5-64.9 110.1 14 11.9 33.2 16.8 57.8 16.3l.4 18c-26.9.5-51.1-5.1-69.2-20.1-20.8 25.1-43.4 40.8-77.5 56.4 11.7 11.2 30.4 19.7 54.6 25.6l-4.2 17.4c-29-7-53-17.7-67.9-35.3-.2.1-.3.1-.5.2-30.64 12.7-43.76 26.9-47.39 38.8-3.63 11.8.83 23.6 11.55 35 10.73 11.3 27.54 20.9 44.84 25.6 17.3 4.8 34.8 4.4 47.3-1.8 80.8-40.1 127.6-80.6 164.1-129.5 36.6-49 62.7-106.9 100.4-181.4 5.1-10 4.5-23.4-1.2-36.6-5.7-13.21-16.3-25.68-29.1-33.01-8-4.59-16.7-7.26-25.9-7.26zM68.25 451.2c-10.4 9.9-26.58 13.3-43.45 16.6-.29 0-.59.1-.88.1 8.39 1.8 16.27 3.8 22.47 6.2 9 3.5 15.21 10.7 20.57 17.7 3.54-9.7 7.82-18.6 14.79-29.4-4.89-3.4-9.43-7.1-13.5-11.2z"},child:[]}]})(t)}function q$(t){return Me({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M294.818 43.27c-.957.003-1.917.014-2.88.035-46.15.993-96.56 23.687-128.614 54.82-41.965 40.758-91.926 108.163-118.896 173.047-13.486 32.442-21.17 64.22-19.93 91.305 1.24 27.085 10.723 49.188 32.54 65.546 15.71 11.78 28.638 10.986 44.814 2.72 16.175-8.268 34.067-25.324 52.433-45.405 36.732-40.162 74.766-92.452 121.008-107.932 61.794-20.685 98.278-34.43 120.926-46.785 22.646-12.353 31.392-22.466 40.74-39.08 7.302-12.974 8.365-26.067 5.03-39.882-3.334-13.814-11.388-28.167-22.45-41.62-22.127-26.903-56.253-49.946-83.706-60.003-12.75-4.67-26.652-6.79-41.016-6.764zm3.418 24.26c21.21-.103 42.145 4.338 58.493 16.677 47.554 35.895 86.454 58.96 54.377 111.88-32.076 52.923-177.004 58.17-217.56 20.06-1.663-10.596-12.613-91.45 10.176-121.653 12.52-10.007 54.02-26.77 94.513-26.965zm-119.87 43.66c-1.058 1.99-7.086 83.113-10.403 98.937-19.397 9.728-71.78 21.074-73.92 6.977 3.618-16.654 37.1-71.993 84.324-105.915zm278.095 26.248c1.196 3.294 2.213 6.627 3.026 9.996 4.2 17.4 2.736 35.916-6.84 52.933-10.34 18.374-23.007 32.528-47.808 46.057-24.8 13.53-61.8 27.285-123.832 48.05-36.878 12.346-75.83 61.892-113.438 103.012-18.804 20.56-37.417 39.008-57.525 49.285-5.895 3.014-12.05 5.204-18.322 6.418 3.03 1.73 6.143 3.338 9.165 4.728 8.116 3.734 16.547 5.668 17.197 5.686 14.037-.65 29.08-8.326 44.816-21.024 15.82-12.764 32.063-30.284 48.493-48.676 32.86-36.784 65.744-77.523 104.444-90.478 61.817-20.694 98.67-34.278 121.465-46.543 22.794-12.264 31.4-22.235 40.044-39.028 9.733-18.912 10.244-32.256 4.506-46.28-4.33-10.583-12.968-21.73-25.39-34.135zm-314.546 95.466c33.96-.19 69.09 16.75 104.688 36.092-71.258 37.318-141.89 180.326-187.133 133.99-18.206-20.105-19.433-119.77 30.147-153.564 17.043-11.616 34.51-16.418 52.297-16.518zm-36.463 73.213c-5.436.103-10.92 1.77-14.74 4.787-12.34 9.753-21.72 34.145-11.206 45.844 10.057 11.19 35.46 5.816 44.728-6.012 8.262-10.544 5.69-31.088-4.32-40.02-3.632-3.24-9.023-4.7-14.46-4.6z"},child:[]}]})(t)}function G$(t){return Me({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M206 44.27c-1.9 0-3.8 0-5.7.1-9.1.28-18 1.12-26.7 2.63-12.9 21.86-10.3 52.93-.8 78.4 24.7 3.1 51.8 6.5 78.2 11-3.8-15-6.2-30.4-3.7-45.87 2.2-13.73 8.7-27.19 20.7-39.3-18.9-4.27-40.6-7.08-62-6.96zm-54.8 8.35c-27.5 9.37-48.4 27.34-56.4 59.98 2.88 1.1 7.8 2.5 14.1 3.8 11.1 2.2 26.5 4.3 43.9 6.5-6.9-22.4-9.3-47.69-1.6-70.28zm137.7 4.14c-15.5 11.8-21.7 23.68-23.8 36.67-2.3 13.87.9 29.77 5.5 46.57 9.4 1.9 18.5 3.9 27.2 6.2 16.5 4.2 31.8 9.5 45.6 15.2 1.2-11.6 2.9-24.3 10.1-36.4 6.3-10.5 16.7-19.8 33.1-26.97-26.1-16.99-56.3-30.47-97.7-41.27zm115.4 53.84c-20.6 6.6-30.1 14.8-35.4 23.7-5.7 9.5-6.8 21.2-8.3 34.5 5.6 2.6 10.9 5.3 15.8 7.8 20.6 10.7 34.3 20.1 40.3 25.3h-.1c23 19.6 38 16.7 48.8 8.7 10-7.5 14.8-22.2 13.7-29.6-27.2-28-49.6-51.2-74.8-70.4zm-289.7 25.1c0 4.1.2 8.2.7 12 .9 6.9 2.7 12.8 5.7 17.3 3 4.4 7.1 7.8 14.3 10 5.1 1.6 10.3 3.2 15.4 4.7 14.3-2 28.9-2.8 43.2-2.7 31.8.2 62.2 5.2 85.4 12.3 35.8 9.2 63.9 22.8 87.9 39.2 17.8.5 34.7-.7 50.4-3.9-4.2-2.5-8.4-5.5-12.6-9.1h-.1c-3.5-3-17.2-12.7-36.8-22.9-19.6-10.3-45.5-21.4-74.9-29-40-10.4-91.9-16.4-134.1-21.7-16.8-2.1-31.9-4.1-44.5-6.2zm79.2 59.4c-8.9 0-17.8.3-26.6 1-16.9 26.7-26 53-6 95.2 27 3.5 55.4 7.7 81.6 13.3-3.6-18.5-1.4-36.2 5.4-52.4 6.7-16 17.7-30.6 31.5-44.2-1.7-.5-3.4-1-5.1-1.4h-.2l-.2-.1c-21.2-6.5-50.2-11.1-80.4-11.4zm-49 3.8c-1.7.3-3.5.7-5.2 1-23.3 4.6-44.62 12.9-61 25.6-15.25 11.8-26.25 27.2-31.39 48 .14 0 .1 0 .24.1 3.12 1.3 8.6 2.8 15.53 4.2 13.85 2.8 33.67 5.4 56.22 8.2 6.8.8 14 1.7 21.2 2.6-13.7-35.9-8-65 4.4-89.7zm154.7 15.2c-16.2 14.6-28.2 29.6-34.7 45.1-6.5 15.6-7.8 31.5-2.4 49.9 1 .2 2 .5 2.9.7 29.4 7.7 52.5 16.4 70 24.7 1.3-12.1 5.1-25.5 15.1-36.6 9.7-10.8 24.6-18.8 46.3-22.1-2.5-2.3-5-4.7-7.6-7-25-22.5-52.1-41.4-89.6-54.7zm114 78.2c-27.3 1.1-41.6 8.7-49.7 17.6-8.4 9.4-10.8 21.7-11.1 33.7 11.6 6.6 19.4 12.3 23.9 16.2 24.5 21 53.2 24.2 74.6 19.5 10.7-2.4 19.4-6.9 24.4-11.3 3.7-3.4 5-5.9 5.1-8-25.6-23.5-46.5-46.6-67.2-67.7zm-342.03 5.3c.51 3.4 1.18 6.7 2.07 9.9 3.9 14 10.51 24.2 26.86 29.2 72.1 22.2 141.5 46.3 202.7 56 34.7 5.5 66.5 6.5 94.9.2-11.3-4.1-22.6-10.4-33.2-19.5-8.7-7.5-40.5-29.7-104.1-46.2-42.9-11.2-98.5-17.7-143.8-23.3-16.92-2.2-32.42-4.2-45.43-6.3zm-6.3 68.3c-14.86.6-29.25 14.4-33.92 23 10.71 6.2 40.81 10 53.64-13.7-5.72-6.6-12.11-9.2-18.45-9.3zm35.53 23.9c-19.9.7-26.61 44-15.54 52.1 11.38 1.4 33.74-41.7 19.54-51.7-1-.3-2.1-.4-3.1-.4zm86.3 11.3c-3.7 0-6.9 1-9.1 3.4-8.4 22.1 38.9 36.5 48.9 25.8 2.3-9-23.7-28.9-39.8-29.2zm74.3 37.6c-16-.2-40.6 7.7-40 20.2 9.5 21.6 53.3-1.5 52.8-16.1-1.6-2.7-6.5-4-12.8-4.1z"},child:[]}]})(t)}function K$(t){return Me({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M287.9 76.19v.01h-1.1c-1.9.1-5.4 1.68-9.3 5.36-3.9 3.69-8 9.05-11.5 14.52C258.9 107 254.2 118 254.2 118l-5.1 12-9.4-9s-11-10.5-24.4-19.6c-6.7-4.46-14-8.5-20.2-10.59-6.2-2.09-10.7-1.98-13.1-.75-5.2 2.67-9.7 9.27-12.8 19.24-3.1 10.1-4.6 22.8-5 35.1-.8 24.7 2.4 47.6 2.4 47.6l2.3 15.9-14.8-6.3s-9.7-4.2-20.4-6.8c-5.4-1.2-11-2-15-1.9-4.1.2-5.9 1.2-6.4 1.8-2.7 3.3-3.9 9.4-2.6 17.9 1.2 8.6 4.8 18.9 9.1 28.5 8.6 19.3 19.8 36 19.8 36l9.8 14.5-17.6-.5c.1 0-10.1-.3-21.7 1.1-11.57 1.4-23.95 5.8-26.76 9-10.59 12.2-14.01 26.1-13.15 41.2.87 15.2 6.38 31.4 13.83 45.9s16.81 27.3 24.58 35.8c.7.7 1.3 1.4 2 2 16-9.9 25.7-25.6 33.2-46.2 9.2-25.6 14-58 21.3-91.1 7.3-33.2 17.1-67.3 37.7-96.3 20.7-29.1 52.3-52.6 100.7-64 13.7-3.2 26.7-4.7 38.9-4.8-3-4.5-6.5-9.3-10.5-14.4-7.1-9.1-15.2-17.93-23.1-24.09-7.4-5.78-14.5-8.87-19.9-9.02zM148.6 118.7c-22 4.2-47.7 28.3-69.23 63.3-21.89 35.5-39.78 81.1-48.85 123.9-9.08 42.7-8.81 82.7 2.39 105.7 5.6 11.5 13.22 18.8 24.37 22.2 8.66 2.7 19.98 2.9 34.36-.7-8.29-9.6-17.18-22.1-24.61-36.6-8.26-16.1-14.72-34.3-15.79-53-1.06-18.7 3.64-38.1 17.53-54.1 9.68-11.2 25.08-13.4 38.13-15 3.3-.4 5.6-.5 8.5-.6-4-6.9-8.7-15.6-13.1-25.3-4.62-10.6-8.76-22-10.4-33.3-1.64-11.2-.87-23 6.61-32v-.1c5.19-6.2 12.69-7.9 19.39-8.2 6.8-.2 13.6.9 19.9 2.4 3.4.8 6.5 1.7 9.5 2.6-.8-9.4-1.5-22.1-1.1-36.1.3-8.3 1-16.8 2.4-25.1zm194.3 22.9c-11.1 0-23.2 1.3-36.2 4.5-44.9 10.5-71.9 31-90.2 56.8-18.3 25.8-27.7 57.4-34.8 89.7-7.1 32.4-11.8 65.2-22 93.4-5.4 14.9-12.7 28.7-22.8 40 129.5-22.2 254.5-67 351-112.1-2.2-14-10.2-56-31.9-96-13.2-24.3-31.2-46.9-55.2-61-15.1-8.8-32.5-14.5-53.2-15.2-1.6-.1-3.1-.1-4.7-.1z"},child:[]}]})(t)}function Z$(t){return Me({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M0 192c0-35.3 28.7-64 64-64c.5 0 1.1 0 1.6 0C73 91.5 105.3 64 144 64c15 0 29 4.1 40.9 11.2C198.2 49.6 225.1 32 256 32s57.8 17.6 71.1 43.2C339 68.1 353 64 368 64c38.7 0 71 27.5 78.4 64c.5 0 1.1 0 1.6 0c35.3 0 64 28.7 64 64c0 11.7-3.1 22.6-8.6 32H8.6C3.1 214.6 0 203.7 0 192zm0 91.4C0 268.3 12.3 256 27.4 256H484.6c15.1 0 27.4 12.3 27.4 27.4c0 70.5-44.4 130.7-106.7 154.1L403.5 452c-2 16-15.6 28-31.8 28H140.2c-16.1 0-29.8-12-31.8-28l-1.8-14.4C44.4 414.1 0 353.9 0 283.4z"},child:[]}]})(t)}var Ev={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(t,e){(function(n,r){r(e)})(xA,function(n){var r="1.9.4";function i(o){var l,h,f,g;for(h=1,f=arguments.length;h<f;h++){g=arguments[h];for(l in g)o[l]=g[l]}return o}var s=Object.create||function(){function o(){}return function(l){return o.prototype=l,new o}}();function a(o,l){var h=Array.prototype.slice;if(o.bind)return o.bind.apply(o,h.call(arguments,1));var f=h.call(arguments,2);return function(){return o.apply(l,f.length?f.concat(h.call(arguments)):arguments)}}var c=0;function u(o){return"_leaflet_id"in o||(o._leaflet_id=++c),o._leaflet_id}function d(o,l,h){var f,g,w,b;return b=function(){f=!1,g&&(w.apply(h,g),g=!1)},w=function(){f?g=arguments:(o.apply(h,arguments),setTimeout(b,l),f=!0)},w}function p(o,l,h){var f=l[1],g=l[0],w=f-g;return o===f&&h?o:((o-g)%w+w)%w+g}function m(){return!1}function v(o,l){if(l===!1)return o;var h=Math.pow(10,l===void 0?6:l);return Math.round(o*h)/h}function E(o){return o.trim?o.trim():o.replace(/^\s+|\s+$/g,"")}function C(o){return E(o).split(/\s+/)}function T(o,l){Object.prototype.hasOwnProperty.call(o,"options")||(o.options=o.options?s(o.options):{});for(var h in l)o.options[h]=l[h];return o.options}function P(o,l,h){var f=[];for(var g in o)f.push(encodeURIComponent(h?g.toUpperCase():g)+"="+encodeURIComponent(o[g]));return(!l||l.indexOf("?")===-1?"?":"&")+f.join("&")}var _=/\{ *([\w_ -]+) *\}/g;function y(o,l){return o.replace(_,function(h,f){var g=l[f];if(g===void 0)throw new Error("No value provided for variable "+h);return typeof g=="function"&&(g=g(l)),g})}var S=Array.isArray||function(o){return Object.prototype.toString.call(o)==="[object Array]"};function x(o,l){for(var h=0;h<o.length;h++)if(o[h]===l)return h;return-1}var A="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function O(o){return window["webkit"+o]||window["moz"+o]||window["ms"+o]}var M=0;function D(o){var l=+new Date,h=Math.max(0,16-(l-M));return M=l+h,window.setTimeout(o,h)}var Z=window.requestAnimationFrame||O("RequestAnimationFrame")||D,G=window.cancelAnimationFrame||O("CancelAnimationFrame")||O("CancelRequestAnimationFrame")||function(o){window.clearTimeout(o)};function le(o,l,h){if(h&&Z===D)o.call(l);else return Z.call(window,a(o,l))}function ve(o){o&&G.call(window,o)}var rt={__proto__:null,extend:i,create:s,bind:a,get lastId(){return c},stamp:u,throttle:d,wrapNum:p,falseFn:m,formatNum:v,trim:E,splitWords:C,setOptions:T,getParamString:P,template:y,isArray:S,indexOf:x,emptyImageUrl:A,requestFn:Z,cancelFn:G,requestAnimFrame:le,cancelAnimFrame:ve};function Fe(){}Fe.extend=function(o){var l=function(){T(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},h=l.__super__=this.prototype,f=s(h);f.constructor=l,l.prototype=f;for(var g in this)Object.prototype.hasOwnProperty.call(this,g)&&g!=="prototype"&&g!=="__super__"&&(l[g]=this[g]);return o.statics&&i(l,o.statics),o.includes&&(K(o.includes),i.apply(null,[f].concat(o.includes))),i(f,o),delete f.statics,delete f.includes,f.options&&(f.options=h.options?s(h.options):{},i(f.options,o.options)),f._initHooks=[],f.callInitHooks=function(){if(!this._initHooksCalled){h.callInitHooks&&h.callInitHooks.call(this),this._initHooksCalled=!0;for(var w=0,b=f._initHooks.length;w<b;w++)f._initHooks[w].call(this)}},l},Fe.include=function(o){var l=this.prototype.options;return i(this.prototype,o),o.options&&(this.prototype.options=l,this.mergeOptions(o.options)),this},Fe.mergeOptions=function(o){return i(this.prototype.options,o),this},Fe.addInitHook=function(o){var l=Array.prototype.slice.call(arguments,1),h=typeof o=="function"?o:function(){this[o].apply(this,l)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(h),this};function K(o){if(!(typeof L>"u"||!L||!L.Mixin)){o=S(o)?o:[o];for(var l=0;l<o.length;l++)o[l]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var fe={on:function(o,l,h){if(typeof o=="object")for(var f in o)this._on(f,o[f],l);else{o=C(o);for(var g=0,w=o.length;g<w;g++)this._on(o[g],l,h)}return this},off:function(o,l,h){if(!arguments.length)delete this._events;else if(typeof o=="object")for(var f in o)this._off(f,o[f],l);else{o=C(o);for(var g=arguments.length===1,w=0,b=o.length;w<b;w++)g?this._off(o[w]):this._off(o[w],l,h)}return this},_on:function(o,l,h,f){if(typeof l!="function"){console.warn("wrong listener type: "+typeof l);return}if(this._listens(o,l,h)===!1){h===this&&(h=void 0);var g={fn:l,ctx:h};f&&(g.once=!0),this._events=this._events||{},this._events[o]=this._events[o]||[],this._events[o].push(g)}},_off:function(o,l,h){var f,g,w;if(this._events&&(f=this._events[o],!!f)){if(arguments.length===1){if(this._firingCount)for(g=0,w=f.length;g<w;g++)f[g].fn=m;delete this._events[o];return}if(typeof l!="function"){console.warn("wrong listener type: "+typeof l);return}var b=this._listens(o,l,h);if(b!==!1){var k=f[b];this._firingCount&&(k.fn=m,this._events[o]=f=f.slice()),f.splice(b,1)}}},fire:function(o,l,h){if(!this.listens(o,h))return this;var f=i({},l,{type:o,target:this,sourceTarget:l&&l.sourceTarget||this});if(this._events){var g=this._events[o];if(g){this._firingCount=this._firingCount+1||1;for(var w=0,b=g.length;w<b;w++){var k=g[w],N=k.fn;k.once&&this.off(o,N,k.ctx),N.call(k.ctx||this,f)}this._firingCount--}}return h&&this._propagateEvent(f),this},listens:function(o,l,h,f){typeof o!="string"&&console.warn('"string" type argument expected');var g=l;typeof l!="function"&&(f=!!l,g=void 0,h=void 0);var w=this._events&&this._events[o];if(w&&w.length&&this._listens(o,g,h)!==!1)return!0;if(f){for(var b in this._eventParents)if(this._eventParents[b].listens(o,l,h,f))return!0}return!1},_listens:function(o,l,h){if(!this._events)return!1;var f=this._events[o]||[];if(!l)return!!f.length;h===this&&(h=void 0);for(var g=0,w=f.length;g<w;g++)if(f[g].fn===l&&f[g].ctx===h)return g;return!1},once:function(o,l,h){if(typeof o=="object")for(var f in o)this._on(f,o[f],l,!0);else{o=C(o);for(var g=0,w=o.length;g<w;g++)this._on(o[g],l,h,!0)}return this},addEventParent:function(o){return this._eventParents=this._eventParents||{},this._eventParents[u(o)]=o,this},removeEventParent:function(o){return this._eventParents&&delete this._eventParents[u(o)],this},_propagateEvent:function(o){for(var l in this._eventParents)this._eventParents[l].fire(o.type,i({layer:o.target,propagatedFrom:o.target},o),!0)}};fe.addEventListener=fe.on,fe.removeEventListener=fe.clearAllEventListeners=fe.off,fe.addOneTimeEventListener=fe.once,fe.fireEvent=fe.fire,fe.hasEventListeners=fe.listens;var He=Fe.extend(fe);function V(o,l,h){this.x=h?Math.round(o):o,this.y=h?Math.round(l):l}var ee=Math.trunc||function(o){return o>0?Math.floor(o):Math.ceil(o)};V.prototype={clone:function(){return new V(this.x,this.y)},add:function(o){return this.clone()._add(U(o))},_add:function(o){return this.x+=o.x,this.y+=o.y,this},subtract:function(o){return this.clone()._subtract(U(o))},_subtract:function(o){return this.x-=o.x,this.y-=o.y,this},divideBy:function(o){return this.clone()._divideBy(o)},_divideBy:function(o){return this.x/=o,this.y/=o,this},multiplyBy:function(o){return this.clone()._multiplyBy(o)},_multiplyBy:function(o){return this.x*=o,this.y*=o,this},scaleBy:function(o){return new V(this.x*o.x,this.y*o.y)},unscaleBy:function(o){return new V(this.x/o.x,this.y/o.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=ee(this.x),this.y=ee(this.y),this},distanceTo:function(o){o=U(o);var l=o.x-this.x,h=o.y-this.y;return Math.sqrt(l*l+h*h)},equals:function(o){return o=U(o),o.x===this.x&&o.y===this.y},contains:function(o){return o=U(o),Math.abs(o.x)<=Math.abs(this.x)&&Math.abs(o.y)<=Math.abs(this.y)},toString:function(){return"Point("+v(this.x)+", "+v(this.y)+")"}};function U(o,l,h){return o instanceof V?o:S(o)?new V(o[0],o[1]):o==null?o:typeof o=="object"&&"x"in o&&"y"in o?new V(o.x,o.y):new V(o,l,h)}function ie(o,l){if(o)for(var h=l?[o,l]:o,f=0,g=h.length;f<g;f++)this.extend(h[f])}ie.prototype={extend:function(o){var l,h;if(!o)return this;if(o instanceof V||typeof o[0]=="number"||"x"in o)l=h=U(o);else if(o=te(o),l=o.min,h=o.max,!l||!h)return this;return!this.min&&!this.max?(this.min=l.clone(),this.max=h.clone()):(this.min.x=Math.min(l.x,this.min.x),this.max.x=Math.max(h.x,this.max.x),this.min.y=Math.min(l.y,this.min.y),this.max.y=Math.max(h.y,this.max.y)),this},getCenter:function(o){return U((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,o)},getBottomLeft:function(){return U(this.min.x,this.max.y)},getTopRight:function(){return U(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(o){var l,h;return typeof o[0]=="number"||o instanceof V?o=U(o):o=te(o),o instanceof ie?(l=o.min,h=o.max):l=h=o,l.x>=this.min.x&&h.x<=this.max.x&&l.y>=this.min.y&&h.y<=this.max.y},intersects:function(o){o=te(o);var l=this.min,h=this.max,f=o.min,g=o.max,w=g.x>=l.x&&f.x<=h.x,b=g.y>=l.y&&f.y<=h.y;return w&&b},overlaps:function(o){o=te(o);var l=this.min,h=this.max,f=o.min,g=o.max,w=g.x>l.x&&f.x<h.x,b=g.y>l.y&&f.y<h.y;return w&&b},isValid:function(){return!!(this.min&&this.max)},pad:function(o){var l=this.min,h=this.max,f=Math.abs(l.x-h.x)*o,g=Math.abs(l.y-h.y)*o;return te(U(l.x-f,l.y-g),U(h.x+f,h.y+g))},equals:function(o){return o?(o=te(o),this.min.equals(o.getTopLeft())&&this.max.equals(o.getBottomRight())):!1}};function te(o,l){return!o||o instanceof ie?o:new ie(o,l)}function Pe(o,l){if(o)for(var h=l?[o,l]:o,f=0,g=h.length;f<g;f++)this.extend(h[f])}Pe.prototype={extend:function(o){var l=this._southWest,h=this._northEast,f,g;if(o instanceof me)f=o,g=o;else if(o instanceof Pe){if(f=o._southWest,g=o._northEast,!f||!g)return this}else return o?this.extend(X(o)||_e(o)):this;return!l&&!h?(this._southWest=new me(f.lat,f.lng),this._northEast=new me(g.lat,g.lng)):(l.lat=Math.min(f.lat,l.lat),l.lng=Math.min(f.lng,l.lng),h.lat=Math.max(g.lat,h.lat),h.lng=Math.max(g.lng,h.lng)),this},pad:function(o){var l=this._southWest,h=this._northEast,f=Math.abs(l.lat-h.lat)*o,g=Math.abs(l.lng-h.lng)*o;return new Pe(new me(l.lat-f,l.lng-g),new me(h.lat+f,h.lng+g))},getCenter:function(){return new me((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new me(this.getNorth(),this.getWest())},getSouthEast:function(){return new me(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(o){typeof o[0]=="number"||o instanceof me||"lat"in o?o=X(o):o=_e(o);var l=this._southWest,h=this._northEast,f,g;return o instanceof Pe?(f=o.getSouthWest(),g=o.getNorthEast()):f=g=o,f.lat>=l.lat&&g.lat<=h.lat&&f.lng>=l.lng&&g.lng<=h.lng},intersects:function(o){o=_e(o);var l=this._southWest,h=this._northEast,f=o.getSouthWest(),g=o.getNorthEast(),w=g.lat>=l.lat&&f.lat<=h.lat,b=g.lng>=l.lng&&f.lng<=h.lng;return w&&b},overlaps:function(o){o=_e(o);var l=this._southWest,h=this._northEast,f=o.getSouthWest(),g=o.getNorthEast(),w=g.lat>l.lat&&f.lat<h.lat,b=g.lng>l.lng&&f.lng<h.lng;return w&&b},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(o,l){return o?(o=_e(o),this._southWest.equals(o.getSouthWest(),l)&&this._northEast.equals(o.getNorthEast(),l)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function _e(o,l){return o instanceof Pe?o:new Pe(o,l)}function me(o,l,h){if(isNaN(o)||isNaN(l))throw new Error("Invalid LatLng object: ("+o+", "+l+")");this.lat=+o,this.lng=+l,h!==void 0&&(this.alt=+h)}me.prototype={equals:function(o,l){if(!o)return!1;o=X(o);var h=Math.max(Math.abs(this.lat-o.lat),Math.abs(this.lng-o.lng));return h<=(l===void 0?1e-9:l)},toString:function(o){return"LatLng("+v(this.lat,o)+", "+v(this.lng,o)+")"},distanceTo:function(o){return vt.distance(this,X(o))},wrap:function(){return vt.wrapLatLng(this)},toBounds:function(o){var l=180*o/40075017,h=l/Math.cos(Math.PI/180*this.lat);return _e([this.lat-l,this.lng-h],[this.lat+l,this.lng+h])},clone:function(){return new me(this.lat,this.lng,this.alt)}};function X(o,l,h){return o instanceof me?o:S(o)&&typeof o[0]!="object"?o.length===3?new me(o[0],o[1],o[2]):o.length===2?new me(o[0],o[1]):null:o==null?o:typeof o=="object"&&"lat"in o?new me(o.lat,"lng"in o?o.lng:o.lon,o.alt):l===void 0?null:new me(o,l,h)}var We={latLngToPoint:function(o,l){var h=this.projection.project(o),f=this.scale(l);return this.transformation._transform(h,f)},pointToLatLng:function(o,l){var h=this.scale(l),f=this.transformation.untransform(o,h);return this.projection.unproject(f)},project:function(o){return this.projection.project(o)},unproject:function(o){return this.projection.unproject(o)},scale:function(o){return 256*Math.pow(2,o)},zoom:function(o){return Math.log(o/256)/Math.LN2},getProjectedBounds:function(o){if(this.infinite)return null;var l=this.projection.bounds,h=this.scale(o),f=this.transformation.transform(l.min,h),g=this.transformation.transform(l.max,h);return new ie(f,g)},infinite:!1,wrapLatLng:function(o){var l=this.wrapLng?p(o.lng,this.wrapLng,!0):o.lng,h=this.wrapLat?p(o.lat,this.wrapLat,!0):o.lat,f=o.alt;return new me(h,l,f)},wrapLatLngBounds:function(o){var l=o.getCenter(),h=this.wrapLatLng(l),f=l.lat-h.lat,g=l.lng-h.lng;if(f===0&&g===0)return o;var w=o.getSouthWest(),b=o.getNorthEast(),k=new me(w.lat-f,w.lng-g),N=new me(b.lat-f,b.lng-g);return new Pe(k,N)}},vt=i({},We,{wrapLng:[-180,180],R:6371e3,distance:function(o,l){var h=Math.PI/180,f=o.lat*h,g=l.lat*h,w=Math.sin((l.lat-o.lat)*h/2),b=Math.sin((l.lng-o.lng)*h/2),k=w*w+Math.cos(f)*Math.cos(g)*b*b,N=2*Math.atan2(Math.sqrt(k),Math.sqrt(1-k));return this.R*N}}),Ui=6378137,ta={R:Ui,MAX_LATITUDE:85.0511287798,project:function(o){var l=Math.PI/180,h=this.MAX_LATITUDE,f=Math.max(Math.min(h,o.lat),-h),g=Math.sin(f*l);return new V(this.R*o.lng*l,this.R*Math.log((1+g)/(1-g))/2)},unproject:function(o){var l=180/Math.PI;return new me((2*Math.atan(Math.exp(o.y/this.R))-Math.PI/2)*l,o.x*l/this.R)},bounds:function(){var o=Ui*Math.PI;return new ie([-o,-o],[o,o])}()};function As(o,l,h,f){if(S(o)){this._a=o[0],this._b=o[1],this._c=o[2],this._d=o[3];return}this._a=o,this._b=l,this._c=h,this._d=f}As.prototype={transform:function(o,l){return this._transform(o.clone(),l)},_transform:function(o,l){return l=l||1,o.x=l*(this._a*o.x+this._b),o.y=l*(this._c*o.y+this._d),o},untransform:function(o,l){return l=l||1,new V((o.x/l-this._b)/this._a,(o.y/l-this._d)/this._c)}};function Yr(o,l,h,f){return new As(o,l,h,f)}var na=i({},vt,{code:"EPSG:3857",projection:ta,transformation:function(){var o=.5/(Math.PI*ta.R);return Yr(o,.5,-o,.5)}()}),Ou=i({},na,{code:"EPSG:900913"});function Lu(o){return document.createElementNS("http://www.w3.org/2000/svg",o)}function a1(o,l){var h="",f,g,w,b,k,N;for(f=0,w=o.length;f<w;f++){for(k=o[f],g=0,b=k.length;g<b;g++)N=k[g],h+=(g?"L":"M")+N.x+" "+N.y;h+=l?Y.svg?"z":"x":""}return h||"M0 0"}var qf=document.documentElement.style,Mu="ActiveXObject"in window,tR=Mu&&!document.addEventListener,l1="msLaunchUri"in navigator&&!("documentMode"in document),Gf=Qn("webkit"),u1=Qn("android"),c1=Qn("android 2")||Qn("android 3"),nR=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),rR=u1&&Qn("Google")&&nR<537&&!("AudioNode"in window),Kf=!!window.opera,h1=!l1&&Qn("chrome"),d1=Qn("gecko")&&!Gf&&!Kf&&!Mu,iR=!h1&&Qn("safari"),f1=Qn("phantom"),p1="OTransition"in qf,sR=navigator.platform.indexOf("Win")===0,m1=Mu&&"transition"in qf,Zf="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!c1,g1="MozPerspective"in qf,oR=!window.L_DISABLE_3D&&(m1||Zf||g1)&&!p1&&!f1,ra=typeof orientation<"u"||Qn("mobile"),aR=ra&&Gf,lR=ra&&Zf,v1=!window.PointerEvent&&window.MSPointerEvent,_1=!!(window.PointerEvent||v1),y1="ontouchstart"in window||!!window.TouchEvent,uR=!window.L_NO_TOUCH&&(y1||_1),cR=ra&&Kf,hR=ra&&d1,dR=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,fR=function(){var o=!1;try{var l=Object.defineProperty({},"passive",{get:function(){o=!0}});window.addEventListener("testPassiveEventSupport",m,l),window.removeEventListener("testPassiveEventSupport",m,l)}catch{}return o}(),pR=function(){return!!document.createElement("canvas").getContext}(),Qf=!!(document.createElementNS&&Lu("svg").createSVGRect),mR=!!Qf&&function(){var o=document.createElement("div");return o.innerHTML="<svg/>",(o.firstChild&&o.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),gR=!Qf&&function(){try{var o=document.createElement("div");o.innerHTML='<v:shape adj="1"/>';var l=o.firstChild;return l.style.behavior="url(#default#VML)",l&&typeof l.adj=="object"}catch{return!1}}(),vR=navigator.platform.indexOf("Mac")===0,_R=navigator.platform.indexOf("Linux")===0;function Qn(o){return navigator.userAgent.toLowerCase().indexOf(o)>=0}var Y={ie:Mu,ielt9:tR,edge:l1,webkit:Gf,android:u1,android23:c1,androidStock:rR,opera:Kf,chrome:h1,gecko:d1,safari:iR,phantom:f1,opera12:p1,win:sR,ie3d:m1,webkit3d:Zf,gecko3d:g1,any3d:oR,mobile:ra,mobileWebkit:aR,mobileWebkit3d:lR,msPointer:v1,pointer:_1,touch:uR,touchNative:y1,mobileOpera:cR,mobileGecko:hR,retina:dR,passiveEvents:fR,canvas:pR,svg:Qf,vml:gR,inlineSvg:mR,mac:vR,linux:_R},w1=Y.msPointer?"MSPointerDown":"pointerdown",E1=Y.msPointer?"MSPointerMove":"pointermove",S1=Y.msPointer?"MSPointerUp":"pointerup",T1=Y.msPointer?"MSPointerCancel":"pointercancel",Yf={touchstart:w1,touchmove:E1,touchend:S1,touchcancel:T1},I1={touchstart:IR,touchmove:Nu,touchend:Nu,touchcancel:Nu},ks={},P1=!1;function yR(o,l,h){return l==="touchstart"&&TR(),I1[l]?(h=I1[l].bind(this,h),o.addEventListener(Yf[l],h,!1),h):(console.warn("wrong event specified:",l),m)}function wR(o,l,h){if(!Yf[l]){console.warn("wrong event specified:",l);return}o.removeEventListener(Yf[l],h,!1)}function ER(o){ks[o.pointerId]=o}function SR(o){ks[o.pointerId]&&(ks[o.pointerId]=o)}function C1(o){delete ks[o.pointerId]}function TR(){P1||(document.addEventListener(w1,ER,!0),document.addEventListener(E1,SR,!0),document.addEventListener(S1,C1,!0),document.addEventListener(T1,C1,!0),P1=!0)}function Nu(o,l){if(l.pointerType!==(l.MSPOINTER_TYPE_MOUSE||"mouse")){l.touches=[];for(var h in ks)l.touches.push(ks[h]);l.changedTouches=[l],o(l)}}function IR(o,l){l.MSPOINTER_TYPE_TOUCH&&l.pointerType===l.MSPOINTER_TYPE_TOUCH&&Pt(l),Nu(o,l)}function PR(o){var l={},h,f;for(f in o)h=o[f],l[f]=h&&h.bind?h.bind(o):h;return o=l,l.type="dblclick",l.detail=2,l.isTrusted=!1,l._simulated=!0,l}var CR=200;function xR(o,l){o.addEventListener("dblclick",l);var h=0,f;function g(w){if(w.detail!==1){f=w.detail;return}if(!(w.pointerType==="mouse"||w.sourceCapabilities&&!w.sourceCapabilities.firesTouchEvents)){var b=k1(w);if(!(b.some(function(N){return N instanceof HTMLLabelElement&&N.attributes.for})&&!b.some(function(N){return N instanceof HTMLInputElement||N instanceof HTMLSelectElement}))){var k=Date.now();k-h<=CR?(f++,f===2&&l(PR(w))):f=1,h=k}}}return o.addEventListener("click",g),{dblclick:l,simDblclick:g}}function bR(o,l){o.removeEventListener("dblclick",l.dblclick),o.removeEventListener("click",l.simDblclick)}var Xf=Fu(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),ia=Fu(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),x1=ia==="webkitTransition"||ia==="OTransition"?ia+"End":"transitionend";function b1(o){return typeof o=="string"?document.getElementById(o):o}function sa(o,l){var h=o.style[l]||o.currentStyle&&o.currentStyle[l];if((!h||h==="auto")&&document.defaultView){var f=document.defaultView.getComputedStyle(o,null);h=f?f[l]:null}return h==="auto"?null:h}function xe(o,l,h){var f=document.createElement(o);return f.className=l||"",h&&h.appendChild(f),f}function qe(o){var l=o.parentNode;l&&l.removeChild(o)}function Du(o){for(;o.firstChild;)o.removeChild(o.firstChild)}function Os(o){var l=o.parentNode;l&&l.lastChild!==o&&l.appendChild(o)}function Ls(o){var l=o.parentNode;l&&l.firstChild!==o&&l.insertBefore(o,l.firstChild)}function Jf(o,l){if(o.classList!==void 0)return o.classList.contains(l);var h=Vu(o);return h.length>0&&new RegExp("(^|\\s)"+l+"(\\s|$)").test(h)}function ge(o,l){if(o.classList!==void 0)for(var h=C(l),f=0,g=h.length;f<g;f++)o.classList.add(h[f]);else if(!Jf(o,l)){var w=Vu(o);ep(o,(w?w+" ":"")+l)}}function tt(o,l){o.classList!==void 0?o.classList.remove(l):ep(o,E((" "+Vu(o)+" ").replace(" "+l+" "," ")))}function ep(o,l){o.className.baseVal===void 0?o.className=l:o.className.baseVal=l}function Vu(o){return o.correspondingElement&&(o=o.correspondingElement),o.className.baseVal===void 0?o.className:o.className.baseVal}function In(o,l){"opacity"in o.style?o.style.opacity=l:"filter"in o.style&&RR(o,l)}function RR(o,l){var h=!1,f="DXImageTransform.Microsoft.Alpha";try{h=o.filters.item(f)}catch{if(l===1)return}l=Math.round(l*100),h?(h.Enabled=l!==100,h.Opacity=l):o.style.filter+=" progid:"+f+"(opacity="+l+")"}function Fu(o){for(var l=document.documentElement.style,h=0;h<o.length;h++)if(o[h]in l)return o[h];return!1}function Bi(o,l,h){var f=l||new V(0,0);o.style[Xf]=(Y.ie3d?"translate("+f.x+"px,"+f.y+"px)":"translate3d("+f.x+"px,"+f.y+"px,0)")+(h?" scale("+h+")":"")}function it(o,l){o._leaflet_pos=l,Y.any3d?Bi(o,l):(o.style.left=l.x+"px",o.style.top=l.y+"px")}function Hi(o){return o._leaflet_pos||new V(0,0)}var oa,aa,tp;if("onselectstart"in document)oa=function(){pe(window,"selectstart",Pt)},aa=function(){Ne(window,"selectstart",Pt)};else{var la=Fu(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);oa=function(){if(la){var o=document.documentElement.style;tp=o[la],o[la]="none"}},aa=function(){la&&(document.documentElement.style[la]=tp,tp=void 0)}}function np(){pe(window,"dragstart",Pt)}function rp(){Ne(window,"dragstart",Pt)}var zu,ip;function sp(o){for(;o.tabIndex===-1;)o=o.parentNode;o.style&&(ju(),zu=o,ip=o.style.outlineStyle,o.style.outlineStyle="none",pe(window,"keydown",ju))}function ju(){zu&&(zu.style.outlineStyle=ip,zu=void 0,ip=void 0,Ne(window,"keydown",ju))}function R1(o){do o=o.parentNode;while((!o.offsetWidth||!o.offsetHeight)&&o!==document.body);return o}function op(o){var l=o.getBoundingClientRect();return{x:l.width/o.offsetWidth||1,y:l.height/o.offsetHeight||1,boundingClientRect:l}}var AR={__proto__:null,TRANSFORM:Xf,TRANSITION:ia,TRANSITION_END:x1,get:b1,getStyle:sa,create:xe,remove:qe,empty:Du,toFront:Os,toBack:Ls,hasClass:Jf,addClass:ge,removeClass:tt,setClass:ep,getClass:Vu,setOpacity:In,testProp:Fu,setTransform:Bi,setPosition:it,getPosition:Hi,get disableTextSelection(){return oa},get enableTextSelection(){return aa},disableImageDrag:np,enableImageDrag:rp,preventOutline:sp,restoreOutline:ju,getSizedParentNode:R1,getScale:op};function pe(o,l,h,f){if(l&&typeof l=="object")for(var g in l)lp(o,g,l[g],h);else{l=C(l);for(var w=0,b=l.length;w<b;w++)lp(o,l[w],h,f)}return this}var Yn="_leaflet_events";function Ne(o,l,h,f){if(arguments.length===1)A1(o),delete o[Yn];else if(l&&typeof l=="object")for(var g in l)up(o,g,l[g],h);else if(l=C(l),arguments.length===2)A1(o,function(k){return x(l,k)!==-1});else for(var w=0,b=l.length;w<b;w++)up(o,l[w],h,f);return this}function A1(o,l){for(var h in o[Yn]){var f=h.split(/\d/)[0];(!l||l(f))&&up(o,f,null,null,h)}}var ap={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function lp(o,l,h,f){var g=l+u(h)+(f?"_"+u(f):"");if(o[Yn]&&o[Yn][g])return this;var w=function(k){return h.call(f||o,k||window.event)},b=w;!Y.touchNative&&Y.pointer&&l.indexOf("touch")===0?w=yR(o,l,w):Y.touch&&l==="dblclick"?w=xR(o,w):"addEventListener"in o?l==="touchstart"||l==="touchmove"||l==="wheel"||l==="mousewheel"?o.addEventListener(ap[l]||l,w,Y.passiveEvents?{passive:!1}:!1):l==="mouseenter"||l==="mouseleave"?(w=function(k){k=k||window.event,hp(o,k)&&b(k)},o.addEventListener(ap[l],w,!1)):o.addEventListener(l,b,!1):o.attachEvent("on"+l,w),o[Yn]=o[Yn]||{},o[Yn][g]=w}function up(o,l,h,f,g){g=g||l+u(h)+(f?"_"+u(f):"");var w=o[Yn]&&o[Yn][g];if(!w)return this;!Y.touchNative&&Y.pointer&&l.indexOf("touch")===0?wR(o,l,w):Y.touch&&l==="dblclick"?bR(o,w):"removeEventListener"in o?o.removeEventListener(ap[l]||l,w,!1):o.detachEvent("on"+l,w),o[Yn][g]=null}function Wi(o){return o.stopPropagation?o.stopPropagation():o.originalEvent?o.originalEvent._stopped=!0:o.cancelBubble=!0,this}function cp(o){return lp(o,"wheel",Wi),this}function ua(o){return pe(o,"mousedown touchstart dblclick contextmenu",Wi),o._leaflet_disable_click=!0,this}function Pt(o){return o.preventDefault?o.preventDefault():o.returnValue=!1,this}function qi(o){return Pt(o),Wi(o),this}function k1(o){if(o.composedPath)return o.composedPath();for(var l=[],h=o.target;h;)l.push(h),h=h.parentNode;return l}function O1(o,l){if(!l)return new V(o.clientX,o.clientY);var h=op(l),f=h.boundingClientRect;return new V((o.clientX-f.left)/h.x-l.clientLeft,(o.clientY-f.top)/h.y-l.clientTop)}var kR=Y.linux&&Y.chrome?window.devicePixelRatio:Y.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function L1(o){return Y.edge?o.wheelDeltaY/2:o.deltaY&&o.deltaMode===0?-o.deltaY/kR:o.deltaY&&o.deltaMode===1?-o.deltaY*20:o.deltaY&&o.deltaMode===2?-o.deltaY*60:o.deltaX||o.deltaZ?0:o.wheelDelta?(o.wheelDeltaY||o.wheelDelta)/2:o.detail&&Math.abs(o.detail)<32765?-o.detail*20:o.detail?o.detail/-32765*60:0}function hp(o,l){var h=l.relatedTarget;if(!h)return!0;try{for(;h&&h!==o;)h=h.parentNode}catch{return!1}return h!==o}var OR={__proto__:null,on:pe,off:Ne,stopPropagation:Wi,disableScrollPropagation:cp,disableClickPropagation:ua,preventDefault:Pt,stop:qi,getPropagationPath:k1,getMousePosition:O1,getWheelDelta:L1,isExternalTarget:hp,addListener:pe,removeListener:Ne},M1=He.extend({run:function(o,l,h,f){this.stop(),this._el=o,this._inProgress=!0,this._duration=h||.25,this._easeOutPower=1/Math.max(f||.5,.2),this._startPos=Hi(o),this._offset=l.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=le(this._animate,this),this._step()},_step:function(o){var l=+new Date-this._startTime,h=this._duration*1e3;l<h?this._runFrame(this._easeOut(l/h),o):(this._runFrame(1),this._complete())},_runFrame:function(o,l){var h=this._startPos.add(this._offset.multiplyBy(o));l&&h._round(),it(this._el,h),this.fire("step")},_complete:function(){ve(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(o){return 1-Math.pow(1-o,this._easeOutPower)}}),Te=He.extend({options:{crs:na,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(o,l){l=T(this,l),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(o),this._initLayout(),this._onResize=a(this._onResize,this),this._initEvents(),l.maxBounds&&this.setMaxBounds(l.maxBounds),l.zoom!==void 0&&(this._zoom=this._limitZoom(l.zoom)),l.center&&l.zoom!==void 0&&this.setView(X(l.center),l.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=ia&&Y.any3d&&!Y.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),pe(this._proxy,x1,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(o,l,h){if(l=l===void 0?this._zoom:this._limitZoom(l),o=this._limitCenter(X(o),l,this.options.maxBounds),h=h||{},this._stop(),this._loaded&&!h.reset&&h!==!0){h.animate!==void 0&&(h.zoom=i({animate:h.animate},h.zoom),h.pan=i({animate:h.animate,duration:h.duration},h.pan));var f=this._zoom!==l?this._tryAnimatedZoom&&this._tryAnimatedZoom(o,l,h.zoom):this._tryAnimatedPan(o,h.pan);if(f)return clearTimeout(this._sizeTimer),this}return this._resetView(o,l,h.pan&&h.pan.noMoveStart),this},setZoom:function(o,l){return this._loaded?this.setView(this.getCenter(),o,{zoom:l}):(this._zoom=o,this)},zoomIn:function(o,l){return o=o||(Y.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+o,l)},zoomOut:function(o,l){return o=o||(Y.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-o,l)},setZoomAround:function(o,l,h){var f=this.getZoomScale(l),g=this.getSize().divideBy(2),w=o instanceof V?o:this.latLngToContainerPoint(o),b=w.subtract(g).multiplyBy(1-1/f),k=this.containerPointToLatLng(g.add(b));return this.setView(k,l,{zoom:h})},_getBoundsCenterZoom:function(o,l){l=l||{},o=o.getBounds?o.getBounds():_e(o);var h=U(l.paddingTopLeft||l.padding||[0,0]),f=U(l.paddingBottomRight||l.padding||[0,0]),g=this.getBoundsZoom(o,!1,h.add(f));if(g=typeof l.maxZoom=="number"?Math.min(l.maxZoom,g):g,g===1/0)return{center:o.getCenter(),zoom:g};var w=f.subtract(h).divideBy(2),b=this.project(o.getSouthWest(),g),k=this.project(o.getNorthEast(),g),N=this.unproject(b.add(k).divideBy(2).add(w),g);return{center:N,zoom:g}},fitBounds:function(o,l){if(o=_e(o),!o.isValid())throw new Error("Bounds are not valid.");var h=this._getBoundsCenterZoom(o,l);return this.setView(h.center,h.zoom,l)},fitWorld:function(o){return this.fitBounds([[-90,-180],[90,180]],o)},panTo:function(o,l){return this.setView(o,this._zoom,{pan:l})},panBy:function(o,l){if(o=U(o).round(),l=l||{},!o.x&&!o.y)return this.fire("moveend");if(l.animate!==!0&&!this.getSize().contains(o))return this._resetView(this.unproject(this.project(this.getCenter()).add(o)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new M1,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),l.noMoveStart||this.fire("movestart"),l.animate!==!1){ge(this._mapPane,"leaflet-pan-anim");var h=this._getMapPanePos().subtract(o).round();this._panAnim.run(this._mapPane,h,l.duration||.25,l.easeLinearity)}else this._rawPanBy(o),this.fire("move").fire("moveend");return this},flyTo:function(o,l,h){if(h=h||{},h.animate===!1||!Y.any3d)return this.setView(o,l,h);this._stop();var f=this.project(this.getCenter()),g=this.project(o),w=this.getSize(),b=this._zoom;o=X(o),l=l===void 0?b:l;var k=Math.max(w.x,w.y),N=k*this.getZoomScale(b,l),j=g.distanceTo(f)||1,W=1.42,ae=W*W;function ye(st){var Xu=st?-1:1,wA=st?N:k,EA=N*N-k*k+Xu*ae*ae*j*j,SA=2*wA*ae*j,Sp=EA/SA,p0=Math.sqrt(Sp*Sp+1)-Sp,TA=p0<1e-9?-18:Math.log(p0);return TA}function Kt(st){return(Math.exp(st)-Math.exp(-st))/2}function _t(st){return(Math.exp(st)+Math.exp(-st))/2}function Cn(st){return Kt(st)/_t(st)}var en=ye(0);function zs(st){return k*(_t(en)/_t(en+W*st))}function gA(st){return k*(_t(en)*Cn(en+W*st)-Kt(en))/ae}function vA(st){return 1-Math.pow(1-st,1.5)}var _A=Date.now(),d0=(ye(1)-en)/W,yA=h.duration?1e3*h.duration:1e3*d0*.8;function f0(){var st=(Date.now()-_A)/yA,Xu=vA(st)*d0;st<=1?(this._flyToFrame=le(f0,this),this._move(this.unproject(f.add(g.subtract(f).multiplyBy(gA(Xu)/j)),b),this.getScaleZoom(k/zs(Xu),b),{flyTo:!0})):this._move(o,l)._moveEnd(!0)}return this._moveStart(!0,h.noMoveStart),f0.call(this),this},flyToBounds:function(o,l){var h=this._getBoundsCenterZoom(o,l);return this.flyTo(h.center,h.zoom,l)},setMaxBounds:function(o){return o=_e(o),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),o.isValid()?(this.options.maxBounds=o,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(o){var l=this.options.minZoom;return this.options.minZoom=o,this._loaded&&l!==o&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(o):this},setMaxZoom:function(o){var l=this.options.maxZoom;return this.options.maxZoom=o,this._loaded&&l!==o&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(o):this},panInsideBounds:function(o,l){this._enforcingBounds=!0;var h=this.getCenter(),f=this._limitCenter(h,this._zoom,_e(o));return h.equals(f)||this.panTo(f,l),this._enforcingBounds=!1,this},panInside:function(o,l){l=l||{};var h=U(l.paddingTopLeft||l.padding||[0,0]),f=U(l.paddingBottomRight||l.padding||[0,0]),g=this.project(this.getCenter()),w=this.project(o),b=this.getPixelBounds(),k=te([b.min.add(h),b.max.subtract(f)]),N=k.getSize();if(!k.contains(w)){this._enforcingBounds=!0;var j=w.subtract(k.getCenter()),W=k.extend(w).getSize().subtract(N);g.x+=j.x<0?-W.x:W.x,g.y+=j.y<0?-W.y:W.y,this.panTo(this.unproject(g),l),this._enforcingBounds=!1}return this},invalidateSize:function(o){if(!this._loaded)return this;o=i({animate:!1,pan:!0},o===!0?{animate:!0}:o);var l=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var h=this.getSize(),f=l.divideBy(2).round(),g=h.divideBy(2).round(),w=f.subtract(g);return!w.x&&!w.y?this:(o.animate&&o.pan?this.panBy(w):(o.pan&&this._rawPanBy(w),this.fire("move"),o.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(a(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:l,newSize:h}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(o){if(o=this._locateOptions=i({timeout:1e4,watch:!1},o),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var l=a(this._handleGeolocationResponse,this),h=a(this._handleGeolocationError,this);return o.watch?this._locationWatchId=navigator.geolocation.watchPosition(l,h,o):navigator.geolocation.getCurrentPosition(l,h,o),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(o){if(this._container._leaflet_id){var l=o.code,h=o.message||(l===1?"permission denied":l===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:l,message:"Geolocation error: "+h+"."})}},_handleGeolocationResponse:function(o){if(this._container._leaflet_id){var l=o.coords.latitude,h=o.coords.longitude,f=new me(l,h),g=f.toBounds(o.coords.accuracy*2),w=this._locateOptions;if(w.setView){var b=this.getBoundsZoom(g);this.setView(f,w.maxZoom?Math.min(b,w.maxZoom):b)}var k={latlng:f,bounds:g,timestamp:o.timestamp};for(var N in o.coords)typeof o.coords[N]=="number"&&(k[N]=o.coords[N]);this.fire("locationfound",k)}},addHandler:function(o,l){if(!l)return this;var h=this[o]=new l(this);return this._handlers.push(h),this.options[o]&&h.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),qe(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(ve(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var o;for(o in this._layers)this._layers[o].remove();for(o in this._panes)qe(this._panes[o]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(o,l){var h="leaflet-pane"+(o?" leaflet-"+o.replace("Pane","")+"-pane":""),f=xe("div",h,l||this._mapPane);return o&&(this._panes[o]=f),f},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var o=this.getPixelBounds(),l=this.unproject(o.getBottomLeft()),h=this.unproject(o.getTopRight());return new Pe(l,h)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(o,l,h){o=_e(o),h=U(h||[0,0]);var f=this.getZoom()||0,g=this.getMinZoom(),w=this.getMaxZoom(),b=o.getNorthWest(),k=o.getSouthEast(),N=this.getSize().subtract(h),j=te(this.project(k,f),this.project(b,f)).getSize(),W=Y.any3d?this.options.zoomSnap:1,ae=N.x/j.x,ye=N.y/j.y,Kt=l?Math.max(ae,ye):Math.min(ae,ye);return f=this.getScaleZoom(Kt,f),W&&(f=Math.round(f/(W/100))*(W/100),f=l?Math.ceil(f/W)*W:Math.floor(f/W)*W),Math.max(g,Math.min(w,f))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new V(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(o,l){var h=this._getTopLeftPoint(o,l);return new ie(h,h.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(o){return this.options.crs.getProjectedBounds(o===void 0?this.getZoom():o)},getPane:function(o){return typeof o=="string"?this._panes[o]:o},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(o,l){var h=this.options.crs;return l=l===void 0?this._zoom:l,h.scale(o)/h.scale(l)},getScaleZoom:function(o,l){var h=this.options.crs;l=l===void 0?this._zoom:l;var f=h.zoom(o*h.scale(l));return isNaN(f)?1/0:f},project:function(o,l){return l=l===void 0?this._zoom:l,this.options.crs.latLngToPoint(X(o),l)},unproject:function(o,l){return l=l===void 0?this._zoom:l,this.options.crs.pointToLatLng(U(o),l)},layerPointToLatLng:function(o){var l=U(o).add(this.getPixelOrigin());return this.unproject(l)},latLngToLayerPoint:function(o){var l=this.project(X(o))._round();return l._subtract(this.getPixelOrigin())},wrapLatLng:function(o){return this.options.crs.wrapLatLng(X(o))},wrapLatLngBounds:function(o){return this.options.crs.wrapLatLngBounds(_e(o))},distance:function(o,l){return this.options.crs.distance(X(o),X(l))},containerPointToLayerPoint:function(o){return U(o).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(o){return U(o).add(this._getMapPanePos())},containerPointToLatLng:function(o){var l=this.containerPointToLayerPoint(U(o));return this.layerPointToLatLng(l)},latLngToContainerPoint:function(o){return this.layerPointToContainerPoint(this.latLngToLayerPoint(X(o)))},mouseEventToContainerPoint:function(o){return O1(o,this._container)},mouseEventToLayerPoint:function(o){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(o))},mouseEventToLatLng:function(o){return this.layerPointToLatLng(this.mouseEventToLayerPoint(o))},_initContainer:function(o){var l=this._container=b1(o);if(l){if(l._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");pe(l,"scroll",this._onScroll,this),this._containerId=u(l)},_initLayout:function(){var o=this._container;this._fadeAnimated=this.options.fadeAnimation&&Y.any3d,ge(o,"leaflet-container"+(Y.touch?" leaflet-touch":"")+(Y.retina?" leaflet-retina":"")+(Y.ielt9?" leaflet-oldie":"")+(Y.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var l=sa(o,"position");l!=="absolute"&&l!=="relative"&&l!=="fixed"&&l!=="sticky"&&(o.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var o=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),it(this._mapPane,new V(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(ge(o.markerPane,"leaflet-zoom-hide"),ge(o.shadowPane,"leaflet-zoom-hide"))},_resetView:function(o,l,h){it(this._mapPane,new V(0,0));var f=!this._loaded;this._loaded=!0,l=this._limitZoom(l),this.fire("viewprereset");var g=this._zoom!==l;this._moveStart(g,h)._move(o,l)._moveEnd(g),this.fire("viewreset"),f&&this.fire("load")},_moveStart:function(o,l){return o&&this.fire("zoomstart"),l||this.fire("movestart"),this},_move:function(o,l,h,f){l===void 0&&(l=this._zoom);var g=this._zoom!==l;return this._zoom=l,this._lastCenter=o,this._pixelOrigin=this._getNewPixelOrigin(o),f?h&&h.pinch&&this.fire("zoom",h):((g||h&&h.pinch)&&this.fire("zoom",h),this.fire("move",h)),this},_moveEnd:function(o){return o&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return ve(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(o){it(this._mapPane,this._getMapPanePos().subtract(o))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(o){this._targets={},this._targets[u(this._container)]=this;var l=o?Ne:pe;l(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&l(window,"resize",this._onResize,this),Y.any3d&&this.options.transform3DLimit&&(o?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){ve(this._resizeRequest),this._resizeRequest=le(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var o=this._getMapPanePos();Math.max(Math.abs(o.x),Math.abs(o.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(o,l){for(var h=[],f,g=l==="mouseout"||l==="mouseover",w=o.target||o.srcElement,b=!1;w;){if(f=this._targets[u(w)],f&&(l==="click"||l==="preclick")&&this._draggableMoved(f)){b=!0;break}if(f&&f.listens(l,!0)&&(g&&!hp(w,o)||(h.push(f),g))||w===this._container)break;w=w.parentNode}return!h.length&&!b&&!g&&this.listens(l,!0)&&(h=[this]),h},_isClickDisabled:function(o){for(;o&&o!==this._container;){if(o._leaflet_disable_click)return!0;o=o.parentNode}},_handleDOMEvent:function(o){var l=o.target||o.srcElement;if(!(!this._loaded||l._leaflet_disable_events||o.type==="click"&&this._isClickDisabled(l))){var h=o.type;h==="mousedown"&&sp(l),this._fireDOMEvent(o,h)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(o,l,h){if(o.type==="click"){var f=i({},o);f.type="preclick",this._fireDOMEvent(f,f.type,h)}var g=this._findEventTargets(o,l);if(h){for(var w=[],b=0;b<h.length;b++)h[b].listens(l,!0)&&w.push(h[b]);g=w.concat(g)}if(g.length){l==="contextmenu"&&Pt(o);var k=g[0],N={originalEvent:o};if(o.type!=="keypress"&&o.type!=="keydown"&&o.type!=="keyup"){var j=k.getLatLng&&(!k._radius||k._radius<=10);N.containerPoint=j?this.latLngToContainerPoint(k.getLatLng()):this.mouseEventToContainerPoint(o),N.layerPoint=this.containerPointToLayerPoint(N.containerPoint),N.latlng=j?k.getLatLng():this.layerPointToLatLng(N.layerPoint)}for(b=0;b<g.length;b++)if(g[b].fire(l,N,!0),N.originalEvent._stopped||g[b].options.bubblingMouseEvents===!1&&x(this._mouseEvents,l)!==-1)return}},_draggableMoved:function(o){return o=o.dragging&&o.dragging.enabled()?o:this,o.dragging&&o.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var o=0,l=this._handlers.length;o<l;o++)this._handlers[o].disable()},whenReady:function(o,l){return this._loaded?o.call(l||this,{target:this}):this.on("load",o,l),this},_getMapPanePos:function(){return Hi(this._mapPane)||new V(0,0)},_moved:function(){var o=this._getMapPanePos();return o&&!o.equals([0,0])},_getTopLeftPoint:function(o,l){var h=o&&l!==void 0?this._getNewPixelOrigin(o,l):this.getPixelOrigin();return h.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(o,l){var h=this.getSize()._divideBy(2);return this.project(o,l)._subtract(h)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(o,l,h){var f=this._getNewPixelOrigin(h,l);return this.project(o,l)._subtract(f)},_latLngBoundsToNewLayerBounds:function(o,l,h){var f=this._getNewPixelOrigin(h,l);return te([this.project(o.getSouthWest(),l)._subtract(f),this.project(o.getNorthWest(),l)._subtract(f),this.project(o.getSouthEast(),l)._subtract(f),this.project(o.getNorthEast(),l)._subtract(f)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(o){return this.latLngToLayerPoint(o).subtract(this._getCenterLayerPoint())},_limitCenter:function(o,l,h){if(!h)return o;var f=this.project(o,l),g=this.getSize().divideBy(2),w=new ie(f.subtract(g),f.add(g)),b=this._getBoundsOffset(w,h,l);return Math.abs(b.x)<=1&&Math.abs(b.y)<=1?o:this.unproject(f.add(b),l)},_limitOffset:function(o,l){if(!l)return o;var h=this.getPixelBounds(),f=new ie(h.min.add(o),h.max.add(o));return o.add(this._getBoundsOffset(f,l))},_getBoundsOffset:function(o,l,h){var f=te(this.project(l.getNorthEast(),h),this.project(l.getSouthWest(),h)),g=f.min.subtract(o.min),w=f.max.subtract(o.max),b=this._rebound(g.x,-w.x),k=this._rebound(g.y,-w.y);return new V(b,k)},_rebound:function(o,l){return o+l>0?Math.round(o-l)/2:Math.max(0,Math.ceil(o))-Math.max(0,Math.floor(l))},_limitZoom:function(o){var l=this.getMinZoom(),h=this.getMaxZoom(),f=Y.any3d?this.options.zoomSnap:1;return f&&(o=Math.round(o/f)*f),Math.max(l,Math.min(h,o))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){tt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(o,l){var h=this._getCenterOffset(o)._trunc();return(l&&l.animate)!==!0&&!this.getSize().contains(h)?!1:(this.panBy(h,l),!0)},_createAnimProxy:function(){var o=this._proxy=xe("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(o),this.on("zoomanim",function(l){var h=Xf,f=this._proxy.style[h];Bi(this._proxy,this.project(l.center,l.zoom),this.getZoomScale(l.zoom,1)),f===this._proxy.style[h]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){qe(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var o=this.getCenter(),l=this.getZoom();Bi(this._proxy,this.project(o,l),this.getZoomScale(l,1))},_catchTransitionEnd:function(o){this._animatingZoom&&o.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(o,l,h){if(this._animatingZoom)return!0;if(h=h||{},!this._zoomAnimated||h.animate===!1||this._nothingToAnimate()||Math.abs(l-this._zoom)>this.options.zoomAnimationThreshold)return!1;var f=this.getZoomScale(l),g=this._getCenterOffset(o)._divideBy(1-1/f);return h.animate!==!0&&!this.getSize().contains(g)?!1:(le(function(){this._moveStart(!0,h.noMoveStart||!1)._animateZoom(o,l,!0)},this),!0)},_animateZoom:function(o,l,h,f){this._mapPane&&(h&&(this._animatingZoom=!0,this._animateToCenter=o,this._animateToZoom=l,ge(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:o,zoom:l,noUpdate:f}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(a(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&tt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function LR(o,l){return new Te(o,l)}var Nn=Fe.extend({options:{position:"topright"},initialize:function(o){T(this,o)},getPosition:function(){return this.options.position},setPosition:function(o){var l=this._map;return l&&l.removeControl(this),this.options.position=o,l&&l.addControl(this),this},getContainer:function(){return this._container},addTo:function(o){this.remove(),this._map=o;var l=this._container=this.onAdd(o),h=this.getPosition(),f=o._controlCorners[h];return ge(l,"leaflet-control"),h.indexOf("bottom")!==-1?f.insertBefore(l,f.firstChild):f.appendChild(l),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(qe(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(o){this._map&&o&&o.screenX>0&&o.screenY>0&&this._map.getContainer().focus()}}),ca=function(o){return new Nn(o)};Te.include({addControl:function(o){return o.addTo(this),this},removeControl:function(o){return o.remove(),this},_initControlPos:function(){var o=this._controlCorners={},l="leaflet-",h=this._controlContainer=xe("div",l+"control-container",this._container);function f(g,w){var b=l+g+" "+l+w;o[g+w]=xe("div",b,h)}f("top","left"),f("top","right"),f("bottom","left"),f("bottom","right")},_clearControlPos:function(){for(var o in this._controlCorners)qe(this._controlCorners[o]);qe(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var N1=Nn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(o,l,h,f){return h<f?-1:f<h?1:0}},initialize:function(o,l,h){T(this,h),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var f in o)this._addLayer(o[f],f);for(f in l)this._addLayer(l[f],f,!0)},onAdd:function(o){this._initLayout(),this._update(),this._map=o,o.on("zoomend",this._checkDisabledLayers,this);for(var l=0;l<this._layers.length;l++)this._layers[l].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(o){return Nn.prototype.addTo.call(this,o),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var o=0;o<this._layers.length;o++)this._layers[o].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(o,l){return this._addLayer(o,l),this._map?this._update():this},addOverlay:function(o,l){return this._addLayer(o,l,!0),this._map?this._update():this},removeLayer:function(o){o.off("add remove",this._onLayerChange,this);var l=this._getLayer(u(o));return l&&this._layers.splice(this._layers.indexOf(l),1),this._map?this._update():this},expand:function(){ge(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var o=this._map.getSize().y-(this._container.offsetTop+50);return o<this._section.clientHeight?(ge(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=o+"px"):tt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return tt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var o="leaflet-control-layers",l=this._container=xe("div",o),h=this.options.collapsed;l.setAttribute("aria-haspopup",!0),ua(l),cp(l);var f=this._section=xe("section",o+"-list");h&&(this._map.on("click",this.collapse,this),pe(l,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var g=this._layersLink=xe("a",o+"-toggle",l);g.href="#",g.title="Layers",g.setAttribute("role","button"),pe(g,{keydown:function(w){w.keyCode===13&&this._expandSafely()},click:function(w){Pt(w),this._expandSafely()}},this),h||this.expand(),this._baseLayersList=xe("div",o+"-base",f),this._separator=xe("div",o+"-separator",f),this._overlaysList=xe("div",o+"-overlays",f),l.appendChild(f)},_getLayer:function(o){for(var l=0;l<this._layers.length;l++)if(this._layers[l]&&u(this._layers[l].layer)===o)return this._layers[l]},_addLayer:function(o,l,h){this._map&&o.on("add remove",this._onLayerChange,this),this._layers.push({layer:o,name:l,overlay:h}),this.options.sortLayers&&this._layers.sort(a(function(f,g){return this.options.sortFunction(f.layer,g.layer,f.name,g.name)},this)),this.options.autoZIndex&&o.setZIndex&&(this._lastZIndex++,o.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Du(this._baseLayersList),Du(this._overlaysList),this._layerControlInputs=[];var o,l,h,f,g=0;for(h=0;h<this._layers.length;h++)f=this._layers[h],this._addItem(f),l=l||f.overlay,o=o||!f.overlay,g+=f.overlay?0:1;return this.options.hideSingleBase&&(o=o&&g>1,this._baseLayersList.style.display=o?"":"none"),this._separator.style.display=l&&o?"":"none",this},_onLayerChange:function(o){this._handlingClick||this._update();var l=this._getLayer(u(o.target)),h=l.overlay?o.type==="add"?"overlayadd":"overlayremove":o.type==="add"?"baselayerchange":null;h&&this._map.fire(h,l)},_createRadioElement:function(o,l){var h='<input type="radio" class="leaflet-control-layers-selector" name="'+o+'"'+(l?' checked="checked"':"")+"/>",f=document.createElement("div");return f.innerHTML=h,f.firstChild},_addItem:function(o){var l=document.createElement("label"),h=this._map.hasLayer(o.layer),f;o.overlay?(f=document.createElement("input"),f.type="checkbox",f.className="leaflet-control-layers-selector",f.defaultChecked=h):f=this._createRadioElement("leaflet-base-layers_"+u(this),h),this._layerControlInputs.push(f),f.layerId=u(o.layer),pe(f,"click",this._onInputClick,this);var g=document.createElement("span");g.innerHTML=" "+o.name;var w=document.createElement("span");l.appendChild(w),w.appendChild(f),w.appendChild(g);var b=o.overlay?this._overlaysList:this._baseLayersList;return b.appendChild(l),this._checkDisabledLayers(),l},_onInputClick:function(){if(!this._preventClick){var o=this._layerControlInputs,l,h,f=[],g=[];this._handlingClick=!0;for(var w=o.length-1;w>=0;w--)l=o[w],h=this._getLayer(l.layerId).layer,l.checked?f.push(h):l.checked||g.push(h);for(w=0;w<g.length;w++)this._map.hasLayer(g[w])&&this._map.removeLayer(g[w]);for(w=0;w<f.length;w++)this._map.hasLayer(f[w])||this._map.addLayer(f[w]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var o=this._layerControlInputs,l,h,f=this._map.getZoom(),g=o.length-1;g>=0;g--)l=o[g],h=this._getLayer(l.layerId).layer,l.disabled=h.options.minZoom!==void 0&&f<h.options.minZoom||h.options.maxZoom!==void 0&&f>h.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var o=this._section;this._preventClick=!0,pe(o,"click",Pt),this.expand();var l=this;setTimeout(function(){Ne(o,"click",Pt),l._preventClick=!1})}}),MR=function(o,l,h){return new N1(o,l,h)},dp=Nn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(o){var l="leaflet-control-zoom",h=xe("div",l+" leaflet-bar"),f=this.options;return this._zoomInButton=this._createButton(f.zoomInText,f.zoomInTitle,l+"-in",h,this._zoomIn),this._zoomOutButton=this._createButton(f.zoomOutText,f.zoomOutTitle,l+"-out",h,this._zoomOut),this._updateDisabled(),o.on("zoomend zoomlevelschange",this._updateDisabled,this),h},onRemove:function(o){o.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(o){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(o.shiftKey?3:1))},_zoomOut:function(o){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(o.shiftKey?3:1))},_createButton:function(o,l,h,f,g){var w=xe("a",h,f);return w.innerHTML=o,w.href="#",w.title=l,w.setAttribute("role","button"),w.setAttribute("aria-label",l),ua(w),pe(w,"click",qi),pe(w,"click",g,this),pe(w,"click",this._refocusOnMap,this),w},_updateDisabled:function(){var o=this._map,l="leaflet-disabled";tt(this._zoomInButton,l),tt(this._zoomOutButton,l),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||o._zoom===o.getMinZoom())&&(ge(this._zoomOutButton,l),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||o._zoom===o.getMaxZoom())&&(ge(this._zoomInButton,l),this._zoomInButton.setAttribute("aria-disabled","true"))}});Te.mergeOptions({zoomControl:!0}),Te.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new dp,this.addControl(this.zoomControl))});var NR=function(o){return new dp(o)},D1=Nn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(o){var l="leaflet-control-scale",h=xe("div",l),f=this.options;return this._addScales(f,l+"-line",h),o.on(f.updateWhenIdle?"moveend":"move",this._update,this),o.whenReady(this._update,this),h},onRemove:function(o){o.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(o,l,h){o.metric&&(this._mScale=xe("div",l,h)),o.imperial&&(this._iScale=xe("div",l,h))},_update:function(){var o=this._map,l=o.getSize().y/2,h=o.distance(o.containerPointToLatLng([0,l]),o.containerPointToLatLng([this.options.maxWidth,l]));this._updateScales(h)},_updateScales:function(o){this.options.metric&&o&&this._updateMetric(o),this.options.imperial&&o&&this._updateImperial(o)},_updateMetric:function(o){var l=this._getRoundNum(o),h=l<1e3?l+" m":l/1e3+" km";this._updateScale(this._mScale,h,l/o)},_updateImperial:function(o){var l=o*3.2808399,h,f,g;l>5280?(h=l/5280,f=this._getRoundNum(h),this._updateScale(this._iScale,f+" mi",f/h)):(g=this._getRoundNum(l),this._updateScale(this._iScale,g+" ft",g/l))},_updateScale:function(o,l,h){o.style.width=Math.round(this.options.maxWidth*h)+"px",o.innerHTML=l},_getRoundNum:function(o){var l=Math.pow(10,(Math.floor(o)+"").length-1),h=o/l;return h=h>=10?10:h>=5?5:h>=3?3:h>=2?2:1,l*h}}),DR=function(o){return new D1(o)},VR='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',fp=Nn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Y.inlineSvg?VR+" ":"")+"Leaflet</a>"},initialize:function(o){T(this,o),this._attributions={}},onAdd:function(o){o.attributionControl=this,this._container=xe("div","leaflet-control-attribution"),ua(this._container);for(var l in o._layers)o._layers[l].getAttribution&&this.addAttribution(o._layers[l].getAttribution());return this._update(),o.on("layeradd",this._addAttribution,this),this._container},onRemove:function(o){o.off("layeradd",this._addAttribution,this)},_addAttribution:function(o){o.layer.getAttribution&&(this.addAttribution(o.layer.getAttribution()),o.layer.once("remove",function(){this.removeAttribution(o.layer.getAttribution())},this))},setPrefix:function(o){return this.options.prefix=o,this._update(),this},addAttribution:function(o){return o?(this._attributions[o]||(this._attributions[o]=0),this._attributions[o]++,this._update(),this):this},removeAttribution:function(o){return o?(this._attributions[o]&&(this._attributions[o]--,this._update()),this):this},_update:function(){if(this._map){var o=[];for(var l in this._attributions)this._attributions[l]&&o.push(l);var h=[];this.options.prefix&&h.push(this.options.prefix),o.length&&h.push(o.join(", ")),this._container.innerHTML=h.join(' <span aria-hidden="true">|</span> ')}}});Te.mergeOptions({attributionControl:!0}),Te.addInitHook(function(){this.options.attributionControl&&new fp().addTo(this)});var FR=function(o){return new fp(o)};Nn.Layers=N1,Nn.Zoom=dp,Nn.Scale=D1,Nn.Attribution=fp,ca.layers=MR,ca.zoom=NR,ca.scale=DR,ca.attribution=FR;var Xn=Fe.extend({initialize:function(o){this._map=o},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Xn.addTo=function(o,l){return o.addHandler(l,this),this};var zR={Events:fe},V1=Y.touch?"touchstart mousedown":"mousedown",Xr=He.extend({options:{clickTolerance:3},initialize:function(o,l,h,f){T(this,f),this._element=o,this._dragStartTarget=l||o,this._preventOutline=h},enable:function(){this._enabled||(pe(this._dragStartTarget,V1,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Xr._dragging===this&&this.finishDrag(!0),Ne(this._dragStartTarget,V1,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(o){if(this._enabled&&(this._moved=!1,!Jf(this._element,"leaflet-zoom-anim"))){if(o.touches&&o.touches.length!==1){Xr._dragging===this&&this.finishDrag();return}if(!(Xr._dragging||o.shiftKey||o.which!==1&&o.button!==1&&!o.touches)&&(Xr._dragging=this,this._preventOutline&&sp(this._element),np(),oa(),!this._moving)){this.fire("down");var l=o.touches?o.touches[0]:o,h=R1(this._element);this._startPoint=new V(l.clientX,l.clientY),this._startPos=Hi(this._element),this._parentScale=op(h);var f=o.type==="mousedown";pe(document,f?"mousemove":"touchmove",this._onMove,this),pe(document,f?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(o){if(this._enabled){if(o.touches&&o.touches.length>1){this._moved=!0;return}var l=o.touches&&o.touches.length===1?o.touches[0]:o,h=new V(l.clientX,l.clientY)._subtract(this._startPoint);!h.x&&!h.y||Math.abs(h.x)+Math.abs(h.y)<this.options.clickTolerance||(h.x/=this._parentScale.x,h.y/=this._parentScale.y,Pt(o),this._moved||(this.fire("dragstart"),this._moved=!0,ge(document.body,"leaflet-dragging"),this._lastTarget=o.target||o.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),ge(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(h),this._moving=!0,this._lastEvent=o,this._updatePosition())}},_updatePosition:function(){var o={originalEvent:this._lastEvent};this.fire("predrag",o),it(this._element,this._newPos),this.fire("drag",o)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(o){tt(document.body,"leaflet-dragging"),this._lastTarget&&(tt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Ne(document,"mousemove touchmove",this._onMove,this),Ne(document,"mouseup touchend touchcancel",this._onUp,this),rp(),aa();var l=this._moved&&this._moving;this._moving=!1,Xr._dragging=!1,l&&this.fire("dragend",{noInertia:o,distance:this._newPos.distanceTo(this._startPos)})}});function F1(o,l,h){var f,g=[1,4,2,8],w,b,k,N,j,W,ae,ye;for(w=0,W=o.length;w<W;w++)o[w]._code=Gi(o[w],l);for(k=0;k<4;k++){for(ae=g[k],f=[],w=0,W=o.length,b=W-1;w<W;b=w++)N=o[w],j=o[b],N._code&ae?j._code&ae||(ye=$u(j,N,ae,l,h),ye._code=Gi(ye,l),f.push(ye)):(j._code&ae&&(ye=$u(j,N,ae,l,h),ye._code=Gi(ye,l),f.push(ye)),f.push(N));o=f}return o}function z1(o,l){var h,f,g,w,b,k,N,j,W;if(!o||o.length===0)throw new Error("latlngs not passed");Pn(o)||(console.warn("latlngs are not flat! Only the first ring will be used"),o=o[0]);var ae=X([0,0]),ye=_e(o),Kt=ye.getNorthWest().distanceTo(ye.getSouthWest())*ye.getNorthEast().distanceTo(ye.getNorthWest());Kt<1700&&(ae=pp(o));var _t=o.length,Cn=[];for(h=0;h<_t;h++){var en=X(o[h]);Cn.push(l.project(X([en.lat-ae.lat,en.lng-ae.lng])))}for(k=N=j=0,h=0,f=_t-1;h<_t;f=h++)g=Cn[h],w=Cn[f],b=g.y*w.x-w.y*g.x,N+=(g.x+w.x)*b,j+=(g.y+w.y)*b,k+=b*3;k===0?W=Cn[0]:W=[N/k,j/k];var zs=l.unproject(U(W));return X([zs.lat+ae.lat,zs.lng+ae.lng])}function pp(o){for(var l=0,h=0,f=0,g=0;g<o.length;g++){var w=X(o[g]);l+=w.lat,h+=w.lng,f++}return X([l/f,h/f])}var jR={__proto__:null,clipPolygon:F1,polygonCenter:z1,centroid:pp};function j1(o,l){if(!l||!o.length)return o.slice();var h=l*l;return o=BR(o,h),o=UR(o,h),o}function $1(o,l,h){return Math.sqrt(ha(o,l,h,!0))}function $R(o,l,h){return ha(o,l,h)}function UR(o,l){var h=o.length,f=typeof Uint8Array<"u"?Uint8Array:Array,g=new f(h);g[0]=g[h-1]=1,mp(o,g,l,0,h-1);var w,b=[];for(w=0;w<h;w++)g[w]&&b.push(o[w]);return b}function mp(o,l,h,f,g){var w=0,b,k,N;for(k=f+1;k<=g-1;k++)N=ha(o[k],o[f],o[g],!0),N>w&&(b=k,w=N);w>h&&(l[b]=1,mp(o,l,h,f,b),mp(o,l,h,b,g))}function BR(o,l){for(var h=[o[0]],f=1,g=0,w=o.length;f<w;f++)HR(o[f],o[g])>l&&(h.push(o[f]),g=f);return g<w-1&&h.push(o[w-1]),h}var U1;function B1(o,l,h,f,g){var w=f?U1:Gi(o,h),b=Gi(l,h),k,N,j;for(U1=b;;){if(!(w|b))return[o,l];if(w&b)return!1;k=w||b,N=$u(o,l,k,h,g),j=Gi(N,h),k===w?(o=N,w=j):(l=N,b=j)}}function $u(o,l,h,f,g){var w=l.x-o.x,b=l.y-o.y,k=f.min,N=f.max,j,W;return h&8?(j=o.x+w*(N.y-o.y)/b,W=N.y):h&4?(j=o.x+w*(k.y-o.y)/b,W=k.y):h&2?(j=N.x,W=o.y+b*(N.x-o.x)/w):h&1&&(j=k.x,W=o.y+b*(k.x-o.x)/w),new V(j,W,g)}function Gi(o,l){var h=0;return o.x<l.min.x?h|=1:o.x>l.max.x&&(h|=2),o.y<l.min.y?h|=4:o.y>l.max.y&&(h|=8),h}function HR(o,l){var h=l.x-o.x,f=l.y-o.y;return h*h+f*f}function ha(o,l,h,f){var g=l.x,w=l.y,b=h.x-g,k=h.y-w,N=b*b+k*k,j;return N>0&&(j=((o.x-g)*b+(o.y-w)*k)/N,j>1?(g=h.x,w=h.y):j>0&&(g+=b*j,w+=k*j)),b=o.x-g,k=o.y-w,f?b*b+k*k:new V(g,w)}function Pn(o){return!S(o[0])||typeof o[0][0]!="object"&&typeof o[0][0]<"u"}function H1(o){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Pn(o)}function W1(o,l){var h,f,g,w,b,k,N,j;if(!o||o.length===0)throw new Error("latlngs not passed");Pn(o)||(console.warn("latlngs are not flat! Only the first ring will be used"),o=o[0]);var W=X([0,0]),ae=_e(o),ye=ae.getNorthWest().distanceTo(ae.getSouthWest())*ae.getNorthEast().distanceTo(ae.getNorthWest());ye<1700&&(W=pp(o));var Kt=o.length,_t=[];for(h=0;h<Kt;h++){var Cn=X(o[h]);_t.push(l.project(X([Cn.lat-W.lat,Cn.lng-W.lng])))}for(h=0,f=0;h<Kt-1;h++)f+=_t[h].distanceTo(_t[h+1])/2;if(f===0)j=_t[0];else for(h=0,w=0;h<Kt-1;h++)if(b=_t[h],k=_t[h+1],g=b.distanceTo(k),w+=g,w>f){N=(w-f)/g,j=[k.x-N*(k.x-b.x),k.y-N*(k.y-b.y)];break}var en=l.unproject(U(j));return X([en.lat+W.lat,en.lng+W.lng])}var WR={__proto__:null,simplify:j1,pointToSegmentDistance:$1,closestPointOnSegment:$R,clipSegment:B1,_getEdgeIntersection:$u,_getBitCode:Gi,_sqClosestPointOnSegment:ha,isFlat:Pn,_flat:H1,polylineCenter:W1},gp={project:function(o){return new V(o.lng,o.lat)},unproject:function(o){return new me(o.y,o.x)},bounds:new ie([-180,-90],[180,90])},vp={R:6378137,R_MINOR:6356752314245179e-9,bounds:new ie([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(o){var l=Math.PI/180,h=this.R,f=o.lat*l,g=this.R_MINOR/h,w=Math.sqrt(1-g*g),b=w*Math.sin(f),k=Math.tan(Math.PI/4-f/2)/Math.pow((1-b)/(1+b),w/2);return f=-h*Math.log(Math.max(k,1e-10)),new V(o.lng*l*h,f)},unproject:function(o){for(var l=180/Math.PI,h=this.R,f=this.R_MINOR/h,g=Math.sqrt(1-f*f),w=Math.exp(-o.y/h),b=Math.PI/2-2*Math.atan(w),k=0,N=.1,j;k<15&&Math.abs(N)>1e-7;k++)j=g*Math.sin(b),j=Math.pow((1-j)/(1+j),g/2),N=Math.PI/2-2*Math.atan(w*j)-b,b+=N;return new me(b*l,o.x*l/h)}},qR={__proto__:null,LonLat:gp,Mercator:vp,SphericalMercator:ta},GR=i({},vt,{code:"EPSG:3395",projection:vp,transformation:function(){var o=.5/(Math.PI*vp.R);return Yr(o,.5,-o,.5)}()}),q1=i({},vt,{code:"EPSG:4326",projection:gp,transformation:Yr(1/180,1,-1/180,.5)}),KR=i({},We,{projection:gp,transformation:Yr(1,0,-1,0),scale:function(o){return Math.pow(2,o)},zoom:function(o){return Math.log(o)/Math.LN2},distance:function(o,l){var h=l.lng-o.lng,f=l.lat-o.lat;return Math.sqrt(h*h+f*f)},infinite:!0});We.Earth=vt,We.EPSG3395=GR,We.EPSG3857=na,We.EPSG900913=Ou,We.EPSG4326=q1,We.Simple=KR;var Dn=He.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(o){return o.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(o){return o&&o.removeLayer(this),this},getPane:function(o){return this._map.getPane(o?this.options[o]||o:this.options.pane)},addInteractiveTarget:function(o){return this._map._targets[u(o)]=this,this},removeInteractiveTarget:function(o){return delete this._map._targets[u(o)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(o){var l=o.target;if(l.hasLayer(this)){if(this._map=l,this._zoomAnimated=l._zoomAnimated,this.getEvents){var h=this.getEvents();l.on(h,this),this.once("remove",function(){l.off(h,this)},this)}this.onAdd(l),this.fire("add"),l.fire("layeradd",{layer:this})}}});Te.include({addLayer:function(o){if(!o._layerAdd)throw new Error("The provided object is not a Layer.");var l=u(o);return this._layers[l]?this:(this._layers[l]=o,o._mapToAdd=this,o.beforeAdd&&o.beforeAdd(this),this.whenReady(o._layerAdd,o),this)},removeLayer:function(o){var l=u(o);return this._layers[l]?(this._loaded&&o.onRemove(this),delete this._layers[l],this._loaded&&(this.fire("layerremove",{layer:o}),o.fire("remove")),o._map=o._mapToAdd=null,this):this},hasLayer:function(o){return u(o)in this._layers},eachLayer:function(o,l){for(var h in this._layers)o.call(l,this._layers[h]);return this},_addLayers:function(o){o=o?S(o)?o:[o]:[];for(var l=0,h=o.length;l<h;l++)this.addLayer(o[l])},_addZoomLimit:function(o){(!isNaN(o.options.maxZoom)||!isNaN(o.options.minZoom))&&(this._zoomBoundLayers[u(o)]=o,this._updateZoomLevels())},_removeZoomLimit:function(o){var l=u(o);this._zoomBoundLayers[l]&&(delete this._zoomBoundLayers[l],this._updateZoomLevels())},_updateZoomLevels:function(){var o=1/0,l=-1/0,h=this._getZoomSpan();for(var f in this._zoomBoundLayers){var g=this._zoomBoundLayers[f].options;o=g.minZoom===void 0?o:Math.min(o,g.minZoom),l=g.maxZoom===void 0?l:Math.max(l,g.maxZoom)}this._layersMaxZoom=l===-1/0?void 0:l,this._layersMinZoom=o===1/0?void 0:o,h!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Ms=Dn.extend({initialize:function(o,l){T(this,l),this._layers={};var h,f;if(o)for(h=0,f=o.length;h<f;h++)this.addLayer(o[h])},addLayer:function(o){var l=this.getLayerId(o);return this._layers[l]=o,this._map&&this._map.addLayer(o),this},removeLayer:function(o){var l=o in this._layers?o:this.getLayerId(o);return this._map&&this._layers[l]&&this._map.removeLayer(this._layers[l]),delete this._layers[l],this},hasLayer:function(o){var l=typeof o=="number"?o:this.getLayerId(o);return l in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(o){var l=Array.prototype.slice.call(arguments,1),h,f;for(h in this._layers)f=this._layers[h],f[o]&&f[o].apply(f,l);return this},onAdd:function(o){this.eachLayer(o.addLayer,o)},onRemove:function(o){this.eachLayer(o.removeLayer,o)},eachLayer:function(o,l){for(var h in this._layers)o.call(l,this._layers[h]);return this},getLayer:function(o){return this._layers[o]},getLayers:function(){var o=[];return this.eachLayer(o.push,o),o},setZIndex:function(o){return this.invoke("setZIndex",o)},getLayerId:function(o){return u(o)}}),ZR=function(o,l){return new Ms(o,l)},wr=Ms.extend({addLayer:function(o){return this.hasLayer(o)?this:(o.addEventParent(this),Ms.prototype.addLayer.call(this,o),this.fire("layeradd",{layer:o}))},removeLayer:function(o){return this.hasLayer(o)?(o in this._layers&&(o=this._layers[o]),o.removeEventParent(this),Ms.prototype.removeLayer.call(this,o),this.fire("layerremove",{layer:o})):this},setStyle:function(o){return this.invoke("setStyle",o)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var o=new Pe;for(var l in this._layers){var h=this._layers[l];o.extend(h.getBounds?h.getBounds():h.getLatLng())}return o}}),QR=function(o,l){return new wr(o,l)},Ns=Fe.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(o){T(this,o)},createIcon:function(o){return this._createIcon("icon",o)},createShadow:function(o){return this._createIcon("shadow",o)},_createIcon:function(o,l){var h=this._getIconUrl(o);if(!h){if(o==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var f=this._createImg(h,l&&l.tagName==="IMG"?l:null);return this._setIconStyles(f,o),(this.options.crossOrigin||this.options.crossOrigin==="")&&(f.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),f},_setIconStyles:function(o,l){var h=this.options,f=h[l+"Size"];typeof f=="number"&&(f=[f,f]);var g=U(f),w=U(l==="shadow"&&h.shadowAnchor||h.iconAnchor||g&&g.divideBy(2,!0));o.className="leaflet-marker-"+l+" "+(h.className||""),w&&(o.style.marginLeft=-w.x+"px",o.style.marginTop=-w.y+"px"),g&&(o.style.width=g.x+"px",o.style.height=g.y+"px")},_createImg:function(o,l){return l=l||document.createElement("img"),l.src=o,l},_getIconUrl:function(o){return Y.retina&&this.options[o+"RetinaUrl"]||this.options[o+"Url"]}});function YR(o){return new Ns(o)}var da=Ns.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(o){return typeof da.imagePath!="string"&&(da.imagePath=this._detectIconPath()),(this.options.imagePath||da.imagePath)+Ns.prototype._getIconUrl.call(this,o)},_stripUrl:function(o){var l=function(h,f,g){var w=f.exec(h);return w&&w[g]};return o=l(o,/^url\((['"])?(.+)\1\)$/,2),o&&l(o,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var o=xe("div","leaflet-default-icon-path",document.body),l=sa(o,"background-image")||sa(o,"backgroundImage");if(document.body.removeChild(o),l=this._stripUrl(l),l)return l;var h=document.querySelector('link[href$="leaflet.css"]');return h?h.href.substring(0,h.href.length-11-1):""}}),G1=Xn.extend({initialize:function(o){this._marker=o},addHooks:function(){var o=this._marker._icon;this._draggable||(this._draggable=new Xr(o,o,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),ge(o,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&tt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(o){var l=this._marker,h=l._map,f=this._marker.options.autoPanSpeed,g=this._marker.options.autoPanPadding,w=Hi(l._icon),b=h.getPixelBounds(),k=h.getPixelOrigin(),N=te(b.min._subtract(k).add(g),b.max._subtract(k).subtract(g));if(!N.contains(w)){var j=U((Math.max(N.max.x,w.x)-N.max.x)/(b.max.x-N.max.x)-(Math.min(N.min.x,w.x)-N.min.x)/(b.min.x-N.min.x),(Math.max(N.max.y,w.y)-N.max.y)/(b.max.y-N.max.y)-(Math.min(N.min.y,w.y)-N.min.y)/(b.min.y-N.min.y)).multiplyBy(f);h.panBy(j,{animate:!1}),this._draggable._newPos._add(j),this._draggable._startPos._add(j),it(l._icon,this._draggable._newPos),this._onDrag(o),this._panRequest=le(this._adjustPan.bind(this,o))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(o){this._marker.options.autoPan&&(ve(this._panRequest),this._panRequest=le(this._adjustPan.bind(this,o)))},_onDrag:function(o){var l=this._marker,h=l._shadow,f=Hi(l._icon),g=l._map.layerPointToLatLng(f);h&&it(h,f),l._latlng=g,o.latlng=g,o.oldLatLng=this._oldLatLng,l.fire("move",o).fire("drag",o)},_onDragEnd:function(o){ve(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",o)}}),Uu=Dn.extend({options:{icon:new da,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(o,l){T(this,l),this._latlng=X(o)},onAdd:function(o){this._zoomAnimated=this._zoomAnimated&&o.options.markerZoomAnimation,this._zoomAnimated&&o.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(o){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&o.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(o){var l=this._latlng;return this._latlng=X(o),this.update(),this.fire("move",{oldLatLng:l,latlng:this._latlng})},setZIndexOffset:function(o){return this.options.zIndexOffset=o,this.update()},getIcon:function(){return this.options.icon},setIcon:function(o){return this.options.icon=o,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var o=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(o)}return this},_initIcon:function(){var o=this.options,l="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),h=o.icon.createIcon(this._icon),f=!1;h!==this._icon&&(this._icon&&this._removeIcon(),f=!0,o.title&&(h.title=o.title),h.tagName==="IMG"&&(h.alt=o.alt||"")),ge(h,l),o.keyboard&&(h.tabIndex="0",h.setAttribute("role","button")),this._icon=h,o.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&pe(h,"focus",this._panOnFocus,this);var g=o.icon.createShadow(this._shadow),w=!1;g!==this._shadow&&(this._removeShadow(),w=!0),g&&(ge(g,l),g.alt=""),this._shadow=g,o.opacity<1&&this._updateOpacity(),f&&this.getPane().appendChild(this._icon),this._initInteraction(),g&&w&&this.getPane(o.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ne(this._icon,"focus",this._panOnFocus,this),qe(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&qe(this._shadow),this._shadow=null},_setPos:function(o){this._icon&&it(this._icon,o),this._shadow&&it(this._shadow,o),this._zIndex=o.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(o){this._icon&&(this._icon.style.zIndex=this._zIndex+o)},_animateZoom:function(o){var l=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center).round();this._setPos(l)},_initInteraction:function(){if(this.options.interactive&&(ge(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),G1)){var o=this.options.draggable;this.dragging&&(o=this.dragging.enabled(),this.dragging.disable()),this.dragging=new G1(this),o&&this.dragging.enable()}},setOpacity:function(o){return this.options.opacity=o,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var o=this.options.opacity;this._icon&&In(this._icon,o),this._shadow&&In(this._shadow,o)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var o=this._map;if(o){var l=this.options.icon.options,h=l.iconSize?U(l.iconSize):U(0,0),f=l.iconAnchor?U(l.iconAnchor):U(0,0);o.panInside(this._latlng,{paddingTopLeft:f,paddingBottomRight:h.subtract(f)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function XR(o,l){return new Uu(o,l)}var Jr=Dn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(o){this._renderer=o.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(o){return T(this,o),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&o&&Object.prototype.hasOwnProperty.call(o,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Bu=Jr.extend({options:{fill:!0,radius:10},initialize:function(o,l){T(this,l),this._latlng=X(o),this._radius=this.options.radius},setLatLng:function(o){var l=this._latlng;return this._latlng=X(o),this.redraw(),this.fire("move",{oldLatLng:l,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(o){return this.options.radius=this._radius=o,this.redraw()},getRadius:function(){return this._radius},setStyle:function(o){var l=o&&o.radius||this._radius;return Jr.prototype.setStyle.call(this,o),this.setRadius(l),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var o=this._radius,l=this._radiusY||o,h=this._clickTolerance(),f=[o+h,l+h];this._pxBounds=new ie(this._point.subtract(f),this._point.add(f))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(o){return o.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function JR(o,l){return new Bu(o,l)}var _p=Bu.extend({initialize:function(o,l,h){if(typeof l=="number"&&(l=i({},h,{radius:l})),T(this,l),this._latlng=X(o),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(o){return this._mRadius=o,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var o=[this._radius,this._radiusY||this._radius];return new Pe(this._map.layerPointToLatLng(this._point.subtract(o)),this._map.layerPointToLatLng(this._point.add(o)))},setStyle:Jr.prototype.setStyle,_project:function(){var o=this._latlng.lng,l=this._latlng.lat,h=this._map,f=h.options.crs;if(f.distance===vt.distance){var g=Math.PI/180,w=this._mRadius/vt.R/g,b=h.project([l+w,o]),k=h.project([l-w,o]),N=b.add(k).divideBy(2),j=h.unproject(N).lat,W=Math.acos((Math.cos(w*g)-Math.sin(l*g)*Math.sin(j*g))/(Math.cos(l*g)*Math.cos(j*g)))/g;(isNaN(W)||W===0)&&(W=w/Math.cos(Math.PI/180*l)),this._point=N.subtract(h.getPixelOrigin()),this._radius=isNaN(W)?0:N.x-h.project([j,o-W]).x,this._radiusY=N.y-b.y}else{var ae=f.unproject(f.project(this._latlng).subtract([this._mRadius,0]));this._point=h.latLngToLayerPoint(this._latlng),this._radius=this._point.x-h.latLngToLayerPoint(ae).x}this._updateBounds()}});function eA(o,l,h){return new _p(o,l,h)}var Er=Jr.extend({options:{smoothFactor:1,noClip:!1},initialize:function(o,l){T(this,l),this._setLatLngs(o)},getLatLngs:function(){return this._latlngs},setLatLngs:function(o){return this._setLatLngs(o),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(o){for(var l=1/0,h=null,f=ha,g,w,b=0,k=this._parts.length;b<k;b++)for(var N=this._parts[b],j=1,W=N.length;j<W;j++){g=N[j-1],w=N[j];var ae=f(o,g,w,!0);ae<l&&(l=ae,h=f(o,g,w))}return h&&(h.distance=Math.sqrt(l)),h},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return W1(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(o,l){return l=l||this._defaultShape(),o=X(o),l.push(o),this._bounds.extend(o),this.redraw()},_setLatLngs:function(o){this._bounds=new Pe,this._latlngs=this._convertLatLngs(o)},_defaultShape:function(){return Pn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(o){for(var l=[],h=Pn(o),f=0,g=o.length;f<g;f++)h?(l[f]=X(o[f]),this._bounds.extend(l[f])):l[f]=this._convertLatLngs(o[f]);return l},_project:function(){var o=new ie;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,o),this._bounds.isValid()&&o.isValid()&&(this._rawPxBounds=o,this._updateBounds())},_updateBounds:function(){var o=this._clickTolerance(),l=new V(o,o);this._rawPxBounds&&(this._pxBounds=new ie([this._rawPxBounds.min.subtract(l),this._rawPxBounds.max.add(l)]))},_projectLatlngs:function(o,l,h){var f=o[0]instanceof me,g=o.length,w,b;if(f){for(b=[],w=0;w<g;w++)b[w]=this._map.latLngToLayerPoint(o[w]),h.extend(b[w]);l.push(b)}else for(w=0;w<g;w++)this._projectLatlngs(o[w],l,h)},_clipPoints:function(){var o=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(o))){if(this.options.noClip){this._parts=this._rings;return}var l=this._parts,h,f,g,w,b,k,N;for(h=0,g=0,w=this._rings.length;h<w;h++)for(N=this._rings[h],f=0,b=N.length;f<b-1;f++)k=B1(N[f],N[f+1],o,f,!0),k&&(l[g]=l[g]||[],l[g].push(k[0]),(k[1]!==N[f+1]||f===b-2)&&(l[g].push(k[1]),g++))}},_simplifyPoints:function(){for(var o=this._parts,l=this.options.smoothFactor,h=0,f=o.length;h<f;h++)o[h]=j1(o[h],l)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(o,l){var h,f,g,w,b,k,N=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(o))return!1;for(h=0,w=this._parts.length;h<w;h++)for(k=this._parts[h],f=0,b=k.length,g=b-1;f<b;g=f++)if(!(!l&&f===0)&&$1(o,k[g],k[f])<=N)return!0;return!1}});function tA(o,l){return new Er(o,l)}Er._flat=H1;var Ds=Er.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return z1(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(o){var l=Er.prototype._convertLatLngs.call(this,o),h=l.length;return h>=2&&l[0]instanceof me&&l[0].equals(l[h-1])&&l.pop(),l},_setLatLngs:function(o){Er.prototype._setLatLngs.call(this,o),Pn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Pn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var o=this._renderer._bounds,l=this.options.weight,h=new V(l,l);if(o=new ie(o.min.subtract(h),o.max.add(h)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(o))){if(this.options.noClip){this._parts=this._rings;return}for(var f=0,g=this._rings.length,w;f<g;f++)w=F1(this._rings[f],o,!0),w.length&&this._parts.push(w)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(o){var l=!1,h,f,g,w,b,k,N,j;if(!this._pxBounds||!this._pxBounds.contains(o))return!1;for(w=0,N=this._parts.length;w<N;w++)for(h=this._parts[w],b=0,j=h.length,k=j-1;b<j;k=b++)f=h[b],g=h[k],f.y>o.y!=g.y>o.y&&o.x<(g.x-f.x)*(o.y-f.y)/(g.y-f.y)+f.x&&(l=!l);return l||Er.prototype._containsPoint.call(this,o,!0)}});function nA(o,l){return new Ds(o,l)}var Sr=wr.extend({initialize:function(o,l){T(this,l),this._layers={},o&&this.addData(o)},addData:function(o){var l=S(o)?o:o.features,h,f,g;if(l){for(h=0,f=l.length;h<f;h++)g=l[h],(g.geometries||g.geometry||g.features||g.coordinates)&&this.addData(g);return this}var w=this.options;if(w.filter&&!w.filter(o))return this;var b=Hu(o,w);return b?(b.feature=Gu(o),b.defaultOptions=b.options,this.resetStyle(b),w.onEachFeature&&w.onEachFeature(o,b),this.addLayer(b)):this},resetStyle:function(o){return o===void 0?this.eachLayer(this.resetStyle,this):(o.options=i({},o.defaultOptions),this._setLayerStyle(o,this.options.style),this)},setStyle:function(o){return this.eachLayer(function(l){this._setLayerStyle(l,o)},this)},_setLayerStyle:function(o,l){o.setStyle&&(typeof l=="function"&&(l=l(o.feature)),o.setStyle(l))}});function Hu(o,l){var h=o.type==="Feature"?o.geometry:o,f=h?h.coordinates:null,g=[],w=l&&l.pointToLayer,b=l&&l.coordsToLatLng||yp,k,N,j,W;if(!f&&!h)return null;switch(h.type){case"Point":return k=b(f),K1(w,o,k,l);case"MultiPoint":for(j=0,W=f.length;j<W;j++)k=b(f[j]),g.push(K1(w,o,k,l));return new wr(g);case"LineString":case"MultiLineString":return N=Wu(f,h.type==="LineString"?0:1,b),new Er(N,l);case"Polygon":case"MultiPolygon":return N=Wu(f,h.type==="Polygon"?1:2,b),new Ds(N,l);case"GeometryCollection":for(j=0,W=h.geometries.length;j<W;j++){var ae=Hu({geometry:h.geometries[j],type:"Feature",properties:o.properties},l);ae&&g.push(ae)}return new wr(g);case"FeatureCollection":for(j=0,W=h.features.length;j<W;j++){var ye=Hu(h.features[j],l);ye&&g.push(ye)}return new wr(g);default:throw new Error("Invalid GeoJSON object.")}}function K1(o,l,h,f){return o?o(l,h):new Uu(h,f&&f.markersInheritOptions&&f)}function yp(o){return new me(o[1],o[0],o[2])}function Wu(o,l,h){for(var f=[],g=0,w=o.length,b;g<w;g++)b=l?Wu(o[g],l-1,h):(h||yp)(o[g]),f.push(b);return f}function wp(o,l){return o=X(o),o.alt!==void 0?[v(o.lng,l),v(o.lat,l),v(o.alt,l)]:[v(o.lng,l),v(o.lat,l)]}function qu(o,l,h,f){for(var g=[],w=0,b=o.length;w<b;w++)g.push(l?qu(o[w],Pn(o[w])?0:l-1,h,f):wp(o[w],f));return!l&&h&&g.length>0&&g.push(g[0].slice()),g}function Vs(o,l){return o.feature?i({},o.feature,{geometry:l}):Gu(l)}function Gu(o){return o.type==="Feature"||o.type==="FeatureCollection"?o:{type:"Feature",properties:{},geometry:o}}var Ep={toGeoJSON:function(o){return Vs(this,{type:"Point",coordinates:wp(this.getLatLng(),o)})}};Uu.include(Ep),_p.include(Ep),Bu.include(Ep),Er.include({toGeoJSON:function(o){var l=!Pn(this._latlngs),h=qu(this._latlngs,l?1:0,!1,o);return Vs(this,{type:(l?"Multi":"")+"LineString",coordinates:h})}}),Ds.include({toGeoJSON:function(o){var l=!Pn(this._latlngs),h=l&&!Pn(this._latlngs[0]),f=qu(this._latlngs,h?2:l?1:0,!0,o);return l||(f=[f]),Vs(this,{type:(h?"Multi":"")+"Polygon",coordinates:f})}}),Ms.include({toMultiPoint:function(o){var l=[];return this.eachLayer(function(h){l.push(h.toGeoJSON(o).geometry.coordinates)}),Vs(this,{type:"MultiPoint",coordinates:l})},toGeoJSON:function(o){var l=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(l==="MultiPoint")return this.toMultiPoint(o);var h=l==="GeometryCollection",f=[];return this.eachLayer(function(g){if(g.toGeoJSON){var w=g.toGeoJSON(o);if(h)f.push(w.geometry);else{var b=Gu(w);b.type==="FeatureCollection"?f.push.apply(f,b.features):f.push(b)}}}),h?Vs(this,{geometries:f,type:"GeometryCollection"}):{type:"FeatureCollection",features:f}}});function Z1(o,l){return new Sr(o,l)}var rA=Z1,Ku=Dn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(o,l,h){this._url=o,this._bounds=_e(l),T(this,h)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(ge(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){qe(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(o){return this.options.opacity=o,this._image&&this._updateOpacity(),this},setStyle:function(o){return o.opacity&&this.setOpacity(o.opacity),this},bringToFront:function(){return this._map&&Os(this._image),this},bringToBack:function(){return this._map&&Ls(this._image),this},setUrl:function(o){return this._url=o,this._image&&(this._image.src=o),this},setBounds:function(o){return this._bounds=_e(o),this._map&&this._reset(),this},getEvents:function(){var o={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},setZIndex:function(o){return this.options.zIndex=o,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var o=this._url.tagName==="IMG",l=this._image=o?this._url:xe("img");if(ge(l,"leaflet-image-layer"),this._zoomAnimated&&ge(l,"leaflet-zoom-animated"),this.options.className&&ge(l,this.options.className),l.onselectstart=m,l.onmousemove=m,l.onload=a(this.fire,this,"load"),l.onerror=a(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(l.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),o){this._url=l.src;return}l.src=this._url,l.alt=this.options.alt},_animateZoom:function(o){var l=this._map.getZoomScale(o.zoom),h=this._map._latLngBoundsToNewLayerBounds(this._bounds,o.zoom,o.center).min;Bi(this._image,h,l)},_reset:function(){var o=this._image,l=new ie(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),h=l.getSize();it(o,l.min),o.style.width=h.x+"px",o.style.height=h.y+"px"},_updateOpacity:function(){In(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var o=this.options.errorOverlayUrl;o&&this._url!==o&&(this._url=o,this._image.src=o)},getCenter:function(){return this._bounds.getCenter()}}),iA=function(o,l,h){return new Ku(o,l,h)},Q1=Ku.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var o=this._url.tagName==="VIDEO",l=this._image=o?this._url:xe("video");if(ge(l,"leaflet-image-layer"),this._zoomAnimated&&ge(l,"leaflet-zoom-animated"),this.options.className&&ge(l,this.options.className),l.onselectstart=m,l.onmousemove=m,l.onloadeddata=a(this.fire,this,"load"),o){for(var h=l.getElementsByTagName("source"),f=[],g=0;g<h.length;g++)f.push(h[g].src);this._url=h.length>0?f:[l.src];return}S(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(l.style,"objectFit")&&(l.style.objectFit="fill"),l.autoplay=!!this.options.autoplay,l.loop=!!this.options.loop,l.muted=!!this.options.muted,l.playsInline=!!this.options.playsInline;for(var w=0;w<this._url.length;w++){var b=xe("source");b.src=this._url[w],l.appendChild(b)}}});function sA(o,l,h){return new Q1(o,l,h)}var Y1=Ku.extend({_initImage:function(){var o=this._image=this._url;ge(o,"leaflet-image-layer"),this._zoomAnimated&&ge(o,"leaflet-zoom-animated"),this.options.className&&ge(o,this.options.className),o.onselectstart=m,o.onmousemove=m}});function oA(o,l,h){return new Y1(o,l,h)}var Jn=Dn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(o,l){o&&(o instanceof me||S(o))?(this._latlng=X(o),T(this,l)):(T(this,o),this._source=l),this.options.content&&(this._content=this.options.content)},openOn:function(o){return o=arguments.length?o:this._source._map,o.hasLayer(this)||o.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(o){return this._map?this.close():(arguments.length?this._source=o:o=this._source,this._prepareOpen(),this.openOn(o._map)),this},onAdd:function(o){this._zoomAnimated=o._zoomAnimated,this._container||this._initLayout(),o._fadeAnimated&&In(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),o._fadeAnimated&&In(this._container,1),this.bringToFront(),this.options.interactive&&(ge(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(o){o._fadeAnimated?(In(this._container,0),this._removeTimeout=setTimeout(a(qe,void 0,this._container),200)):qe(this._container),this.options.interactive&&(tt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(o){return this._latlng=X(o),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(o){return this._content=o,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var o={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Os(this._container),this},bringToBack:function(){return this._map&&Ls(this._container),this},_prepareOpen:function(o){var l=this._source;if(!l._map)return!1;if(l instanceof wr){l=null;var h=this._source._layers;for(var f in h)if(h[f]._map){l=h[f];break}if(!l)return!1;this._source=l}if(!o)if(l.getCenter)o=l.getCenter();else if(l.getLatLng)o=l.getLatLng();else if(l.getBounds)o=l.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(o),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var o=this._contentNode,l=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof l=="string")o.innerHTML=l;else{for(;o.hasChildNodes();)o.removeChild(o.firstChild);o.appendChild(l)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var o=this._map.latLngToLayerPoint(this._latlng),l=U(this.options.offset),h=this._getAnchor();this._zoomAnimated?it(this._container,o.add(h)):l=l.add(o).add(h);var f=this._containerBottom=-l.y,g=this._containerLeft=-Math.round(this._containerWidth/2)+l.x;this._container.style.bottom=f+"px",this._container.style.left=g+"px"}},_getAnchor:function(){return[0,0]}});Te.include({_initOverlay:function(o,l,h,f){var g=l;return g instanceof o||(g=new o(f).setContent(l)),h&&g.setLatLng(h),g}}),Dn.include({_initOverlay:function(o,l,h,f){var g=h;return g instanceof o?(T(g,f),g._source=this):(g=l&&!f?l:new o(f,this),g.setContent(h)),g}});var Zu=Jn.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(o){return o=arguments.length?o:this._source._map,!o.hasLayer(this)&&o._popup&&o._popup.options.autoClose&&o.removeLayer(o._popup),o._popup=this,Jn.prototype.openOn.call(this,o)},onAdd:function(o){Jn.prototype.onAdd.call(this,o),o.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Jr||this._source.on("preclick",Wi))},onRemove:function(o){Jn.prototype.onRemove.call(this,o),o.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Jr||this._source.off("preclick",Wi))},getEvents:function(){var o=Jn.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(o.preclick=this.close),this.options.keepInView&&(o.moveend=this._adjustPan),o},_initLayout:function(){var o="leaflet-popup",l=this._container=xe("div",o+" "+(this.options.className||"")+" leaflet-zoom-animated"),h=this._wrapper=xe("div",o+"-content-wrapper",l);if(this._contentNode=xe("div",o+"-content",h),ua(l),cp(this._contentNode),pe(l,"contextmenu",Wi),this._tipContainer=xe("div",o+"-tip-container",l),this._tip=xe("div",o+"-tip",this._tipContainer),this.options.closeButton){var f=this._closeButton=xe("a",o+"-close-button",l);f.setAttribute("role","button"),f.setAttribute("aria-label","Close popup"),f.href="#close",f.innerHTML='<span aria-hidden="true">&#215;</span>',pe(f,"click",function(g){Pt(g),this.close()},this)}},_updateLayout:function(){var o=this._contentNode,l=o.style;l.width="",l.whiteSpace="nowrap";var h=o.offsetWidth;h=Math.min(h,this.options.maxWidth),h=Math.max(h,this.options.minWidth),l.width=h+1+"px",l.whiteSpace="",l.height="";var f=o.offsetHeight,g=this.options.maxHeight,w="leaflet-popup-scrolled";g&&f>g?(l.height=g+"px",ge(o,w)):tt(o,w),this._containerWidth=this._container.offsetWidth},_animateZoom:function(o){var l=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center),h=this._getAnchor();it(this._container,l.add(h))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var o=this._map,l=parseInt(sa(this._container,"marginBottom"),10)||0,h=this._container.offsetHeight+l,f=this._containerWidth,g=new V(this._containerLeft,-h-this._containerBottom);g._add(Hi(this._container));var w=o.layerPointToContainerPoint(g),b=U(this.options.autoPanPadding),k=U(this.options.autoPanPaddingTopLeft||b),N=U(this.options.autoPanPaddingBottomRight||b),j=o.getSize(),W=0,ae=0;w.x+f+N.x>j.x&&(W=w.x+f-j.x+N.x),w.x-W-k.x<0&&(W=w.x-k.x),w.y+h+N.y>j.y&&(ae=w.y+h-j.y+N.y),w.y-ae-k.y<0&&(ae=w.y-k.y),(W||ae)&&(this.options.keepInView&&(this._autopanning=!0),o.fire("autopanstart").panBy([W,ae]))}},_getAnchor:function(){return U(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),aA=function(o,l){return new Zu(o,l)};Te.mergeOptions({closePopupOnClick:!0}),Te.include({openPopup:function(o,l,h){return this._initOverlay(Zu,o,l,h).openOn(this),this},closePopup:function(o){return o=arguments.length?o:this._popup,o&&o.close(),this}}),Dn.include({bindPopup:function(o,l){return this._popup=this._initOverlay(Zu,this._popup,o,l),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(o){return this._popup&&(this instanceof wr||(this._popup._source=this),this._popup._prepareOpen(o||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(o){return this._popup&&this._popup.setContent(o),this},getPopup:function(){return this._popup},_openPopup:function(o){if(!(!this._popup||!this._map)){qi(o);var l=o.layer||o.target;if(this._popup._source===l&&!(l instanceof Jr)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(o.latlng);return}this._popup._source=l,this.openPopup(o.latlng)}},_movePopup:function(o){this._popup.setLatLng(o.latlng)},_onKeyPress:function(o){o.originalEvent.keyCode===13&&this._openPopup(o)}});var Qu=Jn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(o){Jn.prototype.onAdd.call(this,o),this.setOpacity(this.options.opacity),o.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(o){Jn.prototype.onRemove.call(this,o),o.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var o=Jn.prototype.getEvents.call(this);return this.options.permanent||(o.preclick=this.close),o},_initLayout:function(){var o="leaflet-tooltip",l=o+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=xe("div",l),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+u(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(o){var l,h,f=this._map,g=this._container,w=f.latLngToContainerPoint(f.getCenter()),b=f.layerPointToContainerPoint(o),k=this.options.direction,N=g.offsetWidth,j=g.offsetHeight,W=U(this.options.offset),ae=this._getAnchor();k==="top"?(l=N/2,h=j):k==="bottom"?(l=N/2,h=0):k==="center"?(l=N/2,h=j/2):k==="right"?(l=0,h=j/2):k==="left"?(l=N,h=j/2):b.x<w.x?(k="right",l=0,h=j/2):(k="left",l=N+(W.x+ae.x)*2,h=j/2),o=o.subtract(U(l,h,!0)).add(W).add(ae),tt(g,"leaflet-tooltip-right"),tt(g,"leaflet-tooltip-left"),tt(g,"leaflet-tooltip-top"),tt(g,"leaflet-tooltip-bottom"),ge(g,"leaflet-tooltip-"+k),it(g,o)},_updatePosition:function(){var o=this._map.latLngToLayerPoint(this._latlng);this._setPosition(o)},setOpacity:function(o){this.options.opacity=o,this._container&&In(this._container,o)},_animateZoom:function(o){var l=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center);this._setPosition(l)},_getAnchor:function(){return U(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),lA=function(o,l){return new Qu(o,l)};Te.include({openTooltip:function(o,l,h){return this._initOverlay(Qu,o,l,h).openOn(this),this},closeTooltip:function(o){return o.close(),this}}),Dn.include({bindTooltip:function(o,l){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Qu,this._tooltip,o,l),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(o){if(!(!o&&this._tooltipHandlersAdded)){var l=o?"off":"on",h={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?h.add=this._openTooltip:(h.mouseover=this._openTooltip,h.mouseout=this.closeTooltip,h.click=this._openTooltip,this._map?this._addFocusListeners():h.add=this._addFocusListeners),this._tooltip.options.sticky&&(h.mousemove=this._moveTooltip),this[l](h),this._tooltipHandlersAdded=!o}},openTooltip:function(o){return this._tooltip&&(this instanceof wr||(this._tooltip._source=this),this._tooltip._prepareOpen(o)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(o){return this._tooltip&&this._tooltip.setContent(o),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(o){var l=typeof o.getElement=="function"&&o.getElement();l&&(pe(l,"focus",function(){this._tooltip._source=o,this.openTooltip()},this),pe(l,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(o){var l=typeof o.getElement=="function"&&o.getElement();l&&l.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(o){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var l=this;this._map.once("moveend",function(){l._openOnceFlag=!1,l._openTooltip(o)});return}this._tooltip._source=o.layer||o.target,this.openTooltip(this._tooltip.options.sticky?o.latlng:void 0)}},_moveTooltip:function(o){var l=o.latlng,h,f;this._tooltip.options.sticky&&o.originalEvent&&(h=this._map.mouseEventToContainerPoint(o.originalEvent),f=this._map.containerPointToLayerPoint(h),l=this._map.layerPointToLatLng(f)),this._tooltip.setLatLng(l)}});var X1=Ns.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(o){var l=o&&o.tagName==="DIV"?o:document.createElement("div"),h=this.options;if(h.html instanceof Element?(Du(l),l.appendChild(h.html)):l.innerHTML=h.html!==!1?h.html:"",h.bgPos){var f=U(h.bgPos);l.style.backgroundPosition=-f.x+"px "+-f.y+"px"}return this._setIconStyles(l,"icon"),l},createShadow:function(){return null}});function uA(o){return new X1(o)}Ns.Default=da;var fa=Dn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Y.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(o){T(this,o)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(o){o._addZoomLimit(this)},onRemove:function(o){this._removeAllTiles(),qe(this._container),o._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Os(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Ls(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(o){return this.options.opacity=o,this._updateOpacity(),this},setZIndex:function(o){return this.options.zIndex=o,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var o=this._clampZoom(this._map.getZoom());o!==this._tileZoom&&(this._tileZoom=o,this._updateLevels()),this._update()}return this},getEvents:function(){var o={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=d(this._onMoveEnd,this.options.updateInterval,this)),o.move=this._onMove),this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},createTile:function(){return document.createElement("div")},getTileSize:function(){var o=this.options.tileSize;return o instanceof V?o:new V(o,o)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(o){for(var l=this.getPane().children,h=-o(-1/0,1/0),f=0,g=l.length,w;f<g;f++)w=l[f].style.zIndex,l[f]!==this._container&&w&&(h=o(h,+w));isFinite(h)&&(this.options.zIndex=h+o(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Y.ielt9){In(this._container,this.options.opacity);var o=+new Date,l=!1,h=!1;for(var f in this._tiles){var g=this._tiles[f];if(!(!g.current||!g.loaded)){var w=Math.min(1,(o-g.loaded)/200);In(g.el,w),w<1?l=!0:(g.active?h=!0:this._onOpaqueTile(g),g.active=!0)}}h&&!this._noPrune&&this._pruneTiles(),l&&(ve(this._fadeFrame),this._fadeFrame=le(this._updateOpacity,this))}},_onOpaqueTile:m,_initContainer:function(){this._container||(this._container=xe("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var o=this._tileZoom,l=this.options.maxZoom;if(o!==void 0){for(var h in this._levels)h=Number(h),this._levels[h].el.children.length||h===o?(this._levels[h].el.style.zIndex=l-Math.abs(o-h),this._onUpdateLevel(h)):(qe(this._levels[h].el),this._removeTilesAtZoom(h),this._onRemoveLevel(h),delete this._levels[h]);var f=this._levels[o],g=this._map;return f||(f=this._levels[o]={},f.el=xe("div","leaflet-tile-container leaflet-zoom-animated",this._container),f.el.style.zIndex=l,f.origin=g.project(g.unproject(g.getPixelOrigin()),o).round(),f.zoom=o,this._setZoomTransform(f,g.getCenter(),g.getZoom()),m(f.el.offsetWidth),this._onCreateLevel(f)),this._level=f,f}},_onUpdateLevel:m,_onRemoveLevel:m,_onCreateLevel:m,_pruneTiles:function(){if(this._map){var o,l,h=this._map.getZoom();if(h>this.options.maxZoom||h<this.options.minZoom){this._removeAllTiles();return}for(o in this._tiles)l=this._tiles[o],l.retain=l.current;for(o in this._tiles)if(l=this._tiles[o],l.current&&!l.active){var f=l.coords;this._retainParent(f.x,f.y,f.z,f.z-5)||this._retainChildren(f.x,f.y,f.z,f.z+2)}for(o in this._tiles)this._tiles[o].retain||this._removeTile(o)}},_removeTilesAtZoom:function(o){for(var l in this._tiles)this._tiles[l].coords.z===o&&this._removeTile(l)},_removeAllTiles:function(){for(var o in this._tiles)this._removeTile(o)},_invalidateAll:function(){for(var o in this._levels)qe(this._levels[o].el),this._onRemoveLevel(Number(o)),delete this._levels[o];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(o,l,h,f){var g=Math.floor(o/2),w=Math.floor(l/2),b=h-1,k=new V(+g,+w);k.z=+b;var N=this._tileCoordsToKey(k),j=this._tiles[N];return j&&j.active?(j.retain=!0,!0):(j&&j.loaded&&(j.retain=!0),b>f?this._retainParent(g,w,b,f):!1)},_retainChildren:function(o,l,h,f){for(var g=2*o;g<2*o+2;g++)for(var w=2*l;w<2*l+2;w++){var b=new V(g,w);b.z=h+1;var k=this._tileCoordsToKey(b),N=this._tiles[k];if(N&&N.active){N.retain=!0;continue}else N&&N.loaded&&(N.retain=!0);h+1<f&&this._retainChildren(g,w,h+1,f)}},_resetView:function(o){var l=o&&(o.pinch||o.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),l,l)},_animateZoom:function(o){this._setView(o.center,o.zoom,!0,o.noUpdate)},_clampZoom:function(o){var l=this.options;return l.minNativeZoom!==void 0&&o<l.minNativeZoom?l.minNativeZoom:l.maxNativeZoom!==void 0&&l.maxNativeZoom<o?l.maxNativeZoom:o},_setView:function(o,l,h,f){var g=Math.round(l);this.options.maxZoom!==void 0&&g>this.options.maxZoom||this.options.minZoom!==void 0&&g<this.options.minZoom?g=void 0:g=this._clampZoom(g);var w=this.options.updateWhenZooming&&g!==this._tileZoom;(!f||w)&&(this._tileZoom=g,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),g!==void 0&&this._update(o),h||this._pruneTiles(),this._noPrune=!!h),this._setZoomTransforms(o,l)},_setZoomTransforms:function(o,l){for(var h in this._levels)this._setZoomTransform(this._levels[h],o,l)},_setZoomTransform:function(o,l,h){var f=this._map.getZoomScale(h,o.zoom),g=o.origin.multiplyBy(f).subtract(this._map._getNewPixelOrigin(l,h)).round();Y.any3d?Bi(o.el,g,f):it(o.el,g)},_resetGrid:function(){var o=this._map,l=o.options.crs,h=this._tileSize=this.getTileSize(),f=this._tileZoom,g=this._map.getPixelWorldBounds(this._tileZoom);g&&(this._globalTileRange=this._pxBoundsToTileRange(g)),this._wrapX=l.wrapLng&&!this.options.noWrap&&[Math.floor(o.project([0,l.wrapLng[0]],f).x/h.x),Math.ceil(o.project([0,l.wrapLng[1]],f).x/h.y)],this._wrapY=l.wrapLat&&!this.options.noWrap&&[Math.floor(o.project([l.wrapLat[0],0],f).y/h.x),Math.ceil(o.project([l.wrapLat[1],0],f).y/h.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(o){var l=this._map,h=l._animatingZoom?Math.max(l._animateToZoom,l.getZoom()):l.getZoom(),f=l.getZoomScale(h,this._tileZoom),g=l.project(o,this._tileZoom).floor(),w=l.getSize().divideBy(f*2);return new ie(g.subtract(w),g.add(w))},_update:function(o){var l=this._map;if(l){var h=this._clampZoom(l.getZoom());if(o===void 0&&(o=l.getCenter()),this._tileZoom!==void 0){var f=this._getTiledPixelBounds(o),g=this._pxBoundsToTileRange(f),w=g.getCenter(),b=[],k=this.options.keepBuffer,N=new ie(g.getBottomLeft().subtract([k,-k]),g.getTopRight().add([k,-k]));if(!(isFinite(g.min.x)&&isFinite(g.min.y)&&isFinite(g.max.x)&&isFinite(g.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var j in this._tiles){var W=this._tiles[j].coords;(W.z!==this._tileZoom||!N.contains(new V(W.x,W.y)))&&(this._tiles[j].current=!1)}if(Math.abs(h-this._tileZoom)>1){this._setView(o,h);return}for(var ae=g.min.y;ae<=g.max.y;ae++)for(var ye=g.min.x;ye<=g.max.x;ye++){var Kt=new V(ye,ae);if(Kt.z=this._tileZoom,!!this._isValidTile(Kt)){var _t=this._tiles[this._tileCoordsToKey(Kt)];_t?_t.current=!0:b.push(Kt)}}if(b.sort(function(en,zs){return en.distanceTo(w)-zs.distanceTo(w)}),b.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Cn=document.createDocumentFragment();for(ye=0;ye<b.length;ye++)this._addTile(b[ye],Cn);this._level.el.appendChild(Cn)}}}},_isValidTile:function(o){var l=this._map.options.crs;if(!l.infinite){var h=this._globalTileRange;if(!l.wrapLng&&(o.x<h.min.x||o.x>h.max.x)||!l.wrapLat&&(o.y<h.min.y||o.y>h.max.y))return!1}if(!this.options.bounds)return!0;var f=this._tileCoordsToBounds(o);return _e(this.options.bounds).overlaps(f)},_keyToBounds:function(o){return this._tileCoordsToBounds(this._keyToTileCoords(o))},_tileCoordsToNwSe:function(o){var l=this._map,h=this.getTileSize(),f=o.scaleBy(h),g=f.add(h),w=l.unproject(f,o.z),b=l.unproject(g,o.z);return[w,b]},_tileCoordsToBounds:function(o){var l=this._tileCoordsToNwSe(o),h=new Pe(l[0],l[1]);return this.options.noWrap||(h=this._map.wrapLatLngBounds(h)),h},_tileCoordsToKey:function(o){return o.x+":"+o.y+":"+o.z},_keyToTileCoords:function(o){var l=o.split(":"),h=new V(+l[0],+l[1]);return h.z=+l[2],h},_removeTile:function(o){var l=this._tiles[o];l&&(qe(l.el),delete this._tiles[o],this.fire("tileunload",{tile:l.el,coords:this._keyToTileCoords(o)}))},_initTile:function(o){ge(o,"leaflet-tile");var l=this.getTileSize();o.style.width=l.x+"px",o.style.height=l.y+"px",o.onselectstart=m,o.onmousemove=m,Y.ielt9&&this.options.opacity<1&&In(o,this.options.opacity)},_addTile:function(o,l){var h=this._getTilePos(o),f=this._tileCoordsToKey(o),g=this.createTile(this._wrapCoords(o),a(this._tileReady,this,o));this._initTile(g),this.createTile.length<2&&le(a(this._tileReady,this,o,null,g)),it(g,h),this._tiles[f]={el:g,coords:o,current:!0},l.appendChild(g),this.fire("tileloadstart",{tile:g,coords:o})},_tileReady:function(o,l,h){l&&this.fire("tileerror",{error:l,tile:h,coords:o});var f=this._tileCoordsToKey(o);h=this._tiles[f],h&&(h.loaded=+new Date,this._map._fadeAnimated?(In(h.el,0),ve(this._fadeFrame),this._fadeFrame=le(this._updateOpacity,this)):(h.active=!0,this._pruneTiles()),l||(ge(h.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:h.el,coords:o})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Y.ielt9||!this._map._fadeAnimated?le(this._pruneTiles,this):setTimeout(a(this._pruneTiles,this),250)))},_getTilePos:function(o){return o.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(o){var l=new V(this._wrapX?p(o.x,this._wrapX):o.x,this._wrapY?p(o.y,this._wrapY):o.y);return l.z=o.z,l},_pxBoundsToTileRange:function(o){var l=this.getTileSize();return new ie(o.min.unscaleBy(l).floor(),o.max.unscaleBy(l).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var o in this._tiles)if(!this._tiles[o].loaded)return!1;return!0}});function cA(o){return new fa(o)}var Fs=fa.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(o,l){this._url=o,l=T(this,l),l.detectRetina&&Y.retina&&l.maxZoom>0?(l.tileSize=Math.floor(l.tileSize/2),l.zoomReverse?(l.zoomOffset--,l.minZoom=Math.min(l.maxZoom,l.minZoom+1)):(l.zoomOffset++,l.maxZoom=Math.max(l.minZoom,l.maxZoom-1)),l.minZoom=Math.max(0,l.minZoom)):l.zoomReverse?l.minZoom=Math.min(l.maxZoom,l.minZoom):l.maxZoom=Math.max(l.minZoom,l.maxZoom),typeof l.subdomains=="string"&&(l.subdomains=l.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(o,l){return this._url===o&&l===void 0&&(l=!0),this._url=o,l||this.redraw(),this},createTile:function(o,l){var h=document.createElement("img");return pe(h,"load",a(this._tileOnLoad,this,l,h)),pe(h,"error",a(this._tileOnError,this,l,h)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(h.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(h.referrerPolicy=this.options.referrerPolicy),h.alt="",h.src=this.getTileUrl(o),h},getTileUrl:function(o){var l={r:Y.retina?"@2x":"",s:this._getSubdomain(o),x:o.x,y:o.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var h=this._globalTileRange.max.y-o.y;this.options.tms&&(l.y=h),l["-y"]=h}return y(this._url,i(l,this.options))},_tileOnLoad:function(o,l){Y.ielt9?setTimeout(a(o,this,null,l),0):o(null,l)},_tileOnError:function(o,l,h){var f=this.options.errorTileUrl;f&&l.getAttribute("src")!==f&&(l.src=f),o(h,l)},_onTileRemove:function(o){o.tile.onload=null},_getZoomForUrl:function(){var o=this._tileZoom,l=this.options.maxZoom,h=this.options.zoomReverse,f=this.options.zoomOffset;return h&&(o=l-o),o+f},_getSubdomain:function(o){var l=Math.abs(o.x+o.y)%this.options.subdomains.length;return this.options.subdomains[l]},_abortLoading:function(){var o,l;for(o in this._tiles)if(this._tiles[o].coords.z!==this._tileZoom&&(l=this._tiles[o].el,l.onload=m,l.onerror=m,!l.complete)){l.src=A;var h=this._tiles[o].coords;qe(l),delete this._tiles[o],this.fire("tileabort",{tile:l,coords:h})}},_removeTile:function(o){var l=this._tiles[o];if(l)return l.el.setAttribute("src",A),fa.prototype._removeTile.call(this,o)},_tileReady:function(o,l,h){if(!(!this._map||h&&h.getAttribute("src")===A))return fa.prototype._tileReady.call(this,o,l,h)}});function J1(o,l){return new Fs(o,l)}var e0=Fs.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(o,l){this._url=o;var h=i({},this.defaultWmsParams);for(var f in l)f in this.options||(h[f]=l[f]);l=T(this,l);var g=l.detectRetina&&Y.retina?2:1,w=this.getTileSize();h.width=w.x*g,h.height=w.y*g,this.wmsParams=h},onAdd:function(o){this._crs=this.options.crs||o.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var l=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[l]=this._crs.code,Fs.prototype.onAdd.call(this,o)},getTileUrl:function(o){var l=this._tileCoordsToNwSe(o),h=this._crs,f=te(h.project(l[0]),h.project(l[1])),g=f.min,w=f.max,b=(this._wmsVersion>=1.3&&this._crs===q1?[g.y,g.x,w.y,w.x]:[g.x,g.y,w.x,w.y]).join(","),k=Fs.prototype.getTileUrl.call(this,o);return k+P(this.wmsParams,k,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+b},setParams:function(o,l){return i(this.wmsParams,o),l||this.redraw(),this}});function hA(o,l){return new e0(o,l)}Fs.WMS=e0,J1.wms=hA;var Tr=Dn.extend({options:{padding:.1},initialize:function(o){T(this,o),u(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),ge(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var o={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(o.zoomanim=this._onAnimZoom),o},_onAnimZoom:function(o){this._updateTransform(o.center,o.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(o,l){var h=this._map.getZoomScale(l,this._zoom),f=this._map.getSize().multiplyBy(.5+this.options.padding),g=this._map.project(this._center,l),w=f.multiplyBy(-h).add(g).subtract(this._map._getNewPixelOrigin(o,l));Y.any3d?Bi(this._container,w,h):it(this._container,w)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var o in this._layers)this._layers[o]._reset()},_onZoomEnd:function(){for(var o in this._layers)this._layers[o]._project()},_updatePaths:function(){for(var o in this._layers)this._layers[o]._update()},_update:function(){var o=this.options.padding,l=this._map.getSize(),h=this._map.containerPointToLayerPoint(l.multiplyBy(-o)).round();this._bounds=new ie(h,h.add(l.multiplyBy(1+o*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),t0=Tr.extend({options:{tolerance:0},getEvents:function(){var o=Tr.prototype.getEvents.call(this);return o.viewprereset=this._onViewPreReset,o},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Tr.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var o=this._container=document.createElement("canvas");pe(o,"mousemove",this._onMouseMove,this),pe(o,"click dblclick mousedown mouseup contextmenu",this._onClick,this),pe(o,"mouseout",this._handleMouseOut,this),o._leaflet_disable_events=!0,this._ctx=o.getContext("2d")},_destroyContainer:function(){ve(this._redrawRequest),delete this._ctx,qe(this._container),Ne(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var o;this._redrawBounds=null;for(var l in this._layers)o=this._layers[l],o._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Tr.prototype._update.call(this);var o=this._bounds,l=this._container,h=o.getSize(),f=Y.retina?2:1;it(l,o.min),l.width=f*h.x,l.height=f*h.y,l.style.width=h.x+"px",l.style.height=h.y+"px",Y.retina&&this._ctx.scale(2,2),this._ctx.translate(-o.min.x,-o.min.y),this.fire("update")}},_reset:function(){Tr.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(o){this._updateDashArray(o),this._layers[u(o)]=o;var l=o._order={layer:o,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=l),this._drawLast=l,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(o){this._requestRedraw(o)},_removePath:function(o){var l=o._order,h=l.next,f=l.prev;h?h.prev=f:this._drawLast=f,f?f.next=h:this._drawFirst=h,delete o._order,delete this._layers[u(o)],this._requestRedraw(o)},_updatePath:function(o){this._extendRedrawBounds(o),o._project(),o._update(),this._requestRedraw(o)},_updateStyle:function(o){this._updateDashArray(o),this._requestRedraw(o)},_updateDashArray:function(o){if(typeof o.options.dashArray=="string"){var l=o.options.dashArray.split(/[, ]+/),h=[],f,g;for(g=0;g<l.length;g++){if(f=Number(l[g]),isNaN(f))return;h.push(f)}o.options._dashArray=h}else o.options._dashArray=o.options.dashArray},_requestRedraw:function(o){this._map&&(this._extendRedrawBounds(o),this._redrawRequest=this._redrawRequest||le(this._redraw,this))},_extendRedrawBounds:function(o){if(o._pxBounds){var l=(o.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new ie,this._redrawBounds.extend(o._pxBounds.min.subtract([l,l])),this._redrawBounds.extend(o._pxBounds.max.add([l,l]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var o=this._redrawBounds;if(o){var l=o.getSize();this._ctx.clearRect(o.min.x,o.min.y,l.x,l.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var o,l=this._redrawBounds;if(this._ctx.save(),l){var h=l.getSize();this._ctx.beginPath(),this._ctx.rect(l.min.x,l.min.y,h.x,h.y),this._ctx.clip()}this._drawing=!0;for(var f=this._drawFirst;f;f=f.next)o=f.layer,(!l||o._pxBounds&&o._pxBounds.intersects(l))&&o._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(o,l){if(this._drawing){var h,f,g,w,b=o._parts,k=b.length,N=this._ctx;if(k){for(N.beginPath(),h=0;h<k;h++){for(f=0,g=b[h].length;f<g;f++)w=b[h][f],N[f?"lineTo":"moveTo"](w.x,w.y);l&&N.closePath()}this._fillStroke(N,o)}}},_updateCircle:function(o){if(!(!this._drawing||o._empty())){var l=o._point,h=this._ctx,f=Math.max(Math.round(o._radius),1),g=(Math.max(Math.round(o._radiusY),1)||f)/f;g!==1&&(h.save(),h.scale(1,g)),h.beginPath(),h.arc(l.x,l.y/g,f,0,Math.PI*2,!1),g!==1&&h.restore(),this._fillStroke(h,o)}},_fillStroke:function(o,l){var h=l.options;h.fill&&(o.globalAlpha=h.fillOpacity,o.fillStyle=h.fillColor||h.color,o.fill(h.fillRule||"evenodd")),h.stroke&&h.weight!==0&&(o.setLineDash&&o.setLineDash(l.options&&l.options._dashArray||[]),o.globalAlpha=h.opacity,o.lineWidth=h.weight,o.strokeStyle=h.color,o.lineCap=h.lineCap,o.lineJoin=h.lineJoin,o.stroke())},_onClick:function(o){for(var l=this._map.mouseEventToLayerPoint(o),h,f,g=this._drawFirst;g;g=g.next)h=g.layer,h.options.interactive&&h._containsPoint(l)&&(!(o.type==="click"||o.type==="preclick")||!this._map._draggableMoved(h))&&(f=h);this._fireEvent(f?[f]:!1,o)},_onMouseMove:function(o){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var l=this._map.mouseEventToLayerPoint(o);this._handleMouseHover(o,l)}},_handleMouseOut:function(o){var l=this._hoveredLayer;l&&(tt(this._container,"leaflet-interactive"),this._fireEvent([l],o,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(o,l){if(!this._mouseHoverThrottled){for(var h,f,g=this._drawFirst;g;g=g.next)h=g.layer,h.options.interactive&&h._containsPoint(l)&&(f=h);f!==this._hoveredLayer&&(this._handleMouseOut(o),f&&(ge(this._container,"leaflet-interactive"),this._fireEvent([f],o,"mouseover"),this._hoveredLayer=f)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,o),this._mouseHoverThrottled=!0,setTimeout(a(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(o,l,h){this._map._fireDOMEvent(l,h||l.type,o)},_bringToFront:function(o){var l=o._order;if(l){var h=l.next,f=l.prev;if(h)h.prev=f;else return;f?f.next=h:h&&(this._drawFirst=h),l.prev=this._drawLast,this._drawLast.next=l,l.next=null,this._drawLast=l,this._requestRedraw(o)}},_bringToBack:function(o){var l=o._order;if(l){var h=l.next,f=l.prev;if(f)f.next=h;else return;h?h.prev=f:f&&(this._drawLast=f),l.prev=null,l.next=this._drawFirst,this._drawFirst.prev=l,this._drawFirst=l,this._requestRedraw(o)}}});function n0(o){return Y.canvas?new t0(o):null}var pa=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(o){return document.createElement("<lvml:"+o+' class="lvml">')}}catch{}return function(o){return document.createElement("<"+o+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),dA={_initContainer:function(){this._container=xe("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Tr.prototype._update.call(this),this.fire("update"))},_initPath:function(o){var l=o._container=pa("shape");ge(l,"leaflet-vml-shape "+(this.options.className||"")),l.coordsize="1 1",o._path=pa("path"),l.appendChild(o._path),this._updateStyle(o),this._layers[u(o)]=o},_addPath:function(o){var l=o._container;this._container.appendChild(l),o.options.interactive&&o.addInteractiveTarget(l)},_removePath:function(o){var l=o._container;qe(l),o.removeInteractiveTarget(l),delete this._layers[u(o)]},_updateStyle:function(o){var l=o._stroke,h=o._fill,f=o.options,g=o._container;g.stroked=!!f.stroke,g.filled=!!f.fill,f.stroke?(l||(l=o._stroke=pa("stroke")),g.appendChild(l),l.weight=f.weight+"px",l.color=f.color,l.opacity=f.opacity,f.dashArray?l.dashStyle=S(f.dashArray)?f.dashArray.join(" "):f.dashArray.replace(/( *, *)/g," "):l.dashStyle="",l.endcap=f.lineCap.replace("butt","flat"),l.joinstyle=f.lineJoin):l&&(g.removeChild(l),o._stroke=null),f.fill?(h||(h=o._fill=pa("fill")),g.appendChild(h),h.color=f.fillColor||f.color,h.opacity=f.fillOpacity):h&&(g.removeChild(h),o._fill=null)},_updateCircle:function(o){var l=o._point.round(),h=Math.round(o._radius),f=Math.round(o._radiusY||h);this._setPath(o,o._empty()?"M0 0":"AL "+l.x+","+l.y+" "+h+","+f+" 0,"+65535*360)},_setPath:function(o,l){o._path.v=l},_bringToFront:function(o){Os(o._container)},_bringToBack:function(o){Ls(o._container)}},Yu=Y.vml?pa:Lu,ma=Tr.extend({_initContainer:function(){this._container=Yu("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Yu("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){qe(this._container),Ne(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Tr.prototype._update.call(this);var o=this._bounds,l=o.getSize(),h=this._container;(!this._svgSize||!this._svgSize.equals(l))&&(this._svgSize=l,h.setAttribute("width",l.x),h.setAttribute("height",l.y)),it(h,o.min),h.setAttribute("viewBox",[o.min.x,o.min.y,l.x,l.y].join(" ")),this.fire("update")}},_initPath:function(o){var l=o._path=Yu("path");o.options.className&&ge(l,o.options.className),o.options.interactive&&ge(l,"leaflet-interactive"),this._updateStyle(o),this._layers[u(o)]=o},_addPath:function(o){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(o._path),o.addInteractiveTarget(o._path)},_removePath:function(o){qe(o._path),o.removeInteractiveTarget(o._path),delete this._layers[u(o)]},_updatePath:function(o){o._project(),o._update()},_updateStyle:function(o){var l=o._path,h=o.options;l&&(h.stroke?(l.setAttribute("stroke",h.color),l.setAttribute("stroke-opacity",h.opacity),l.setAttribute("stroke-width",h.weight),l.setAttribute("stroke-linecap",h.lineCap),l.setAttribute("stroke-linejoin",h.lineJoin),h.dashArray?l.setAttribute("stroke-dasharray",h.dashArray):l.removeAttribute("stroke-dasharray"),h.dashOffset?l.setAttribute("stroke-dashoffset",h.dashOffset):l.removeAttribute("stroke-dashoffset")):l.setAttribute("stroke","none"),h.fill?(l.setAttribute("fill",h.fillColor||h.color),l.setAttribute("fill-opacity",h.fillOpacity),l.setAttribute("fill-rule",h.fillRule||"evenodd")):l.setAttribute("fill","none"))},_updatePoly:function(o,l){this._setPath(o,a1(o._parts,l))},_updateCircle:function(o){var l=o._point,h=Math.max(Math.round(o._radius),1),f=Math.max(Math.round(o._radiusY),1)||h,g="a"+h+","+f+" 0 1,0 ",w=o._empty()?"M0 0":"M"+(l.x-h)+","+l.y+g+h*2+",0 "+g+-h*2+",0 ";this._setPath(o,w)},_setPath:function(o,l){o._path.setAttribute("d",l)},_bringToFront:function(o){Os(o._path)},_bringToBack:function(o){Ls(o._path)}});Y.vml&&ma.include(dA);function r0(o){return Y.svg||Y.vml?new ma(o):null}Te.include({getRenderer:function(o){var l=o.options.renderer||this._getPaneRenderer(o.options.pane)||this.options.renderer||this._renderer;return l||(l=this._renderer=this._createRenderer()),this.hasLayer(l)||this.addLayer(l),l},_getPaneRenderer:function(o){if(o==="overlayPane"||o===void 0)return!1;var l=this._paneRenderers[o];return l===void 0&&(l=this._createRenderer({pane:o}),this._paneRenderers[o]=l),l},_createRenderer:function(o){return this.options.preferCanvas&&n0(o)||r0(o)}});var i0=Ds.extend({initialize:function(o,l){Ds.prototype.initialize.call(this,this._boundsToLatLngs(o),l)},setBounds:function(o){return this.setLatLngs(this._boundsToLatLngs(o))},_boundsToLatLngs:function(o){return o=_e(o),[o.getSouthWest(),o.getNorthWest(),o.getNorthEast(),o.getSouthEast()]}});function fA(o,l){return new i0(o,l)}ma.create=Yu,ma.pointsToPath=a1,Sr.geometryToLayer=Hu,Sr.coordsToLatLng=yp,Sr.coordsToLatLngs=Wu,Sr.latLngToCoords=wp,Sr.latLngsToCoords=qu,Sr.getFeature=Vs,Sr.asFeature=Gu,Te.mergeOptions({boxZoom:!0});var s0=Xn.extend({initialize:function(o){this._map=o,this._container=o._container,this._pane=o._panes.overlayPane,this._resetStateTimeout=0,o.on("unload",this._destroy,this)},addHooks:function(){pe(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Ne(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){qe(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(o){if(!o.shiftKey||o.which!==1&&o.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),oa(),np(),this._startPoint=this._map.mouseEventToContainerPoint(o),pe(document,{contextmenu:qi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(o){this._moved||(this._moved=!0,this._box=xe("div","leaflet-zoom-box",this._container),ge(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(o);var l=new ie(this._point,this._startPoint),h=l.getSize();it(this._box,l.min),this._box.style.width=h.x+"px",this._box.style.height=h.y+"px"},_finish:function(){this._moved&&(qe(this._box),tt(this._container,"leaflet-crosshair")),aa(),rp(),Ne(document,{contextmenu:qi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(o){if(!(o.which!==1&&o.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(a(this._resetState,this),0);var l=new Pe(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(l).fire("boxzoomend",{boxZoomBounds:l})}},_onKeyDown:function(o){o.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Te.addInitHook("addHandler","boxZoom",s0),Te.mergeOptions({doubleClickZoom:!0});var o0=Xn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(o){var l=this._map,h=l.getZoom(),f=l.options.zoomDelta,g=o.originalEvent.shiftKey?h-f:h+f;l.options.doubleClickZoom==="center"?l.setZoom(g):l.setZoomAround(o.containerPoint,g)}});Te.addInitHook("addHandler","doubleClickZoom",o0),Te.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var a0=Xn.extend({addHooks:function(){if(!this._draggable){var o=this._map;this._draggable=new Xr(o._mapPane,o._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),o.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),o.on("zoomend",this._onZoomEnd,this),o.whenReady(this._onZoomEnd,this))}ge(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){tt(this._map._container,"leaflet-grab"),tt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var o=this._map;if(o._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var l=_e(this._map.options.maxBounds);this._offsetLimit=te(this._map.latLngToContainerPoint(l.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(l.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;o.fire("movestart").fire("dragstart"),o.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(o){if(this._map.options.inertia){var l=this._lastTime=+new Date,h=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(h),this._times.push(l),this._prunePositions(l)}this._map.fire("move",o).fire("drag",o)},_prunePositions:function(o){for(;this._positions.length>1&&o-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var o=this._map.getSize().divideBy(2),l=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=l.subtract(o).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(o,l){return o-(o-l)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var o=this._draggable._newPos.subtract(this._draggable._startPos),l=this._offsetLimit;o.x<l.min.x&&(o.x=this._viscousLimit(o.x,l.min.x)),o.y<l.min.y&&(o.y=this._viscousLimit(o.y,l.min.y)),o.x>l.max.x&&(o.x=this._viscousLimit(o.x,l.max.x)),o.y>l.max.y&&(o.y=this._viscousLimit(o.y,l.max.y)),this._draggable._newPos=this._draggable._startPos.add(o)}},_onPreDragWrap:function(){var o=this._worldWidth,l=Math.round(o/2),h=this._initialWorldOffset,f=this._draggable._newPos.x,g=(f-l+h)%o+l-h,w=(f+l+h)%o-l-h,b=Math.abs(g+h)<Math.abs(w+h)?g:w;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=b},_onDragEnd:function(o){var l=this._map,h=l.options,f=!h.inertia||o.noInertia||this._times.length<2;if(l.fire("dragend",o),f)l.fire("moveend");else{this._prunePositions(+new Date);var g=this._lastPos.subtract(this._positions[0]),w=(this._lastTime-this._times[0])/1e3,b=h.easeLinearity,k=g.multiplyBy(b/w),N=k.distanceTo([0,0]),j=Math.min(h.inertiaMaxSpeed,N),W=k.multiplyBy(j/N),ae=j/(h.inertiaDeceleration*b),ye=W.multiplyBy(-ae/2).round();!ye.x&&!ye.y?l.fire("moveend"):(ye=l._limitOffset(ye,l.options.maxBounds),le(function(){l.panBy(ye,{duration:ae,easeLinearity:b,noMoveStart:!0,animate:!0})}))}}});Te.addInitHook("addHandler","dragging",a0),Te.mergeOptions({keyboard:!0,keyboardPanDelta:80});var l0=Xn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(o){this._map=o,this._setPanDelta(o.options.keyboardPanDelta),this._setZoomDelta(o.options.zoomDelta)},addHooks:function(){var o=this._map._container;o.tabIndex<=0&&(o.tabIndex="0"),pe(o,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Ne(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var o=document.body,l=document.documentElement,h=o.scrollTop||l.scrollTop,f=o.scrollLeft||l.scrollLeft;this._map._container.focus(),window.scrollTo(f,h)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(o){var l=this._panKeys={},h=this.keyCodes,f,g;for(f=0,g=h.left.length;f<g;f++)l[h.left[f]]=[-1*o,0];for(f=0,g=h.right.length;f<g;f++)l[h.right[f]]=[o,0];for(f=0,g=h.down.length;f<g;f++)l[h.down[f]]=[0,o];for(f=0,g=h.up.length;f<g;f++)l[h.up[f]]=[0,-1*o]},_setZoomDelta:function(o){var l=this._zoomKeys={},h=this.keyCodes,f,g;for(f=0,g=h.zoomIn.length;f<g;f++)l[h.zoomIn[f]]=o;for(f=0,g=h.zoomOut.length;f<g;f++)l[h.zoomOut[f]]=-o},_addHooks:function(){pe(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Ne(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(o){if(!(o.altKey||o.ctrlKey||o.metaKey)){var l=o.keyCode,h=this._map,f;if(l in this._panKeys){if(!h._panAnim||!h._panAnim._inProgress)if(f=this._panKeys[l],o.shiftKey&&(f=U(f).multiplyBy(3)),h.options.maxBounds&&(f=h._limitOffset(U(f),h.options.maxBounds)),h.options.worldCopyJump){var g=h.wrapLatLng(h.unproject(h.project(h.getCenter()).add(f)));h.panTo(g)}else h.panBy(f)}else if(l in this._zoomKeys)h.setZoom(h.getZoom()+(o.shiftKey?3:1)*this._zoomKeys[l]);else if(l===27&&h._popup&&h._popup.options.closeOnEscapeKey)h.closePopup();else return;qi(o)}}});Te.addInitHook("addHandler","keyboard",l0),Te.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var u0=Xn.extend({addHooks:function(){pe(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Ne(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(o){var l=L1(o),h=this._map.options.wheelDebounceTime;this._delta+=l,this._lastMousePos=this._map.mouseEventToContainerPoint(o),this._startTime||(this._startTime=+new Date);var f=Math.max(h-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(a(this._performZoom,this),f),qi(o)},_performZoom:function(){var o=this._map,l=o.getZoom(),h=this._map.options.zoomSnap||0;o._stop();var f=this._delta/(this._map.options.wheelPxPerZoomLevel*4),g=4*Math.log(2/(1+Math.exp(-Math.abs(f))))/Math.LN2,w=h?Math.ceil(g/h)*h:g,b=o._limitZoom(l+(this._delta>0?w:-w))-l;this._delta=0,this._startTime=null,b&&(o.options.scrollWheelZoom==="center"?o.setZoom(l+b):o.setZoomAround(this._lastMousePos,l+b))}});Te.addInitHook("addHandler","scrollWheelZoom",u0);var pA=600;Te.mergeOptions({tapHold:Y.touchNative&&Y.safari&&Y.mobile,tapTolerance:15});var c0=Xn.extend({addHooks:function(){pe(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Ne(this._map._container,"touchstart",this._onDown,this)},_onDown:function(o){if(clearTimeout(this._holdTimeout),o.touches.length===1){var l=o.touches[0];this._startPos=this._newPos=new V(l.clientX,l.clientY),this._holdTimeout=setTimeout(a(function(){this._cancel(),this._isTapValid()&&(pe(document,"touchend",Pt),pe(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",l))},this),pA),pe(document,"touchend touchcancel contextmenu",this._cancel,this),pe(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function o(){Ne(document,"touchend",Pt),Ne(document,"touchend touchcancel",o)},_cancel:function(){clearTimeout(this._holdTimeout),Ne(document,"touchend touchcancel contextmenu",this._cancel,this),Ne(document,"touchmove",this._onMove,this)},_onMove:function(o){var l=o.touches[0];this._newPos=new V(l.clientX,l.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(o,l){var h=new MouseEvent(o,{bubbles:!0,cancelable:!0,view:window,screenX:l.screenX,screenY:l.screenY,clientX:l.clientX,clientY:l.clientY});h._simulated=!0,l.target.dispatchEvent(h)}});Te.addInitHook("addHandler","tapHold",c0),Te.mergeOptions({touchZoom:Y.touch,bounceAtZoomLimits:!0});var h0=Xn.extend({addHooks:function(){ge(this._map._container,"leaflet-touch-zoom"),pe(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){tt(this._map._container,"leaflet-touch-zoom"),Ne(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(o){var l=this._map;if(!(!o.touches||o.touches.length!==2||l._animatingZoom||this._zooming)){var h=l.mouseEventToContainerPoint(o.touches[0]),f=l.mouseEventToContainerPoint(o.touches[1]);this._centerPoint=l.getSize()._divideBy(2),this._startLatLng=l.containerPointToLatLng(this._centerPoint),l.options.touchZoom!=="center"&&(this._pinchStartLatLng=l.containerPointToLatLng(h.add(f)._divideBy(2))),this._startDist=h.distanceTo(f),this._startZoom=l.getZoom(),this._moved=!1,this._zooming=!0,l._stop(),pe(document,"touchmove",this._onTouchMove,this),pe(document,"touchend touchcancel",this._onTouchEnd,this),Pt(o)}},_onTouchMove:function(o){if(!(!o.touches||o.touches.length!==2||!this._zooming)){var l=this._map,h=l.mouseEventToContainerPoint(o.touches[0]),f=l.mouseEventToContainerPoint(o.touches[1]),g=h.distanceTo(f)/this._startDist;if(this._zoom=l.getScaleZoom(g,this._startZoom),!l.options.bounceAtZoomLimits&&(this._zoom<l.getMinZoom()&&g<1||this._zoom>l.getMaxZoom()&&g>1)&&(this._zoom=l._limitZoom(this._zoom)),l.options.touchZoom==="center"){if(this._center=this._startLatLng,g===1)return}else{var w=h._add(f)._divideBy(2)._subtract(this._centerPoint);if(g===1&&w.x===0&&w.y===0)return;this._center=l.unproject(l.project(this._pinchStartLatLng,this._zoom).subtract(w),this._zoom)}this._moved||(l._moveStart(!0,!1),this._moved=!0),ve(this._animRequest);var b=a(l._move,l,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=le(b,this,!0),Pt(o)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,ve(this._animRequest),Ne(document,"touchmove",this._onTouchMove,this),Ne(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Te.addInitHook("addHandler","touchZoom",h0),Te.BoxZoom=s0,Te.DoubleClickZoom=o0,Te.Drag=a0,Te.Keyboard=l0,Te.ScrollWheelZoom=u0,Te.TapHold=c0,Te.TouchZoom=h0,n.Bounds=ie,n.Browser=Y,n.CRS=We,n.Canvas=t0,n.Circle=_p,n.CircleMarker=Bu,n.Class=Fe,n.Control=Nn,n.DivIcon=X1,n.DivOverlay=Jn,n.DomEvent=OR,n.DomUtil=AR,n.Draggable=Xr,n.Evented=He,n.FeatureGroup=wr,n.GeoJSON=Sr,n.GridLayer=fa,n.Handler=Xn,n.Icon=Ns,n.ImageOverlay=Ku,n.LatLng=me,n.LatLngBounds=Pe,n.Layer=Dn,n.LayerGroup=Ms,n.LineUtil=WR,n.Map=Te,n.Marker=Uu,n.Mixin=zR,n.Path=Jr,n.Point=V,n.PolyUtil=jR,n.Polygon=Ds,n.Polyline=Er,n.Popup=Zu,n.PosAnimation=M1,n.Projection=qR,n.Rectangle=i0,n.Renderer=Tr,n.SVG=ma,n.SVGOverlay=Y1,n.TileLayer=Fs,n.Tooltip=Qu,n.Transformation=As,n.Util=rt,n.VideoOverlay=Q1,n.bind=a,n.bounds=te,n.canvas=n0,n.circle=eA,n.circleMarker=JR,n.control=ca,n.divIcon=uA,n.extend=i,n.featureGroup=QR,n.geoJSON=Z1,n.geoJson=rA,n.gridLayer=cA,n.icon=YR,n.imageOverlay=iA,n.latLng=X,n.latLngBounds=_e,n.layerGroup=ZR,n.map=LR,n.marker=XR,n.point=U,n.polygon=nA,n.polyline=tA,n.popup=aA,n.rectangle=fA,n.setOptions=T,n.stamp=u,n.svg=r0,n.svgOverlay=oA,n.tileLayer=J1,n.tooltip=lA,n.transformation=Yr,n.version=r,n.videoOverlay=sA;var mA=window.L;n.noConflict=function(){return window.L=mA,this},window.L=n})})(Ev,Ev.exports);var Q$=Ev.exports;const Oc=Tv(Q$),Y$="/assets/marker-BBKCEJe0.png",Sv=({initialAddress:t,height:e})=>{const n=R.useRef(null);R.useRef(null),R.useEffect(()=>((async()=>{if(!n.current){const a=new Oc.map("map",{noScroll:!0}).setView([0,0],18),u=await(await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(t)}`)).json();if(u.length>0){const{lat:d,lon:p}=u[0],v=await(await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent("Hammarby Kaj 10D, Stockholm")}`)).json();if(v.length>0){const{lat:E,lon:C}=v[0],T=r(d,p,E,C),P=Oc.icon({iconUrl:Y$,iconSize:[32,32],iconAnchor:[16,32],popupAnchor:[0,-32]}),_=Oc.marker([d,p],{icon:P}).addTo(a),y=`<b>Distance from the office:</b> ${T.toFixed(2)} km`;_.bindPopup(y).openPopup()}a.setView([d,p],18)}Oc.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}).addTo(a),n.current=a}})(),()=>{n.current&&(n.current.remove(),n.current=null)}),[t]);const r=(s,a,c,u)=>{const p=i(c-s),m=i(u-a),v=Math.sin(p/2)*Math.sin(p/2)+Math.cos(i(s))*Math.cos(i(c))*Math.sin(m/2)*Math.sin(m/2);return 6371*(2*Math.atan2(Math.sqrt(v),Math.sqrt(1-v)))},i=s=>s*(Math.PI/180);return I.jsx("div",{id:"map",style:{height:e||"400px",width:"100%",borderRadius:"1rem"}})};Sv.propTypes={initialAddress:Bt.string,height:Bt.string};const Jb=({restaurant:t,restaurants:e})=>{const n=Zn(),{allRatings:r}=ct(u=>u.ratings);R.useEffect(()=>{n(al())},[]);const i=e==null?void 0:e.filter(u=>{if(u.id===(t==null?void 0:t.id))return!1;const d=[],p=[];for(const v in t)v.startsWith("foodOption_")&&t[v]&&p.push(v);for(const v in u)v.startsWith("foodOption_")&&u[v]&&d.push(v);return p.some(v=>d.includes(v))}),s=(u,d)=>{const p=Object.keys(t).filter(T=>T.startsWith("foodOption_")&&t[T]),m=Object.keys(u).filter(T=>T.startsWith("foodOption_")&&u[T]),v=Object.keys(d).filter(T=>T.startsWith("foodOption_")&&d[T]),E=m.filter(T=>p.includes(T));return v.filter(T=>p.includes(T)).length-E.length},a=i.sort(s),c=u=>r==null?void 0:r.filter(p=>p.restaurantId===u);return I.jsxs("div",{className:"SimilarRestaurants",children:[I.jsx("p",{children:"You might also be interested in these restaurants"}),i&&I.jsx("div",{className:"similar-restaurants",children:a.slice(0,3).map(u=>I.jsx(Hy,{restaurant:u,ratings:c(u.id)},u.id))})]})};Jb.propTypes={restaurant:Bt.object,restaurants:Bt.array};const X$=({restaurant:t})=>I.jsxs("div",{className:"InfoBox",children:[I.jsx("h3",{className:"info-card-text",children:t.name}),I.jsxs("p",{className:"icon-and-number",children:[I.jsx(LF,{className:"icon"}),t.openingHours&&t.closingHours?I.jsxs("span",{children:[t.openingHours," - ",t.closingHours]}):I.jsx("span",{className:"info-card-text",children:"Opening hours are not registered"})]}),I.jsxs("p",{className:"icon-and-number",children:[I.jsx(jF,{className:"icon"}),t.address?I.jsx("span",{className:"info-card-text",children:t.address}):I.jsx("span",{children:"No address is registered"})]}),t.outdoorSeating&&I.jsxs("p",{className:"icon-and-number",children:[I.jsx(MF,{className:"icon"}),I.jsx("span",{children:"Outdoor seating"})]}),t.priceRange&&I.jsxs("p",{className:"icon-and-number",children:[I.jsx(NF,{className:"icon"}),I.jsx("span",{className:"info-card-text",children:t.priceRange})]}),I.jsxs("p",{className:"icon-and-number",children:[I.jsx($F,{className:"icon"}),t.phoneNumber?I.jsx("span",{children:t.phoneNumber}):I.jsx("span",{children:"No phone number is registered"})]}),I.jsxs("p",{className:"icon-and-number",children:[I.jsx(AL,{className:"icon"}),t.email?I.jsx("span",{children:I.jsx("a",{href:`mailto:${t.email}`,children:t.email})}):I.jsx("span",{children:"No email is registered"})]}),I.jsxs("p",{className:"icon-and-number",children:[I.jsx(VF,{className:"icon"}),I.jsx("span",{children:I.jsx("a",{href:t.website,target:"_blank",rel:"noopener noreferrer",children:"To Restaurant Webpage"})})]})]}),J$=()=>{const t=Zn(),{id:e}=IO(),[n,r]=R.useState(!0),[i,s]=R.useState(null),[a,c]=R.useState(0),[u,d]=R.useState(null),[p,m]=R.useState(!1),[v,E]=R.useState(null),[C,T]=R.useState(!1),{restaurant:P,error:_,loading:y}=ct(K=>K.restaurants),{user:S}=ct(K=>K.auth),{ratings:x}=ct(K=>K.ratings),{userRatings:A}=ct(K=>K.ratings),{restaurants:O}=ct(K=>K.restaurants),M=A==null?void 0:A.find(K=>(P==null?void 0:P.id)===K.restaurant),D=M==null?void 0:M.rating,G=Object.keys(P||{}).filter(K=>typeof P[K]=="boolean"&&K.includes("foodOption")).map(K=>({name:K,value:P[K]})).filter(K=>K.value),le={Buffet:I.jsx(H$,{}),Fish:I.jsx(DF,{}),Hamburger:I.jsx(FF,{}),Other:I.jsx(LL,{}),Pasta:I.jsx(OL,{}),Pizza:I.jsx(UF,{}),Ramen:I.jsx(B$,{}),Sallad:I.jsx(Z$,{}),Sausage:I.jsx(W$,{}),Soup:I.jsx(ML,{}),Sushi:I.jsx(G$,{}),Schnitzel:I.jsx(q$,{}),Tacos:I.jsx(K$,{}),Vegan:I.jsx(zF,{}),Vegetarian:I.jsx(OF,{})};R.useEffect(()=>{t(rh({collection:"restaurants",id:e})).then(()=>r(!1)).catch(()=>r(!1)),t(sh({restaurantId:e}))},[t,e]),R.useEffect(()=>{S&&t(ll({userId:S.uid}))},[t,S]),R.useEffect(()=>{t(ol())},[t]),R.useEffect(()=>{const K=localStorage.getItem(`verifiedEmail${S==null?void 0:S.uid}`);K&&T(JSON.parse(K))},[S]),R.useEffect(()=>{d(D)},[D]);const ve=async K=>{d(K),m(!0);try{await t(ih({userId:S.uid,restaurantId:e,rating:K}))}catch(fe){console.log(fe)}},rt=K=>{E(K)},Fe=()=>{E(null)};return R.useEffect(()=>{setTimeout(()=>{if(!n)if(!P||x.length===0)s(null),c(0);else{const fe=x.reduce((He,V)=>typeof V=="number"?He+V:He+V.rating,0)/x.length;s(Math.round(fe*100)/100),c(x.length)}},250)},[P,x,n]),y?I.jsx(By,{}):_?I.jsx("p",{children:"Something went wrong"}):I.jsxs("div",{className:"RestaurantDetails padding-top-navbar",children:[P&&I.jsxs("div",{className:"details-container",children:[I.jsxs("div",{className:"image-container",children:[I.jsx("img",{src:P.imageURL?P.imageURL:Vo,className:"restaurant-image",onError:K=>{K.target.src=Vo},alt:"Picture of food"}),I.jsxs("h2",{className:"image-text",children:[P.name," ",P.area&&P.area!=="Other"&&P.area]}),I.jsx("div",{className:"current-rating",children:i!==null&&!n?I.jsx("div",{className:"inner-current-rating",children:I.jsxs("div",{className:"icon-and-number icon-and-number-no-gap",children:[I.jsx(hv,{className:"icon"}),I.jsxs("span",{className:"rating-number",children:[i.toFixed(1),"/5"]})]})}):I.jsxs("div",{className:"no-ratings",children:[I.jsx(dv,{})," No ratings"]})})]}),I.jsxs("div",{className:"info-container",children:[I.jsxs("div",{className:"top-container",children:[I.jsx("h3",{children:"This restaurant offers"}),I.jsxs("div",{className:"website-button-and-food-options",children:[I.jsx("div",{className:"food-options",children:G.map(K=>I.jsxs("div",{className:"food-option",children:[le[K.name.split("_")[1]],K.name.split("_")[1]]},K.name))}),I.jsx("a",{href:P&&P.website,target:"_blank",rel:"noopener noreferrer",children:I.jsx("button",{className:"website-btn",children:"Visit their website"})})]})]}),I.jsx("div",{className:"middle-container",children:I.jsxs("div",{className:"map-and-contact-info",children:[P&&P.address?I.jsx("div",{className:"map-container",children:I.jsx(Sv,{initialAddress:`${P.address}, Stockholm`,height:"100%"})}):I.jsx("div",{className:"map-container",children:I.jsx(Sv,{initialAddress:"Hammarby kaj 10d, Stockholm"})}),I.jsxs("div",{className:"contact-container",children:[I.jsx(X$,{restaurant:P&&P}),S&&C&&I.jsx("div",{className:"ratings-container",children:I.jsxs("div",{className:"stars-wrapper",children:[p?I.jsx("p",{children:"Thank you for your rating!"}):D?I.jsx(I.Fragment,{children:I.jsxs("p",{children:["You previously gave this restaurant ",D,"/5 stars.",I.jsx("br",{}),"Do you wish to update your rating?"]})}):I.jsx("p",{children:"Rate your dining experience!"}),I.jsx("div",{className:"rating-stars",children:[5,4,3,2,1].map(K=>D?I.jsx(hv,{className:`icon icon-star icon-star-full ${v!==null&&v>=K||K<=u?"yellow":""}`,onMouseEnter:()=>rt(K),onMouseLeave:Fe,onClick:()=>ve(K)},K):I.jsx(dv,{className:`icon icon-star ${v!==null&&v>=K||K<=u?"yellow":""}`,onMouseEnter:()=>rt(K),onMouseLeave:Fe,onClick:()=>ve(K)},K))})]})})]})]})})]})]}),I.jsx(Jb,{restaurant:P,restaurants:O})]})},eU=t=>{const e=new Date(t),n={day:"numeric",month:"long",year:"numeric"},r=e.toLocaleDateString("en-US",n);let i=e.getDate(),s="th";return i===1||i===21||i===31?s="st":i===2||i===22?s="nd":(i===3||i===23)&&(s="rd"),r.replace(/\b\d+\b/,`${i}${s}`)},eR=({ratedRestaurant:t})=>I.jsxs("div",{className:"RatedRestaurantCard",children:[I.jsx("img",{src:t.imageURL?t.imageURL:Vo,alt:"image of food",className:"card-image",onError:e=>{e.target.src=Vo}}),I.jsxs("div",{className:"rated-card-info",children:[I.jsx("h2",{children:t.name}),I.jsx("div",{className:"rating-circle",children:I.jsxs("p",{className:"text-rating-circle",children:[t.rating,"/5"]})}),t.rating>=4&&I.jsx("p",{children:"You really enjoyed this restaurant!"}),t.rating==3&&I.jsx("p",{children:"You thought this place was alright, but you weren't blown away."}),t.rating<=2&&I.jsx("p",{children:"This place did not meet your expectations at all unfortunately."}),I.jsxs("p",{children:["On ",eU(t.createdAt)," you gave it ",I.jsxs("b",{children:[t.rating,t.rating==1?" star.":" stars."]})]}),I.jsx(iu,{to:`/restaurants/${t.id}`,children:" Go to restaurant"})]})]});eR.propTypes={ratedRestaurant:Bt.object};const tU=()=>{const t=Wo(),e=Zn(),{user:n}=ct(_=>_.auth),{restaurantsById:r}=ct(_=>_.restaurants),{userRatings:i,loading:s,error:a}=ct(_=>_.ratings),c=i==null?void 0:i.map(_=>_.restaurant),[u,d]=R.useState([]),[p,m]=R.useState("created"),v={control:(_,y)=>({..._,border:(y.isFocused,"1px solid grey"),height:"2rem",boxShadow:"none","&:hover":{borderColor:"grey"}}),option:(_,y)=>({..._,backgroundColor:y.isSelected?"#ffccb3;":y.isFocused?"#ffefe7":"transparent",color:"#000000"})},E=[{value:"rating",label:"Highest rated restaurant"},{value:"created",label:"Latest rated restaurant"}],C=[];i==null||i.forEach(_=>{const y=r.find(S=>S.id===_.restaurant);y&&C.push({rating:_.rating,createdAt:_.createdAt,...y})});const T=_=>{m(_.value)};R.useEffect(()=>{e(ll({userId:n.uid}))},[e,n]),R.useEffect(()=>{n||t("/login")},[n,t]),R.useEffect(()=>{P(c,u)||(e(nh({ids:c||[]})),d(c))},[e,c,u]);function P(_,y){if(_===y)return!0;if(_==null||y==null||_.length!==y.length)return!1;for(let S=0;S<_.length;S++)if(_[S]!==y[S])return!1;return!0}return s?I.jsx(By,{}):a?I.jsx("p",{children:"Something went wrong"}):I.jsxs("div",{className:"Profile padding-top-navbar",children:[I.jsx(kf,{header:"Your Profile"}),I.jsxs("div",{className:"profile-content-container",children:[I.jsxs("div",{className:"welcome-user-text",children:[I.jsx("h2",{children:"Welcome!"}),I.jsxs("p",{children:["You are logged in as ",n.email]}),I.jsx("p",{children:"Below are all the restaurants that you have rated."}),I.jsx(Xb,{id:"sort",value:E.find(_=>_.value===p),options:E,onChange:T,className:"select-input",styles:v})]}),I.jsxs("div",{className:"rated-restaurants-container",children:[C.slice().sort((_,y)=>p==="rating"?y.rating-_.rating:new Date(y.createdAt)-new Date(_.createdAt)).map(_=>I.jsx("div",{className:"rated-restauarant-container",children:I.jsx(eR,{ratedRestaurant:_})},_.id)),C.length===0&&I.jsx("p",{className:"no-ratings-text",children:"You have not yet rated any restaurants."})]})]})]})},W2=({children:t})=>{const{user:e}=ct(i=>i.auth),[n,r]=R.useState(!1);return R.useEffect(()=>{const i=localStorage.getItem(`verifiedEmail${e==null?void 0:e.uid}`);(async()=>{(!e||!i)&&r(!0)})()},[e]),n?I.jsx(FO,{to:"/"}):e?t:null};function nU(){const{authIsReady:t}=ct(n=>n.auth),e=Zn();return R.useEffect(()=>{P6(Au,n=>{let r=null;n&&(r={uid:n.uid,email:n.email,verifiedEmail:n.verifiedEmail}),e(oF(r))})},[]),I.jsx(I.Fragment,{children:t&&I.jsxs(I.Fragment,{children:[I.jsx(vF,{}),I.jsxs(jO,{children:[I.jsx(La,{path:"/",element:I.jsx(KF,{})}),I.jsx(La,{path:"/add",element:I.jsx(W2,{children:I.jsx(U$,{})})}),I.jsx(La,{path:"/restaurants/:id",element:I.jsx(J$,{})}),I.jsx(La,{path:"/profile",element:I.jsx(W2,{children:I.jsx(tU,{})})})]})]})})}const rU=_3({reducer:{restaurants:IF,auth:aF,ratings:kF,modal:dF}});Rm.createRoot(document.getElementById("root")).render(I.jsx(lr.StrictMode,{children:I.jsx(yL,{store:rU,children:I.jsx(KO,{children:I.jsx(nU,{})})})}));
